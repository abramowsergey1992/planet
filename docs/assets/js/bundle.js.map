{"version":3,"file":"assets/js/bundle.js","mappings":";wCAAA,MAAMA,EACFC,WAAAA,CAAYC,GACRC,KAAKC,KAAOF,EACZC,KAAKE,UAAYF,KAAKC,KAAKE,cAAc,mBAEzCH,KAAKI,aACLJ,KAAKK,WACT,CAEAD,UAAAA,GACIJ,KAAKC,KAAKK,iBAAiB,UAAWC,IAClCA,EAAEC,iBACFR,KAAKS,UAAU,GAEvB,CAGA,cAAMA,GAEF,IAAIC,EADJV,KAAKE,UAAUS,UAAW,EAG1B,MAAMC,QAAiBC,MACnBb,KAAKC,KAAKa,aAAa,UACvB,CACIC,OAAQf,KAAKC,KAAKa,aAAa,WAAa,OAC5CE,QAAS,CACL,eAAgBC,SAASd,cAAc,4BAA4BW,aAAa,YAEpFI,KAAM,IAAIC,SAASnB,KAAKC,QAOhC,GAHAD,KAAKE,UAAUS,UAAW,GAGrBC,EAASQ,GAKV,OAJApB,KAAKC,KAAKoB,UAAUC,IAAI,YACxBtB,KAAKuB,cAAc,2CAEnBC,QAAQC,IAAI,gBAKhB,IACIf,QAAaE,EAASF,MAC1B,CAAE,MAAOgB,GAKL,OAJA1B,KAAKC,KAAKoB,UAAUC,IAAI,YACxBtB,KAAKuB,cAAc,2CAEnBC,QAAQC,IAAI,qBAEhB,CAEIf,IACAV,KAAKC,KAAKoB,UAAUC,IAAI,YACxBtB,KAAKuB,cAAcb,EAAKiB,SAAW,oBAE/BjB,EAAKkB,SACL5B,KAAK6B,YAGjB,CAEAA,SAAAA,GACI7B,KAAKC,KAAK6B,OACd,CAEAP,aAAAA,CAAcQ,GACV/B,KAAKC,KAAKE,cAAc,qBAAqB6B,UAAYD,CAC7D,CAEA1B,SAAAA,GACIL,KAAKC,KAAKE,cAAc,gBAAgBG,iBAAiB,SAAS,KAC9DN,KAAKC,KAAKoB,UAAUY,OAAO,WAAW,GAE9C,EAIJhB,SAASiB,iBAAiB,YAAYC,SAAQpC,GAAM,IAAIF,EAAKE,eChF7D,GAAIkB,SAASd,cAAc,WAAY,CACnC,IAAIiC,EAAOnB,SAASd,cAAc,cAC9BkC,EAAQpB,SAASiB,iBAAiB,sBAClCI,EAAUrB,SAASiB,iBAAiB,mBACpCK,EAAUtB,SAASd,cAAc,oBACjCqC,EAASvB,SAASd,cAAc,WAChCsC,EAASxB,SAASd,cAAc,mBAChCuC,EAAQzB,SAASiB,iBAAiB,mBAClCS,EAAW,iBAAkBC,OAEjC3B,SAASiB,iBAAiB,kBAAkBC,SAASpC,IACjDA,EAAGO,iBAAiB,SAAS,SAAUuC,GACnC5B,SACKd,cAAc,2BACdkB,UAAUY,OAAO,WACtBI,EAAMF,SAASpC,GAAOA,EAAGsB,UAAUY,OAAO,YAC9C,GAAE,IAGNQ,EAAOnC,iBAAiB,SAAS,WACzBW,SAASC,KAAKG,UAAUyB,SAAS,sBACjC7B,SAASC,KAAKG,UAAUY,OAAO,qBAC/BO,EAAOnB,UAAUY,OAAO,qBAExBhB,SAASC,KAAKG,UAAUC,IAAI,oBAEpC,IAEIqB,EACAJ,GAASjC,iBAAiB,SAAS,WAC/BkC,EAAOnB,UAAUY,OAAO,oBACxBhB,SAASC,KAAKG,UAAUY,OAAO,qBAC/BhB,SACKd,cAAc,2BACdkB,UAAUY,OAAO,UAC1B,IAEAG,GAAM9B,iBAAiB,cAAc,KAC7BsC,OAAOG,WAAa,OAGxBP,EAAOnB,UAAUY,OAAO,oBACxBhB,SAASC,KAAKG,UAAUY,OAAO,qBAC/BhB,SACKd,cAAc,4BACbkB,UAAUY,OAAO,WACvBI,EAAMF,SAASpC,IACXA,EAAGsB,UAAUY,OAAO,UAAU,IAChC,IAIVI,EAAMF,SAASpC,IACXA,EAAGO,iBAAiB,SAAS,SAAUuC,GACnCA,EAAMrC,kBAEDmC,GAAYC,OAAOG,WAAa,OAIjChD,EAAGsB,UAAUyB,SAAS,YACtBT,EAAMF,SAASpC,IACXA,EAAGsB,UAAUY,OAAO,UAAU,IAElCK,EAAQH,SAASpC,IACbA,EAAGsB,UAAUY,OAAO,UAAU,IAElClC,EAAGsB,UAAUY,OAAO,WACpBO,EAAOnB,UAAUY,OAAO,oBACxBhB,SACKd,cAAcJ,EAAGiD,QAAQC,KACzB5B,UAAUY,OAAO,aAEtBI,EAAMF,SAASpC,IACXA,EAAGsB,UAAUY,OAAO,UAAU,IAElCK,EAAQH,SAASpC,IACbA,EAAGsB,UAAUY,OAAO,UAAU,IAElClC,EAAGsB,UAAUC,IAAI,WACjBkB,EAAOnB,UAAUC,IAAI,oBACrBL,SAASd,cAAcJ,EAAGiD,QAAQC,KAAK5B,UAAUC,IAAI,YAE7D,IAEAvB,EAAGO,iBAAiB,cAAc,SAAUuC,GACpCF,GAAYC,OAAOG,WAAa,OAGpCF,EAAMrC,iBACN6B,EAAMF,SAASpC,IACXA,EAAGsB,UAAUY,OAAO,UAAU,IAElCK,EAAQH,SAASpC,IACbA,EAAGsB,UAAUY,OAAO,UAAU,IAElClC,EAAGsB,UAAUC,IAAI,WACjBkB,EAAOnB,UAAUC,IAAI,oBACrBL,SAASd,cAAcJ,EAAGiD,QAAQC,KAAK5B,UAAUC,IAAI,WACzD,GAAE,IAoBFoB,EAAMQ,QAhBV,SAASC,IACL,MAAMC,GAAS,IAAIC,MAAOC,mBAAmB,QAAS,CAClDC,SAAU,gBACVC,KAAM,UACNC,OAAQ,YAGZf,EAAMP,SAASpC,IACXA,EAAGiC,UAAYoB,CAAM,IAGzBM,YAAW,KACPP,GAAa,GACd,IACP,CAGIA,EAER,YC1HAQ,MAAMC,OAEN,WACI3C,SAASiB,iBAAiB,mBAAmBC,SAAS0B,IAClD,MAAMnD,EAAOoD,KAAKC,MAAMF,EAAMb,QAAQgB,UAEtC,IAAIC,EAAQ,IAAIN,MAAMO,IAAIL,EAAO,CAC7BM,OAAQzD,EAAKyD,OACbC,KAAM1D,EAAK0D,KACXC,SAAU,KAGVC,EAAS5D,EAAK6D,MACdC,EAAS9D,EAAK+D,OACdC,EAAa,IAAIf,MAAMgB,YAAYC,WAC/B,CACIC,gBAAiB,CAACP,EAAQE,GAC1BM,OAAQ,CACJC,YAAa,eAGrB,CACIC,yBAA0B,gBAC1BC,4BAA6BvE,EAAKwE,OAAOC,KACzCC,4BAA6B1E,EAAKwE,OAAOG,KACzCC,8BAA+B5E,EAAKwE,OAAOK,OAC3CC,iBAAiB,EACjBC,WAAY,KAIxBxB,EAAMyB,WAAWpE,IAAIoD,EAAW,IAEpCzD,SAASiB,iBAAiB,cAAcC,SAAS0B,IAC7C,MAAMnD,EAAOoD,KAAKC,MAAMF,EAAMb,QAAQ2C,KAEtC,IAAI1B,EAAQ,IAAIN,MAAMO,IAAIL,EAAO,CAC7BM,OAAQzD,EAAKyD,OACbC,KAAM1D,EAAK0D,KACXC,SAAU,KAEbuB,YAAc,IAAIjC,MAAMkC,UACrBnF,EAAKoF,MACL,CACIC,YAAa,GACbC,eAAgB,IAEpB,CACIC,WAAY,gBACZC,cAAexF,EAAKwE,OAAOC,KAC3BgB,cAAezF,EAAKwE,OAAOG,KAC3Be,gBAAiB1F,EAAKwE,OAAOK,SAGjCtB,EAAMyB,WAAWpE,IAAIsE,YAAY,GAE7C,cCxDA,IAAIS,EAEJ,MAAMC,EACFxG,WAAAA,CAAYC,GACRC,KAAKuG,UAAYxG,EACjBC,KAAKwG,MAAQxG,KAAKuG,UAAUpG,cAAc,yBAC1CH,KAAKyG,SAAWzG,KAAKuG,UAAUpG,cAAc,yBAC7CH,KAAK0G,iBACL1G,KAAK2G,kBACL3G,KAAK4G,QAAS,CAClB,CAEAC,WAAAA,CAAYC,GACR9G,KAAKwG,MAAMxE,UAAa,6BACN8E,+GAMtB,CAEAC,IAAAA,CAAKD,GACD9G,KAAK6G,YAAYC,GACjB9G,KAAKuG,UAAUlF,UAAUC,IAAI,eAC7BtB,KAAK4G,QAAS,CAClB,CAEAI,KAAAA,GACIhH,KAAKwG,MAAMxE,UAAY,GACvBhC,KAAKuG,UAAUlF,UAAUY,OAAO,eAChCjC,KAAK4G,QAAS,CAClB,CAEAF,cAAAA,GACI1G,KAAKyG,SAASnG,iBAAiB,SAAS,KACpCN,KAAKgH,OAAO,GAEpB,CAEAL,eAAAA,GACI1F,SAASX,iBAAiB,WAAWC,IACpB,UAATA,EAAE0G,KAAmBjH,KAAK4G,QAC1B5G,KAAKgH,OACT,GAER,EAGA/F,SAASd,cAAc,qBACvBkG,EAAQ,IAAIC,EAAWrF,SAASd,cAAc,oBAE9Cc,SAASiB,iBAAiB,kBAAkBC,SAAQ+E,IAChDA,EAAI5G,iBAAiB,SAAS,KAC1B+F,EAAMU,KAAKG,EAAIlE,QAAQ8D,IAAI,GAC7B,eCvDV7F,SAASiB,iBAAiB,eAAeC,SAASpC,IAC9CA,EAAGiC,UAAa,qCAAoCjC,EAAGiC,kBAAkB,IAEzEY,OAAOuE,QACPlG,SAASC,KAAKG,UAAUY,OAAO,eAE/BhB,SAASC,KAAKG,UAAUC,IAAI,eAEhCL,SAASX,iBAAiB,UAAU,WAC5BsC,OAAOuE,QAAU,GACjBlG,SAASC,KAAKG,UAAUY,OAAO,eAE/BhB,SAASC,KAAKG,UAAUC,IAAI,cAEpC,IAEAL,SAASiB,iBAAiB,cAAcC,SAASpC,IAC7CA,EAAGsB,UAAUC,IAAI,cACjBvB,EAAGiC,UAAa,qCAAoCjC,EAAGiC,kBAAkB,IAE7Ef,SAASiB,iBAAiB,cAAcC,SAASpC,IAC7CA,EAAGiC,UAAa,iTAGnB,IAEDf,SAASiB,iBAAiB,cAAcC,SAASpC,IAC7CA,EAAGiC,UAAa,igBAanB,IAEDf,SAASiB,iBAAiB,gBAAgBC,SAASpC,IAC/CA,EAAGiC,UAAa,woBAInB,IAGDf,SAASiB,iBAAiB,eAAeC,SAASpC,IAC9CA,EAAGiC,UAAa,ubAEb,IAEPf,SAASiB,iBAAiB,gBAAgBC,SAASpC,IAC/CA,EAAGiC,UAAa,ykBAE0O,IAE9Pf,SAASiB,iBAAiB,iBAAiBC,SAASpC,IAChDA,EAAGiC,UAAa,6vBAGnB,IAEDf,SAASiB,iBAAiB,eAAeC,SAASpC,IAC9CA,EAAGiC,UAAa,y6CAInB,IAEDf,SAASiB,iBAAiB,aAAaC,SAASpC,IAC5CA,EAAGiC,UAAa,6pEAKnB,IAEDf,SAASiB,iBAAiB,cAAcC,SAASpC,IAC7CA,EAAGiC,UAAa,0aAKnB,IAEDf,SAASiB,iBAAiB,cAAcC,SAASpC,IAC7CA,EAAGiC,UAAa,0+BAGnB,IAEDf,SAASiB,iBAAiB,kBAAkBC,SAASpC,IACjDA,EAAGiC,UAAa,maAGnB,IAEDf,SAASiB,iBAAiB,eAAeC,SAASpC,IAC9CA,EAAGiC,UAAa,4QAGnB,IAEDf,SAASiB,iBAAiB,oBAAoBC,SAASpC,IACnDA,EAAGiC,UAAa,wdAAud,IAE3ef,SAASiB,iBAAiB,gBAAgBC,SAASpC,IAC/CA,EAAGiC,UAAa,wEAAuEjC,EAAGiC,ogBAI1F,IAAIqD,EAAOtF,EAAGI,cAAc,sBACxBiH,EAASrH,EAAGI,cAAc,wBAC1BkH,EAAOtH,EAAGI,cAAc,sBACxBmH,EAAOvH,EAAGI,cAAc,sBAe5B,SAASoH,IACDH,EAAOI,YAAc,GACrBH,EAAKhG,UAAUC,IAAI,WAEnB+F,EAAKhG,UAAUY,OAAO,WAGtBmF,EAAOI,WAAanC,EAAKoC,aAAeL,EAAOM,YAAc,GAC7DJ,EAAKjG,UAAUC,IAAI,WAEnBgG,EAAKjG,UAAUY,OAAO,UAE9B,CA1BAqF,EAAKhH,iBAAiB,SAAS,WAC3B8G,EAAOA,OAAO,CACVO,KAAMP,EAAOI,WAAa,IAC1BI,IAAK,EACLC,SAAU,UAElB,IACAR,EAAK/G,iBAAiB,SAAS,WAC3B8G,EAAOA,OAAO,CACVO,KAAMP,EAAOI,WAAa,IAC1BI,IAAK,EACLC,SAAU,UAElB,IAcAT,EAAO9G,iBAAiB,UAAU,WAC9BiH,GACJ,IACAA,GAAU,cCrJd,GAAItG,SAASd,cAAc,kBAAmB,CAC1C,MAAM2H,EAAU7G,SAASiB,iBAAiB,gCAC1C,IAAK,IAAI6F,KAAUD,EACfC,EAAOzH,iBAAiB,SAAS,SAAUC,GACvCA,EAAEC,iBAEF,MAAMqD,EAAQ5C,SAASd,cAAc4H,EAAOjH,aAAa,SACzD8B,OAAOoF,SAAS,CACZJ,IACI/D,EAAMoE,wBAAwBL,KAC7BhF,OAAOG,WAAa,KAAO,IAAM,KACtC4E,KAAM,EACNE,SAAU,UAElB,IAGJ,MAAMK,EAAW,IAAIC,sBAChBC,IACG5G,QAAQC,IAAI2G,GACZA,EAAQjG,SAASkG,IACTA,EAAMC,gBACNR,EAAQ3F,SAASoG,IACJA,EAAKzH,aAAa,QAAQ0H,QAAQ,IAAK,MACrCH,EAAMI,OAAOC,GACpBH,EAAKlH,UAAUC,IAAI,WAEnBiH,EAAKlH,UAAUY,OAAO,UAC1B,GAER,GACF,GAEN,CACI0G,UAAW,KAInB1H,SAASiB,iBAAiB,kBAAkBC,SAASyG,IACjDV,EAASW,QAAQD,EAAS,GAElC,YCzCA,MAAMd,EAAU7G,SAASiB,iBAAiB,8BAC1C,IAAK,IAAI6F,KAAUD,EACfC,EAAOzH,iBAAiB,SAAS,SAAUC,GACvCA,EAAEC,iBAEF,MAAMqD,EAAQ5C,SAASd,cAAc4H,EAAOjH,aAAa,SACzDU,QAAQC,IAAIoC,GACZrC,QAAQC,IAAIoC,EAAMiF,WAClBlG,OAAOoF,SAAS,CACZJ,IAAK/D,EAAMoE,wBAAwBL,IAAM,IACzCD,KAAM,EACNE,SAAU,UAElB,cCbJ,IAAIkB,EAAW9H,SAASd,cAAc,+BAClC6I,EAAQ/H,SAASd,cAAc,gCAC/B8I,EAAOhI,SAASd,cAAc,cAC9B+I,EAASjI,SAASd,cAAc,gBACpC,MAAMgJ,EAAMD,GAAQpI,aAAa,UAE7BoI,IACAA,EAAOE,SAAW,SAAU7I,GACxBM,MACIsI,EACI,IACA,IAAIE,gBAAgB,CAChBC,KAAMrI,SAASd,cAAc,+BACxBoJ,MACLC,MAAOvI,SAASd,cAAc,+BACzBoJ,QAEb,CACIxI,OAAQmI,EAAOpI,aAAa,UAC5BE,QAAS,CACL,eAAgBC,SACXd,cAAc,2BACdW,aAAa,cAIzB2I,MAAM7I,GAAaA,EAASF,SAC5B+I,MAAMC,IACHT,EAAKjH,UAAY,GACb0H,EAAKC,MAAMzG,OACXwG,EAAKC,MAAMxH,SAASyH,IAChB,IAAIC,EAAQd,EAASe,WAAU,GAC/BD,EAAM1J,cAAc,qBAAqB4J,UACrCH,EAAKI,KACTH,EAAM1J,cAAc,qBAAqB4J,UACrCH,EAAKK,KACTJ,EAAM1J,cAAc,qBAAqB4J,UACrCH,EAAKM,KACTL,EAAM1J,cACF,qBACF6B,UAAa,UAAS4H,EAAK7H,eAC7B8H,EACK1J,cAAc,qBACdgK,aAAa,OAAQP,EAAKrB,MAC/BU,EAAKmB,YAAYP,EAAM,IAG3BZ,EAAKmB,YAAYpB,EAAMc,WAAU,GACrC,GAEZ,aClDJ,GAAI7I,SAASd,cAAc,kBAAmB,CAC1C,MAAMkG,EAAQpF,SAASd,cAAc,kBAC/BkK,EAAUhE,EAAMlG,cAAc,2BAC9BgJ,EAAM9C,EAAMrD,QAAQmG,IAC1B9C,EAAMnE,iBAAiB,2BAA2BC,SAAQ,KACtDkE,EAAMhF,UAAUY,OAAO,YACvByB,YAAW,WACP2C,EAAMhF,UAAUY,OAAO,WAC3B,GAAG,IAAI,IAEXhB,SAASiB,iBAAiB,2BAA2BC,SAAS+E,IAC1DA,EAAI5G,iBAAiB,SAAS,WAC1B+J,EAAQrI,UAAa,oCACVmH,IAAMjC,EAAIpG,aAAa,qFAGlCuF,EAAMhF,UAAUC,IAAI,YACpBoC,YAAW,WACP2C,EAAMhF,UAAUC,IAAI,WACxB,GAAG,GACP,GAAE,GAEV,oDCtBsC,IAAmBgJ,QAAnC,oBAAdC,YAAiDD,QAIhD,WAAe,aAEtB,IAAIE,MAAQ,6BACRC,aAAe,GACfC,eAAgB,EAChBC,qBAAuB,OAEvBC,aAAe,SAAsBC,GACvCH,gBAAkBG,CACpB,EAEIC,aAAe,WACjB,OAAOJ,aACT,EAEIK,gBAAkB,SAAyBxB,GAC7CkB,aAAelB,CACjB,EAEIyB,gBAAkB,WACpB,OAAOP,YACT,EAEA,SAASQ,UAAUf,GAEjB,OAAOjJ,SAASiK,cAAchB,EAChC,CAEA,SAASiB,gBAAgBC,EAASC,GAChC,IAAIC,EAEAC,EADAC,EAAMJ,EAAQlI,OAGlB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAGxB,IAAK,IAAIG,KAFTF,EAAkBH,EAAQE,GAAGI,UAGvBC,OAAOD,UAAUE,eAAeC,KAAKN,EAAiBE,KAAOJ,EAAYK,UAAUD,GAAQF,EAAgBE,GAGrH,CAEA,SAASK,cAAcC,EAAQC,GAC7B,OAAOL,OAAOM,yBAAyBF,EAAQC,EACjD,CAEA,SAASE,oBAAoBR,GAC3B,SAASS,IAAiB,CAG1B,OADAA,EAAcT,UAAYA,EACnBS,CACT,CAGA,IAAIC,uBAAyB,WAC3B,SAASC,EAAgBC,GACvBtM,KAAKuM,OAAS,GACdvM,KAAKsM,aAAeA,EACpBtM,KAAKwM,QAAU,EACfxM,KAAKyM,UAAW,CAClB,CAoFA,OAlFAJ,EAAgBX,UAAY,CAC1BgB,SAAU,SAAkBC,GAC1B3M,KAAKuM,OAAOK,KAAKD,EACnB,EACAE,MAAO,WACL,IAAIvB,EACAE,EAAMxL,KAAKuM,OAAOrJ,OAEtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKuM,OAAOjB,GAAGuB,OAEnB,EACAC,OAAQ,WACN,IAAIxB,EACAE,EAAMxL,KAAKuM,OAAOrJ,OAEtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKuM,OAAOjB,GAAGwB,QAEnB,EACAC,QAAS,SAAiBC,GACxB,IAAI1B,EACAE,EAAMxL,KAAKuM,OAAOrJ,OAEtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKuM,OAAOjB,GAAGyB,QAAQC,EAE3B,EACAC,YAAa,SAAqBC,GAChC,OAAIlN,KAAKsM,aACAtM,KAAKsM,aAAaY,GAGvBtK,OAAOuK,KACF,IAAIvK,OAAOuK,KAAK,CACrBrG,IAAK,CAACoG,KAIH,CACLE,WAAW,EACXC,KAAM,WACJrN,KAAKoN,WAAY,CACnB,EACAE,KAAM,WACJtN,KAAKoN,WAAY,CACnB,EACAG,QAAS,WAAoB,EAC7BC,KAAM,WAAiB,EACvBC,UAAW,WAAsB,EAErC,EACAC,gBAAiB,SAAyBpB,GACxCtM,KAAKsM,aAAeA,CACtB,EACAmB,UAAW,SAAmBlE,GAC5BvJ,KAAKwM,QAAUjD,EAEfvJ,KAAK2N,eACP,EACAC,KAAM,WACJ5N,KAAKyM,UAAW,EAEhBzM,KAAK2N,eACP,EACAE,OAAQ,WACN7N,KAAKyM,UAAW,EAEhBzM,KAAK2N,eACP,EACAG,UAAW,WACT,OAAO9N,KAAKwM,OACd,EACAmB,cAAe,WACb,IAAIrC,EACAE,EAAMxL,KAAKuM,OAAOrJ,OAEtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKuM,OAAOjB,GAAGyC,OAAO/N,KAAKwM,SAAWxM,KAAKyM,SAAW,EAAI,GAE9D,GAEK,WACL,OAAO,IAAIJ,CACb,CACF,CA7F6B,GA+FzB2B,iBAAmB,WACrB,SAASC,EAAmB/D,EAAMsB,GAChC,IAEIjC,EAFA+B,EAAI,EACJ4C,EAAM,GAGV,OAAQhE,GACN,IAAK,QACL,IAAK,SACHX,EAAQ,EACR,MAEF,QACEA,EAAQ,IAIZ,IAAK+B,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB4C,EAAItB,KAAKrD,GAGX,OAAO2E,CACT,CAkBA,MAAiC,mBAAtBC,mBAA4D,mBAAjBC,aAhBtD,SAAiClE,EAAMsB,GACrC,MAAa,YAATtB,EACK,IAAIkE,aAAa5C,GAGb,UAATtB,EACK,IAAImE,WAAW7C,GAGX,WAATtB,EACK,IAAIiE,kBAAkB3C,GAGxByC,EAAmB/D,EAAMsB,EAClC,EAMOyC,CACT,CA7CuB,GA+CvB,SAASK,iBAAiB9C,GACxB,OAAO+C,MAAMC,MAAM,KAAM,CACvBtL,OAAQsI,GAEZ,CAEA,SAASiD,UAAUC,GAAuV,OAA1OD,UAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBF,GAAO,cAAcA,CAAK,EAAwB,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAI5O,cAAgB6O,QAAUD,IAAQC,OAAOjD,UAAY,gBAAkBgD,CAAK,EAAYD,UAAUC,EAAM,CACjY,IAAIG,iBAAkB,EAClBC,kBAAoB,KACpBC,sBAAwB,KACxBC,WAAa,GACbC,SAAW,iCAAiCC,KAAK3E,UAAU4E,WAC3DC,oBAAqB,EACrBC,MAAQC,KAAKC,IACbC,OAASF,KAAKG,KACdC,QAAUJ,KAAKK,MACfC,MAAQN,KAAKO,IACbC,MAAQR,KAAKS,IACbC,OAAS,CAAC,EAYd,SAASC,qBACP,MAAO,CAAC,CACV,EAZA,WACE,IACI3E,EADA4E,EAAgB,CAAC,MAAO,OAAQ,QAAS,OAAQ,QAAS,OAAQ,QAAS,QAAS,OAAQ,OAAQ,QAAS,QAAS,MAAO,OAAQ,MAAO,QAAS,SAAU,QAAS,OAAQ,MAAO,QAAS,OAAQ,QAAS,MAAO,MAAO,MAAO,SAAU,QAAS,OAAQ,MAAO,OAAQ,OAAQ,MAAO,OAAQ,QAAS,IAAK,OAAQ,MAAO,SAAU,QAAS,KAAM,UAAW,SAExW1E,EAAM0E,EAAchN,OAExB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB0E,OAAOE,EAAc5E,IAAMgE,KAAKY,EAAc5E,GAEjD,CARD,GAcA0E,OAAOG,OAASb,KAAKa,OAErBH,OAAOI,IAAM,SAAUC,GAGrB,GAAe,WAFF5B,UAAU4B,IAEIA,EAAInN,OAAQ,CACrC,IACIoI,EADAgF,EAAShC,iBAAiB+B,EAAInN,QAE9BsI,EAAM6E,EAAInN,OAEd,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBgF,EAAOhF,GAAKgE,KAAKc,IAAIC,EAAI/E,IAG3B,OAAOgF,CACT,CAEA,OAAOhB,KAAKc,IAAIC,EAClB,EAEA,IAAIE,qBAAuB,IACvBC,UAAYlB,KAAKmB,GAAK,IACtBC,YAAc,MAElB,SAASC,YAAY9F,GACnBuE,qBAAuBvE,CACzB,CAEA,SAAS+F,MAAMrH,GACb,OAAI6F,mBACKE,KAAKuB,MAAMtH,GAGbA,CACT,CAEA,SAASuH,SAASC,GAChBA,EAAQC,MAAMC,SAAW,WACzBF,EAAQC,MAAMpJ,IAAM,EACpBmJ,EAAQC,MAAMrJ,KAAO,EACrBoJ,EAAQC,MAAME,QAAU,QACxBH,EAAQC,MAAMG,gBAAkB,MAChCJ,EAAQC,MAAMI,sBAAwB,MACtCL,EAAQC,MAAMK,mBAAqB,UACnCN,EAAQC,MAAMM,yBAA2B,UACzCP,EAAQC,MAAMO,eAAiB,cAC/BR,EAAQC,MAAMQ,qBAAuB,cACrCT,EAAQC,MAAMS,kBAAoB,aACpC,CAEA,SAASC,kBAAkBxH,EAAMyH,EAAaC,EAAWC,GACvD7R,KAAKkK,KAAOA,EACZlK,KAAK2R,YAAcA,EACnB3R,KAAK4R,UAAYA,EACjB5R,KAAK8R,UAAYD,EAAkB,GAAK,EAAI,CAC9C,CAEA,SAASE,gBAAgB7H,EAAM2H,GAC7B7R,KAAKkK,KAAOA,EACZlK,KAAK8R,UAAYD,EAAkB,GAAK,EAAI,CAC9C,CAEA,SAASG,oBAAoB9H,EAAM+H,EAAYC,EAAaL,GAC1D7R,KAAKkK,KAAOA,EACZlK,KAAKkS,YAAcA,EACnBlS,KAAKiS,WAAaA,EAClBjS,KAAK8R,UAAYD,EAAkB,GAAK,EAAI,CAC9C,CAEA,SAASM,oBAAoBjI,EAAMkI,EAAYC,GAC7CrS,KAAKkK,KAAOA,EACZlK,KAAKoS,WAAaA,EAClBpS,KAAKqS,YAAcA,CACrB,CAEA,SAASC,eAAepI,EAAMzB,GAC5BzI,KAAKkK,KAAOA,EACZlK,KAAKyI,OAASA,CAChB,CAEA,SAAS8J,wBAAwBC,EAAab,GAC5C3R,KAAKkK,KAAO,mBACZlK,KAAKwS,YAAcA,EACnBxS,KAAK2R,YAAcA,CACrB,CAEA,SAASc,mBAAmBD,GAC1BxS,KAAKkK,KAAO,cACZlK,KAAKwS,YAAcA,CACrB,CAEA,SAASE,4BAA4BxI,EAAMsI,GACzCxS,KAAKkK,KAAOA,EACZlK,KAAKwS,YAAcA,CACrB,CAEA,IAAIG,iBACEC,OAAS,EACN,WAEL,OAAO5D,WAAa,qBADpB4D,QAAU,EAEZ,GAJIA,OAON,SAASC,SAASC,EAAGC,EAAGC,GACtB,IAAIC,EACAC,EACAC,EACA7H,EACA8H,EACAC,EACAC,EACAC,EAOJ,OAJAF,EAAIL,GAAK,EAAID,GACbO,EAAIN,GAAK,GAFTI,EAAQ,EAAJN,GADJxH,EAAIgE,KAAKK,MAAU,EAAJmD,KAGEC,GACjBQ,EAAIP,GAAK,GAAK,EAAII,GAAKL,GAEfzH,EAAI,GACV,KAAK,EACH2H,EAAID,EACJE,EAAIK,EACJJ,EAAIE,EACJ,MAEF,KAAK,EACHJ,EAAIK,EACJJ,EAAIF,EACJG,EAAIE,EACJ,MAEF,KAAK,EACHJ,EAAII,EACJH,EAAIF,EACJG,EAAII,EACJ,MAEF,KAAK,EACHN,EAAII,EACJH,EAAII,EACJH,EAAIH,EACJ,MAEF,KAAK,EACHC,EAAIM,EACJL,EAAIG,EACJF,EAAIH,EACJ,MAEF,KAAK,EACHC,EAAID,EACJE,EAAIG,EACJF,EAAIG,EAOR,MAAO,CAACL,EAAGC,EAAGC,EAChB,CAEA,SAASK,SAASP,EAAGC,EAAGC,GACtB,IAGIL,EAHAjD,EAAMP,KAAKO,IAAIoD,EAAGC,EAAGC,GACrBpD,EAAMT,KAAKS,IAAIkD,EAAGC,EAAGC,GACrBM,EAAI5D,EAAME,EAEVgD,EAAY,IAARlD,EAAY,EAAI4D,EAAI5D,EACxBmD,EAAInD,EAAM,IAEd,OAAQA,GACN,KAAKE,EACH+C,EAAI,EACJ,MAEF,KAAKG,EACHH,EAAII,EAAIC,EAAIM,GAAKP,EAAIC,EAAI,EAAI,GAC7BL,GAAK,EAAIW,EACT,MAEF,KAAKP,EACHJ,EAAIK,EAAIF,EAAQ,EAAJQ,EACZX,GAAK,EAAIW,EACT,MAEF,KAAKN,EACHL,EAAIG,EAAIC,EAAQ,EAAJO,EACZX,GAAK,EAAIW,EAOb,MAAO,CAACX,EAAGC,EAAGC,EAChB,CAEA,SAASU,mBAAmBC,EAAOpO,GACjC,IAAIqO,EAAMJ,SAAoB,IAAXG,EAAM,GAAqB,IAAXA,EAAM,GAAqB,IAAXA,EAAM,IASzD,OARAC,EAAI,IAAMrO,EAENqO,EAAI,GAAK,EACXA,EAAI,GAAK,EACAA,EAAI,IAAM,IACnBA,EAAI,GAAK,GAGJf,SAASe,EAAI,GAAIA,EAAI,GAAIA,EAAI,GACtC,CAEA,SAASC,mBAAmBF,EAAOpO,GACjC,IAAIqO,EAAMJ,SAAoB,IAAXG,EAAM,GAAqB,IAAXA,EAAM,GAAqB,IAAXA,EAAM,IASzD,OARAC,EAAI,IAAMrO,EAENqO,EAAI,GAAK,EACXA,EAAI,GAAK,EACAA,EAAI,GAAK,IAClBA,EAAI,GAAK,GAGJf,SAASe,EAAI,GAAIA,EAAI,GAAIA,EAAI,GACtC,CAEA,SAASE,YAAYH,EAAOpO,GAC1B,IAAIqO,EAAMJ,SAAoB,IAAXG,EAAM,GAAqB,IAAXA,EAAM,GAAqB,IAAXA,EAAM,IASzD,OARAC,EAAI,IAAMrO,EAAS,IAEfqO,EAAI,GAAK,EACXA,EAAI,IAAM,EACDA,EAAI,GAAK,IAClBA,EAAI,IAAM,GAGLf,SAASe,EAAI,GAAIA,EAAI,GAAIA,EAAI,GACtC,CAEA,IAAIG,SAAW,WACb,IACIzI,EACA0I,EAFAC,EAAW,GAIf,IAAK3I,EAAI,EAAGA,EAAI,IAAKA,GAAK,EACxB0I,EAAM1I,EAAE4I,SAAS,IACjBD,EAAS3I,GAAoB,IAAf0I,EAAI9Q,OAAe,IAAM8Q,EAAMA,EAG/C,OAAO,SAAUf,EAAGC,EAAGC,GAarB,OAZIF,EAAI,IACNA,EAAI,GAGFC,EAAI,IACNA,EAAI,GAGFC,EAAI,IACNA,EAAI,GAGC,IAAMc,EAAShB,GAAKgB,EAASf,GAAKe,EAASd,EACpD,CACF,CAzBe,GA2BXgB,mBAAqB,SAA4BtJ,GACnDgE,kBAAoBhE,CACtB,EAEIuJ,mBAAqB,WACvB,OAAOvF,eACT,EAEIwF,qBAAuB,SAA8B9K,GACvDuF,kBAAoBvF,CACtB,EAEI+K,qBAAuB,WACzB,OAAOxF,iBACT,EAEIyF,wBAA0B,SAAiChL,GAC7DwF,sBAAwBxF,CAC1B,EAEIiL,wBAA0B,WAC5B,OAAOzF,qBACT,EAEI0F,wBAA0B,SAAiClL,GAC7DgH,qBAAuBhH,CACzB,EAEImL,wBAA0B,WAC5B,OAAOnE,oBACT,EAEIoE,YAAc,SAAqBpL,GACrCyF,WAAazF,CACf,EAEIqL,YAAc,WAChB,OAAO5F,UACT,EAEA,SAAS6F,SAAS3K,GAEhB,OAAOjJ,SAAS6T,gBAAgBtK,MAAON,EACzC,CAEA,SAAS6K,UAAUrG,GAAuV,OAA1OqG,UAArD,mBAAXpG,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBF,GAAO,cAAcA,CAAK,EAAwB,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAI5O,cAAgB6O,QAAUD,IAAQC,OAAOjD,UAAY,gBAAkBgD,CAAK,EAAYqG,UAAUrG,EAAM,CAEjY,IAAIsG,YAAc,WAChB,IAEIC,EACAC,EAHAC,EAAa,EACbC,EAAY,GAGZC,EAAc,CAChBC,UAAW,WAAsB,EACjCC,YAAa,SAAqBC,GAChCP,EAAS,CACPvL,KAAM8L,GAEV,GAEEC,EAAc,CAChBF,YAAa,SAAqB7L,GAChC2L,EAAYC,UAAU,CACpB5L,KAAMA,GAEV,GAiBF,SAASgM,IACFR,IACHA,EAhBJ,SAAsBS,GACpB,GAAI/S,OAAOgT,QAAUhT,OAAOiT,MAAQ/K,eAAgB,CAClD,IAAIgL,EAAO,IAAID,KAAK,CAAC,4CAA6CF,EAAGzB,YAAa,CAChFhK,KAAM,oBAGJf,EAAM4M,IAAIC,gBAAgBF,GAC9B,OAAO,IAAIF,OAAOzM,EACpB,CAGA,OADA8L,EAAWU,EACJN,CACT,CAIqBY,EAAa,SAAqB1V,GAknBjD,GA3EKkV,EAAYT,cACfS,EAAYT,YAviBd,WACE,SAASkB,EAAeC,EAAQC,GAC9B,IAAIC,EACA/K,EAEAgL,EACAC,EACAC,EACAC,EAJAjL,EAAM2K,EAAOjT,OAMjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAGxB,GAAI,OAFJ+K,EAAYF,EAAO7K,MAEO+K,EAAUK,UAAW,CAG7C,GAFAL,EAAUK,WAAY,EAElBL,EAAUM,QAAS,CACrB,IAAIC,EAAYP,EAAUQ,gBAG1B,IAFAN,EAAOK,EAAU1T,OAEZoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB,GAAIM,EAAUN,GAAGQ,GAAGN,EAAElL,EACpByL,EAA6BH,EAAUN,GAAGQ,GAAGN,QAI7C,IAFAC,EAAOG,EAAUN,GAAGQ,GAAGN,EAAEtT,OAEpBsT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACrBI,EAAUN,GAAGQ,GAAGN,EAAEA,GAAGzD,GACvBgE,EAA6BH,EAAUN,GAAGQ,GAAGN,EAAEA,GAAGzD,EAAE,IAGlD6D,EAAUN,GAAGQ,GAAGN,EAAEA,GAAGjW,GACvBwW,EAA6BH,EAAUN,GAAGQ,GAAGN,EAAEA,GAAGjW,EAAE,GAK9D,CAEqB,IAAjB8V,EAAUW,IACZX,EAAUF,OAASc,EAAeZ,EAAUa,MAAOd,GACnDF,EAAeG,EAAUF,OAAQC,IACP,IAAjBC,EAAUW,GACnBG,EAAed,EAAUe,QACC,IAAjBf,EAAUW,IACnBK,EAAahB,EAEjB,CAEJ,CA4CA,SAASY,EAAevO,EAAI0N,GAC1B,IAAIkB,EAhBN,SAAkB5O,EAAI0N,GAIpB,IAHA,IAAI9K,EAAI,EACJE,EAAM4K,EAAMlT,OAEToI,EAAIE,GAAK,CACd,GAAI4K,EAAM9K,GAAG5C,KAAOA,EAClB,OAAO0N,EAAM9K,GAGfA,GAAK,CACP,CAEA,OAAO,IACT,CAGaiM,CAAS7O,EAAI0N,GAExB,OAAIkB,EACGA,EAAKnB,OAAOqB,OAKV1T,KAAKC,MAAMD,KAAK2T,UAAUH,EAAKnB,UAJpCmB,EAAKnB,OAAOqB,QAAS,EACdF,EAAKnB,QAMT,IACT,CAEA,SAASgB,EAAejJ,GACtB,IAAI5C,EAEAgL,EACAC,EAEJ,IAAKjL,EAJK4C,EAAIhL,OAIC,EAAGoI,GAAK,EAAGA,GAAK,EAC7B,GAAkB,OAAd4C,EAAI5C,GAAG0L,GACT,GAAI9I,EAAI5C,GAAGoM,GAAGlB,EAAElL,EACdyL,EAA6B7I,EAAI5C,GAAGoM,GAAGlB,QAIvC,IAFAD,EAAOrI,EAAI5C,GAAGoM,GAAGlB,EAAEtT,OAEdoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACrBpI,EAAI5C,GAAGoM,GAAGlB,EAAEF,GAAGvD,GACjBgE,EAA6B7I,EAAI5C,GAAGoM,GAAGlB,EAAEF,GAAGvD,EAAE,IAG5C7E,EAAI5C,GAAGoM,GAAGlB,EAAEF,GAAG/V,GACjBwW,EAA6B7I,EAAI5C,GAAGoM,GAAGlB,EAAEF,GAAG/V,EAAE,QAI7B,OAAd2N,EAAI5C,GAAG0L,IAChBG,EAAejJ,EAAI5C,GAAGqM,GAG5B,CAEA,SAASZ,EAA6BvB,GACpC,IAAIlK,EACAE,EAAMgK,EAAKlK,EAAEpI,OAEjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBkK,EAAKlK,EAAEA,GAAG,IAAMkK,EAAKxC,EAAE1H,GAAG,GAC1BkK,EAAKlK,EAAEA,GAAG,IAAMkK,EAAKxC,EAAE1H,GAAG,GAC1BkK,EAAKoC,EAAEtM,GAAG,IAAMkK,EAAKxC,EAAE1H,GAAG,GAC1BkK,EAAKoC,EAAEtM,GAAG,IAAMkK,EAAKxC,EAAE1H,GAAG,EAE9B,CAEA,SAASuM,EAAaC,EAASC,GAC7B,IAAIC,EAAcD,EAAoBA,EAAkBE,MAAM,KAAO,CAAC,IAAK,IAAK,KAEhF,OAAIH,EAAQ,GAAKE,EAAY,MAIzBA,EAAY,GAAKF,EAAQ,MAIzBA,EAAQ,GAAKE,EAAY,MAIzBA,EAAY,GAAKF,EAAQ,MAIzBA,EAAQ,GAAKE,EAAY,MAIzBA,EAAY,GAAKF,EAAQ,KAItB,MACT,CAEA,IA2CMI,EA3CFC,EAAY,WACd,IAAID,EAAiB,CAAC,EAAG,EAAG,IAY5B,SAASE,EAAcjC,GACrB,IAAI7K,EAXmB+M,EACnBC,EAWA9M,EAAM2K,EAAOjT,OAEjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACH,IAAjB6K,EAAO7K,GAAG0L,KAdZsB,YADmBD,EAgBHlC,EAAO7K,IAfEiI,EAAEE,EAC/B4E,EAAU9E,EAAEE,EAAI,CACd+C,EAAG,CAAC,CACFzD,EAAGuF,EACH/E,EAAG,KAcT,CAEA,OAAO,SAAUgF,GACf,GAAIV,EAAaK,EAAgBK,EAAcvF,KAC7CoF,EAAcG,EAAcpC,QAExBoC,EAAcC,QAAQ,CACxB,IAAIlN,EACAE,EAAM+M,EAAcC,OAAOtV,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBiN,EAAcC,OAAOlN,GAAG6K,QAC1BiC,EAAcG,EAAcC,OAAOlN,GAAG6K,OAG5C,CAEJ,CACF,CAxCgB,GA0CZsC,GACEP,EAAiB,CAAC,EAAG,EAAG,IACrB,SAAUK,GACf,GAAIA,EAAcG,QAAUb,EAAaK,EAAgBK,EAAcvF,GAAI,CACzE,IAAI1H,EACAE,EAAM+M,EAAcG,MAAMxV,OAE9B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAC3B,IAAIqN,EAAWJ,EAAcG,MAAMpN,GAE/BqN,EAASjP,MAAQiP,EAASjP,KAAK0N,SACjCD,EAAewB,EAASjP,KAAK0N,QAC7BuB,EAASjP,KAAKkP,GAAK,EACnBD,EAASjP,KAAKmP,GAAK,MACnBF,EAASjP,KAAKoP,GAAK,EACnBH,EAASjP,KAAKqP,GAAK,EACnBJ,EAASjP,KAAKgO,GAAK,CACjBrE,EAAG,CACDmD,EAAG,CAAC,EAAG,GACPwC,EAAG,GAELjG,EAAG,CACDyD,EAAG,CAAC,IAAK,KACTwC,EAAG,GAELA,EAAG,CACDxC,EAAG,CAAC,EAAG,GACPwC,EAAG,GAEL/F,EAAG,CACDuD,EAAG,EACHwC,EAAG,GAELpB,EAAG,CACDpB,EAAG,IACHwC,EAAG,IAIFT,EAAcG,MAAMpN,GAAGiI,IAC1BoF,EAASjP,KAAK0N,OAAOxK,KAAK,CACxBoK,GAAI,OAEN2B,EAASjP,KAAK0N,OAAO,GAAGO,GAAG/K,KAAK,CAC9ByG,EAAG,CACDmD,EAAG,CAAC,EAAG,GACPwC,EAAG,GAELjG,EAAG,CACDyD,EAAG,CAAC,IAAK,KACTwC,EAAG,GAELA,EAAG,CACDxC,EAAG,CAAC,EAAG,GACPwC,EAAG,GAEL/F,EAAG,CACDuD,EAAG,EACHwC,EAAG,GAELpB,EAAG,CACDpB,EAAG,IACHwC,EAAG,GAELC,GAAI,CACFzC,EAAG,EACHwC,EAAG,GAELE,GAAI,CACF1C,EAAG,EACHwC,EAAG,GAELhC,GAAI,QAIZ,CACF,CACF,GAGEmC,EAAsB,WACxB,IAAIjB,EAAiB,CAAC,EAAG,EAAG,IA2B5B,SAASE,EAAcjC,GACrB,IAAI7K,EAzBA8N,EA0BA5N,EAAM2K,EAAOjT,OAEjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACH,IAAjB6K,EAAO7K,GAAG0L,KA7BZoC,SAEsB,iBAFtBA,EA8BgBjD,EAAO7K,GA9BFiI,EAAEF,GAEP2F,IAClBI,EAASJ,EAAI,CACXA,EAAG,EACHxC,EAAG4C,EAASJ,IAIU,iBAAfI,EAAS/F,IAClB+F,EAAS/F,EAAI,CACX2F,EAAG,EACHxC,EAAG4C,EAAS/F,IAIU,iBAAf+F,EAASnG,IAClBmG,EAASnG,EAAI,CACX+F,EAAG,EACHxC,EAAG4C,EAASnG,IAclB,CAEA,OAAO,SAAUsF,GACf,GAAIV,EAAaK,EAAgBK,EAAcvF,KAC7CoF,EAAcG,EAAcpC,QAExBoC,EAAcC,QAAQ,CACxB,IAAIlN,EACAE,EAAM+M,EAAcC,OAAOtV,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBiN,EAAcC,OAAOlN,GAAG6K,QAC1BiC,EAAcG,EAAcC,OAAOlN,GAAG6K,OAG5C,CAEJ,CACF,CAvD0B,GAyDtBkD,EAAc,WAChB,IAAInB,EAAiB,CAAC,EAAG,EAAG,GAE5B,SAASoB,EAAclC,GACrB,IAAI9L,EAEAgL,EACAC,EAFA/K,EAAM4L,EAAOlU,OAIjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,GAAqB,OAAjB8L,EAAO9L,GAAG0L,GACZsC,EAAclC,EAAO9L,GAAGqM,SACnB,GAAqB,OAAjBP,EAAO9L,GAAG0L,IAAgC,OAAjBI,EAAO9L,GAAG0L,GAC5C,GAAII,EAAO9L,GAAGiO,EAAE/C,GAAKY,EAAO9L,GAAGiO,EAAE/C,EAAE,GAAGlL,EAGpC,IAFAiL,EAAOa,EAAO9L,GAAGiO,EAAE/C,EAAEtT,OAEhBoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACrBc,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAGvD,IACnBqE,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAGvD,EAAE,IAAM,IACzBqE,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAGvD,EAAE,IAAM,IACzBqE,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAGvD,EAAE,IAAM,IACzBqE,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAGvD,EAAE,IAAM,KAGvBqE,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAG/V,IACnB6W,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAG/V,EAAE,IAAM,IACzB6W,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAG/V,EAAE,IAAM,IACzB6W,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAG/V,EAAE,IAAM,IACzB6W,EAAO9L,GAAGiO,EAAE/C,EAAEF,GAAG/V,EAAE,IAAM,UAI7B6W,EAAO9L,GAAGiO,EAAE/C,EAAE,IAAM,IACpBY,EAAO9L,GAAGiO,EAAE/C,EAAE,IAAM,IACpBY,EAAO9L,GAAGiO,EAAE/C,EAAE,IAAM,IACpBY,EAAO9L,GAAGiO,EAAE/C,EAAE,IAAM,GAI5B,CAEA,SAAS4B,EAAcjC,GACrB,IAAI7K,EACAE,EAAM2K,EAAOjT,OAEjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACH,IAAjB6K,EAAO7K,GAAG0L,IACZsC,EAAcnD,EAAO7K,GAAG8L,OAG9B,CAEA,OAAO,SAAUmB,GACf,GAAIV,EAAaK,EAAgBK,EAAcvF,KAC7CoF,EAAcG,EAAcpC,QAExBoC,EAAcC,QAAQ,CACxB,IAAIlN,EACAE,EAAM+M,EAAcC,OAAOtV,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBiN,EAAcC,OAAOlN,GAAG6K,QAC1BiC,EAAcG,EAAcC,OAAOlN,GAAG6K,OAG5C,CAEJ,CACF,CApEkB,GAsEdqD,EAAc,WAChB,IAAItB,EAAiB,CAAC,EAAG,EAAG,IAE5B,SAASuB,EAAsBvL,GAC7B,IAAI5C,EAEAgL,EACAC,EAEJ,IAAKjL,EAJK4C,EAAIhL,OAIC,EAAGoI,GAAK,EAAGA,GAAK,EAC7B,GAAkB,OAAd4C,EAAI5C,GAAG0L,GACT,GAAI9I,EAAI5C,GAAGoM,GAAGlB,EAAElL,EACd4C,EAAI5C,GAAGoM,GAAGlB,EAAE+C,EAAIrL,EAAI5C,GAAGoO,YAIvB,IAFAnD,EAAOrI,EAAI5C,GAAGoM,GAAGlB,EAAEtT,OAEdoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACrBpI,EAAI5C,GAAGoM,GAAGlB,EAAEF,GAAGvD,IACjB7E,EAAI5C,GAAGoM,GAAGlB,EAAEF,GAAGvD,EAAE,GAAGwG,EAAIrL,EAAI5C,GAAGoO,QAG7BxL,EAAI5C,GAAGoM,GAAGlB,EAAEF,GAAG/V,IACjB2N,EAAI5C,GAAGoM,GAAGlB,EAAEF,GAAG/V,EAAE,GAAGgZ,EAAIrL,EAAI5C,GAAGoO,YAId,OAAdxL,EAAI5C,GAAG0L,IAChByC,EAAsBvL,EAAI5C,GAAGqM,GAGnC,CAEA,SAASS,EAAcjC,GACrB,IAAIE,EACA/K,EAEAgL,EACAC,EACAC,EACAC,EAJAjL,EAAM2K,EAAOjT,OAMjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAG3B,IAFA+K,EAAYF,EAAO7K,IAELqL,QAAS,CACrB,IAAIC,EAAYP,EAAUQ,gBAG1B,IAFAN,EAAOK,EAAU1T,OAEZoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB,GAAIM,EAAUN,GAAGQ,GAAGN,EAAElL,EACpBsL,EAAUN,GAAGQ,GAAGN,EAAE+C,EAAI3C,EAAUN,GAAGqD,QAInC,IAFAlD,EAAOG,EAAUN,GAAGQ,GAAGN,EAAEtT,OAEpBsT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACrBI,EAAUN,GAAGQ,GAAGN,EAAEA,GAAGzD,IACvB6D,EAAUN,GAAGQ,GAAGN,EAAEA,GAAGzD,EAAE,GAAGwG,EAAI3C,EAAUN,GAAGqD,IAGzC/C,EAAUN,GAAGQ,GAAGN,EAAEA,GAAGjW,IACvBqW,EAAUN,GAAGQ,GAAGN,EAAEA,GAAGjW,EAAE,GAAGgZ,EAAI3C,EAAUN,GAAGqD,GAKrD,CAEqB,IAAjBtD,EAAUW,IACZyC,EAAsBpD,EAAUe,OAEpC,CACF,CAEA,OAAO,SAAUmB,GACf,GAAIV,EAAaK,EAAgBK,EAAcvF,KAC7CoF,EAAcG,EAAcpC,QAExBoC,EAAcC,QAAQ,CACxB,IAAIlN,EACAE,EAAM+M,EAAcC,OAAOtV,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBiN,EAAcC,OAAOlN,GAAG6K,QAC1BiC,EAAcG,EAAcC,OAAOlN,GAAG6K,OAG5C,CAEJ,CACF,CAzFkB,GA0GlB,SAASkB,EAAa3N,GACI,IAApBA,EAAK6J,EAAEyF,EAAE9V,QAAyBwG,EAAK6J,EAAEF,CAE/C,CAEA,IAAIuG,EAAW,CACfA,aArBA,SAAsBrB,GAChBA,EAAcsB,aAIlBR,EAAYd,GACZJ,EAAUI,GACVE,EAAWF,GACXY,EAAoBZ,GACpBiB,EAAYjB,GACZrC,EAAeqC,EAAcpC,OAAQoC,EAAcC,QA/drD,SAAuBE,EAAOF,GAC5B,GAAIE,EAAO,CACT,IAAIpN,EAAI,EACJE,EAAMkN,EAAMxV,OAEhB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACL,IAAfoN,EAAMpN,GAAGiI,IAEXmF,EAAMpN,GAAG5B,KAAKyM,OAASc,EAAeyB,EAAMpN,GAAG5B,KAAKwN,MAAOsB,GAa3DtC,EAAewC,EAAMpN,GAAG5B,KAAKyM,OAAQqC,GAG3C,CACF,CAucEsB,CAAcvB,EAAcG,MAAOH,EAAcC,QACjDD,EAAcsB,YAAa,EAC7B,GAcA,OALAD,EAASP,YAAcA,EACvBO,EAASnB,WAAaA,EACtBmB,EAAST,oBAAsBA,EAC/BS,EAASJ,YAAcA,EACvBI,EAAS1D,eAAiBA,EACnB0D,CACT,CAG4BG,IAGvBtE,EAAYuE,cACfvE,EAAYuE,YAAc,WACxB,SAASC,EAAeC,GAGtB,IAAIC,EAAoBD,EAAIE,kBAAkB,gBAE9C,OAAID,GAA0C,SAArBD,EAAIG,eAAkE,IAAvCF,EAAkBG,QAAQ,SAI9EJ,EAAItZ,UAAwC,WAA5BmU,UAAUmF,EAAItZ,UAHzBsZ,EAAItZ,SAOTsZ,EAAItZ,UAAoC,iBAAjBsZ,EAAItZ,SACtBkD,KAAKC,MAAMmW,EAAItZ,UAGpBsZ,EAAIK,aACCzW,KAAKC,MAAMmW,EAAIK,cAGjB,IACT,CAyCA,MAAO,CACLC,KAxCF,SAAmBhF,EAAMiF,EAAUC,EAAUC,GAC3C,IAAI/Z,EACAsZ,EAAM,IAAIU,eAEd,IAEEV,EAAIG,aAAe,MACrB,CAAE,MAAOQ,GAAM,CAGfX,EAAIY,mBAAqB,WACvB,GAAuB,IAAnBZ,EAAIa,WACN,GAAmB,MAAfb,EAAIc,OACNpa,EAAWqZ,EAAeC,GAC1BQ,EAAS9Z,QAET,IACEA,EAAWqZ,EAAeC,GAC1BQ,EAAS9Z,EACX,CAAE,MAAOia,GACHF,GACFA,EAAcE,EAElB,CAGN,EAEA,IAEEX,EAAInT,KAAK,CAAC,IAAK,IAAK,KAAKkU,KAAK,IAAKzF,GAAM,EAC3C,CAAE,MAAO9T,GAEPwY,EAAInT,KAAK,CAAC,IAAK,IAAK,KAAKkU,KAAK,IAAKR,EAAW,IAAMjF,GAAM,EAC5D,CAEA0E,EAAIgB,MACN,EAKF,CAnE0B,IAsER,kBAAhB3a,EAAEmJ,KAAKQ,KACTuL,EAAYuE,YAAYQ,KAAKja,EAAEmJ,KAAK8L,KAAMjV,EAAEmJ,KAAK+Q,UAAU,SAAU/Q,GACnE+L,EAAYT,YAAYmG,aAAazR,GAErC+L,EAAYF,YAAY,CACtB7M,GAAInI,EAAEmJ,KAAKhB,GACX0S,QAAS1R,EACTsR,OAAQ,WAEZ,IAAG,WACDvF,EAAYF,YAAY,CACtB7M,GAAInI,EAAEmJ,KAAKhB,GACXsS,OAAQ,SAEZ,SACK,GAAoB,aAAhBza,EAAEmJ,KAAKQ,KAAqB,CACrC,IAAImR,EAAY9a,EAAEmJ,KAAK2R,UAEvB5F,EAAYT,YAAYmG,aAAaE,GAErC5F,EAAYF,YAAY,CACtB7M,GAAInI,EAAEmJ,KAAKhB,GACX0S,QAASC,EACTL,OAAQ,WAEZ,KAA2B,aAAhBza,EAAEmJ,KAAKQ,MAChBuL,EAAYuE,YAAYQ,KAAKja,EAAEmJ,KAAK8L,KAAMjV,EAAEmJ,KAAK+Q,UAAU,SAAU/Q,GACnE+L,EAAYF,YAAY,CACtB7M,GAAInI,EAAEmJ,KAAKhB,GACX0S,QAAS1R,EACTsR,OAAQ,WAEZ,IAAG,WACDvF,EAAYF,YAAY,CACtB7M,GAAInI,EAAEmJ,KAAKhB,GACXsS,OAAQ,SAEZ,GAEJ,IAEA9F,EAAeI,UAAY,SAAUzS,GACnC,IAAI6G,EAAO7G,EAAM6G,KACbhB,EAAKgB,EAAKhB,GACV4S,EAAUlG,EAAU1M,GACxB0M,EAAU1M,GAAM,KAEI,YAAhBgB,EAAKsR,OACPM,EAAQC,WAAW7R,EAAK0R,SACfE,EAAQE,SACjBF,EAAQE,SAEZ,EAEJ,CAEA,SAASC,EAAcF,EAAYC,GAEjC,IAAI9S,EAAK,cADTyM,GAAc,GAMd,OAJAC,EAAU1M,GAAM,CACd6S,WAAYA,EACZC,QAASA,GAEJ9S,CACT,CAkCA,MAAO,CACLgT,cAjCF,SAAuBlG,EAAM+F,EAAYC,GACvC9F,IACA,IAAIiG,EAAYF,EAAcF,EAAYC,GAC1CtG,EAAeK,YAAY,CACzBrL,KAAM,gBACNsL,KAAMA,EACNiF,SAAU7X,OAAOgZ,SAASC,OAASjZ,OAAOgZ,SAASE,SACnDpT,GAAIiT,GAER,EAyBEI,SAvBF,SAAkBvG,EAAM+F,EAAYC,GAClC9F,IACA,IAAIiG,EAAYF,EAAcF,EAAYC,GAC1CtG,EAAeK,YAAY,CACzBrL,KAAM,WACNsL,KAAMA,EACNiF,SAAU7X,OAAOgZ,SAASC,OAASjZ,OAAOgZ,SAASE,SACnDpT,GAAIiT,GAER,EAeEK,kBAbF,SAA2BC,EAAMV,EAAYC,GAC3C9F,IACA,IAAIiG,EAAYF,EAAcF,EAAYC,GAC1CtG,EAAeK,YAAY,CACzBrL,KAAM,WACNmR,UAAWY,EACXvT,GAAIiT,GAER,EAOF,CA9vBkB,GAgwBdO,eAAiB,WACnB,IAAIC,EAAa,WACf,IAAIC,EAASnR,UAAU,UACvBmR,EAAOC,MAAQ,EACfD,EAAOE,OAAS,EAChB,IAAIC,EAAMH,EAAOI,WAAW,MAG5B,OAFAD,EAAIE,UAAY,gBAChBF,EAAIG,SAAS,EAAG,EAAG,EAAG,GACfN,CACT,CARiB,GAUjB,SAASO,IACP3c,KAAK4c,cAAgB,EAEjB5c,KAAK4c,eAAiB5c,KAAK6c,aAAe7c,KAAK8c,sBAAwB9c,KAAK+c,eAC1E/c,KAAKgd,gBACPhd,KAAKgd,eAAe,KAG1B,CAEA,SAASC,IACPjd,KAAK8c,qBAAuB,EAExB9c,KAAK4c,eAAiB5c,KAAK6c,aAAe7c,KAAK8c,sBAAwB9c,KAAK+c,eAC1E/c,KAAKgd,gBACPhd,KAAKgd,eAAe,KAG1B,CAEA,SAASE,EAAcC,EAAWC,EAAYC,GAC5C,IAAI7H,EAAO,GAEX,GAAI2H,EAAU5c,EACZiV,EAAO2H,EAAU9J,OACZ,GAAI+J,EAAY,CACrB,IAAIE,EAAYH,EAAU9J,GAEY,IAAlCiK,EAAUhD,QAAQ,aACpBgD,EAAYA,EAAUrF,MAAM,KAAK,IAGnCzC,EAAO4H,EAAaE,CACtB,MACE9H,EAAO6H,EACP7H,GAAQ2H,EAAUI,EAAIJ,EAAUI,EAAI,GACpC/H,GAAQ2H,EAAU9J,EAGpB,OAAOmC,CACT,CAEA,SAASgI,EAAgBC,GACvB,IAAI7K,EAAS,EACT8K,EAAaC,YAAY,YACjBF,EAAIG,UAENvB,OAASzJ,EAAS,OACxB5S,KAAK6d,eAELC,cAAcJ,IAGhB9K,GAAU,CACZ,EAAEmL,KAAK/d,MAAO,GAChB,CAkDA,SAASge,EAAkBtU,GACzB,IAAIuU,EAAK,CACPd,UAAWzT,GAET8L,EAAO0H,EAAcxT,EAAM1J,KAAKod,WAAYpd,KAAKwV,MAUrD,OATAR,YAAY+G,SAASvG,EAAM,SAAU0I,GACnCD,EAAGR,IAAMS,EAETle,KAAKme,gBACP,EAAEJ,KAAK/d,MAAO,WACZie,EAAGR,IAAM,CAAC,EAEVzd,KAAKme,gBACP,EAAEJ,KAAK/d,OACAie,CACT,CAiEA,SAASG,IACPpe,KAAK6d,aAAelB,EAAYoB,KAAK/d,MACrCA,KAAKme,eAAiBlB,EAAcc,KAAK/d,MACzCA,KAAKwd,gBAAkBA,EAAgBO,KAAK/d,MAC5CA,KAAKge,kBAAoBA,EAAkBD,KAAK/d,MAChDA,KAAKod,WAAa,GAClBpd,KAAKwV,KAAO,GACZxV,KAAK6c,YAAc,EACnB7c,KAAK+c,cAAgB,EACrB/c,KAAK4c,aAAe,EACpB5c,KAAK8c,oBAAsB,EAC3B9c,KAAKgd,eAAiB,KACtBhd,KAAKqe,OAAS,EAChB,CAgBA,OAdAD,EAAsB1S,UAAY,CAChC4S,WA/EF,SAAoB9F,EAAQ+F,GAE1B,IAAIjT,EADJtL,KAAKgd,eAAiBuB,EAEtB,IAAI/S,EAAMgN,EAAOtV,OAEjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACnBkN,EAAOlN,GAAG6K,SACRqC,EAAOlN,GAAGiI,GAAqB,QAAhBiF,EAAOlN,GAAGiI,EAGH,IAAhBiF,EAAOlN,GAAGiI,IACnBvT,KAAK+c,eAAiB,EACtB/c,KAAKqe,OAAOzR,KAAK5M,KAAKge,kBAAkBxF,EAAOlN,OAJ/CtL,KAAK6c,aAAe,EACpB7c,KAAKqe,OAAOzR,KAAK5M,KAAKwe,iBAAiBhG,EAAOlN,MAOtD,EAgEEmT,cA1DF,SAAuBjJ,GACrBxV,KAAKod,WAAa5H,GAAQ,EAC5B,EAyDEkJ,QA/DF,SAAiBlJ,GACfxV,KAAKwV,KAAOA,GAAQ,EACtB,EA8DEmJ,aApCF,WACE,OAAO3e,KAAK6c,cAAgB7c,KAAK4c,YACnC,EAmCEgC,eAjCF,WACE,OAAO5e,KAAK+c,gBAAkB/c,KAAK8c,mBACrC,EAgCE+B,QA3CF,WACE7e,KAAKgd,eAAiB,KACtBhd,KAAKqe,OAAOnb,OAAS,CACvB,EAyCE4b,SA3DF,SAAkB3B,GAIhB,IAHA,IAAI7R,EAAI,EACJE,EAAMxL,KAAKqe,OAAOnb,OAEfoI,EAAIE,GAAK,CACd,GAAIxL,KAAKqe,OAAO/S,GAAG6R,YAAcA,EAC/B,OAAOnd,KAAKqe,OAAO/S,GAAGmS,IAGxBnS,GAAK,CACP,CAEA,OAAO,IACT,EA+CEyT,cAzHF,SAAuB5B,GACrB,IAAI3H,EAAO0H,EAAcC,EAAWnd,KAAKod,WAAYpd,KAAKwV,MACtDiI,EAAMxS,UAAU,OACpBwS,EAAIuB,YAAc,YAClBvB,EAAInd,iBAAiB,OAAQN,KAAK6d,cAAc,GAChDJ,EAAInd,iBAAiB,QAAS,WAC5B2d,EAAGR,IAAMtB,EAETnc,KAAK6d,cACP,EAAEE,KAAK/d,OAAO,GACdyd,EAAI3W,IAAM0O,EACV,IAAIyI,EAAK,CACPR,IAAKA,EACLN,UAAWA,GAEb,OAAOc,CACT,EA0GEgB,gBAxJF,SAAyB9B,GACvB,IAAI3H,EAAO0H,EAAcC,EAAWnd,KAAKod,WAAYpd,KAAKwV,MACtDiI,EAAM5I,SAAS,SAEf5F,SACFjP,KAAKwd,gBAAgBC,GAErBA,EAAInd,iBAAiB,OAAQN,KAAK6d,cAAc,GAGlDJ,EAAInd,iBAAiB,QAAS,WAC5B2d,EAAGR,IAAMtB,EAETnc,KAAK6d,cACP,EAAEE,KAAK/d,OAAO,GACdyd,EAAIyB,eAAe,+BAAgC,OAAQ1J,GAEvDxV,KAAKmf,eAAeC,OACtBpf,KAAKmf,eAAeC,OAAO3B,GAE3Bzd,KAAKmf,eAAe/U,YAAYqT,GAGlC,IAAIQ,EAAK,CACPR,IAAKA,EACLN,UAAWA,GAEb,OAAOc,CACT,EA6HEtB,YAAaA,EACbM,cAAeA,EACfoC,aApCF,SAAsBnV,EAAMoV,GACb,QAATpV,GACFlK,KAAKmf,eAAiBG,EACtBtf,KAAKwe,iBAAmBxe,KAAKif,gBAAgBlB,KAAK/d,OAElDA,KAAKwe,iBAAmBxe,KAAK+e,cAAchB,KAAK/d,KAEpD,GA+BOoe,CACT,CAlOqB,GAoOrB,SAASmB,YAAa,CAEtBA,UAAU7T,UAAY,CACpB8T,aAAc,SAAsBC,EAAWC,GAC7C,GAAI1f,KAAK2f,KAAKF,GAGZ,IAFA,IAAIG,EAAY5f,KAAK2f,KAAKF,GAEjBnU,EAAI,EAAGA,EAAIsU,EAAU1c,OAAQoI,GAAK,EACzCsU,EAAUtU,GAAGoU,EAGnB,EACApf,iBAAkB,SAA0Bmf,EAAW/E,GAOrD,OANK1a,KAAK2f,KAAKF,KACbzf,KAAK2f,KAAKF,GAAa,IAGzBzf,KAAK2f,KAAKF,GAAW7S,KAAK8N,GAEnB,WACL1a,KAAK6f,oBAAoBJ,EAAW/E,EACtC,EAAEqD,KAAK/d,KACT,EACA6f,oBAAqB,SAA6BJ,EAAW/E,GAC3D,GAAKA,GAEE,GAAI1a,KAAK2f,KAAKF,GAAY,CAI/B,IAHA,IAAInU,EAAI,EACJE,EAAMxL,KAAK2f,KAAKF,GAAWvc,OAExBoI,EAAIE,GACLxL,KAAK2f,KAAKF,GAAWnU,KAAOoP,IAC9B1a,KAAK2f,KAAKF,GAAWK,OAAOxU,EAAG,GAE/BA,GAAK,EACLE,GAAO,GAGTF,GAAK,EAGFtL,KAAK2f,KAAKF,GAAWvc,SACxBlD,KAAK2f,KAAKF,GAAa,KAE3B,OAnBEzf,KAAK2f,KAAKF,GAAa,IAoB3B,GAGF,IAAIM,aAAe,WACjB,SAASC,EAAkB5E,GAMzB,IALA,IAEI6E,EAFAC,EAAQ9E,EAAQnD,MAAM,QACtBkI,EAAO,CAAC,EAERC,EAAY,EAEP9U,EAAI,EAAGA,EAAI4U,EAAMhd,OAAQoI,GAAK,EAGjB,KAFpB2U,EAAOC,EAAM5U,GAAG2M,MAAM,MAEb/U,SACPid,EAAKF,EAAK,IAAMA,EAAK,GAAGI,OACxBD,GAAa,GAIjB,GAAkB,IAAdA,EACF,MAAM,IAAIE,MAGZ,OAAOH,CACT,CAEA,OAAO,SAAUI,GAGf,IAFA,IAAIC,EAAU,GAELlV,EAAI,EAAGA,EAAIiV,EAASrd,OAAQoI,GAAK,EAAG,CAC3C,IAAImV,EAAUF,EAASjV,GACnBoV,EAAa,CACfC,KAAMF,EAAQG,GACdC,SAAUJ,EAAQK,IAGpB,IACEJ,EAAWtF,QAAUtX,KAAKC,MAAMwc,EAASjV,GAAGyV,GAC9C,CAAE,MAAOC,GACP,IACEN,EAAWtF,QAAU4E,EAAkBO,EAASjV,GAAGyV,GACrD,CAAE,MAAOE,GACPP,EAAWtF,QAAU,CACnBnR,KAAMsW,EAASjV,GAAGyV,GAEtB,CACF,CAEAP,EAAQ5T,KAAK8T,EACf,CAEA,OAAOF,CACT,CACF,CAlDmB,GAoDfU,iBAAmB,WACrB,SAASC,EAAoB7J,GAC3BtX,KAAKohB,aAAaxU,KAAK0K,EACzB,CAEA,OAAO,WACL,SAAS+J,EAAqBpX,GAI5B,IAHA,IAAIqB,EAAI,EACJE,EAAMxL,KAAKohB,aAAale,OAErBoI,EAAIE,GAAK,CACd,GAAIxL,KAAKohB,aAAa9V,GAAG5B,MAAQ1J,KAAKohB,aAAa9V,GAAG5B,KAAK4X,KAAOrX,EAKhE,OAJIjK,KAAKohB,aAAa9V,GAAGiW,cAAgBvhB,KAAKohB,aAAa9V,GAAG5B,KAAK8X,IACjExhB,KAAKohB,aAAa9V,GAAGiW,aAAavhB,KAAKyhB,cAGlCzhB,KAAKohB,aAAa9V,GAAGoW,cAG9BpW,GAAK,CACP,CAEA,OAAO,IACT,CAKA,OAHA+V,EAAqBD,aAAe,GACpCC,EAAqBI,aAAe,EACpCJ,EAAqBF,oBAAsBA,EACpCE,CACT,CACF,CA9BuB,GAgCnBM,UAAY,CAAC,EAEbC,iBAAmB,SAA0B3a,EAAKsC,GACpDoY,UAAU1a,GAAOsC,CACnB,EAEA,SAASsY,YAAY5a,GACnB,OAAO0a,UAAU1a,EACnB,CAEA,SAAS6a,wBAEP,GAAIH,UAAUvF,OACZ,MAAO,SAIT,IAAK,IAAInV,KAAO0a,UACd,GAAIA,UAAU1a,GACZ,OAAOA,EAIX,MAAO,EACT,CAEA,SAAS8a,UAAUrT,GAAuV,OAA1OqT,UAArD,mBAAXpT,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBF,GAAO,cAAcA,CAAK,EAAwB,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAI5O,cAAgB6O,QAAUD,IAAQC,OAAOjD,UAAY,gBAAkBgD,CAAK,EAAYqT,UAAUrT,EAAM,CAEjY,IAAIsT,cAAgB,WAClBhiB,KAAK2f,KAAO,GACZ3f,KAAKiK,KAAO,GACZjK,KAAKwV,KAAO,GACZxV,KAAKiiB,UAAW,EAChBjiB,KAAKyhB,aAAe,EACpBzhB,KAAKkiB,gBAAkB,EACvBliB,KAAKoS,WAAa,EAClBpS,KAAKqS,YAAc,EACnBrS,KAAKmiB,UAAY,EACjBniB,KAAKoiB,UAAY,EACjBpiB,KAAKqiB,UAAY,EACjBriB,KAAKsiB,cAAgB,EACrBtiB,KAAKuiB,UAAY,EACjBviB,KAAKuY,cAAgB,CAAC,EACtBvY,KAAKwY,OAAS,GACdxY,KAAKwiB,UAAW,EAChBxiB,KAAKyiB,UAAW,EAChBziB,KAAK0iB,MAAO,EACZ1iB,KAAK2iB,SAAW,KAChB3iB,KAAK4iB,YAAcjQ,kBACnB3S,KAAKod,WAAa,GAClBpd,KAAK6iB,cAAgB,EACrB7iB,KAAK8iB,WAAa,EAClB9iB,KAAK+iB,kBAAoB3O,qBACzBpU,KAAKgjB,SAAW,GAChBhjB,KAAKijB,OAAQ,EACbjjB,KAAKkjB,gBAAiB,EACtBljB,KAAKmjB,iBAAmBjC,mBACxBlhB,KAAKojB,eAAiB,IAAIlH,eAC1Blc,KAAKqjB,gBAAkBjX,yBACvBpM,KAAKwgB,QAAU,GACfxgB,KAAKsjB,gBAAkBtjB,KAAKsjB,gBAAgBvF,KAAK/d,MACjDA,KAAKujB,aAAevjB,KAAKujB,aAAaxF,KAAK/d,MAC3CA,KAAKwjB,kBAAoBxjB,KAAKwjB,kBAAkBzF,KAAK/d,MACrDA,KAAKyjB,gBAAkB,IAAI/R,kBAAkB,aAAc,EAAG,EAAG,GACjE1R,KAAK8O,kBAAoBwF,sBAC3B,EAEAnJ,gBAAgB,CAACoU,WAAYyC,eAE7BA,cAActW,UAAUgY,UAAY,SAAU5e,IACxCA,EAAO6e,SAAW7e,EAAOyB,aAC3BvG,KAAK2jB,QAAU7e,EAAO6e,SAAW7e,EAAOyB,WAG1C,IAAIqd,EAAW,MAEX9e,EAAO8e,SACTA,EAAW9e,EAAO8e,SACT9e,EAAO6d,WAChBiB,EAAW9e,EAAO6d,UAGpB,IAAIkB,EAAgBhC,YAAY+B,GAChC5jB,KAAK2iB,SAAW,IAAIkB,EAAc7jB,KAAM8E,EAAOgf,kBAC/C9jB,KAAKojB,eAAe/D,aAAauE,EAAU5jB,KAAK2iB,SAASoB,WAAWC,MACpEhkB,KAAK2iB,SAASsB,oBAAoBjkB,KAAKmjB,kBACvCnjB,KAAK4jB,SAAWA,EAEI,KAAhB9e,EAAO4d,MAA+B,OAAhB5d,EAAO4d,WAAiCwB,IAAhBpf,EAAO4d,OAAsC,IAAhB5d,EAAO4d,KACpF1iB,KAAK0iB,MAAO,GACa,IAAhB5d,EAAO4d,KAChB1iB,KAAK0iB,MAAO,EAEZ1iB,KAAK0iB,KAAOyB,SAASrf,EAAO4d,KAAM,IAGpC1iB,KAAKyiB,WAAW,aAAc3d,IAASA,EAAO2d,SAC9CziB,KAAKiK,KAAOnF,EAAOmF,KAAOnF,EAAOmF,KAAO,GACxCjK,KAAKokB,kBAAmBzY,OAAOD,UAAUE,eAAeC,KAAK/G,EAAQ,qBAAsBA,EAAOsf,iBAClGpkB,KAAKod,WAAatY,EAAOsY,WACzBpd,KAAKqkB,eAAiBvf,EAAOuf,eAEzBvf,EAAOwH,cACTtM,KAAKqjB,gBAAgB3V,gBAAgB5I,EAAOwH,cAG1CxH,EAAOyT,cACTvY,KAAKskB,eAAexf,EAAOyT,eAClBzT,EAAO0Q,QACuB,IAAnC1Q,EAAO0Q,KAAK+O,YAAY,MAC1BvkB,KAAKwV,KAAO1Q,EAAO0Q,KAAKgP,OAAO,EAAG1f,EAAO0Q,KAAK+O,YAAY,MAAQ,GAElEvkB,KAAKwV,KAAO1Q,EAAO0Q,KAAKgP,OAAO,EAAG1f,EAAO0Q,KAAK+O,YAAY,KAAO,GAGnEvkB,KAAKykB,SAAW3f,EAAO0Q,KAAKgP,OAAO1f,EAAO0Q,KAAK+O,YAAY,KAAO,GAClEvkB,KAAKykB,SAAWzkB,KAAKykB,SAASD,OAAO,EAAGxkB,KAAKykB,SAASF,YAAY,UAClEvP,YAAY0G,cAAc5W,EAAO0Q,KAAMxV,KAAKsjB,gBAAiBtjB,KAAKujB,cAEtE,EAEAvB,cAActW,UAAU6X,aAAe,WACrCvjB,KAAK0kB,QAAQ,cACf,EAEA1C,cAActW,UAAU4Y,eAAiB,SAAU5a,GACjDsL,YAAYgH,kBAAkBtS,EAAM1J,KAAKsjB,gBAC3C,EAEAtB,cAActW,UAAUiZ,QAAU,SAAUhB,EAASpL,GAC/CA,GAC+B,WAA7BwJ,UAAUxJ,KACZA,EAAgBzU,KAAKC,MAAMwU,IAI/B,IAAIzT,EAAS,CACX6e,QAASA,EACTpL,cAAeA,GAEbqM,EAAoBjB,EAAQkB,WAChC/f,EAAO0Q,KAAOoP,EAAkBE,aAAa,uBAC3CF,EAAkBE,aAAa,uBAAuBvb,MAAQqb,EAAkBE,aAAa,gBAC7FF,EAAkBE,aAAa,gBAAgBvb,MAAQqb,EAAkBE,aAAa,WAAaF,EAAkBE,aAAa,WAAWvb,MAAQ,GACvJzE,EAAO8e,SAAWgB,EAAkBE,aAAa,kBAC/CF,EAAkBE,aAAa,kBAAkBvb,MAAQqb,EAAkBE,aAAa,gBACxFF,EAAkBE,aAAa,gBAAgBvb,MAAQqb,EAAkBE,aAAa,WACtFF,EAAkBE,aAAa,WAAWvb,MAAQqb,EAAkBE,aAAa,oBACjFF,EAAkBE,aAAa,oBAAoBvb,MAAQqb,EAAkBE,aAAa,eAAiBF,EAAkBE,aAAa,eAAevb,MAAQuY,yBAA2B,SAC9L,IAAIY,EAAOkC,EAAkBE,aAAa,kBACxCF,EAAkBE,aAAa,kBAAkBvb,MAAQqb,EAAkBE,aAAa,gBACxFF,EAAkBE,aAAa,gBAAgBvb,MAAQqb,EAAkBE,aAAa,WAAaF,EAAkBE,aAAa,WAAWvb,MAAQ,GAE1I,UAATmZ,EACF5d,EAAO4d,MAAO,EACI,SAATA,EACT5d,EAAO4d,MAAO,EACI,KAATA,IACT5d,EAAO4d,KAAOyB,SAASzB,EAAM,KAG/B,IAAID,EAAWmC,EAAkBE,aAAa,sBAC5CF,EAAkBE,aAAa,sBAAsBvb,MAAQqb,EAAkBE,aAAa,oBAC5FF,EAAkBE,aAAa,oBAAoBvb,OAAQqb,EAAkBE,aAAa,gBAAiBF,EAAkBE,aAAa,eAAevb,MAC3JzE,EAAO2d,SAAwB,UAAbA,EAClB3d,EAAOmF,KAAO2a,EAAkBE,aAAa,aAC3CF,EAAkBE,aAAa,aAAavb,MAAQqb,EAAkBE,aAAa,gBACnFF,EAAkBE,aAAa,gBAAgBvb,MAAQqb,EAAkBE,aAAa,WAAaF,EAAkBE,aAAa,WAAWvb,MAAQ,GAKrI,WAJFqb,EAAkBE,aAAa,uBAC7CF,EAAkBE,aAAa,uBAAuBvb,MAAQqb,EAAkBE,aAAa,qBAC7FF,EAAkBE,aAAa,qBAAqBvb,MAAQqb,EAAkBE,aAAa,gBAAkBF,EAAkBE,aAAa,gBAAgBvb,MAAQ,MAGpKzE,EAAOigB,WAAY,GAGhBjgB,EAAO0Q,KAGVxV,KAAK0jB,UAAU5e,GAFf9E,KAAK0kB,QAAQ,UAIjB,EAEA1C,cAActW,UAAUsZ,cAAgB,SAAUtb,GAC5CA,EAAKmP,GAAK7Y,KAAKuY,cAAcM,KAC/B7Y,KAAKuY,cAAcM,GAAKnP,EAAKmP,GAC7B7Y,KAAKqS,YAAc/C,KAAKK,MAAMjG,EAAKmP,GAAK7Y,KAAKuY,cAAcK,KAG7D,IACItN,EAGAgL,EAJAH,EAASnW,KAAKuY,cAAcpC,OAE5B3K,EAAM2K,EAAOjT,OACb+hB,EAAYvb,EAAKyM,OAEjBI,EAAO0O,EAAU/hB,OAErB,IAAKoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAGzB,IAFAhL,EAAI,EAEGA,EAAIE,GAAK,CACd,GAAI2K,EAAO7K,GAAG5C,KAAOuc,EAAU3O,GAAG5N,GAAI,CACpCyN,EAAO7K,GAAK2Z,EAAU3O,GACtB,KACF,CAEAhL,GAAK,CACP,CAQF,IALI5B,EAAKgP,OAAShP,EAAKwb,SACrBllB,KAAK2iB,SAASoB,WAAWoB,YAAYC,SAAS1b,EAAKgP,OACnD1Y,KAAK2iB,SAASoB,WAAWoB,YAAYE,SAAS3b,EAAKwb,MAAOllB,KAAK2iB,SAASoB,WAAWC,OAGjFta,EAAK8O,OAGP,IAFAhN,EAAM9B,EAAK8O,OAAOtV,OAEboI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKuY,cAAcC,OAAO5L,KAAKlD,EAAK8O,OAAOlN,IAI/CtL,KAAKuY,cAAcsB,YAAa,EAChC7E,YAAYgH,kBAAkBhc,KAAKuY,cAAevY,KAAKwjB,kBACzD,EAEAxB,cAActW,UAAU8X,kBAAoB,SAAU9Z,GACpD1J,KAAKuY,cAAgB7O,EACrB,IAAIoF,EAAoBwF,uBAEpBxF,GACFA,EAAkBwW,gBAAgBtlB,MAGpCA,KAAKulB,iBACP,EAEAvD,cAActW,UAAU6Z,gBAAkB,WACxC,IAAIvC,EAAWhjB,KAAKuY,cAAcyK,SAElC,IAAKA,GAAgC,IAApBA,EAAS9f,SAAiBlD,KAAKokB,iBAG9C,OAFApkB,KAAK0kB,QAAQ,mBACb1kB,KAAK6iB,cAAgB7iB,KAAKqS,aAI5B,IAAImT,EAAUxC,EAASyC,QACvBzlB,KAAK6iB,cAAgB2C,EAAQ7E,KAAO3gB,KAAKmiB,UACzC,IAAIuD,EAAc1lB,KAAKwV,KAAOxV,KAAKykB,SAAW,IAAMzkB,KAAK8iB,WAAa,QACtE9iB,KAAK8iB,YAAc,EACnB9N,YAAY+G,SAAS2J,EAAa1lB,KAAKglB,cAAcjH,KAAK/d,MAAO,WAC/DA,KAAK0kB,QAAQ,cACf,EAAE3G,KAAK/d,MACT,EAEAgiB,cAActW,UAAUia,aAAe,WACtB3lB,KAAKuY,cAAcyK,WAGhChjB,KAAK6iB,cAAgB7iB,KAAKqS,aAG5BrS,KAAKulB,iBACP,EAEAvD,cAActW,UAAUka,aAAe,WACrC5lB,KAAK0kB,QAAQ,iBACb1kB,KAAK6lB,aACP,EAEA7D,cAActW,UAAUoa,cAAgB,WACtC9lB,KAAKojB,eAAe3E,cAAcze,KAAKod,YACvCpd,KAAKojB,eAAe1E,QAAQ1e,KAAKwV,MACjCxV,KAAKojB,eAAe9E,WAAWte,KAAKuY,cAAcC,OAAQxY,KAAK4lB,aAAa7H,KAAK/d,MACnF,EAEAgiB,cAActW,UAAU4X,gBAAkB,SAAUyC,GAClD,GAAK/lB,KAAK2iB,SAIV,IACE3iB,KAAKuY,cAAgBwN,EAEjB/lB,KAAKqkB,gBACPrkB,KAAKqS,YAAc/C,KAAKK,MAAM3P,KAAKqkB,eAAe,GAAKrkB,KAAKqkB,eAAe,IAC3ErkB,KAAKoS,WAAa9C,KAAKuB,MAAM7Q,KAAKqkB,eAAe,MAEjDrkB,KAAKqS,YAAc/C,KAAKK,MAAM3P,KAAKuY,cAAcM,GAAK7Y,KAAKuY,cAAcK,IACzE5Y,KAAKoS,WAAa9C,KAAKuB,MAAM7Q,KAAKuY,cAAcK,KAGlD5Y,KAAK2iB,SAASW,gBAAgByC,GAEzBA,EAASvN,SACZuN,EAASvN,OAAS,IAGpBxY,KAAKwY,OAASxY,KAAKuY,cAAcC,OACjCxY,KAAKmiB,UAAYniB,KAAKuY,cAAcyN,GACpChmB,KAAKoiB,UAAYpiB,KAAKuY,cAAcyN,GAAK,IACzChmB,KAAK2iB,SAASsD,wBAAwBF,EAASvN,QAC/CxY,KAAKwgB,QAAUT,aAAagG,EAASvF,SAAW,IAChDxgB,KAAK0kB,QAAQ,gBACb1kB,KAAK8lB,gBACL9lB,KAAK2lB,eACL3lB,KAAKkmB,oBACLlmB,KAAKmmB,qBAEDnmB,KAAKwiB,UACPxiB,KAAKqjB,gBAAgBxW,OAEzB,CAAE,MAAOnL,GACP1B,KAAKomB,mBAAmB1kB,EAC1B,CACF,EAEAsgB,cAActW,UAAUya,mBAAqB,WACtCnmB,KAAK2iB,WAIN3iB,KAAK2iB,SAASoB,WAAWoB,YAAYlD,SACvCjiB,KAAK6lB,cAELniB,WAAW1D,KAAKmmB,mBAAmBpI,KAAK/d,MAAO,IAEnD,EAEAgiB,cAActW,UAAUma,YAAc,WACpC,IAAK7lB,KAAKiiB,UAAYjiB,KAAK2iB,SAASoB,WAAWoB,YAAYlD,WAAajiB,KAAKojB,eAAezE,gBAAiD,WAA/B3e,KAAK2iB,SAAS0D,eAA8BrmB,KAAKojB,eAAexE,iBAAkB,CAC9L5e,KAAKiiB,UAAW,EAChB,IAAInT,EAAoBwF,uBAEpBxF,GACFA,EAAkBwW,gBAAgBtlB,MAGpCA,KAAK2iB,SAAS2D,YACd5iB,WAAW,WACT1D,KAAK0kB,QAAQ,YACf,EAAE3G,KAAK/d,MAAO,GACdA,KAAKumB,YAEDvmB,KAAKyiB,UACPziB,KAAKqN,MAET,CACF,EAEA2U,cAActW,UAAU8a,OAAS,SAAUnK,EAAOC,GAEhD,IAAImK,EAA0B,iBAAVpK,EAAqBA,OAAQ6H,EAE7CwC,EAA4B,iBAAXpK,EAAsBA,OAAS4H,EAEpDlkB,KAAK2iB,SAASgE,oBAAoBF,EAAQC,EAC5C,EAEA1E,cAActW,UAAUkb,YAAc,SAAU/b,GAC9C7K,KAAK+iB,oBAAsBlY,CAC7B,EAEAmX,cAActW,UAAU6a,UAAY,WAClCvmB,KAAKyhB,aAAezhB,KAAK+iB,kBAAoB/iB,KAAKkiB,kBAAoBliB,KAAKkiB,gBAEvEliB,KAAK6iB,gBAAkB7iB,KAAKqS,aAAerS,KAAKyhB,aAAezhB,KAAK6iB,gBACtE7iB,KAAKyhB,aAAezhB,KAAK6iB,eAG3B7iB,KAAK0kB,QAAQ,cACb1kB,KAAK6mB,cACL7mB,KAAK0kB,QAAQ,aACf,EAEA1C,cAActW,UAAUmb,YAAc,WACpC,IAAsB,IAAlB7mB,KAAKiiB,UAAuBjiB,KAAK2iB,SAIrC,IACM3iB,KAAK8O,mBACP9O,KAAK8O,kBAAkBgY,aAGzB9mB,KAAK2iB,SAASkE,YAAY7mB,KAAKyhB,aAAezhB,KAAKoS,WACrD,CAAE,MAAO1Q,GACP1B,KAAK+mB,wBAAwBrlB,EAC/B,CACF,EAEAsgB,cAActW,UAAU2B,KAAO,SAAUpD,GACnCA,GAAQjK,KAAKiK,OAASA,IAIJ,IAAlBjK,KAAKwiB,WACPxiB,KAAKwiB,UAAW,EAChBxiB,KAAK0kB,QAAQ,SACb1kB,KAAKqjB,gBAAgBvW,SAEjB9M,KAAKijB,QACPjjB,KAAKijB,OAAQ,EACbjjB,KAAK0kB,QAAQ,YAGnB,EAEA1C,cAActW,UAAUmB,MAAQ,SAAU5C,GACpCA,GAAQjK,KAAKiK,OAASA,IAIJ,IAAlBjK,KAAKwiB,WACPxiB,KAAKwiB,UAAW,EAChBxiB,KAAK0kB,QAAQ,UACb1kB,KAAKijB,OAAQ,EACbjjB,KAAK0kB,QAAQ,SACb1kB,KAAKqjB,gBAAgBxW,QAEzB,EAEAmV,cAActW,UAAUsb,YAAc,SAAU/c,GAC1CA,GAAQjK,KAAKiK,OAASA,KAIJ,IAAlBjK,KAAKwiB,SACPxiB,KAAKqN,OAELrN,KAAK6M,QAET,EAEAmV,cAActW,UAAUub,KAAO,SAAUhd,GACnCA,GAAQjK,KAAKiK,OAASA,IAI1BjK,KAAK6M,QACL7M,KAAKuiB,UAAY,EACjBviB,KAAKkjB,gBAAiB,EACtBljB,KAAKknB,wBAAwB,GAC/B,EAEAlF,cAActW,UAAUyb,cAAgB,SAAUC,GAGhD,IAFA,IAAIliB,EAEKoG,EAAI,EAAGA,EAAItL,KAAKwgB,QAAQtd,OAAQoI,GAAK,EAG5C,IAFApG,EAASlF,KAAKwgB,QAAQlV,IAEX8P,SAAWlW,EAAOkW,QAAQnR,OAASmd,EAC5C,OAAOliB,EAIX,OAAO,IACT,EAEA8c,cAActW,UAAU2b,YAAc,SAAU9d,EAAO+d,EAASrd,GAC9D,IAAIA,GAAQjK,KAAKiK,OAASA,EAA1B,CAIA,IAAIsd,EAAWC,OAAOje,GAEtB,GAAIke,MAAMF,GAAW,CACnB,IAAIriB,EAASlF,KAAKmnB,cAAc5d,GAE5BrE,GACFlF,KAAKqnB,YAAYniB,EAAOyb,MAAM,EAElC,MAAW2G,EACTtnB,KAAKknB,wBAAwB3d,GAE7BvJ,KAAKknB,wBAAwB3d,EAAQvJ,KAAK0nB,eAG5C1nB,KAAK6M,OAhBL,CAiBF,EAEAmV,cAActW,UAAUic,YAAc,SAAUpe,EAAO+d,EAASrd,GAC9D,IAAIA,GAAQjK,KAAKiK,OAASA,EAA1B,CAIA,IAAIsd,EAAWC,OAAOje,GAEtB,GAAIke,MAAMF,GAAW,CACnB,IAAIriB,EAASlF,KAAKmnB,cAAc5d,GAE5BrE,IACGA,EAAO2b,SAGV7gB,KAAK4nB,aAAa,CAAC1iB,EAAOyb,KAAMzb,EAAOyb,KAAOzb,EAAO2b,WAAW,GAFhE7gB,KAAKqnB,YAAYniB,EAAOyb,MAAM,GAKpC,MACE3gB,KAAKqnB,YAAYE,EAAUD,EAASrd,GAGtCjK,KAAKqN,MAlBL,CAmBF,EAEA2U,cAActW,UAAUmc,YAAc,SAAUte,GAC9C,IAAsB,IAAlBvJ,KAAKwiB,WAAuC,IAAlBxiB,KAAKiiB,SAAnC,CAIA,IAAI6F,EAAY9nB,KAAKkiB,gBAAkB3Y,EAAQvJ,KAAK0nB,cAChDK,GAAc,EAGdD,GAAa9nB,KAAKqS,YAAc,GAAKrS,KAAK0nB,cAAgB,EACvD1nB,KAAK0iB,MAAQ1iB,KAAKuiB,YAAcviB,KAAK0iB,KAK/BoF,GAAa9nB,KAAKqS,aAC3BrS,KAAKuiB,WAAa,EAEbviB,KAAKgoB,cAAcF,EAAY9nB,KAAKqS,eACvCrS,KAAKknB,wBAAwBY,EAAY9nB,KAAKqS,aAC9CrS,KAAKkjB,gBAAiB,EACtBljB,KAAK0kB,QAAQ,kBAGf1kB,KAAKknB,wBAAwBY,GAbxB9nB,KAAKgoB,cAAcF,EAAY9nB,KAAKqS,YAAcyV,EAAY9nB,KAAKqS,YAAc,KACpF0V,GAAc,EACdD,EAAY9nB,KAAKqS,YAAc,GAa1ByV,EAAY,EAChB9nB,KAAKgoB,cAAcF,EAAY9nB,KAAKqS,gBACnCrS,KAAK0iB,MAAU1iB,KAAKuiB,aAAe,IAAmB,IAAdviB,KAAK0iB,MAU/CqF,GAAc,EACdD,EAAY,IATZ9nB,KAAKknB,wBAAwBlnB,KAAKqS,YAAcyV,EAAY9nB,KAAKqS,aAE5DrS,KAAKkjB,eAGRljB,KAAK0kB,QAAQ,gBAFb1kB,KAAKkjB,gBAAiB,IAU5BljB,KAAKknB,wBAAwBY,GAG3BC,IACF/nB,KAAKknB,wBAAwBY,GAC7B9nB,KAAK6M,QACL7M,KAAK0kB,QAAQ,YA9Cf,CAgDF,EAEA1C,cAActW,UAAUuc,cAAgB,SAAU/Z,EAAK3I,GACrDvF,KAAKuiB,UAAY,EAEbrU,EAAI,GAAKA,EAAI,IACXlO,KAAK0nB,cAAgB,IACnB1nB,KAAKqiB,UAAY,EACnBriB,KAAKkoB,UAAUloB,KAAKqiB,WAEpBriB,KAAKmoB,cAAc,IAIvBnoB,KAAKqS,YAAcnE,EAAI,GAAKA,EAAI,GAChClO,KAAK6iB,cAAgB7iB,KAAKqS,YAC1BrS,KAAKoS,WAAalE,EAAI,GACtBlO,KAAKknB,wBAAwBlnB,KAAKqS,YAAc,KAAQ9M,IAC/C2I,EAAI,GAAKA,EAAI,KAClBlO,KAAK0nB,cAAgB,IACnB1nB,KAAKqiB,UAAY,EACnBriB,KAAKkoB,UAAUloB,KAAKqiB,WAEpBriB,KAAKmoB,aAAa,IAItBnoB,KAAKqS,YAAcnE,EAAI,GAAKA,EAAI,GAChClO,KAAK6iB,cAAgB7iB,KAAKqS,YAC1BrS,KAAKoS,WAAalE,EAAI,GACtBlO,KAAKknB,wBAAwB,KAAQ3hB,IAGvCvF,KAAK0kB,QAAQ,eACf,EAEA1C,cAActW,UAAU0c,WAAa,SAAUC,EAAMC,GACnD,IAAIC,GAAgB,EAEhBvoB,KAAKwiB,WACHxiB,KAAKkiB,gBAAkBliB,KAAKoS,WAAaiW,EAC3CE,EAAeF,EACNroB,KAAKkiB,gBAAkBliB,KAAKoS,WAAakW,IAClDC,EAAeD,EAAMD,IAIzBroB,KAAKoS,WAAaiW,EAClBroB,KAAKqS,YAAciW,EAAMD,EACzBroB,KAAK6iB,cAAgB7iB,KAAKqS,aAEJ,IAAlBkW,GACFvoB,KAAKqnB,YAAYkB,GAAc,EAEnC,EAEAvG,cAActW,UAAUkc,aAAe,SAAU1Z,EAAKsa,GAKpD,GAJIA,IACFxoB,KAAKgjB,SAAS9f,OAAS,GAGC,WAAtB6e,UAAU7T,EAAI,IAAkB,CAClC,IAAI5C,EACAE,EAAM0C,EAAIhL,OAEd,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKgjB,SAASpW,KAAKsB,EAAI5C,GAE3B,MACEtL,KAAKgjB,SAASpW,KAAKsB,GAGjBlO,KAAKgjB,SAAS9f,QAAUslB,GAC1BxoB,KAAKioB,cAAcjoB,KAAKgjB,SAASyC,QAAS,GAGxCzlB,KAAKwiB,UACPxiB,KAAKqN,MAET,EAEA2U,cAActW,UAAU+c,cAAgB,SAAUD,GAChDxoB,KAAKgjB,SAAS9f,OAAS,EACvBlD,KAAKgjB,SAASpW,KAAK,CAAC5M,KAAKuY,cAAcK,GAAI5Y,KAAKuY,cAAcM,KAE1D2P,GACFxoB,KAAKgoB,cAAc,EAEvB,EAEAhG,cAActW,UAAUsc,cAAgB,SAAUziB,GAChD,QAAIvF,KAAKgjB,SAAS9f,SAChBlD,KAAKioB,cAAcjoB,KAAKgjB,SAASyC,QAASlgB,IACnC,EAIX,EAEAyc,cAActW,UAAUmT,QAAU,SAAU5U,GACtCA,GAAQjK,KAAKiK,OAASA,IAASjK,KAAK2iB,WAIxC3iB,KAAK2iB,SAAS9D,UACd7e,KAAKojB,eAAevE,UACpB7e,KAAK0kB,QAAQ,WACb1kB,KAAK2f,KAAO,KACZ3f,KAAK0oB,aAAe,KACpB1oB,KAAK2oB,eAAiB,KACtB3oB,KAAKub,WAAa,KAClBvb,KAAK4oB,eAAiB,KACtB5oB,KAAK6oB,UAAY,KACjB7oB,KAAK2iB,SAAW,KAChB3iB,KAAK8O,kBAAoB,KACzB9O,KAAKojB,eAAiB,KACtBpjB,KAAKmjB,iBAAmB,KAC1B,EAEAnB,cAActW,UAAUwb,wBAA0B,SAAU3d,GAC1DvJ,KAAKkiB,gBAAkB3Y,EACvBvJ,KAAKumB,WACP,EAEAvE,cAActW,UAAUwc,SAAW,SAAU7X,GAC3CrQ,KAAKqiB,UAAYhS,EACjBrQ,KAAKkmB,mBACP,EAEAlE,cAActW,UAAUyc,aAAe,SAAU9X,GAC/CrQ,KAAKsiB,cAAgBjS,EAAM,GAAK,EAAI,EACpCrQ,KAAKkmB,mBACP,EAEAlE,cAActW,UAAUod,QAAU,SAAUC,GAC1C/oB,KAAK0iB,KAAOqG,CACd,EAEA/G,cAActW,UAAU+B,UAAY,SAAU4C,EAAKpG,GAC7CA,GAAQjK,KAAKiK,OAASA,GAI1BjK,KAAKqjB,gBAAgB5V,UAAU4C,EACjC,EAEA2R,cAActW,UAAUoC,UAAY,WAClC,OAAO9N,KAAKqjB,gBAAgBvV,WAC9B,EAEAkU,cAActW,UAAUkC,KAAO,SAAU3D,GACnCA,GAAQjK,KAAKiK,OAASA,GAI1BjK,KAAKqjB,gBAAgBzV,MACvB,EAEAoU,cAActW,UAAUmC,OAAS,SAAU5D,GACrCA,GAAQjK,KAAKiK,OAASA,GAI1BjK,KAAKqjB,gBAAgBxV,QACvB,EAEAmU,cAActW,UAAUwa,kBAAoB,WAC1ClmB,KAAK0nB,cAAgB1nB,KAAKoiB,UAAYpiB,KAAKqiB,UAAYriB,KAAKsiB,cAC5DtiB,KAAKqjB,gBAAgBtW,QAAQ/M,KAAKqiB,UAAYriB,KAAKsiB,cACrD,EAEAN,cAActW,UAAUsd,QAAU,WAChC,OAAOhpB,KAAKwV,IACd,EAEAwM,cAActW,UAAUwR,cAAgB,SAAUC,GAChD,IAAI3H,EAAO,GAEX,GAAI2H,EAAU5c,EACZiV,EAAO2H,EAAU9J,OACZ,GAAIrT,KAAKod,WAAY,CAC1B,IAAIE,EAAYH,EAAU9J,GAEY,IAAlCiK,EAAUhD,QAAQ,aACpBgD,EAAYA,EAAUrF,MAAM,KAAK,IAGnCzC,EAAOxV,KAAKod,WAAaE,CAC3B,MACE9H,EAAOxV,KAAKwV,KACZA,GAAQ2H,EAAUI,EAAIJ,EAAUI,EAAI,GACpC/H,GAAQ2H,EAAU9J,EAGpB,OAAOmC,CACT,EAEAwM,cAActW,UAAUud,aAAe,SAAUvgB,GAI/C,IAHA,IAAI4C,EAAI,EACJE,EAAMxL,KAAKwY,OAAOtV,OAEfoI,EAAIE,GAAK,CACd,GAAI9C,IAAO1I,KAAKwY,OAAOlN,GAAG5C,GACxB,OAAO1I,KAAKwY,OAAOlN,GAGrBA,GAAK,CACP,CAEA,OAAO,IACT,EAEA0W,cAActW,UAAUwd,KAAO,WAC7BlpB,KAAK2iB,SAASuG,MAChB,EAEAlH,cAActW,UAAUyd,KAAO,WAC7BnpB,KAAK2iB,SAASwG,MAChB,EAEAnH,cAActW,UAAU0d,YAAc,SAAU9B,GAC9C,OAAOA,EAAUtnB,KAAKqS,YAAcrS,KAAKqS,YAAcrS,KAAKmiB,SAC9D,EAEAH,cAActW,UAAU2d,mBAAqB,SAAU7T,EAAM8C,EAAcgR,GACzE,IACgBtpB,KAAK2iB,SAAS4G,iBAAiB/T,GACrC6T,mBAAmB/Q,EAAcgR,EAC3C,CAAE,MAAO5nB,GACT,CACF,EAEAsgB,cAActW,UAAUgZ,QAAU,SAAUza,GAC1C,GAAIjK,KAAK2f,MAAQ3f,KAAK2f,KAAK1V,GACzB,OAAQA,GACN,IAAK,aACHjK,KAAKwf,aAAavV,EAAM,IAAIyH,kBAAkBzH,EAAMjK,KAAKyhB,aAAczhB,KAAKqS,YAAarS,KAAK0nB,gBAC9F,MAEF,IAAK,aACH1nB,KAAKyjB,gBAAgB9R,YAAc3R,KAAKyhB,aACxCzhB,KAAKyjB,gBAAgB7R,UAAY5R,KAAKqS,YACtCrS,KAAKyjB,gBAAgB3R,UAAY9R,KAAK0nB,cACtC1nB,KAAKwf,aAAavV,EAAMjK,KAAKyjB,iBAC7B,MAEF,IAAK,eACHzjB,KAAKwf,aAAavV,EAAM,IAAI+H,oBAAoB/H,EAAMjK,KAAK0iB,KAAM1iB,KAAKuiB,UAAWviB,KAAKoiB,YACtF,MAEF,IAAK,WACHpiB,KAAKwf,aAAavV,EAAM,IAAI8H,gBAAgB9H,EAAMjK,KAAKoiB,YACvD,MAEF,IAAK,eACHpiB,KAAKwf,aAAavV,EAAM,IAAIkI,oBAAoBlI,EAAMjK,KAAKoS,WAAYpS,KAAKqS,cAC5E,MAEF,IAAK,UACHrS,KAAKwf,aAAavV,EAAM,IAAIqI,eAAerI,EAAMjK,OACjD,MAEF,QACEA,KAAKwf,aAAavV,GAIX,eAATA,GAAyBjK,KAAK0oB,cAChC1oB,KAAK0oB,aAAa7c,KAAK7L,KAAM,IAAI0R,kBAAkBzH,EAAMjK,KAAKyhB,aAAczhB,KAAKqS,YAAarS,KAAKoiB,YAGxF,iBAATnY,GAA2BjK,KAAK2oB,gBAClC3oB,KAAK2oB,eAAe9c,KAAK7L,KAAM,IAAIgS,oBAAoB/H,EAAMjK,KAAK0iB,KAAM1iB,KAAKuiB,UAAWviB,KAAKoiB,YAGlF,aAATnY,GAAuBjK,KAAKub,YAC9Bvb,KAAKub,WAAW1P,KAAK7L,KAAM,IAAI+R,gBAAgB9H,EAAMjK,KAAKoiB,YAG/C,iBAATnY,GAA2BjK,KAAK4oB,gBAClC5oB,KAAK4oB,eAAe/c,KAAK7L,KAAM,IAAImS,oBAAoBlI,EAAMjK,KAAKoS,WAAYpS,KAAKqS,cAGxE,YAATpI,GAAsBjK,KAAK6oB,WAC7B7oB,KAAK6oB,UAAUhd,KAAK7L,KAAM,IAAIsS,eAAerI,EAAMjK,MAEvD,EAEAgiB,cAActW,UAAUqb,wBAA0B,SAAUvU,GAC1D,IAAI9Q,EAAQ,IAAI6Q,wBAAwBC,EAAaxS,KAAKyhB,cAC1DzhB,KAAKwf,aAAa,QAAS9d,GAEvB1B,KAAKwb,SACPxb,KAAKwb,QAAQ3P,KAAK7L,KAAM0B,EAE5B,EAEAsgB,cAActW,UAAU0a,mBAAqB,SAAU5T,GACrD,IAAI9Q,EAAQ,IAAI+Q,mBAAmBD,EAAaxS,KAAKyhB,cACrDzhB,KAAKwf,aAAa,QAAS9d,GAEvB1B,KAAKwb,SACPxb,KAAKwb,QAAQ3P,KAAK7L,KAAM0B,EAE5B,EAEA,IAAI8nB,iBAAmB,WACrB,IAAI5P,EAAW,CAAC,EACZ6P,EAAuB,GACvBC,EAAW,EACXle,EAAM,EACNme,EAAuB,EACvBC,GAAW,EACXC,GAAY,EAEhB,SAASC,EAAcC,GAIrB,IAHA,IAAIze,EAAI,EACJ0e,EAAWD,EAAGthB,OAEX6C,EAAIE,GACLie,EAAqBne,GAAG+P,YAAc2O,IACxCP,EAAqB3J,OAAOxU,EAAG,GAC/BA,GAAK,EACLE,GAAO,EAEFwe,EAASxH,UACZyH,KAIJ3e,GAAK,CAET,CAEA,SAAS4e,EAAkBnZ,EAASwH,GAClC,IAAKxH,EACH,OAAO,KAKT,IAFA,IAAIzF,EAAI,EAEDA,EAAIE,GAAK,CACd,GAAIie,EAAqBne,GAAG6e,OAASpZ,GAA4C,OAAjC0Y,EAAqBne,GAAG6e,KACtE,OAAOV,EAAqBne,GAAG+P,UAGjC/P,GAAK,CACP,CAEA,IAAI0e,EAAW,IAAIhI,cAGnB,OAFAsC,EAAe0F,EAAUjZ,GACzBiZ,EAASrF,QAAQ5T,EAASwH,GACnByR,CACT,CAcA,SAASI,IACPT,GAAwB,EACxBU,GACF,CAEA,SAASJ,IACPN,GAAwB,CAC1B,CAEA,SAASrF,EAAe0F,EAAUjZ,GAChCiZ,EAAS1pB,iBAAiB,UAAWwpB,GACrCE,EAAS1pB,iBAAiB,UAAW8pB,GACrCJ,EAAS1pB,iBAAiB,QAAS2pB,GACnCR,EAAqB7c,KAAK,CACxBud,KAAMpZ,EACNsK,UAAW2O,IAEbxe,GAAO,CACT,CAiCA,SAASsB,EAAOwd,GACd,IACIhf,EADAif,EAAcD,EAAUZ,EAG5B,IAAKpe,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAUwM,YAAY0C,GAGhDb,EAAWY,EAEPX,IAAyBE,EAC3BjnB,OAAO4nB,sBAAsB1d,GAE7B8c,GAAW,CAEf,CAEA,SAASa,EAAMH,GACbZ,EAAWY,EACX1nB,OAAO4nB,sBAAsB1d,EAC/B,CA+EA,SAASud,KACFR,GAAaF,GACZC,IACFhnB,OAAO4nB,sBAAsBC,GAC7Bb,GAAW,EAGjB,CAsDA,OAnBAhQ,EAASsQ,kBAAoBA,EAC7BtQ,EAAS8B,cA7KT,SAAuB5W,GACrB,IAAIklB,EAAW,IAAIhI,cAGnB,OAFAsC,EAAe0F,EAAU,MACzBA,EAAStG,UAAU5e,GACZklB,CACT,EAyKApQ,EAASsO,SAvKT,SAAkB7X,EAAKgL,GACrB,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAU6M,SAAS7X,EAAKgL,EAEpD,EAkKAzB,EAASuO,aAhKT,SAAsB9X,EAAKgL,GACzB,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAU8M,aAAa9X,EAAKgL,EAExD,EA2JAzB,EAASvM,KAzJT,SAAcgO,GACZ,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAUhO,KAAKgO,EAE3C,EAoJAzB,EAAS/M,MA5HT,SAAewO,GACb,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAUxO,MAAMwO,EAE5C,EAuHAzB,EAASqN,KA7GT,SAAc5L,GACZ,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAU4L,KAAK5L,EAE3C,EAwGAzB,EAASoN,YAtGT,SAAqB3L,GACnB,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAU2L,YAAY3L,EAElD,EAiGAzB,EAAS8Q,iBAvFT,SAA0BnS,EAAeoS,EAAYhI,GACnD,IACIrX,EADAsf,EAAe,GAAGC,OAAO,GAAGC,MAAMjf,KAAK5K,SAAS8pB,uBAAuB,WAAY,GAAGD,MAAMjf,KAAK5K,SAAS8pB,uBAAuB,eAEjIC,EAAWJ,EAAa1nB,OAE5B,IAAKoI,EAAI,EAAGA,EAAI0f,EAAU1f,GAAK,EACzBqX,GACFiI,EAAatf,GAAGnB,aAAa,eAAgBwY,GAG/CuH,EAAkBU,EAAatf,GAAIiN,GAGrC,GAAIoS,GAA2B,IAAbK,EAAgB,CAC3BrI,IACHA,EAAW,OAGb,IAAIzhB,EAAOD,SAASgqB,qBAAqB,QAAQ,GACjD/pB,EAAK6I,UAAY,GACjB,IAAImhB,EAAMjgB,UAAU,OACpBigB,EAAIla,MAAMqL,MAAQ,OAClB6O,EAAIla,MAAMsL,OAAS,OACnB4O,EAAI/gB,aAAa,eAAgBwY,GACjCzhB,EAAKkJ,YAAY8gB,GACjBhB,EAAkBgB,EAAK3S,EACzB,CACF,EA6DAqB,EAAS4M,OA3DT,WACE,IAAIlb,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAUmL,QAEtC,EAuDA5M,EAASyN,YA1HT,SAAqB9d,EAAO+d,EAASjM,GACnC,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAUgM,YAAY9d,EAAO+d,EAASjM,EAElE,EAqHAzB,EAASiF,QAnGT,SAAiBxD,GACf,IAAI/P,EAEJ,IAAKA,EAAIE,EAAM,EAAGF,GAAK,EAAGA,GAAK,EAC7Bme,EAAqBne,GAAG+P,UAAUwD,QAAQxD,EAE9C,EA8FAzB,EAASuR,OA9CT,WACEtB,GAAY,CACd,EA6CAjQ,EAASwR,SA3CT,WACEvB,GAAY,EACZQ,GACF,EAyCAzQ,EAASnM,UAvCT,SAAmB4C,EAAKgL,GACtB,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAU5N,UAAU4C,EAAKgL,EAErD,EAkCAzB,EAAShM,KAhCT,SAAcyN,GACZ,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAUzN,KAAKyN,EAE3C,EA2BAzB,EAAS/L,OAzBT,SAAgBwN,GACd,IAAI/P,EAEJ,IAAKA,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBme,EAAqBne,GAAG+P,UAAUxN,OAAOwN,EAE7C,EAoBAzB,EAASyR,wBA9NT,WACE,IAAI/f,EACA0f,EAAWvB,EAAqBvmB,OAChCooB,EAAa,GAEjB,IAAKhgB,EAAI,EAAGA,EAAI0f,EAAU1f,GAAK,EAC7BggB,EAAW1e,KAAK6c,EAAqBne,GAAG+P,WAG1C,OAAOiQ,CACT,EAqNO1R,CACT,CAjRuB,GAoRnB2R,cAAgB,WAWlB,IAAItN,EAAK,CACTA,gBAGA,SAAyBjF,EAAG7F,EAAGoG,EAAG9F,EAAG6N,GACnC,IAAIkK,EAAMlK,IAAO,OAAStI,EAAI,IAAM7F,EAAI,IAAMoG,EAAI,IAAM9F,GAAGjL,QAAQ,MAAO,KAE1E,GAAIijB,EAAQD,GACV,OAAOC,EAAQD,GAGjB,IAAIE,EAAY,IAAIC,EAAa,CAAC3S,EAAG7F,EAAGoG,EAAG9F,IAE3C,OADAgY,EAAQD,GAAOE,EACRA,CACT,GAZID,EAAU,CAAC,EAmBXG,EAAmB,GACnBC,EAAkB,GAAOD,EAAmB,GAC5CE,EAAgD,mBAAjB1d,aAEnC,SAAS2d,EAAEC,EAAKC,GACd,OAAO,EAAM,EAAMA,EAAM,EAAMD,CACjC,CAEA,SAASE,EAAEF,EAAKC,GACd,OAAO,EAAMA,EAAM,EAAMD,CAC3B,CAEA,SAASG,EAAEH,GACT,OAAO,EAAMA,CACf,CAGA,SAASI,EAAWC,EAAIL,EAAKC,GAC3B,QAASF,EAAEC,EAAKC,GAAOI,EAAKH,EAAEF,EAAKC,IAAQI,EAAKF,EAAEH,IAAQK,CAC5D,CAGA,SAASC,EAASD,EAAIL,EAAKC,GACzB,OAAO,EAAMF,EAAEC,EAAKC,GAAOI,EAAKA,EAAK,EAAMH,EAAEF,EAAKC,GAAOI,EAAKF,EAAEH,EAClE,CAoCA,SAASL,EAAaY,GACpBvsB,KAAKwsB,GAAKD,EACVvsB,KAAKysB,eAAiBX,EAAwB,IAAI1d,aAAawd,GAAoB,IAAIrd,MAAMqd,GAC7F5rB,KAAK0sB,cAAe,EACpB1sB,KAAK2sB,IAAM3sB,KAAK2sB,IAAI5O,KAAK/d,KAC3B,CAqEA,OAnEA2rB,EAAajgB,UAAY,CACvBihB,IAAK,SAAaC,GAChB,IAAIC,EAAM7sB,KAAKwsB,GAAG,GACdM,EAAM9sB,KAAKwsB,GAAG,GACdO,EAAM/sB,KAAKwsB,GAAG,GACdQ,EAAMhtB,KAAKwsB,GAAG,GAElB,OADKxsB,KAAK0sB,cAAc1sB,KAAKitB,cACzBJ,IAAQC,GAAOC,IAAQC,EAAYJ,EAG7B,IAANA,EAAgB,EACV,IAANA,EAAgB,EACbR,EAAWpsB,KAAKktB,UAAUN,GAAIE,EAAKE,EAC5C,EAEAC,YAAa,WACX,IAAIJ,EAAM7sB,KAAKwsB,GAAG,GACdM,EAAM9sB,KAAKwsB,GAAG,GACdO,EAAM/sB,KAAKwsB,GAAG,GACdQ,EAAMhtB,KAAKwsB,GAAG,GAClBxsB,KAAK0sB,cAAe,EAEhBG,IAAQC,GAAOC,IAAQC,GACzBhtB,KAAKmtB,mBAET,EACAA,kBAAmB,WAIjB,IAHA,IAAIN,EAAM7sB,KAAKwsB,GAAG,GACdO,EAAM/sB,KAAKwsB,GAAG,GAETlhB,EAAI,EAAGA,EAAIsgB,IAAoBtgB,EACtCtL,KAAKysB,eAAenhB,GAAK8gB,EAAW9gB,EAAIugB,EAAiBgB,EAAKE,EAElE,EAKAG,UAAW,SAAmBE,GAQ5B,IAPA,IAAIP,EAAM7sB,KAAKwsB,GAAG,GACdO,EAAM/sB,KAAKwsB,GAAG,GACda,EAAgBrtB,KAAKysB,eACrBa,EAAgB,EAChBC,EAAgB,EAChBC,EAAa5B,EAAmB,EAE7B2B,IAAkBC,GAAcH,EAAcE,IAAkBH,IAAMG,EAC3ED,GAAiBzB,EAKnB,IACI4B,EAAYH,GADJF,EAAKC,IAFfE,KAEgDF,EAAcE,EAAgB,GAAKF,EAAcE,IAC5D1B,EACnC6B,EAAepB,EAASmB,EAAWZ,EAAKE,GAE5C,OAAIW,GA9He,KAgDvB,SAA8BN,EAAIO,EAASd,EAAKE,GAC9C,IAAK,IAAIzhB,EAAI,EAAGA,EAlDM,IAkDmBA,EAAG,CAC1C,IAAIsiB,EAAetB,EAASqB,EAASd,EAAKE,GAC1C,GAAqB,IAAjBa,EAAsB,OAAOD,EAEjCA,IADevB,EAAWuB,EAASd,EAAKE,GAAOK,GACzBQ,CACxB,CAEA,OAAOD,CACT,CAsEaE,CAAqBT,EAAIK,EAAWZ,EAAKE,GAG7B,IAAjBW,EACKD,EAtGb,SAAyBL,EAAIU,EAAIC,EAAIlB,EAAKE,GACxC,IAAIiB,EACAC,EACA3iB,EAAI,EAER,IAEE0iB,EAAW5B,EADX6B,EAAWH,GAAMC,EAAKD,GAAM,EACIjB,EAAKE,GAAOK,GAE7B,EACbW,EAAKE,EAELH,EAAKG,QAEA3e,KAAKc,IAAI4d,GA1CQ,QA0C+B1iB,EAzC1B,IA2C/B,OAAO2iB,CACT,CAwFWC,CAAgBd,EAAIE,EAAeA,EAAgBzB,EAAiBgB,EAAKE,EAClF,GAEK9O,CACT,CAvKoB,GAyKhBkQ,QAKK,CACL,OALF,SAAiBjgB,GACf,OAAOA,EAAI2c,OAAOvc,iBAAiBJ,EAAIhL,QACzC,GAOEkrB,YACK,SAAUC,EAAeC,EAASC,GACvC,IAAIC,EAAU,EACVC,EAAaJ,EACbK,EAAOpgB,iBAAiBmgB,GAiC5B,MAhCS,CACPE,WAIF,WAUE,OAPIH,EAEQE,EADVF,GAAW,GAGDF,GAId,EAdEM,QAgBF,SAAiB7d,GACXyd,IAAYC,IACdC,EAAOP,QAAgB,OAAEO,GACzBD,GAAc,GAGZF,GACFA,EAASxd,GAGX2d,EAAKF,GAAWzd,EAChByd,GAAW,CACb,EAGF,EAGEK,iBASKT,YAAY,GARnB,WACE,MAAO,CACLU,YAAa,EACbC,SAAU/gB,iBAAiB,UAAW0G,2BACtCsa,QAAShhB,iBAAiB,UAAW0G,2BAEzC,IAKEua,mBAmBKb,YAAY,GAlBnB,WACE,MAAO,CACLY,QAAS,GACTE,YAAa,EAEjB,IAEA,SAAiBne,GACf,IAAIzF,EACAE,EAAMuF,EAAQie,QAAQ9rB,OAE1B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBujB,iBAAiBD,QAAQ7d,EAAQie,QAAQ1jB,IAG3CyF,EAAQie,QAAQ9rB,OAAS,CAC3B,IAKF,SAASisB,cACP,IAAIC,EAAO9f,KAEX,SAAS+f,EAAcC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GACzC,IAAIC,EAAON,EAAKG,EAAKF,EAAKG,EAAKF,EAAKG,EAAKD,EAAKD,EAAKE,EAAKL,EAAKE,EAAKD,EAClE,OAAOK,GAAQ,MAASA,EAAO,IACjC,CA2BA,IAAIC,EACK,SAAUC,EAAKC,EAAKC,EAAKC,GAC9B,IACIzZ,EACAlL,EACAE,EACA0kB,EACAC,EAEAC,EAPAC,EAAgB3b,0BAMhBoa,EAAc,EAEdwB,EAAQ,GACRC,EAAY,GACZC,EAAa3B,iBAAiBF,aAGlC,IAFAnjB,EAAMwkB,EAAI9sB,OAELsT,EAAI,EAAGA,EAAI6Z,EAAe7Z,GAAK,EAAG,CAIrC,IAHA2Z,EAAO3Z,GAAK6Z,EAAgB,GAC5BD,EAAa,EAER9kB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB4kB,EAAU7gB,MAAM,EAAI8gB,EAAM,GAAKL,EAAIxkB,GAAK,EAAI+D,MAAM,EAAI8gB,EAAM,GAAKA,EAAOH,EAAI1kB,GAAK,GAAK,EAAI6kB,GAAQ9gB,MAAM8gB,EAAM,GAAKF,EAAI3kB,GAAK+D,MAAM8gB,EAAM,GAAKJ,EAAIzkB,GACjJglB,EAAMhlB,GAAK4kB,EAEU,OAAjBK,EAAUjlB,KACZ8kB,GAAc/gB,MAAMihB,EAAMhlB,GAAKilB,EAAUjlB,GAAI,IAG/CilB,EAAUjlB,GAAKglB,EAAMhlB,GAGnB8kB,IAEFtB,GADAsB,EAAa5gB,OAAO4gB,IAItBI,EAAWzB,SAASvY,GAAK2Z,EACzBK,EAAWxB,QAAQxY,GAAKsY,CAC1B,CAGA,OADA0B,EAAW1B,YAAcA,EAClB0B,CACT,EA4BF,SAASC,EAAWvtB,GAClBlD,KAAK0wB,cAAgB,EACrB1wB,KAAKusB,OAAS,IAAIhe,MAAMrL,EAC1B,CAEA,SAASytB,EAAUC,EAASN,GAC1BtwB,KAAK6wB,cAAgBD,EACrB5wB,KAAKswB,MAAQA,CACf,CAEA,IACMQ,EADFC,GACED,EAAa,CAAC,EACX,SAAUhB,EAAKC,EAAKC,EAAKC,GAC9B,IAAIe,GAAclB,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMC,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMC,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMC,EAAI,GAAK,IAAMA,EAAI,IAAIznB,QAAQ,MAAO,KAElJ,IAAKsoB,EAAWE,GAAa,CAC3B,IACIxa,EACAlL,EACAE,EACA0kB,EACAC,EAEAC,EACAE,EARAD,EAAgB3b,0BAMhBoa,EAAc,EAGdyB,EAAY,KAEG,IAAfT,EAAI5sB,SAAiB4sB,EAAI,KAAOC,EAAI,IAAMD,EAAI,KAAOC,EAAI,KAAOV,EAAcS,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAID,EAAI,GAAKE,EAAI,GAAIF,EAAI,GAAKE,EAAI,KAAOX,EAAcS,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAKE,EAAI,GAAIF,EAAI,GAAKE,EAAI,MACjOI,EAAgB,GAGlB,IAAIY,EAAa,IAAIR,EAAWJ,GAGhC,IAFA7kB,EAAMwkB,EAAI9sB,OAELsT,EAAI,EAAGA,EAAI6Z,EAAe7Z,GAAK,EAAG,CAKrC,IAJA8Z,EAAQhiB,iBAAiB9C,GACzB2kB,EAAO3Z,GAAK6Z,EAAgB,GAC5BD,EAAa,EAER9kB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB4kB,EAAU7gB,MAAM,EAAI8gB,EAAM,GAAKL,EAAIxkB,GAAK,EAAI+D,MAAM,EAAI8gB,EAAM,GAAKA,GAAQL,EAAIxkB,GAAK0kB,EAAI1kB,IAAM,GAAK,EAAI6kB,GAAQ9gB,MAAM8gB,EAAM,IAAMJ,EAAIzkB,GAAK2kB,EAAI3kB,IAAM+D,MAAM8gB,EAAM,GAAKJ,EAAIzkB,GACvKglB,EAAMhlB,GAAK4kB,EAEO,OAAdK,IACFH,GAAc/gB,MAAMihB,EAAMhlB,GAAKilB,EAAUjlB,GAAI,IAKjDwjB,GADAsB,EAAa5gB,OAAO4gB,GAEpBa,EAAW1E,OAAO/V,GAAK,IAAIma,EAAUP,EAAYE,GACjDC,EAAYD,CACd,CAEAW,EAAWP,cAAgB5B,EAC3BgC,EAAWE,GAAcC,CAC3B,CAEA,OAAOH,EAAWE,EACpB,GAGF,SAASE,EAAgBf,EAAMc,GAC7B,IAAIlC,EAAWkC,EAAWlC,SACtBC,EAAUiC,EAAWjC,QACrBxjB,EAAMujB,EAAS7rB,OACfiuB,EAAUzhB,SAASlE,EAAM,GAAK2kB,GAC9BiB,EAAYjB,EAAOc,EAAWnC,YAC9BuC,EAAQ,EAEZ,GAAIF,IAAY3lB,EAAM,GAAiB,IAAZ2lB,GAAiBC,IAAcpC,EAAQmC,GAChE,OAAOpC,EAASoC,GAMlB,IAHA,IAAIG,EAAMtC,EAAQmC,GAAWC,GAAa,EAAI,EAC1CvmB,GAAO,EAEJA,GAQL,GAPImkB,EAAQmC,IAAYC,GAAapC,EAAQmC,EAAU,GAAKC,GAC1DC,GAASD,EAAYpC,EAAQmC,KAAanC,EAAQmC,EAAU,GAAKnC,EAAQmC,IACzEtmB,GAAO,GAEPsmB,GAAWG,EAGTH,EAAU,GAAKA,GAAW3lB,EAAM,EAAG,CAErC,GAAI2lB,IAAY3lB,EAAM,EACpB,OAAOujB,EAASoC,GAGlBtmB,GAAO,CACT,CAGF,OAAOkkB,EAASoC,IAAYpC,EAASoC,EAAU,GAAKpC,EAASoC,IAAYE,CAC3E,CAUA,IAAIE,EAAsBvjB,iBAAiB,UAAW,GAyDtD,MAAO,CACLwjB,kBA7LF,SAA2BC,GACzB,IAKInmB,EALAomB,EAAiBzC,mBAAmBN,aACpCjV,EAAS+X,EAAUlY,EACnBoY,EAAQF,EAAUze,EAClB4e,EAAQH,EAAU7Z,EAClBia,EAAQJ,EAAUnmB,EAElBE,EAAMimB,EAAUjD,QAChBQ,EAAU0C,EAAe1C,QACzBE,EAAc,EAElB,IAAK5jB,EAAI,EAAGA,EAAIE,EAAM,EAAGF,GAAK,EAC5B0jB,EAAQ1jB,GAAKukB,EAAgB8B,EAAMrmB,GAAIqmB,EAAMrmB,EAAI,GAAIsmB,EAAMtmB,GAAIumB,EAAMvmB,EAAI,IACzE4jB,GAAeF,EAAQ1jB,GAAGwjB,YAS5B,OANIpV,GAAUlO,IACZwjB,EAAQ1jB,GAAKukB,EAAgB8B,EAAMrmB,GAAIqmB,EAAM,GAAIC,EAAMtmB,GAAIumB,EAAM,IACjE3C,GAAeF,EAAQ1jB,GAAGwjB,aAG5B4C,EAAexC,YAAcA,EACtBwC,CACT,EAuKEI,cAzDF,SAAuBhC,EAAKC,EAAKC,EAAKC,EAAK8B,EAAWC,EAASf,GACzDc,EAAY,EACdA,EAAY,EACHA,EAAY,IACrBA,EAAY,GAGd,IAGIzmB,EAHA2mB,EAAKf,EAAgBa,EAAWd,GAEhCiB,EAAKhB,EADTc,EAAUA,EAAU,EAAI,EAAIA,EACMf,GAE9BzlB,EAAMskB,EAAI5sB,OACVivB,EAAK,EAAIF,EACTG,EAAK,EAAIF,EACTG,EAASF,EAAKA,EAAKA,EACnBG,EAAWL,EAAKE,EAAKA,EAAK,EAE1BI,EAAWN,EAAKA,EAAKE,EAAK,EAE1BK,EAASP,EAAKA,EAAKA,EAEnBQ,EAASN,EAAKA,EAAKC,EACnBM,EAAWT,EAAKE,EAAKC,EAAKD,EAAKF,EAAKG,EAAKD,EAAKA,EAAKD,EAEnDS,EAAWV,EAAKA,EAAKG,EAAKD,EAAKF,EAAKC,EAAKD,EAAKE,EAAKD,EAEnDU,EAASX,EAAKA,EAAKC,EAEnBW,EAASV,EAAKC,EAAKA,EACnBU,EAAWb,EAAKG,EAAKA,EAAKD,EAAKD,EAAKE,EAAKD,EAAKC,EAAKF,EAEnDa,EAAWd,EAAKC,EAAKE,EAAKD,EAAKD,EAAKA,EAAKD,EAAKG,EAAKF,EAEnDc,EAASf,EAAKC,EAAKA,EAEnBe,EAASb,EAAKA,EAAKA,EACnBc,EAAWhB,EAAKE,EAAKA,EAAKA,EAAKF,EAAKE,EAAKA,EAAKA,EAAKF,EAEnDiB,EAAWjB,EAAKA,EAAKE,EAAKA,EAAKF,EAAKA,EAAKA,EAAKE,EAAKF,EAEnDkB,EAASlB,EAAKA,EAAKA,EAEvB,IAAK5mB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBimB,EAAwB,EAAJjmB,GAAS8jB,EAAKve,MAAoF,KAA7EwhB,EAASvC,EAAIxkB,GAAKgnB,EAAWtC,EAAI1kB,GAAKinB,EAAWtC,EAAI3kB,GAAKknB,EAASzC,EAAIzkB,KAAc,IAE9HimB,EAAwB,EAAJjmB,EAAQ,GAAK8jB,EAAKve,MAAoF,KAA7E4hB,EAAS3C,EAAIxkB,GAAKonB,EAAW1C,EAAI1kB,GAAKqnB,EAAW1C,EAAI3kB,GAAKsnB,EAAS7C,EAAIzkB,KAAc,IAElIimB,EAAwB,EAAJjmB,EAAQ,GAAK8jB,EAAKve,MAAoF,KAA7EgiB,EAAS/C,EAAIxkB,GAAKwnB,EAAW9C,EAAI1kB,GAAKynB,EAAW9C,EAAI3kB,GAAK0nB,EAASjD,EAAIzkB,KAAc,IAElIimB,EAAwB,EAAJjmB,EAAQ,GAAK8jB,EAAKve,MAAoF,KAA7EoiB,EAASnD,EAAIxkB,GAAK4nB,EAAWlD,EAAI1kB,GAAK6nB,EAAWlD,EAAI3kB,GAAK8nB,EAASrD,EAAIzkB,KAAc,IAGpI,OAAOimB,CACT,EAKE8B,kBApEF,SAA2BvD,EAAKC,EAAKC,EAAKC,EAAKqD,EAASrC,GACtD,IAAIiB,EAAKhB,EAAgBoC,EAASrC,GAC9BmB,EAAK,EAAIF,EAGb,MAAO,CAFG9C,EAAKve,MAAwK,KAAjKuhB,EAAKA,EAAKA,EAAKtC,EAAI,IAAMoC,EAAKE,EAAKA,EAAKA,EAAKF,EAAKE,EAAKA,EAAKA,EAAKF,GAAMlC,EAAI,IAAMkC,EAAKA,EAAKE,EAAKA,EAAKF,EAAKA,EAAKA,EAAKE,EAAKF,GAAMjC,EAAI,GAAKiC,EAAKA,EAAKA,EAAKnC,EAAI,KAAc,IACrLX,EAAKve,MAAwK,KAAjKuhB,EAAKA,EAAKA,EAAKtC,EAAI,IAAMoC,EAAKE,EAAKA,EAAKA,EAAKF,EAAKE,EAAKA,EAAKA,EAAKF,GAAMlC,EAAI,IAAMkC,EAAKA,EAAKE,EAAKA,EAAKF,EAAKA,EAAKA,EAAKE,EAAKF,GAAMjC,EAAI,GAAKiC,EAAKA,EAAKA,EAAKnC,EAAI,KAAc,IAEjM,EA+DEgB,gBAAiBA,EACjB1B,cAAeA,EACfkE,cAvQF,SAAuBjE,EAAIC,EAAIiE,EAAIhE,EAAIC,EAAIgE,EAAI/D,EAAIC,EAAI+D,GACrD,GAAW,IAAPF,GAAmB,IAAPC,GAAmB,IAAPC,EAC1B,OAAOrE,EAAcC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAG3C,IAGIgE,EAHAC,EAAQxE,EAAK3f,KAAK2f,EAAK7f,IAAIigB,EAAKF,EAAI,GAAKF,EAAK7f,IAAIkgB,EAAKF,EAAI,GAAKH,EAAK7f,IAAIkkB,EAAKD,EAAI,IAClFK,EAAQzE,EAAK3f,KAAK2f,EAAK7f,IAAImgB,EAAKJ,EAAI,GAAKF,EAAK7f,IAAIogB,EAAKJ,EAAI,GAAKH,EAAK7f,IAAImkB,EAAKF,EAAI,IAClFM,EAAQ1E,EAAK3f,KAAK2f,EAAK7f,IAAImgB,EAAKF,EAAI,GAAKJ,EAAK7f,IAAIogB,EAAKF,EAAI,GAAKL,EAAK7f,IAAImkB,EAAKD,EAAI,IAetF,OAVIE,EAFAC,EAAQC,EACND,EAAQE,EACCF,EAAQC,EAAQC,EAEhBA,EAAQD,EAAQD,EAEpBE,EAAQD,EACNC,EAAQD,EAAQD,EAEhBC,EAAQD,EAAQE,IAGV,MAAUH,EAAW,IAC1C,EAkPF,CAEA,IAAII,IAAM5E,cAEN6E,UAAYrpB,oBACZspB,QAAU3kB,KAAKc,IAEnB,SAAS8jB,iBAAiBC,EAAUC,GAClC,IACIC,EADAC,EAAat0B,KAAKs0B,WAGA,qBAAlBt0B,KAAKu0B,WACPF,EAAWrmB,iBAAiB,UAAWhO,KAAKw0B,GAAGtxB,SAWjD,IARA,IAIIuxB,EACAC,EACAC,EA6BAne,EACAC,EACA0Z,EACA5Z,EACAD,EACAse,EAxCAC,EAAiBT,EAAQU,UACzBxpB,EAAIupB,EACJrpB,EAAMxL,KAAK+0B,UAAU7xB,OAAS,EAC9B2H,GAAO,EAKJA,GAAM,CAIX,GAHA4pB,EAAUz0B,KAAK+0B,UAAUzpB,GACzBopB,EAAc10B,KAAK+0B,UAAUzpB,EAAI,GAE7BA,IAAME,EAAM,GAAK2oB,GAAYO,EAAYnhB,EAAI+gB,EAAY,CACvDG,EAAQ3hB,IACV2hB,EAAUC,GAGZG,EAAiB,EACjB,KACF,CAEA,GAAIH,EAAYnhB,EAAI+gB,EAAaH,EAAU,CACzCU,EAAiBvpB,EACjB,KACF,CAEIA,EAAIE,EAAM,EACZF,GAAK,GAELupB,EAAiB,EACjBhqB,GAAO,EAEX,CAEA8pB,EAAmB30B,KAAKg1B,kBAAkB1pB,IAAM,CAAC,EAOjD,IAEI2pB,EAFAC,EAAcR,EAAYnhB,EAAI+gB,EAC9Ba,EAAUV,EAAQlhB,EAAI+gB,EAG1B,GAAIG,EAAQW,GAAI,CACTT,EAAiB1D,aACpB0D,EAAiB1D,WAAa8C,IAAIhD,gBAAgB0D,EAAQ1hB,EAAG2hB,EAAY3hB,GAAK0hB,EAAQl0B,EAAGk0B,EAAQW,GAAIX,EAAQY,KAG/G,IAAIpE,EAAa0D,EAAiB1D,WAElC,GAAIkD,GAAYe,GAAef,EAAWgB,EAAS,CACjD,IAAIG,EAAMnB,GAAYe,EAAcjE,EAAW1E,OAAOrpB,OAAS,EAAI,EAGnE,IAFAuT,EAAOwa,EAAW1E,OAAO+I,GAAKhF,MAAMptB,OAE/BsT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB6d,EAAS7d,GAAKya,EAAW1E,OAAO+I,GAAKhF,MAAM9Z,EAG/C,KAAO,CACDme,EAAiBY,OACnBX,EAAMD,EAAiBY,QAEvBX,EAAMrJ,cAAciK,gBAAgBf,EAAQ7c,EAAEgV,EAAG6H,EAAQ7c,EAAE6d,EAAGhB,EAAQnpB,EAAEshB,EAAG6H,EAAQnpB,EAAEmqB,EAAGhB,EAAQiB,GAAG/I,IACnGgI,EAAiBY,OAASX,GAG5BzE,EAAOyE,GAAKT,EAAWgB,IAAYD,EAAcC,IACjD,IACIQ,EADAC,EAAiB3E,EAAWP,cAAgBP,EAE5CrB,EAAcsF,EAAQyB,UAAY1B,GAAYC,EAAQ0B,qBAAuBxqB,EAAI8oB,EAAQ2B,iBAAmB,EAKhH,IAJAzf,EAAI8d,EAAQyB,UAAY1B,GAAYC,EAAQ0B,qBAAuBxqB,EAAI8oB,EAAQ4B,WAAa,EAC5FnrB,GAAO,EACP0L,EAAO0a,EAAW1E,OAAOrpB,OAElB2H,GAAM,CAGX,GAFAikB,GAAemC,EAAW1E,OAAOjW,GAAGua,cAEb,IAAnB+E,GAAiC,IAATzF,GAAc7Z,IAAM2a,EAAW1E,OAAOrpB,OAAS,EAAG,CAG5E,IAFAuT,EAAOwa,EAAW1E,OAAOjW,GAAGga,MAAMptB,OAE7BsT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB6d,EAAS7d,GAAKya,EAAW1E,OAAOjW,GAAGga,MAAM9Z,GAG3C,KACF,CAAO,GAAIof,GAAkB9G,GAAe8G,EAAiB9G,EAAcmC,EAAW1E,OAAOjW,EAAI,GAAGua,cAAe,CAIjH,IAHA8E,GAAeC,EAAiB9G,GAAemC,EAAW1E,OAAOjW,EAAI,GAAGua,cACxEpa,EAAOwa,EAAW1E,OAAOjW,GAAGga,MAAMptB,OAE7BsT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB6d,EAAS7d,GAAKya,EAAW1E,OAAOjW,GAAGga,MAAM9Z,IAAMya,EAAW1E,OAAOjW,EAAI,GAAGga,MAAM9Z,GAAKya,EAAW1E,OAAOjW,GAAGga,MAAM9Z,IAAMmf,EAGtH,KACF,CAEIrf,EAAIC,EAAO,EACbD,GAAK,EAELzL,GAAO,CAEX,CAEAupB,EAAQ4B,WAAa1f,EACrB8d,EAAQ2B,iBAAmBjH,EAAcmC,EAAW1E,OAAOjW,GAAGua,cAC9DuD,EAAQ0B,mBAAqBxqB,CAC/B,CACF,KAAO,CACL,IAAI2qB,EACAC,EACAC,EACAC,EACAC,EAIJ,GAHA7qB,EAAMipB,EAAQ1hB,EAAE7P,OAChB+xB,EAAWP,EAAY3hB,GAAK0hB,EAAQl0B,EAEhCP,KAAKs2B,IAAoB,IAAd7B,EAAQ3hB,EACjBqhB,GAAYe,GACdb,EAAS,GAAKY,EAAS,GACvBZ,EAAS,GAAKY,EAAS,GACvBZ,EAAS,GAAKY,EAAS,IACdd,GAAYgB,GACrBd,EAAS,GAAKI,EAAQ1hB,EAAE,GACxBshB,EAAS,GAAKI,EAAQ1hB,EAAE,GACxBshB,EAAS,GAAKI,EAAQ1hB,EAAE,IAKxBwjB,kBAAkBlC,EAAUmC,MAHZC,iBAAiBhC,EAAQ1hB,GAC3B0jB,iBAAiBxB,IACnBd,EAAWgB,IAAYD,EAAcC,UAInD,IAAK7pB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACN,IAAdmpB,EAAQ3hB,IACNqhB,GAAYe,EACd/E,EAAO,EACEgE,EAAWgB,EACpBhF,EAAO,GAEHsE,EAAQ7c,EAAEgV,EAAE9sB,cAAgByO,OACzBomB,EAAiBY,SACpBZ,EAAiBY,OAAS,IAGvBZ,EAAiBY,OAAOjqB,GAQ3BspB,EAAMD,EAAiBY,OAAOjqB,IAP9B2qB,OAA0B/R,IAAnBuQ,EAAQ7c,EAAEgV,EAAEthB,GAAmBmpB,EAAQ7c,EAAEgV,EAAE,GAAK6H,EAAQ7c,EAAEgV,EAAEthB,GACnE4qB,OAA0BhS,IAAnBuQ,EAAQ7c,EAAE6d,EAAEnqB,GAAmBmpB,EAAQ7c,EAAE6d,EAAE,GAAKhB,EAAQ7c,EAAE6d,EAAEnqB,GACnE6qB,OAAyBjS,IAAnBuQ,EAAQnpB,EAAEshB,EAAEthB,GAAmBmpB,EAAQnpB,EAAEshB,EAAE,GAAK6H,EAAQnpB,EAAEshB,EAAEthB,GAClE8qB,OAAyBlS,IAAnBuQ,EAAQnpB,EAAEmqB,EAAEnqB,GAAmBmpB,EAAQnpB,EAAEmqB,EAAE,GAAKhB,EAAQnpB,EAAEmqB,EAAEnqB,GAClEspB,EAAMrJ,cAAciK,gBAAgBS,EAAMC,EAAMC,EAAKC,GAAKzJ,IAC1DgI,EAAiBY,OAAOjqB,GAAKspB,IAIrBD,EAAiBY,OAQ3BX,EAAMD,EAAiBY,QAPvBU,EAAOxB,EAAQ7c,EAAEgV,EACjBsJ,EAAOzB,EAAQ7c,EAAE6d,EACjBU,EAAM1B,EAAQnpB,EAAEshB,EAChBwJ,EAAM3B,EAAQnpB,EAAEmqB,EAChBb,EAAMrJ,cAAciK,gBAAgBS,EAAMC,EAAMC,EAAKC,GAAKzJ,IAC1D8H,EAAQE,iBAAmBC,GAK7BzE,EAAOyE,GAAKT,EAAWgB,IAAYD,EAAcC,MAIrDF,EAAWP,EAAY3hB,GAAK0hB,EAAQl0B,EACpC81B,EAAyB,IAAd5B,EAAQ3hB,EAAU2hB,EAAQ1hB,EAAEzH,GAAKmpB,EAAQ1hB,EAAEzH,IAAM2pB,EAAS3pB,GAAKmpB,EAAQ1hB,EAAEzH,IAAM6kB,EAEpE,qBAAlBnwB,KAAKu0B,SACPF,EAAS/oB,GAAK+qB,EAEdhC,EAAWgC,CAInB,CAGA,OADAjC,EAAQU,UAAYD,EACbR,CACT,CAGA,SAASmC,MAAMxd,EAAG7F,EAAGI,GACnB,IASImjB,EACAC,EACAC,EACAC,EACAC,EAbAC,EAAM,GACNC,EAAKhe,EAAE,GACPie,EAAKje,EAAE,GACPke,EAAKle,EAAE,GACPme,EAAKne,EAAE,GACPoe,EAAKjkB,EAAE,GACPkkB,EAAKlkB,EAAE,GACPmkB,EAAKnkB,EAAE,GACPokB,EAAKpkB,EAAE,GA8BX,OAxBAwjB,EAAQK,EAAKI,EAAKH,EAAKI,EAAKH,EAAKI,EAAKH,EAAKI,GAE/B,IACVZ,GAASA,EACTS,GAAMA,EACNC,GAAMA,EACNC,GAAMA,EACNC,GAAMA,GAGJ,EAAMZ,EAAQ,MAChBD,EAAQpnB,KAAKkoB,KAAKb,GAClBC,EAAQtnB,KAAKmoB,IAAIf,GACjBG,EAASvnB,KAAKmoB,KAAK,EAAMlkB,GAAKmjB,GAASE,EACvCE,EAASxnB,KAAKmoB,IAAIlkB,EAAImjB,GAASE,IAE/BC,EAAS,EAAMtjB,EACfujB,EAASvjB,GAGXwjB,EAAI,GAAKF,EAASG,EAAKF,EAASM,EAChCL,EAAI,GAAKF,EAASI,EAAKH,EAASO,EAChCN,EAAI,GAAKF,EAASK,EAAKJ,EAASQ,EAChCP,EAAI,GAAKF,EAASM,EAAKL,EAASS,EACzBR,CACT,CAEA,SAASR,kBAAkBQ,EAAKW,GAC9B,IAAIC,EAAKD,EAAK,GACVE,EAAKF,EAAK,GACVG,EAAKH,EAAK,GACVI,EAAKJ,EAAK,GACVK,EAAUzoB,KAAK0oB,MAAM,EAAIJ,EAAKE,EAAK,EAAIH,EAAKE,EAAI,EAAI,EAAID,EAAKA,EAAK,EAAIC,EAAKA,GAC3EI,EAAW3oB,KAAK4oB,KAAK,EAAIP,EAAKC,EAAK,EAAIC,EAAKC,GAC5CK,EAAO7oB,KAAK0oB,MAAM,EAAIL,EAAKG,EAAK,EAAIF,EAAKC,EAAI,EAAI,EAAIF,EAAKA,EAAK,EAAIE,EAAKA,GAC5Ed,EAAI,GAAKgB,EAAUvnB,UACnBumB,EAAI,GAAKkB,EAAWznB,UACpBumB,EAAI,GAAKoB,EAAO3nB,SAClB,CAEA,SAASimB,iBAAiB2B,GACxB,IAAIL,EAAUK,EAAO,GAAK5nB,UACtBynB,EAAWG,EAAO,GAAK5nB,UACvB2nB,EAAOC,EAAO,GAAK5nB,UACnB6nB,EAAK/oB,KAAKgpB,IAAIP,EAAU,GACxBQ,EAAKjpB,KAAKgpB,IAAIL,EAAW,GACzBO,EAAKlpB,KAAKgpB,IAAIH,EAAO,GACrBM,EAAKnpB,KAAKmoB,IAAIM,EAAU,GACxBW,EAAKppB,KAAKmoB,IAAIQ,EAAW,GACzBU,EAAKrpB,KAAKmoB,IAAIU,EAAO,GAKzB,MAAO,CAHCM,EAAKC,EAAKF,EAAKH,EAAKE,EAAKI,EACzBF,EAAKF,EAAKC,EAAKH,EAAKK,EAAKC,EACzBN,EAAKK,EAAKF,EAAKC,EAAKF,EAAKI,EAHzBN,EAAKE,EAAKC,EAAKC,EAAKC,EAAKC,EAKnC,CAEA,SAASC,wBACP,IAAIzE,EAAWn0B,KAAKsX,KAAKuhB,cAAgB74B,KAAKs0B,WAC1C5K,EAAW1pB,KAAK+0B,UAAU,GAAGxhB,EAAIvT,KAAKs0B,WACtCwE,EAAU94B,KAAK+0B,UAAU/0B,KAAK+0B,UAAU7xB,OAAS,GAAGqQ,EAAIvT,KAAKs0B,WAEjE,KAAMH,IAAan0B,KAAK+4B,SAASlD,WAAa71B,KAAK+4B,SAASlD,YAAc7B,YAAch0B,KAAK+4B,SAASlD,WAAaiD,GAAW3E,GAAY2E,GAAW94B,KAAK+4B,SAASlD,UAAYnM,GAAYyK,EAAWzK,IAAY,CAC5M1pB,KAAK+4B,SAASlD,WAAa1B,IAC7Bn0B,KAAK+4B,SAASjD,oBAAsB,EACpC91B,KAAK+4B,SAASjE,UAAY,GAG5B,IAAIkE,EAAeh5B,KAAKk0B,iBAAiBC,EAAUn0B,KAAK+4B,UACxD/4B,KAAKw0B,GAAKwE,CACZ,CAGA,OADAh5B,KAAK+4B,SAASlD,UAAY1B,EACnBn0B,KAAKw0B,EACd,CAEA,SAASyE,UAAU5oB,GACjB,IAAI6oB,EAEJ,GAAsB,mBAAlBl5B,KAAKu0B,SACP2E,EAAkB7oB,EAAMrQ,KAAKm5B,KAEzBlF,QAAQj0B,KAAKgT,EAAIkmB,GAAmB,OACtCl5B,KAAKgT,EAAIkmB,EACTl5B,KAAKo5B,MAAO,QAMd,IAHA,IAAI9tB,EAAI,EACJE,EAAMxL,KAAKgT,EAAE9P,OAEVoI,EAAIE,GACT0tB,EAAkB7oB,EAAI/E,GAAKtL,KAAKm5B,KAE5BlF,QAAQj0B,KAAKgT,EAAE1H,GAAK4tB,GAAmB,OACzCl5B,KAAKgT,EAAE1H,GAAK4tB,EACZl5B,KAAKo5B,MAAO,GAGd9tB,GAAK,CAGX,CAEA,SAAS+tB,yBACP,GAAIr5B,KAAKmqB,KAAKpG,WAAWuV,UAAYt5B,KAAKs5B,SAAYt5B,KAAKu5B,gBAAgBr2B,OAI3E,GAAIlD,KAAKw5B,KACPx5B,KAAKi5B,UAAUj5B,KAAKw0B,QADtB,CAOA,IAAIlpB,EAFJtL,KAAKw5B,MAAO,EACZx5B,KAAKo5B,KAAOp5B,KAAKy5B,cAEjB,IAAIjuB,EAAMxL,KAAKu5B,gBAAgBr2B,OAC3Bw2B,EAAa15B,KAAK25B,GAAK35B,KAAKw0B,GAAKx0B,KAAK0J,KAAK8M,EAE/C,IAAKlL,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBouB,EAAa15B,KAAKu5B,gBAAgBjuB,GAAGouB,GAGvC15B,KAAKi5B,UAAUS,GACf15B,KAAKy5B,eAAgB,EACrBz5B,KAAKw5B,MAAO,EACZx5B,KAAKs5B,QAAUt5B,KAAKmqB,KAAKpG,WAAWuV,OAfpC,CAgBF,CAEA,SAASM,UAAUC,GACjB75B,KAAKu5B,gBAAgB3sB,KAAKitB,GAC1B75B,KAAKuG,UAAUuzB,mBAAmB95B,KACpC,CAEA,SAAS+5B,cAAc5P,EAAMzgB,EAAMyvB,EAAM5yB,GACvCvG,KAAKu0B,SAAW,iBAChBv0B,KAAKm5B,KAAOA,GAAQ,EACpBn5B,KAAK0J,KAAOA,EACZ1J,KAAKgT,EAAImmB,EAAOzvB,EAAK8M,EAAI2iB,EAAOzvB,EAAK8M,EACrCxW,KAAKw0B,GAAK9qB,EAAK8M,EACfxW,KAAKo5B,MAAO,EACZp5B,KAAKmqB,KAAOA,EACZnqB,KAAKuG,UAAYA,EACjBvG,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAKwW,GAAI,EACTxW,KAAK25B,IAAK,EACV35B,KAAKg6B,IAAM,EACXh6B,KAAKu5B,gBAAkB,GACvBv5B,KAAKy5B,eAAgB,EACrBz5B,KAAKi6B,SAAWZ,uBAChBr5B,KAAKi5B,UAAYA,UACjBj5B,KAAK45B,UAAYA,SACnB,CAEA,SAASM,yBAAyB/P,EAAMzgB,EAAMyvB,EAAM5yB,GAWlD,IAAI+E,EAVJtL,KAAKu0B,SAAW,mBAChBv0B,KAAKm5B,KAAOA,GAAQ,EACpBn5B,KAAK0J,KAAOA,EACZ1J,KAAKo5B,MAAO,EACZp5B,KAAKmqB,KAAOA,EACZnqB,KAAKuG,UAAYA,EACjBvG,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAKwW,GAAI,EACTxW,KAAK25B,IAAK,EACV35B,KAAKs5B,SAAW,EAEhB,IAAI9tB,EAAM9B,EAAK8M,EAAEtT,OAKjB,IAJAlD,KAAKgT,EAAIhF,iBAAiB,UAAWxC,GACrCxL,KAAKw0B,GAAKxmB,iBAAiB,UAAWxC,GACtCxL,KAAKg6B,IAAMhsB,iBAAiB,UAAWxC,GAElCF,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKgT,EAAE1H,GAAK5B,EAAK8M,EAAElL,GAAKtL,KAAKm5B,KAC7Bn5B,KAAKw0B,GAAGlpB,GAAK5B,EAAK8M,EAAElL,GAGtBtL,KAAKy5B,eAAgB,EACrBz5B,KAAKu5B,gBAAkB,GACvBv5B,KAAKi6B,SAAWZ,uBAChBr5B,KAAKi5B,UAAYA,UACjBj5B,KAAK45B,UAAYA,SACnB,CAEA,SAASO,uBAAuBhQ,EAAMzgB,EAAMyvB,EAAM5yB,GAChDvG,KAAKu0B,SAAW,iBAChBv0B,KAAK+0B,UAAYrrB,EAAK8M,EACtBxW,KAAKg1B,kBAAoB,GACzBh1B,KAAKs0B,WAAanK,EAAKzgB,KAAKoP,GAC5B9Y,KAAKs5B,SAAW,EAChBt5B,KAAK+4B,SAAW,CACdlD,UAAW7B,UACXc,UAAW,EACXvrB,MAAO,EACPusB,oBAAqB,GAEvB91B,KAAKwW,GAAI,EACTxW,KAAK25B,IAAK,EACV35B,KAAK0J,KAAOA,EACZ1J,KAAKm5B,KAAOA,GAAQ,EACpBn5B,KAAKmqB,KAAOA,EACZnqB,KAAKuG,UAAYA,EACjBvG,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAKgT,EAAIghB,UACTh0B,KAAKw0B,GAAKR,UACVh0B,KAAKy5B,eAAgB,EACrBz5B,KAAKi6B,SAAWZ,uBAChBr5B,KAAKi5B,UAAYA,UACjBj5B,KAAKk0B,iBAAmBA,iBACxBl0B,KAAKu5B,gBAAkB,CAACX,sBAAsB7a,KAAK/d,OACnDA,KAAK45B,UAAYA,SACnB,CAEA,SAASQ,kCAAkCjQ,EAAMzgB,EAAMyvB,EAAM5yB,GAE3D,IAAI+E,EADJtL,KAAKu0B,SAAW,mBAEhB,IACIxhB,EACAxS,EACA60B,EACAC,EAJA7pB,EAAM9B,EAAK8M,EAAEtT,OAMjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAM,EAAGF,GAAK,EACxB5B,EAAK8M,EAAElL,GAAG8pB,IAAM1rB,EAAK8M,EAAElL,GAAGyH,GAAKrJ,EAAK8M,EAAElL,EAAI,IAAM5B,EAAK8M,EAAElL,EAAI,GAAGyH,IAChEA,EAAIrJ,EAAK8M,EAAElL,GAAGyH,EACdxS,EAAImJ,EAAK8M,EAAElL,EAAI,GAAGyH,EAClBqiB,EAAK1rB,EAAK8M,EAAElL,GAAG8pB,GACfC,EAAK3rB,EAAK8M,EAAElL,GAAG+pB,IAEE,IAAbtiB,EAAE7P,SAAkB6P,EAAE,KAAOxS,EAAE,IAAMwS,EAAE,KAAOxS,EAAE,KAAOwzB,IAAI1E,cAActc,EAAE,GAAIA,EAAE,GAAIxS,EAAE,GAAIA,EAAE,GAAIwS,EAAE,GAAKqiB,EAAG,GAAIriB,EAAE,GAAKqiB,EAAG,KAAOrB,IAAI1E,cAActc,EAAE,GAAIA,EAAE,GAAIxS,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAK80B,EAAG,GAAI90B,EAAE,GAAK80B,EAAG,KAAoB,IAAbtiB,EAAE7P,SAAkB6P,EAAE,KAAOxS,EAAE,IAAMwS,EAAE,KAAOxS,EAAE,IAAMwS,EAAE,KAAOxS,EAAE,KAAOwzB,IAAIR,cAAcxgB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIxS,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIwS,EAAE,GAAKqiB,EAAG,GAAIriB,EAAE,GAAKqiB,EAAG,GAAIriB,EAAE,GAAKqiB,EAAG,KAAOrB,IAAIR,cAAcxgB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIxS,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAK80B,EAAG,GAAI90B,EAAE,GAAK80B,EAAG,GAAI90B,EAAE,GAAK80B,EAAG,OACld3rB,EAAK8M,EAAElL,GAAG8pB,GAAK,KACf1rB,EAAK8M,EAAElL,GAAG+pB,GAAK,MAGbtiB,EAAE,KAAOxS,EAAE,IAAMwS,EAAE,KAAOxS,EAAE,IAAgB,IAAV60B,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAVC,EAAG,IAAsB,IAAVA,EAAG,KACnE,IAAbtiB,EAAE7P,QAAgB6P,EAAE,KAAOxS,EAAE,IAAgB,IAAV60B,EAAG,IAAsB,IAAVC,EAAG,MACvD3rB,EAAK8M,EAAElL,GAAG8pB,GAAK,KACf1rB,EAAK8M,EAAElL,GAAG+pB,GAAK,OAMvBr1B,KAAKu5B,gBAAkB,CAACX,sBAAsB7a,KAAK/d,OACnDA,KAAK0J,KAAOA,EACZ1J,KAAK+0B,UAAYrrB,EAAK8M,EACtBxW,KAAKg1B,kBAAoB,GACzBh1B,KAAKs0B,WAAanK,EAAKzgB,KAAKoP,GAC5B9Y,KAAKwW,GAAI,EACTxW,KAAK25B,IAAK,EACV35B,KAAKy5B,eAAgB,EACrBz5B,KAAKm5B,KAAOA,GAAQ,EACpBn5B,KAAKmqB,KAAOA,EACZnqB,KAAKuG,UAAYA,EACjBvG,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAKi6B,SAAWZ,uBAChBr5B,KAAKi5B,UAAYA,UACjBj5B,KAAKk0B,iBAAmBA,iBACxBl0B,KAAKs5B,SAAW,EAChB,IAAIe,EAAS3wB,EAAK8M,EAAE,GAAGzD,EAAE7P,OAIzB,IAHAlD,KAAKgT,EAAIhF,iBAAiB,UAAWqsB,GACrCr6B,KAAKw0B,GAAKxmB,iBAAiB,UAAWqsB,GAEjC/uB,EAAI,EAAGA,EAAI+uB,EAAQ/uB,GAAK,EAC3BtL,KAAKgT,EAAE1H,GAAK0oB,UACZh0B,KAAKw0B,GAAGlpB,GAAK0oB,UAGfh0B,KAAK+4B,SAAW,CACdlD,UAAW7B,UACXc,UAAW,EACXvrB,MAAOyE,iBAAiB,UAAWqsB,IAErCr6B,KAAK45B,UAAYA,SACnB,CAEA,IAAIU,gBAkCO,CACPC,QAlCF,SAAiBpQ,EAAMzgB,EAAMQ,EAAMivB,EAAM5yB,GAKvC,IAAI8M,EAEJ,GANI3J,EAAK8wB,MACP9wB,EAAOygB,EAAKpG,WAAW0W,YAAYF,QAAQ7wB,IAKxCA,EAAK8M,EAAEtT,OAEL,GAAyB,iBAAdwG,EAAK8M,EAAE,GACvBnD,EAAI,IAAI6mB,yBAAyB/P,EAAMzgB,EAAMyvB,EAAM5yB,QAEnD,OAAQ2D,GACN,KAAK,EACHmJ,EAAI,IAAI8mB,uBAAuBhQ,EAAMzgB,EAAMyvB,EAAM5yB,GACjD,MAEF,KAAK,EACH8M,EAAI,IAAI+mB,kCAAkCjQ,EAAMzgB,EAAMyvB,EAAM5yB,QAVhE8M,EAAI,IAAI0mB,cAAc5P,EAAMzgB,EAAMyvB,EAAM5yB,GAsB1C,OAJI8M,EAAEkmB,gBAAgBr2B,QACpBqD,EAAUuzB,mBAAmBzmB,GAGxBA,CACT,GAQF,SAASqnB,2BAA4B,CAErCA,yBAAyBhvB,UAAY,CACnCouB,mBAAoB,SAA4B9tB,IACA,IAA1ChM,KAAK26B,kBAAkBrgB,QAAQtO,KACjChM,KAAK26B,kBAAkB/tB,KAAKZ,GAC5BhM,KAAKuG,UAAUuzB,mBAAmB95B,MAClCA,KAAK46B,aAAc,EAEvB,EACAC,yBAA0B,WAExB,IAAIvvB,EADJtL,KAAKo5B,MAAO,EAEZ,IAAI5tB,EAAMxL,KAAK26B,kBAAkBz3B,OAEjC,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAK26B,kBAAkBrvB,GAAG2uB,WAEtBj6B,KAAK26B,kBAAkBrvB,GAAG8tB,OAC5Bp5B,KAAKo5B,MAAO,EAGlB,EACA0B,6BAA8B,SAAsCv0B,GAClEvG,KAAKuG,UAAYA,EACjBvG,KAAK26B,kBAAoB,GACzB36B,KAAKo5B,MAAO,EACZp5B,KAAK46B,aAAc,CACrB,GAGF,IAAIG,UAKK3M,YAAY,GAJnB,WACE,OAAOpgB,iBAAiB,UAAW,EACrC,IAKF,SAASgtB,YACPh7B,KAAKuZ,GAAI,EACTvZ,KAAKwuB,QAAU,EACfxuB,KAAKyuB,WAAa,EAClBzuB,KAAKgT,EAAI1E,iBAAiBtO,KAAKyuB,YAC/BzuB,KAAK4X,EAAItJ,iBAAiBtO,KAAKyuB,YAC/BzuB,KAAKsL,EAAIgD,iBAAiBtO,KAAKyuB,WACjC,CAEAuM,UAAUtvB,UAAUuvB,YAAc,SAAUvhB,EAAQlO,GAClDxL,KAAKuZ,EAAIG,EACT1Z,KAAKk7B,UAAU1vB,GAGf,IAFA,IAAIF,EAAI,EAEDA,EAAIE,GACTxL,KAAKgT,EAAE1H,GAAKyvB,UAAUpM,aACtB3uB,KAAK4X,EAAEtM,GAAKyvB,UAAUpM,aACtB3uB,KAAKsL,EAAEA,GAAKyvB,UAAUpM,aACtBrjB,GAAK,CAET,EAEA0vB,UAAUtvB,UAAUwvB,UAAY,SAAU1vB,GACxC,KAAOxL,KAAKyuB,WAAajjB,GACvBxL,KAAKm7B,oBAGPn7B,KAAKwuB,QAAUhjB,CACjB,EAEAwvB,UAAUtvB,UAAUyvB,kBAAoB,WACtCn7B,KAAKgT,EAAIhT,KAAKgT,EAAE6X,OAAOvc,iBAAiBtO,KAAKyuB,aAC7CzuB,KAAKsL,EAAItL,KAAKsL,EAAEuf,OAAOvc,iBAAiBtO,KAAKyuB,aAC7CzuB,KAAK4X,EAAI5X,KAAK4X,EAAEiT,OAAOvc,iBAAiBtO,KAAKyuB,aAC7CzuB,KAAKyuB,YAAc,CACrB,EAEAuM,UAAUtvB,UAAU0vB,QAAU,SAAUxO,EAAG6I,EAAGvrB,EAAMmxB,EAAK7yB,GACvD,IAAI0F,EAOJ,OANAlO,KAAKwuB,QAAUlf,KAAKO,IAAI7P,KAAKwuB,QAAS6M,EAAM,GAExCr7B,KAAKwuB,SAAWxuB,KAAKyuB,YACvBzuB,KAAKm7B,oBAGCjxB,GACN,IAAK,IACHgE,EAAMlO,KAAKgT,EACX,MAEF,IAAK,IACH9E,EAAMlO,KAAKsL,EACX,MAEF,IAAK,IACH4C,EAAMlO,KAAK4X,EACX,MAEF,QACE1J,EAAM,KAILA,EAAImtB,IAAQntB,EAAImtB,KAAS7yB,KAC5B0F,EAAImtB,GAAON,UAAUpM,cAGvBzgB,EAAImtB,GAAK,GAAKzO,EACd1e,EAAImtB,GAAK,GAAK5F,CAChB,EAEAuF,UAAUtvB,UAAU4vB,YAAc,SAAUC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIP,EAAK7yB,GACvExI,KAAKo7B,QAAQG,EAAIC,EAAI,IAAKH,EAAK7yB,GAC/BxI,KAAKo7B,QAAQK,EAAIC,EAAI,IAAKL,EAAK7yB,GAC/BxI,KAAKo7B,QAAQO,EAAIC,EAAI,IAAKP,EAAK7yB,EACjC,EAEAwyB,UAAUtvB,UAAUmwB,QAAU,WAC5B,IAAIC,EAAU,IAAId,UAClBc,EAAQb,YAAYj7B,KAAKuZ,EAAGvZ,KAAKwuB,SACjC,IAAIuN,EAAW/7B,KAAKgT,EAChBgpB,EAAYh8B,KAAK4X,EACjBqkB,EAAWj8B,KAAKsL,EAChB+c,EAAO,EAEProB,KAAKuZ,IACPuiB,EAAQR,YAAYS,EAAS,GAAG,GAAIA,EAAS,GAAG,GAAIE,EAAS,GAAG,GAAIA,EAAS,GAAG,GAAID,EAAU,GAAG,GAAIA,EAAU,GAAG,GAAI,GAAG,GACzH3T,EAAO,GAGT,IAEI/c,EAFA4wB,EAAMl8B,KAAKwuB,QAAU,EACrBhjB,EAAMxL,KAAKwuB,QAGf,IAAKljB,EAAI+c,EAAM/c,EAAIE,EAAKF,GAAK,EAC3BwwB,EAAQR,YAAYS,EAASG,GAAK,GAAIH,EAASG,GAAK,GAAID,EAASC,GAAK,GAAID,EAASC,GAAK,GAAIF,EAAUE,GAAK,GAAIF,EAAUE,GAAK,GAAI5wB,GAAG,GACrI4wB,GAAO,EAGT,OAAOJ,CACT,EAEAd,UAAUtvB,UAAUxI,OAAS,WAC3B,OAAOlD,KAAKwuB,OACd,EAEA,IAAI2N,WAoCE7xB,QAAU8jB,YAAY,GAnC1B,WACE,OAAO,IAAI4M,SACb,IAEA,SAAiBoB,GACf,IACI9wB,EADAE,EAAM4wB,EAAU5N,QAGpB,IAAKljB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxByvB,UAAUnM,QAAQwN,EAAUppB,EAAE1H,IAC9ByvB,UAAUnM,QAAQwN,EAAU9wB,EAAEA,IAC9ByvB,UAAUnM,QAAQwN,EAAUxkB,EAAEtM,IAC9B8wB,EAAUppB,EAAE1H,GAAK,KACjB8wB,EAAU9wB,EAAEA,GAAK,KACjB8wB,EAAUxkB,EAAEtM,GAAK,KAGnB8wB,EAAU5N,QAAU,EACpB4N,EAAU7iB,GAAI,CAChB,IAiBAjP,QAAQT,MAfR,SAAewyB,GACb,IACI/wB,EADAgxB,EAAShyB,QAAQqkB,aAEjBnjB,OAAwB0Y,IAAlBmY,EAAM7N,QAAwB6N,EAAMrpB,EAAE9P,OAASm5B,EAAM7N,QAI/D,IAHA8N,EAAOpB,UAAU1vB,GACjB8wB,EAAO/iB,EAAI8iB,EAAM9iB,EAEZjO,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBgxB,EAAOhB,YAAYe,EAAMrpB,EAAE1H,GAAG,GAAI+wB,EAAMrpB,EAAE1H,GAAG,GAAI+wB,EAAMzkB,EAAEtM,GAAG,GAAI+wB,EAAMzkB,EAAEtM,GAAG,GAAI+wB,EAAM/wB,EAAEA,GAAG,GAAI+wB,EAAM/wB,EAAEA,GAAG,GAAIA,GAG/G,OAAOgxB,CACT,EAIOhyB,SAFHA,QAKN,SAASiyB,kBACPv8B,KAAKwuB,QAAU,EACfxuB,KAAKyuB,WAAa,EAClBzuB,KAAKoX,OAAS9I,iBAAiBtO,KAAKyuB,WACtC,CAEA8N,gBAAgB7wB,UAAU8wB,SAAW,SAAU/K,GACzCzxB,KAAKwuB,UAAYxuB,KAAKyuB,aACxBzuB,KAAKoX,OAASpX,KAAKoX,OAAOyT,OAAOvc,iBAAiBtO,KAAKyuB,aACvDzuB,KAAKyuB,YAAc,GAGrBzuB,KAAKoX,OAAOpX,KAAKwuB,SAAWiD,EAC5BzxB,KAAKwuB,SAAW,CAClB,EAEA+N,gBAAgB7wB,UAAU+wB,cAAgB,WACxC,IAAInxB,EAEJ,IAAKA,EAAI,EAAGA,EAAItL,KAAKwuB,QAASljB,GAAK,EACjC6wB,UAAUvN,QAAQ5uB,KAAKoX,OAAO9L,IAGhCtL,KAAKwuB,QAAU,CACjB,EAEA,IAAIkO,qBACEze,GAAK,CACP0e,mBAOF,WAUE,OAPInO,QAEgBE,KADlBF,SAAW,GAGO,IAAI+N,eAI1B,EAjBE3N,QAmBF,SAAiBgO,GACf,IAAItxB,EACAE,EAAMoxB,EAAgBpO,QAE1B,IAAKljB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB6wB,UAAUvN,QAAQgO,EAAgBxlB,OAAO9L,IAG3CsxB,EAAgBpO,QAAU,EAEtBA,UAAYC,aACdC,KAAOP,QAAgB,OAAEO,MACzBD,YAAc,GAGhBC,KAAKF,SAAWoO,EAChBpO,SAAW,CACb,GAlCIA,QAAU,EACVC,WAAa,EACbC,KAAOpgB,iBAAiBmgB,YAkCrBxQ,IAxCHA,GAIAuQ,QACAC,WACAC,KAqCFmO,qBAAuB,WACzB,IAAI7I,GAAa,OAEjB,SAAS8I,EAAiB3I,EAAU4I,EAAe3I,GACjD,IACI4I,EACAC,EACAC,EACA5mB,EACAE,EACAD,EACAE,EACA0Z,EACAgN,EATAtI,EAAiBT,EAAQU,UAUzB6E,EAAK35B,KAAK+0B,UAEd,GAAIZ,EAAWwF,EAAG,GAAGpmB,EAAIvT,KAAKs0B,WAC5B0I,EAAWrD,EAAG,GAAG5mB,EAAE,GACnBmqB,GAAS,EACTrI,EAAiB,OACZ,GAAIV,GAAYwF,EAAGA,EAAGz2B,OAAS,GAAGqQ,EAAIvT,KAAKs0B,WAChD0I,EAAWrD,EAAGA,EAAGz2B,OAAS,GAAG6P,EAAI4mB,EAAGA,EAAGz2B,OAAS,GAAG6P,EAAE,GAAK4mB,EAAGA,EAAGz2B,OAAS,GAAG3C,EAAE,GAO9E28B,GAAS,MACJ,CAQL,IAPA,IAGIzI,EACAC,EACAC,EALArpB,EAAIupB,EACJrpB,EAAMmuB,EAAGz2B,OAAS,EAClB2H,GAAO,EAKJA,IACL4pB,EAAUkF,EAAGruB,MACbopB,EAAciF,EAAGruB,EAAI,IAELiI,EAAIvT,KAAKs0B,WAAaH,KAIlC7oB,EAAIE,EAAM,EACZF,GAAK,EAELT,GAAO,EAQX,GAJA8pB,EAAmB30B,KAAKg1B,kBAAkB1pB,IAAM,CAAC,EAEjDupB,EAAiBvpB,IADjB4xB,EAAuB,IAAdzI,EAAQ3hB,GAGJ,CACX,GAAIqhB,GAAYO,EAAYnhB,EAAIvT,KAAKs0B,WACnCnE,EAAO,OACF,GAAIgE,EAAWM,EAAQlhB,EAAIvT,KAAKs0B,WACrCnE,EAAO,MACF,CACL,IAAIyE,EAEAD,EAAiBY,OACnBX,EAAMD,EAAiBY,QAEvBX,EAAMrJ,cAAciK,gBAAgBf,EAAQ7c,EAAEgV,EAAG6H,EAAQ7c,EAAE6d,EAAGhB,EAAQnpB,EAAEshB,EAAG6H,EAAQnpB,EAAEmqB,GAAG9I,IACxFgI,EAAiBY,OAASX,GAG5BzE,EAAOyE,GAAKT,GAAYM,EAAQlhB,EAAIvT,KAAKs0B,cAAgBI,EAAYnhB,EAAIvT,KAAKs0B,YAAcG,EAAQlhB,EAAIvT,KAAKs0B,aAC/G,CAEA2I,EAAWvI,EAAY3hB,EAAI2hB,EAAY3hB,EAAE,GAAK0hB,EAAQl0B,EAAE,EAC1D,CAEAy8B,EAAWvI,EAAQ1hB,EAAE,EACvB,CAMA,IAJAwD,EAAOwmB,EAAcvO,QACrB/X,EAAOumB,EAAS1xB,EAAE,GAAGpI,OACrBkxB,EAAQU,UAAYD,EAEfve,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB,IAAKE,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB2mB,EAAcD,EAASF,EAAS1xB,EAAEgL,GAAGE,GAAKwmB,EAAS1xB,EAAEgL,GAAGE,IAAMymB,EAAS3xB,EAAEgL,GAAGE,GAAKwmB,EAAS1xB,EAAEgL,GAAGE,IAAM2Z,EACrG4M,EAAczxB,EAAEgL,GAAGE,GAAK2mB,EACxBA,EAAcD,EAASF,EAASplB,EAAEtB,GAAGE,GAAKwmB,EAASplB,EAAEtB,GAAGE,IAAMymB,EAASrlB,EAAEtB,GAAGE,GAAKwmB,EAASplB,EAAEtB,GAAGE,IAAM2Z,EACrG4M,EAAcnlB,EAAEtB,GAAGE,GAAK2mB,EACxBA,EAAcD,EAASF,EAAShqB,EAAEsD,GAAGE,GAAKwmB,EAAShqB,EAAEsD,GAAGE,IAAMymB,EAASjqB,EAAEsD,GAAGE,GAAKwmB,EAAShqB,EAAEsD,GAAGE,IAAM2Z,EACrG4M,EAAc/pB,EAAEsD,GAAGE,GAAK2mB,CAG9B,CAEA,SAASC,IACP,IAAIjJ,EAAWn0B,KAAKsX,KAAKuhB,cAAgB74B,KAAKs0B,WAC1C5K,EAAW1pB,KAAK+0B,UAAU,GAAGxhB,EAAIvT,KAAKs0B,WACtCwE,EAAU94B,KAAK+0B,UAAU/0B,KAAK+0B,UAAU7xB,OAAS,GAAGqQ,EAAIvT,KAAKs0B,WAC7DuB,EAAY71B,KAAK+4B,SAASlD,UAS9B,OAPMA,IAAc7B,IAAc6B,EAAYnM,GAAYyK,EAAWzK,GAAYmM,EAAYiD,GAAW3E,EAAW2E,KAEjH94B,KAAK+4B,SAASjE,UAAYe,EAAY1B,EAAWn0B,KAAK+4B,SAASjE,UAAY,EAC3E90B,KAAK88B,iBAAiB3I,EAAUn0B,KAAKw0B,GAAIx0B,KAAK+4B,WAGhD/4B,KAAK+4B,SAASlD,UAAY1B,EACnBn0B,KAAKw0B,EACd,CAEA,SAAS6I,IACPr9B,KAAKs9B,MAAQt9B,KAAKu9B,oBACpB,CAmBA,SAAStE,EAAU6C,IAjBnB,SAAqB0B,EAAQC,GAC3B,GAAID,EAAOhP,UAAYiP,EAAOjP,SAAWgP,EAAOjkB,IAAMkkB,EAAOlkB,EAC3D,OAAO,EAGT,IAAIjO,EACAE,EAAMgyB,EAAOhP,QAEjB,IAAKljB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,GAAIkyB,EAAOxqB,EAAE1H,GAAG,KAAOmyB,EAAOzqB,EAAE1H,GAAG,IAAMkyB,EAAOxqB,EAAE1H,GAAG,KAAOmyB,EAAOzqB,EAAE1H,GAAG,IAAMkyB,EAAO5lB,EAAEtM,GAAG,KAAOmyB,EAAO7lB,EAAEtM,GAAG,IAAMkyB,EAAO5lB,EAAEtM,GAAG,KAAOmyB,EAAO7lB,EAAEtM,GAAG,IAAMkyB,EAAOlyB,EAAEA,GAAG,KAAOmyB,EAAOnyB,EAAEA,GAAG,IAAMkyB,EAAOlyB,EAAEA,GAAG,KAAOmyB,EAAOnyB,EAAEA,GAAG,GAC1N,OAAO,EAIX,OAAO,CACT,EAGOoyB,CAAY19B,KAAKgT,EAAG8oB,KACvB97B,KAAKgT,EAAImpB,UAAUtyB,MAAMiyB,GACzB97B,KAAKu9B,qBAAqBd,gBAC1Bz8B,KAAKu9B,qBAAqBf,SAASx8B,KAAKgT,GACxChT,KAAKo5B,MAAO,EACZp5B,KAAKs9B,MAAQt9B,KAAKu9B,qBAEtB,CAEA,SAASlE,IACP,GAAIr5B,KAAKmqB,KAAKpG,WAAWuV,UAAYt5B,KAAKs5B,QAI1C,GAAKt5B,KAAKu5B,gBAAgBr2B,OAK1B,GAAIlD,KAAKw5B,KACPx5B,KAAKi5B,UAAUj5B,KAAKw0B,QADtB,CAOA,IAAIkF,EAUApuB,EAZJtL,KAAKw5B,MAAO,EACZx5B,KAAKo5B,MAAO,EAIVM,EADE15B,KAAK25B,GACM35B,KAAKw0B,GACTx0B,KAAK0J,KAAKgO,GACN1X,KAAK0J,KAAKgO,GAAGlB,EAEbxW,KAAK0J,KAAKoN,GAAGN,EAI5B,IAAIhL,EAAMxL,KAAKu5B,gBAAgBr2B,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBouB,EAAa15B,KAAKu5B,gBAAgBjuB,GAAGouB,GAGvC15B,KAAKi5B,UAAUS,GACf15B,KAAKw5B,MAAO,EACZx5B,KAAKs5B,QAAUt5B,KAAKmqB,KAAKpG,WAAWuV,OAvBpC,MAPEt5B,KAAKo5B,MAAO,CA+BhB,CAEA,SAASuE,EAAcxT,EAAMzgB,EAAMQ,GACjClK,KAAKu0B,SAAW,QAChBv0B,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAKuG,UAAY4jB,EACjBnqB,KAAKmqB,KAAOA,EACZnqB,KAAK0J,KAAOA,EACZ1J,KAAKwW,GAAI,EACTxW,KAAK25B,IAAK,EACV35B,KAAKo5B,MAAO,EACZ,IAAIhgB,EAAoB,IAATlP,EAAaR,EAAKoN,GAAGN,EAAI9M,EAAKgO,GAAGlB,EAChDxW,KAAKgT,EAAImpB,UAAUtyB,MAAMuP,GACzBpZ,KAAKw0B,GAAK2H,UAAUtyB,MAAM7J,KAAKgT,GAC/BhT,KAAKu9B,qBAAuBb,oBAAoBC,qBAChD38B,KAAKs9B,MAAQt9B,KAAKu9B,qBAClBv9B,KAAKs9B,MAAMd,SAASx8B,KAAKgT,GACzBhT,KAAK8B,MAAQu7B,EACbr9B,KAAKu5B,gBAAkB,EACzB,CAEA,SAASK,EAAUC,GACjB75B,KAAKu5B,gBAAgB3sB,KAAKitB,GAC1B75B,KAAKuG,UAAUuzB,mBAAmB95B,KACpC,CAOA,SAAS49B,EAAuBzT,EAAMzgB,EAAMQ,GAC1ClK,KAAKu0B,SAAW,QAChBv0B,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAKmqB,KAAOA,EACZnqB,KAAKuG,UAAY4jB,EACjBnqB,KAAKs0B,WAAanK,EAAKzgB,KAAKoP,GAC5B9Y,KAAK+0B,UAAqB,IAAT7qB,EAAaR,EAAKoN,GAAGN,EAAI9M,EAAKgO,GAAGlB,EAClDxW,KAAKg1B,kBAAoB,GACzBh1B,KAAKwW,GAAI,EACTxW,KAAK25B,IAAK,EACV,IAAInuB,EAAMxL,KAAK+0B,UAAU,GAAGhiB,EAAE,GAAGzH,EAAEpI,OACnClD,KAAKgT,EAAImpB,UAAUxN,aACnB3uB,KAAKgT,EAAEioB,YAAYj7B,KAAK+0B,UAAU,GAAGhiB,EAAE,GAAGwG,EAAG/N,GAC7CxL,KAAKw0B,GAAK2H,UAAUtyB,MAAM7J,KAAKgT,GAC/BhT,KAAKu9B,qBAAuBb,oBAAoBC,qBAChD38B,KAAKs9B,MAAQt9B,KAAKu9B,qBAClBv9B,KAAKs9B,MAAMd,SAASx8B,KAAKgT,GACzBhT,KAAK61B,UAAY7B,EACjBh0B,KAAK8B,MAAQu7B,EACbr9B,KAAK+4B,SAAW,CACdlD,UAAW7B,EACXc,UAAW,GAEb90B,KAAKu5B,gBAAkB,CAAC6D,EAA4Brf,KAAK/d,MAC3D,CA7BA29B,EAAcjyB,UAAUoxB,iBAAmBA,EAC3Ca,EAAcjyB,UAAUuuB,SAAWZ,EACnCsE,EAAcjyB,UAAUutB,UAAYA,EACpC0E,EAAcjyB,UAAUkuB,UAAYA,EA4BpCgE,EAAuBlyB,UAAUuuB,SAAWZ,EAC5CuE,EAAuBlyB,UAAUoxB,iBAAmBA,EACpDc,EAAuBlyB,UAAUutB,UAAYA,EAC7C2E,EAAuBlyB,UAAUkuB,UAAYA,EAE7C,IAAIiE,EAAmB,WACrB,IAAIC,EAASptB,YAEb,SAASqtB,EAAwB5T,EAAMzgB,GACrC1J,KAAKgT,EAAImpB,UAAUxN,aACnB3uB,KAAKgT,EAAEioB,aAAY,EAAM,GACzBj7B,KAAKu9B,qBAAuBb,oBAAoBC,qBAChD38B,KAAKs9B,MAAQt9B,KAAKu9B,qBAClBv9B,KAAKu9B,qBAAqBf,SAASx8B,KAAKgT,GACxChT,KAAKyT,EAAI/J,EAAK+J,EACdzT,KAAKmqB,KAAOA,EACZnqB,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAKs5B,SAAW,EAChBt5B,KAAK86B,6BAA6B3Q,GAClCnqB,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAK2J,EAAG,EAAG,EAAGrT,MACrDA,KAAK+S,EAAIunB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKqJ,EAAG,EAAG,EAAG/S,MAEjDA,KAAK26B,kBAAkBz3B,OACzBlD,KAAKwW,GAAI,GAETxW,KAAKwW,GAAI,EACTxW,KAAKg+B,mBAET,CAoDA,OAlDAD,EAAwBryB,UAAY,CAClC5J,MAAOu7B,EACPpD,SAAU,WACJj6B,KAAKmqB,KAAKpG,WAAWuV,UAAYt5B,KAAKs5B,UAI1Ct5B,KAAKs5B,QAAUt5B,KAAKmqB,KAAKpG,WAAWuV,QACpCt5B,KAAK66B,2BAED76B,KAAKo5B,MACPp5B,KAAKg+B,mBAET,EACAA,iBAAkB,WAChB,IAAIC,EAAKj+B,KAAKqT,EAAEL,EAAE,GACdkrB,EAAKl+B,KAAKqT,EAAEL,EAAE,GACdmrB,EAAKn+B,KAAK+S,EAAEC,EAAE,GAAK,EACnBylB,EAAKz4B,KAAK+S,EAAEC,EAAE,GAAK,EAEnBorB,EAAiB,IAAXp+B,KAAKyT,EAEX4qB,EAAKr+B,KAAKgT,EACdqrB,EAAGrrB,EAAE,GAAG,GAAKirB,EACbI,EAAGrrB,EAAE,GAAG,GAAKkrB,EAAKzF,EAClB4F,EAAGrrB,EAAE,GAAG,GAAKorB,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAGrrB,EAAE,GAAG,GAAKkrB,EACbG,EAAGrrB,EAAE,GAAG,GAAKirB,EACbI,EAAGrrB,EAAE,GAAG,GAAKkrB,EAAKzF,EAClB4F,EAAGrrB,EAAE,GAAG,GAAKorB,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAGrrB,EAAE,GAAG,GAAKkrB,EACbG,EAAG/yB,EAAE,GAAG,GAAK8yB,EAAMH,EAAKE,EAAKL,EAASG,EAAKE,EAAKL,EAChDO,EAAG/yB,EAAE,GAAG,GAAK4yB,EAAKzF,EAClB4F,EAAG/yB,EAAE,GAAG,GAAK8yB,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAG/yB,EAAE,GAAG,GAAK4yB,EAAKzF,EAAKqF,EACvBO,EAAG/yB,EAAE,GAAG,GAAK8yB,EAAMH,EAAKE,EAAKL,EAASG,EAAKE,EAAKL,EAChDO,EAAG/yB,EAAE,GAAG,GAAK4yB,EAAKzF,EAClB4F,EAAG/yB,EAAE,GAAG,GAAK8yB,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAG/yB,EAAE,GAAG,GAAK4yB,EAAKzF,EAAKqF,EACvBO,EAAGzmB,EAAE,GAAG,GAAKwmB,EAAMH,EAAKE,EAAKL,EAASG,EAAKE,EAAKL,EAChDO,EAAGzmB,EAAE,GAAG,GAAKsmB,EAAKzF,EAClB4F,EAAGzmB,EAAE,GAAG,GAAKwmB,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAGzmB,EAAE,GAAG,GAAKsmB,EAAKzF,EAAKqF,EACvBO,EAAGzmB,EAAE,GAAG,GAAKwmB,EAAMH,EAAKE,EAAKL,EAASG,EAAKE,EAAKL,EAChDO,EAAGzmB,EAAE,GAAG,GAAKsmB,EAAKzF,EAClB4F,EAAGzmB,EAAE,GAAG,GAAKwmB,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAGzmB,EAAE,GAAG,GAAKsmB,EAAKzF,EAAKqF,CACzB,GAEF3yB,gBAAgB,CAACuvB,0BAA2BqD,GACrCA,CACT,CA5EuB,GA8EnBO,EAAoB,WACtB,SAASC,EAAyBpU,EAAMzgB,GACtC1J,KAAKgT,EAAImpB,UAAUxN,aACnB3uB,KAAKgT,EAAEioB,aAAY,EAAM,GACzBj7B,KAAKmqB,KAAOA,EACZnqB,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAK0J,KAAOA,EACZ1J,KAAKs5B,SAAW,EAChBt5B,KAAKyT,EAAI/J,EAAK+J,EACdzT,KAAK86B,6BAA6B3Q,GAElB,IAAZzgB,EAAK80B,IACPx+B,KAAKy+B,GAAKnE,gBAAgBC,QAAQpQ,EAAMzgB,EAAK+0B,GAAI,EAAG,EAAGz+B,MACvDA,KAAK0+B,GAAKpE,gBAAgBC,QAAQpQ,EAAMzgB,EAAKg1B,GAAI,EAAG,IAAM1+B,MAC1DA,KAAK2+B,cAAgB3+B,KAAK4+B,mBAE1B5+B,KAAK2+B,cAAgB3+B,KAAK6+B,qBAG5B7+B,KAAK8W,GAAKwjB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKoN,GAAI,EAAG,EAAG9W,MACvDA,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAK2J,EAAG,EAAG,EAAGrT,MACrDA,KAAKiT,EAAIqnB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKuJ,EAAG,EAAGzC,UAAWxQ,MAC7DA,KAAK8+B,GAAKxE,gBAAgBC,QAAQpQ,EAAMzgB,EAAKo1B,GAAI,EAAG,EAAG9+B,MACvDA,KAAK++B,GAAKzE,gBAAgBC,QAAQpQ,EAAMzgB,EAAKq1B,GAAI,EAAG,IAAM/+B,MAC1DA,KAAKu9B,qBAAuBb,oBAAoBC,qBAChD38B,KAAKu9B,qBAAqBf,SAASx8B,KAAKgT,GACxChT,KAAKs9B,MAAQt9B,KAAKu9B,qBAEdv9B,KAAK26B,kBAAkBz3B,OACzBlD,KAAKwW,GAAI,GAETxW,KAAKwW,GAAI,EACTxW,KAAK2+B,gBAET,CAuFA,OArFAJ,EAAyB7yB,UAAY,CACnC5J,MAAOu7B,EACPpD,SAAU,WACJj6B,KAAKmqB,KAAKpG,WAAWuV,UAAYt5B,KAAKs5B,UAI1Ct5B,KAAKs5B,QAAUt5B,KAAKmqB,KAAKpG,WAAWuV,QACpCt5B,KAAK66B,2BAED76B,KAAKo5B,MACPp5B,KAAK2+B,gBAET,EACAC,kBAAmB,WACjB,IAaItzB,EACA0zB,EACAC,EACAC,EAhBAC,EAAiC,EAAxB7vB,KAAKK,MAAM3P,KAAK8W,GAAG9D,GAC5BosB,EAAkB,EAAV9vB,KAAKmB,GAAS0uB,EAKtBE,GAAW,EACXC,EAAUt/B,KAAK8+B,GAAG9rB,EAClBusB,EAAWv/B,KAAKy+B,GAAGzrB,EACnBwsB,EAAYx/B,KAAK++B,GAAG/rB,EACpBysB,EAAaz/B,KAAK0+B,GAAG1rB,EACrB0sB,EAAmB,EAAIpwB,KAAKmB,GAAK6uB,GAAoB,EAATH,GAC5CQ,EAAoB,EAAIrwB,KAAKmB,GAAK8uB,GAAqB,EAATJ,GAK9CS,GAActwB,KAAKmB,GAAK,EAC5BmvB,GAAc5/B,KAAKiT,EAAED,EACrB,IAAIse,EAAsB,IAAhBtxB,KAAK0J,KAAK+J,GAAW,EAAI,EAGnC,IAFAzT,KAAKgT,EAAEwb,QAAU,EAEZljB,EAAI,EAAGA,EAAI6zB,EAAQ7zB,GAAK,EAAG,CAE9B2zB,EAAYI,EAAWG,EAAYC,EACnCP,EAAeG,EAAWK,EAAmBC,EAC7C,IAAI/S,GAHJoS,EAAMK,EAAWC,EAAUC,GAGbjwB,KAAKgpB,IAAIsH,GACnBnK,EAAIuJ,EAAM1vB,KAAKmoB,IAAImI,GACnBC,EAAW,IAANjT,GAAiB,IAAN6I,EAAU,EAAIA,EAAInmB,KAAKG,KAAKmd,EAAIA,EAAI6I,EAAIA,GACxDqK,EAAW,IAANlT,GAAiB,IAAN6I,EAAU,GAAK7I,EAAItd,KAAKG,KAAKmd,EAAIA,EAAI6I,EAAIA,GAC7D7I,IAAM5sB,KAAKqT,EAAEL,EAAE,GACfyiB,IAAMz1B,KAAKqT,EAAEL,EAAE,GACfhT,KAAKgT,EAAEsoB,YAAY1O,EAAG6I,EAAG7I,EAAIiT,EAAKX,EAAeD,EAAY3N,EAAKmE,EAAIqK,EAAKZ,EAAeD,EAAY3N,EAAK1E,EAAIiT,EAAKX,EAAeD,EAAY3N,EAAKmE,EAAIqK,EAAKZ,EAAeD,EAAY3N,EAAKhmB,GAAG,GAMhM+zB,GAAYA,EACZO,GAAcR,EAAQ9N,CACxB,CACF,EACAuN,qBAAsB,WACpB,IAKIvzB,EALA6zB,EAAS7vB,KAAKK,MAAM3P,KAAK8W,GAAG9D,GAC5BosB,EAAkB,EAAV9vB,KAAKmB,GAAS0uB,EACtBH,EAAMh/B,KAAK8+B,GAAG9rB,EACdisB,EAAYj/B,KAAK++B,GAAG/rB,EACpBksB,EAAe,EAAI5vB,KAAKmB,GAAKuuB,GAAgB,EAATG,GAEpCS,EAAwB,IAAVtwB,KAAKmB,GACnB6gB,EAAsB,IAAhBtxB,KAAK0J,KAAK+J,GAAW,EAAI,EAInC,IAHAmsB,GAAc5/B,KAAKiT,EAAED,EACrBhT,KAAKgT,EAAEwb,QAAU,EAEZljB,EAAI,EAAGA,EAAI6zB,EAAQ7zB,GAAK,EAAG,CAC9B,IAAIshB,EAAIoS,EAAM1vB,KAAKgpB,IAAIsH,GACnBnK,EAAIuJ,EAAM1vB,KAAKmoB,IAAImI,GACnBC,EAAW,IAANjT,GAAiB,IAAN6I,EAAU,EAAIA,EAAInmB,KAAKG,KAAKmd,EAAIA,EAAI6I,EAAIA,GACxDqK,EAAW,IAANlT,GAAiB,IAAN6I,EAAU,GAAK7I,EAAItd,KAAKG,KAAKmd,EAAIA,EAAI6I,EAAIA,GAC7D7I,IAAM5sB,KAAKqT,EAAEL,EAAE,GACfyiB,IAAMz1B,KAAKqT,EAAEL,EAAE,GACfhT,KAAKgT,EAAEsoB,YAAY1O,EAAG6I,EAAG7I,EAAIiT,EAAKX,EAAeD,EAAY3N,EAAKmE,EAAIqK,EAAKZ,EAAeD,EAAY3N,EAAK1E,EAAIiT,EAAKX,EAAeD,EAAY3N,EAAKmE,EAAIqK,EAAKZ,EAAeD,EAAY3N,EAAKhmB,GAAG,GAChMs0B,GAAcR,EAAQ9N,CACxB,CAEAtxB,KAAKs9B,MAAMp6B,OAAS,EACpBlD,KAAKs9B,MAAM,GAAKt9B,KAAKgT,CACvB,GAEF7H,gBAAgB,CAACuvB,0BAA2B6D,GACrCA,CACT,CA1HwB,GA4HpBwB,EAAoB,WACtB,SAASC,EAAyB7V,EAAMzgB,GACtC1J,KAAKgT,EAAImpB,UAAUxN,aACnB3uB,KAAKgT,EAAEuG,GAAI,EACXvZ,KAAKu9B,qBAAuBb,oBAAoBC,qBAChD38B,KAAKu9B,qBAAqBf,SAASx8B,KAAKgT,GACxChT,KAAKs9B,MAAQt9B,KAAKu9B,qBAClBv9B,KAAKmqB,KAAOA,EACZnqB,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAKs5B,SAAW,EAChBt5B,KAAKyT,EAAI/J,EAAK+J,EACdzT,KAAK86B,6BAA6B3Q,GAClCnqB,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAK2J,EAAG,EAAG,EAAGrT,MACrDA,KAAK+S,EAAIunB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKqJ,EAAG,EAAG,EAAG/S,MACrDA,KAAKiT,EAAIqnB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKuJ,EAAG,EAAG,EAAGjT,MAEjDA,KAAK26B,kBAAkBz3B,OACzBlD,KAAKwW,GAAI,GAETxW,KAAKwW,GAAI,EACTxW,KAAKigC,oBAET,CA4DA,OA1DAD,EAAyBt0B,UAAY,CACnCu0B,kBAAmB,WACjB,IAAIhC,EAAKj+B,KAAKqT,EAAEL,EAAE,GACdkrB,EAAKl+B,KAAKqT,EAAEL,EAAE,GACdktB,EAAKlgC,KAAK+S,EAAEC,EAAE,GAAK,EACnBmtB,EAAKngC,KAAK+S,EAAEC,EAAE,GAAK,EACnBnC,EAAQf,MAAMowB,EAAIC,EAAIngC,KAAKiT,EAAED,GAC7B8qB,EAASjtB,GAAS,EAAIH,aAC1B1Q,KAAKgT,EAAEwb,QAAU,EAEF,IAAXxuB,KAAKyT,GAAsB,IAAXzT,KAAKyT,GACvBzT,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQ,GAAG,GACrG99B,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQG,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAO,GAAG,GAEvF,IAAVA,GACF7Q,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAI,GAAG,GACrGngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAIlC,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAI,GAAG,GACrGngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQ,GAAG,GACrG99B,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQG,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAO,GAAG,GACrG7Q,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAI,GAAG,GACrGngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAIlC,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAI,GAAG,KAErGngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAIlC,EAAKiC,EAAIhC,EAAKiC,EAAI,GAClFngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAIlC,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQG,EAAKiC,EAAIhC,EAAKiC,EAAI,MAGpFngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQG,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAO,GAAG,GAEvF,IAAVA,GACF7Q,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAI,GAAG,GACrGngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAIlC,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAI,GAAG,GACrGngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQ,GAAG,GACrG99B,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQG,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAO,GAAG,GACrG7Q,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAI,GAAG,GACrGngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAIlC,EAAKiC,EAAKrvB,EAAOqtB,EAAKiC,EAAI,GAAG,GACrGngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKtvB,EAAOotB,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQ,GAAG,KAErG99B,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAIlC,EAAKiC,EAAIhC,EAAKiC,EAAI,GAAG,GACrFngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAIlC,EAAKiC,EAAIhC,EAAKiC,EAAKrC,EAAQG,EAAKiC,EAAIhC,EAAKiC,EAAI,GAAG,GACrFngC,KAAKgT,EAAEsoB,YAAY2C,EAAKiC,EAAIhC,EAAKiC,EAAIlC,EAAKiC,EAAKpC,EAAQI,EAAKiC,EAAIlC,EAAKiC,EAAIhC,EAAKiC,EAAI,GAAG,IAG3F,EACAlG,SAAU,WACJj6B,KAAKmqB,KAAKpG,WAAWuV,UAAYt5B,KAAKs5B,UAI1Ct5B,KAAKs5B,QAAUt5B,KAAKmqB,KAAKpG,WAAWuV,QACpCt5B,KAAK66B,2BAED76B,KAAKo5B,MACPp5B,KAAKigC,oBAET,EACAn+B,MAAOu7B,GAETlyB,gBAAgB,CAACuvB,0BAA2BsF,GACrCA,CACT,CAnFwB,GAwHpB/hB,EAAK,CACTA,aApCA,SAAsBkM,EAAMzgB,EAAMQ,GAChC,IAAI8B,EAuBJ,OArBa,IAAT9B,GAAuB,IAATA,EAKd8B,GAJsB,IAAT9B,EAAaR,EAAKoN,GAAKpN,EAAKgO,IACvBlB,EAEXtT,OACA,IAAI06B,EAAuBzT,EAAMzgB,EAAMQ,GAEvC,IAAIyzB,EAAcxT,EAAMzgB,EAAMQ,GAErB,IAATA,EACT8B,EAAO,IAAI+zB,EAAkB5V,EAAMzgB,GACjB,IAATQ,EACT8B,EAAO,IAAI6xB,EAAiB1T,EAAMzgB,GAChB,IAATQ,IACT8B,EAAO,IAAIsyB,EAAkBnU,EAAMzgB,IAGjCsC,EAAKwK,GACP2T,EAAK2P,mBAAmB9tB,GAGnBA,CACT,EAYAiS,uBAVA,WACE,OAAO0f,CACT,EASA1f,gCAPA,WACE,OAAO2f,CACT,GAMA,OAAO3f,CACT,CAzjB2B,GAwlBvBmiB,OAAS,WACX,IAAIC,EAAO/wB,KAAKgpB,IACZgI,EAAOhxB,KAAKmoB,IACZ8I,EAAOjxB,KAAKkxB,IACZC,EAAOnxB,KAAKuB,MAEhB,SAAS/O,IAiBP,OAhBA9B,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,GAAK,EAChB1gC,KAAK0gC,MAAM,IAAM,EACjB1gC,KAAK0gC,MAAM,IAAM,EACjB1gC,KAAK0gC,MAAM,IAAM,EACjB1gC,KAAK0gC,MAAM,IAAM,EACjB1gC,KAAK0gC,MAAM,IAAM,EACjB1gC,KAAK0gC,MAAM,IAAM,EACV1gC,IACT,CAEA,SAAS2gC,EAAOvB,GACd,GAAc,IAAVA,EACF,OAAOp/B,KAGT,IAAI4gC,EAAOP,EAAKjB,GAEZyB,EAAOP,EAAKlB,GAEhB,OAAOp/B,KAAK8gC,GAAGF,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC3E,CAEA,SAASG,EAAQ3B,GACf,GAAc,IAAVA,EACF,OAAOp/B,KAGT,IAAI4gC,EAAOP,EAAKjB,GAEZyB,EAAOP,EAAKlB,GAEhB,OAAOp/B,KAAK8gC,GAAG,EAAG,EAAG,EAAG,EAAG,EAAGF,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAC3E,CAEA,SAASI,EAAQ5B,GACf,GAAc,IAAVA,EACF,OAAOp/B,KAGT,IAAI4gC,EAAOP,EAAKjB,GAEZyB,EAAOP,EAAKlB,GAEhB,OAAOp/B,KAAK8gC,GAAGF,EAAM,EAAGC,EAAM,EAAG,EAAG,EAAG,EAAG,GAAIA,EAAM,EAAGD,EAAM,EAAG,EAAG,EAAG,EAAG,EAC3E,CAEA,SAASK,EAAQ7B,GACf,GAAc,IAAVA,EACF,OAAOp/B,KAGT,IAAI4gC,EAAOP,EAAKjB,GAEZyB,EAAOP,EAAKlB,GAEhB,OAAOp/B,KAAK8gC,GAAGF,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC3E,CAEA,SAASM,EAAMC,EAAI3C,GACjB,OAAOx+B,KAAK8gC,GAAG,EAAGtC,EAAI2C,EAAI,EAAG,EAAG,EAClC,CAEA,SAASC,EAAKpK,EAAIC,GAChB,OAAOj3B,KAAKkhC,MAAMX,EAAKvJ,GAAKuJ,EAAKtJ,GACnC,CAEA,SAASoK,EAAarK,EAAIoI,GACxB,IAAIwB,EAAOP,EAAKjB,GAEZyB,EAAOP,EAAKlB,GAEhB,OAAOp/B,KAAK8gC,GAAGF,EAAMC,EAAM,EAAG,GAAIA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGE,GAAG,EAAG,EAAG,EAAG,EAAGP,EAAKvJ,GAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG8J,GAAGF,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACrM,CAEA,SAASU,EAAMH,EAAI3C,EAAI+C,GAKrB,OAJKA,GAAa,IAAPA,IACTA,EAAK,GAGI,IAAPJ,GAAmB,IAAP3C,GAAmB,IAAP+C,EACnBvhC,KAGFA,KAAK8gC,GAAGK,EAAI,EAAG,EAAG,EAAG,EAAG3C,EAAI,EAAG,EAAG,EAAG,EAAG+C,EAAI,EAAG,EAAG,EAAG,EAAG,EACjE,CAEA,SAASC,EAAaxoB,EAAG7F,EAAGoG,EAAG9F,EAAGlT,EAAG6S,EAAGF,EAAGJ,EAAGxH,EAAGgL,EAAGE,EAAGirB,EAAGC,EAAGhM,EAAG9d,EAAGvE,GAiBjE,OAhBArT,KAAK0gC,MAAM,GAAK1nB,EAChBhZ,KAAK0gC,MAAM,GAAKvtB,EAChBnT,KAAK0gC,MAAM,GAAKnnB,EAChBvZ,KAAK0gC,MAAM,GAAKjtB,EAChBzT,KAAK0gC,MAAM,GAAKngC,EAChBP,KAAK0gC,MAAM,GAAKttB,EAChBpT,KAAK0gC,MAAM,GAAKxtB,EAChBlT,KAAK0gC,MAAM,GAAK5tB,EAChB9S,KAAK0gC,MAAM,GAAKp1B,EAChBtL,KAAK0gC,MAAM,GAAKpqB,EAChBtW,KAAK0gC,MAAM,IAAMlqB,EACjBxW,KAAK0gC,MAAM,IAAMe,EACjBzhC,KAAK0gC,MAAM,IAAMgB,EACjB1hC,KAAK0gC,MAAM,IAAMhL,EACjB11B,KAAK0gC,MAAM,IAAM9oB,EACjB5X,KAAK0gC,MAAM,IAAMrtB,EACVrT,IACT,CAEA,SAAS2hC,EAAUC,EAAI5qB,EAAI6qB,GAGzB,OAFAA,EAAKA,GAAM,EAEA,IAAPD,GAAmB,IAAP5qB,GAAmB,IAAP6qB,EACnB7hC,KAAK8gC,GAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGc,EAAI5qB,EAAI6qB,EAAI,GAG1D7hC,IACT,CAEA,SAAS8hC,EAAUC,EAAIC,EAAIzJ,EAAI0J,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAC7E,IAAIrW,EAAKxsB,KAAK0gC,MAEd,GAAW,IAAPqB,GAAmB,IAAPC,GAAmB,IAAPzJ,GAAmB,IAAP0J,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,EAStI,OANAjW,EAAG,IAAMA,EAAG,IAAMuV,EAAKvV,EAAG,IAAMkW,EAChClW,EAAG,IAAMA,EAAG,IAAM2V,EAAK3V,EAAG,IAAMmW,EAChCnW,EAAG,IAAMA,EAAG,IAAMgW,EAAKhW,EAAG,IAAMoW,EAChCpW,EAAG,KAAOqW,EAEV7iC,KAAK8iC,qBAAsB,EACpB9iC,KAGT,IAAI+iC,EAAKvW,EAAG,GACRwW,EAAKxW,EAAG,GACR6L,EAAK7L,EAAG,GACRyW,EAAKzW,EAAG,GACR0W,EAAK1W,EAAG,GACR2W,EAAK3W,EAAG,GACR4W,EAAK5W,EAAG,GACR6W,EAAK7W,EAAG,GACR8W,EAAK9W,EAAG,GACR+W,EAAK/W,EAAG,GACRgX,EAAKhX,EAAG,IACRiX,EAAKjX,EAAG,IACRkX,EAAKlX,EAAG,IACRmX,EAAKnX,EAAG,IACRoX,EAAKpX,EAAG,IACR0R,EAAK1R,EAAG,IAwBZ,OAjBAA,EAAG,GAAKuW,EAAKhB,EAAKiB,EAAKd,EAAK7J,EAAKiK,EAAKW,EAAKP,EAC3ClW,EAAG,GAAKuW,EAAKf,EAAKgB,EAAKb,EAAK9J,EAAKkK,EAAKU,EAAKN,EAC3CnW,EAAG,GAAKuW,EAAKxK,EAAKyK,EAAKZ,EAAK/J,EAAKmK,EAAKS,EAAKL,EAC3CpW,EAAG,GAAKuW,EAAKd,EAAKe,EAAKX,EAAKhK,EAAKoK,EAAKQ,EAAKJ,EAC3CrW,EAAG,GAAK0W,EAAKnB,EAAKoB,EAAKjB,EAAKkB,EAAKd,EAAKe,EAAKX,EAC3ClW,EAAG,GAAK0W,EAAKlB,EAAKmB,EAAKhB,EAAKiB,EAAKb,EAAKc,EAAKV,EAC3CnW,EAAG,GAAK0W,EAAK3K,EAAK4K,EAAKf,EAAKgB,EAAKZ,EAAKa,EAAKT,EAC3CpW,EAAG,GAAK0W,EAAKjB,EAAKkB,EAAKd,EAAKe,EAAKX,EAAKY,EAAKR,EAC3CrW,EAAG,GAAK8W,EAAKvB,EAAKwB,EAAKrB,EAAKsB,EAAKlB,EAAKmB,EAAKf,EAC3ClW,EAAG,GAAK8W,EAAKtB,EAAKuB,EAAKpB,EAAKqB,EAAKjB,EAAKkB,EAAKd,EAC3CnW,EAAG,IAAM8W,EAAK/K,EAAKgL,EAAKnB,EAAKoB,EAAKhB,EAAKiB,EAAKb,EAC5CpW,EAAG,IAAM8W,EAAKrB,EAAKsB,EAAKlB,EAAKmB,EAAKf,EAAKgB,EAAKZ,EAC5CrW,EAAG,IAAMkX,EAAK3B,EAAK4B,EAAKzB,EAAK0B,EAAKtB,EAAKpE,EAAKwE,EAC5ClW,EAAG,IAAMkX,EAAK1B,EAAK2B,EAAKxB,EAAKyB,EAAKrB,EAAKrE,EAAKyE,EAC5CnW,EAAG,IAAMkX,EAAKnL,EAAKoL,EAAKvB,EAAKwB,EAAKpB,EAAKtE,EAAK0E,EAC5CpW,EAAG,IAAMkX,EAAKzB,EAAK0B,EAAKtB,EAAKuB,EAAKnB,EAAKvE,EAAK2E,EAC5C7iC,KAAK8iC,qBAAsB,EACpB9iC,IACT,CAEA,SAAS6jC,EAASC,GAChB,IAAIC,EAAcD,EAAOpD,MACzB,OAAO1gC,KAAK8hC,UAAUiC,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,IAAKA,EAAY,IAAKA,EAAY,IAAKA,EAAY,IAAKA,EAAY,IAAKA,EAAY,IACzR,CAEA,SAASC,IAMP,OALKhkC,KAAK8iC,sBACR9iC,KAAKikC,YAAgC,IAAlBjkC,KAAK0gC,MAAM,IAA8B,IAAlB1gC,KAAK0gC,MAAM,IAA8B,IAAlB1gC,KAAK0gC,MAAM,IAA8B,IAAlB1gC,KAAK0gC,MAAM,IAA8B,IAAlB1gC,KAAK0gC,MAAM,IAA8B,IAAlB1gC,KAAK0gC,MAAM,IAA8B,IAAlB1gC,KAAK0gC,MAAM,IAA8B,IAAlB1gC,KAAK0gC,MAAM,IAA8B,IAAlB1gC,KAAK0gC,MAAM,IAA8B,IAAlB1gC,KAAK0gC,MAAM,IAA+B,IAAnB1gC,KAAK0gC,MAAM,KAAgC,IAAnB1gC,KAAK0gC,MAAM,KAAgC,IAAnB1gC,KAAK0gC,MAAM,KAAgC,IAAnB1gC,KAAK0gC,MAAM,KAAgC,IAAnB1gC,KAAK0gC,MAAM,KAAgC,IAAnB1gC,KAAK0gC,MAAM,KAC5X1gC,KAAK8iC,qBAAsB,GAGtB9iC,KAAKikC,SACd,CAEA,SAASC,EAAOC,GAGd,IAFA,IAAI74B,EAAI,EAEDA,EAAI,IAAI,CACb,GAAI64B,EAAKzD,MAAMp1B,KAAOtL,KAAK0gC,MAAMp1B,GAC/B,OAAO,EAGTA,GAAK,CACP,CAEA,OAAO,CACT,CAEA,SAASzB,EAAMs6B,GACb,IAAI74B,EAEJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvB64B,EAAKzD,MAAMp1B,GAAKtL,KAAK0gC,MAAMp1B,GAG7B,OAAO64B,CACT,CAEA,SAASC,EAAe1D,GACtB,IAAIp1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvBtL,KAAK0gC,MAAMp1B,GAAKo1B,EAAMp1B,EAE1B,CAEA,SAAS+4B,EAAazX,EAAG6I,EAAG6O,GAC1B,MAAO,CACL1X,EAAGA,EAAI5sB,KAAK0gC,MAAM,GAAKjL,EAAIz1B,KAAK0gC,MAAM,GAAK4D,EAAItkC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,IAC1EjL,EAAG7I,EAAI5sB,KAAK0gC,MAAM,GAAKjL,EAAIz1B,KAAK0gC,MAAM,GAAK4D,EAAItkC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,IAC1E4D,EAAG1X,EAAI5sB,KAAK0gC,MAAM,GAAKjL,EAAIz1B,KAAK0gC,MAAM,GAAK4D,EAAItkC,KAAK0gC,MAAM,IAAM1gC,KAAK0gC,MAAM,IAM/E,CAEA,SAAS6D,EAAS3X,EAAG6I,EAAG6O,GACtB,OAAO1X,EAAI5sB,KAAK0gC,MAAM,GAAKjL,EAAIz1B,KAAK0gC,MAAM,GAAK4D,EAAItkC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,GAChF,CAEA,SAAS8D,EAAS5X,EAAG6I,EAAG6O,GACtB,OAAO1X,EAAI5sB,KAAK0gC,MAAM,GAAKjL,EAAIz1B,KAAK0gC,MAAM,GAAK4D,EAAItkC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,GAChF,CAEA,SAAS+D,EAAS7X,EAAG6I,EAAG6O,GACtB,OAAO1X,EAAI5sB,KAAK0gC,MAAM,GAAKjL,EAAIz1B,KAAK0gC,MAAM,GAAK4D,EAAItkC,KAAK0gC,MAAM,IAAM1gC,KAAK0gC,MAAM,GACjF,CAEA,SAASgE,IACP,IAAIC,EAAc3kC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,GACzE1nB,EAAIhZ,KAAK0gC,MAAM,GAAKiE,EACpBxxB,GAAKnT,KAAK0gC,MAAM,GAAKiE,EACrBprB,GAAKvZ,KAAK0gC,MAAM,GAAKiE,EACrBlxB,EAAIzT,KAAK0gC,MAAM,GAAKiE,EACpBpkC,GAAKP,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,IAAM1gC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,KAAOiE,EACxEvxB,IAAMpT,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,IAAM1gC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,KAAOiE,EACzEC,EAAgB,IAAIxE,OAOxB,OANAwE,EAAclE,MAAM,GAAK1nB,EACzB4rB,EAAclE,MAAM,GAAKvtB,EACzByxB,EAAclE,MAAM,GAAKnnB,EACzBqrB,EAAclE,MAAM,GAAKjtB,EACzBmxB,EAAclE,MAAM,IAAMngC,EAC1BqkC,EAAclE,MAAM,IAAMttB,EACnBwxB,CACT,CAEA,SAASC,EAAa/tB,GAEpB,OADoB9W,KAAK0kC,mBACJI,kBAAkBhuB,EAAG,GAAIA,EAAG,GAAIA,EAAG,IAAM,EAChE,CAEA,SAASiuB,EAAcC,GACrB,IAAI15B,EACAE,EAAMw5B,EAAI9hC,OACV+hC,EAAS,GAEb,IAAK35B,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB25B,EAAO35B,GAAKu5B,EAAaG,EAAI15B,IAG/B,OAAO25B,CACT,CAEA,SAASC,EAAoBpV,EAAKC,EAAKC,GACrC,IAAI9hB,EAAMF,iBAAiB,UAAW,GAEtC,GAAIhO,KAAKgkC,aACP91B,EAAI,GAAK4hB,EAAI,GACb5hB,EAAI,GAAK4hB,EAAI,GACb5hB,EAAI,GAAK6hB,EAAI,GACb7hB,EAAI,GAAK6hB,EAAI,GACb7hB,EAAI,GAAK8hB,EAAI,GACb9hB,EAAI,GAAK8hB,EAAI,OACR,CACL,IAAIiO,EAAKj+B,KAAK0gC,MAAM,GAChBxC,EAAKl+B,KAAK0gC,MAAM,GAChByE,EAAKnlC,KAAK0gC,MAAM,GAChB0E,EAAKplC,KAAK0gC,MAAM,GAChB2E,EAAMrlC,KAAK0gC,MAAM,IACjB4E,EAAMtlC,KAAK0gC,MAAM,IACrBxyB,EAAI,GAAK4hB,EAAI,GAAKmO,EAAKnO,EAAI,GAAKqV,EAAKE,EACrCn3B,EAAI,GAAK4hB,EAAI,GAAKoO,EAAKpO,EAAI,GAAKsV,EAAKE,EACrCp3B,EAAI,GAAK6hB,EAAI,GAAKkO,EAAKlO,EAAI,GAAKoV,EAAKE,EACrCn3B,EAAI,GAAK6hB,EAAI,GAAKmO,EAAKnO,EAAI,GAAKqV,EAAKE,EACrCp3B,EAAI,GAAK8hB,EAAI,GAAKiO,EAAKjO,EAAI,GAAKmV,EAAKE,EACrCn3B,EAAI,GAAK8hB,EAAI,GAAKkO,EAAKlO,EAAI,GAAKoV,EAAKE,CACvC,CAEA,OAAOp3B,CACT,CAEA,SAAS42B,EAAkBlY,EAAG6I,EAAG6O,GAS/B,OANItkC,KAAKgkC,aACD,CAACpX,EAAG6I,EAAG6O,GAEP,CAAC1X,EAAI5sB,KAAK0gC,MAAM,GAAKjL,EAAIz1B,KAAK0gC,MAAM,GAAK4D,EAAItkC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,IAAK9T,EAAI5sB,KAAK0gC,MAAM,GAAKjL,EAAIz1B,KAAK0gC,MAAM,GAAK4D,EAAItkC,KAAK0gC,MAAM,GAAK1gC,KAAK0gC,MAAM,IAAK9T,EAAI5sB,KAAK0gC,MAAM,GAAKjL,EAAIz1B,KAAK0gC,MAAM,GAAK4D,EAAItkC,KAAK0gC,MAAM,IAAM1gC,KAAK0gC,MAAM,IAI3O,CAEA,SAAS6E,EAAwB3Y,EAAG6I,GAClC,GAAIz1B,KAAKgkC,aACP,OAAOpX,EAAI,IAAM6I,EAGnB,IAAIjJ,EAAKxsB,KAAK0gC,MACd,OAAOpxB,KAAKuB,MAAyC,KAAlC+b,EAAIJ,EAAG,GAAKiJ,EAAIjJ,EAAG,GAAKA,EAAG,MAAc,IAAM,IAAMld,KAAKuB,MAAyC,KAAlC+b,EAAIJ,EAAG,GAAKiJ,EAAIjJ,EAAG,GAAKA,EAAG,MAAc,GAC/H,CAEA,SAASgZ,IAWP,IALA,IAAIl6B,EAAI,EACJo1B,EAAQ1gC,KAAK0gC,MACb+E,EAAW,YAGRn6B,EAAI,IACTm6B,GAAYhF,EAHN,IAGWC,EAAMp1B,IAHjB,IAINm6B,GAAkB,KAANn6B,EAAW,IAAM,IAC7BA,GAAK,EAGP,OAAOm6B,CACT,CAEA,SAASC,EAAoBr1B,GAG3B,OAAIA,EAAM,MAAYA,EAAM,GAAKA,GAAO,MAAYA,EAAM,EACjDowB,EAHD,IAGMpwB,GAHN,IAMDA,CACT,CAEA,SAASs1B,IAMP,IAAIjF,EAAQ1gC,KAAK0gC,MAcjB,MAAO,UAZEgF,EAAoBhF,EAAM,IAYX,IAVfgF,EAAoBhF,EAAM,IAUA,IAR1BgF,EAAoBhF,EAAM,IAQW,IANrCgF,EAAoBhF,EAAM,IAMsB,IAJhDgF,EAAoBhF,EAAM,KAIiC,IAF3DgF,EAAoBhF,EAAM,KAE4C,GACjF,CAEA,OAAO,WACL1gC,KAAK8B,MAAQA,EACb9B,KAAK2gC,OAASA,EACd3gC,KAAK+gC,QAAUA,EACf/gC,KAAKghC,QAAUA,EACfhhC,KAAKihC,QAAUA,EACfjhC,KAAKohC,KAAOA,EACZphC,KAAKqhC,aAAeA,EACpBrhC,KAAKkhC,MAAQA,EACblhC,KAAKshC,MAAQA,EACbthC,KAAKwhC,aAAeA,EACpBxhC,KAAK2hC,UAAYA,EACjB3hC,KAAK8hC,UAAYA,EACjB9hC,KAAK6jC,SAAWA,EAChB7jC,KAAKqkC,aAAeA,EACpBrkC,KAAKukC,SAAWA,EAChBvkC,KAAKwkC,SAAWA,EAChBxkC,KAAKykC,SAAWA,EAChBzkC,KAAK8kC,kBAAoBA,EACzB9kC,KAAKklC,oBAAsBA,EAC3BllC,KAAKulC,wBAA0BA,EAC/BvlC,KAAKwlC,MAAQA,EACbxlC,KAAK2lC,QAAUA,EACf3lC,KAAK6J,MAAQA,EACb7J,KAAKokC,eAAiBA,EACtBpkC,KAAKkkC,OAASA,EACdlkC,KAAK+kC,cAAgBA,EACrB/kC,KAAK6kC,aAAeA,EACpB7kC,KAAK0kC,iBAAmBA,EACxB1kC,KAAK8gC,GAAK9gC,KAAK8hC,UACf9hC,KAAKgkC,WAAaA,EAClBhkC,KAAKikC,WAAY,EACjBjkC,KAAK8iC,qBAAsB,EAC3B9iC,KAAK0gC,MAAQ1yB,iBAAiB,UAAW,IACzChO,KAAK8B,OACP,CACF,CAhba,GAkbb,SAAS8jC,UAAUl3B,GAAuV,OAA1Ok3B,UAArD,mBAAXj3B,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBF,GAAO,cAAcA,CAAK,EAAwB,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAI5O,cAAgB6O,QAAUD,IAAQC,OAAOjD,UAAY,gBAAkBgD,CAAK,EAAYk3B,UAAUl3B,EAAM,CACjY,IAAIm3B,OAAS,CAAC,EACVlb,WAAa,mBACbpS,cAAgB,sBAChBoK,SAAW,GAEf,SAASmjB,YAAYC,GACnBh7B,gBAAgBg7B,EAClB,CAEA,SAASrb,oBACY,IAAfC,WACFnB,iBAAiBkB,iBAAiBnS,cAAeoS,WAAYhI,UAE7D6G,iBAAiBkB,kBAErB,CAEA,SAASsb,qBAAqBn7B,GAC5BsJ,mBAAmBtJ,EACrB,CAEA,SAASo7B,UAAUC,GACjBvxB,YAAYuxB,EACd,CAEA,SAASxqB,cAAc5W,GAKrB,OAJmB,IAAf6lB,aACF7lB,EAAOyT,cAAgBzU,KAAKC,MAAMwU,gBAG7BiR,iBAAiB9N,cAAc5W,EACxC,CAEA,SAASqhC,WAAW58B,GAClB,GAAqB,iBAAVA,EACT,OAAQA,GACN,IAAK,OACHkL,wBAAwB,KACxB,MAEF,QACA,IAAK,SACHA,wBAAwB,IACxB,MAEF,IAAK,MACHA,wBAAwB,SAGlBgT,MAAMle,IAAUA,EAAQ,GAClCkL,wBAAwBlL,GAGtBmL,2BAA6B,GAC/B/D,aAAY,GAEZA,aAAY,EAEhB,CAEA,SAASy1B,YACP,MAA4B,oBAAd77B,SAChB,CAEA,SAAS87B,cAAcn8B,EAAMo8B,GACd,gBAATp8B,GACFmK,qBAAqBiyB,EAEzB,CAEA,SAASC,WAAWt8B,GAClB,OAAQA,GACN,IAAK,kBACH,OAAOqwB,gBAET,IAAK,uBACH,OAAOuC,qBAET,IAAK,SACH,OAAOuD,OAET,QACE,OAAO,KAEb,CA+BA,SAASoG,aACqB,aAAxBvlC,SAAS8Z,aACX+C,cAAc2oB,yBACd/b,mBAEJ,CAEA,SAASgc,iBAAiBC,GAGxB,IAFA,IAAIC,EAAOC,YAAY5uB,MAAM,KAEpB3M,EAAI,EAAGA,EAAIs7B,EAAK1jC,OAAQoI,GAAK,EAAG,CACvC,IAAIw7B,EAAOF,EAAKt7B,GAAG2M,MAAM,KAEzB,GAAI8uB,mBAAmBD,EAAK,KAAOH,EAEjC,OAAOI,mBAAmBD,EAAK,GAEnC,CAEA,OAAO,IACT,CAjDAjB,OAAOx4B,KAAOmc,iBAAiBnc,KAC/Bw4B,OAAOh5B,MAAQ2c,iBAAiB3c,MAChCg5B,OAAO96B,gBAAkB+6B,YACzBD,OAAO7e,YAAcwC,iBAAiBxC,YACtC6e,OAAO3d,SAAWsB,iBAAiBtB,SACnC2d,OAAO1d,aAAeqB,iBAAiBrB,aACvC0d,OAAO5e,KAAOuC,iBAAiBvC,KAC/B4e,OAAOnb,iBAAmBA,iBAC1Bmb,OAAO3b,kBAAoBV,iBAAiBU,kBAC5C2b,OAAOnqB,cAAgBA,cACvBmqB,OAAOG,qBAAuBA,qBAC9BH,OAAOrf,OAASgD,iBAAiBhD,OAEjCqf,OAAOxe,YAAcmC,iBAAiBnC,YACtCwe,OAAOhnB,QAAU2K,iBAAiB3K,QAClCgnB,OAAOM,WAAaA,WACpBN,OAAOO,UAAYA,UACnBP,OAAOQ,cAAgBA,cACvBR,OAAO1a,OAAS3B,iBAAiB2B,OACjC0a,OAAOza,SAAW5B,iBAAiB4B,SACnCya,OAAOp4B,UAAY+b,iBAAiB/b,UACpCo4B,OAAOj4B,KAAO4b,iBAAiB5b,KAC/Bi4B,OAAOh4B,OAAS2b,iBAAiB3b,OACjCg4B,OAAOxa,wBAA0B7B,iBAAiB6B,wBAClDwa,OAAOmB,aAAep8B,aACtBi7B,OAAOoB,YAAchB,UACrBJ,OAAOqB,aAAeX,WACtBV,OAAOsB,QAAU,SAwBjB,IAAIN,YAAc,GAElB,GAAIlc,WAAY,CACd,IAAIyc,QAAUnmC,SAASgqB,qBAAqB,UACxC3B,MAAQ8d,QAAQlkC,OAAS,EACzBmkC,SAAWD,QAAQ9d,QAAU,CAC/BxiB,IAAK,IAEP+/B,YAAcQ,SAASvgC,IAAMugC,SAASvgC,IAAI0B,QAAQ,aAAc,IAAM,GAEtEma,SAAW+jB,iBAAiB,WAC9B,CAEA,IAAID,wBAA0B9oB,YAAY6oB,WAAY,KAEtD,IACgF,WAAxBZ,UAAU0B,UAA8F,wBAIhK,CAAE,MAAOzsB,GACT,CAEA,IAAI0sB,eAAiB,WACnB,IAAItpB,EAAK,CAAC,EACNupB,EAAY,CAAC,EAcjB,OAbAvpB,EAAGwpB,iBAGH,SAA0BnmB,EAAIhX,GACvBk9B,EAAUlmB,KACbkmB,EAAUlmB,GAAMhX,EAEpB,EANA2T,EAAGypB,YAQH,SAAqBpmB,EAAI6I,EAAMzgB,GAC7B,OAAO,IAAI89B,EAAUlmB,GAAI6I,EAAMzgB,EACjC,EAEOuU,CACT,CAjBqB,GAmBrB,SAAS0pB,gBAAiB,CAmD1B,SAASC,eAAgB,CAgZzB,SAASC,yBAA0B,CAjcnCF,cAAcj8B,UAAUo8B,uBAAyB,WAAa,EAE9DH,cAAcj8B,UAAUq8B,mBAAqB,WAAa,EAE1DJ,cAAcj8B,UAAU8wB,SAAW,SAAU9yB,GAC3C,IAAK1J,KAAK0Z,OAAQ,CAEhBhQ,EAAK4sB,GAAG/vB,UAAUuzB,mBAAmBpwB,EAAK4sB,IAC1C,IAAI7E,EAAY,CACd4K,MAAO3yB,EAAK4sB,GACZ5sB,KAAMA,EACN6zB,qBAAsBb,oBAAoBC,sBAE5C38B,KAAKoX,OAAOxK,KAAK6kB,GACjBzxB,KAAK+nC,mBAAmBtW,GAEpBzxB,KAAK46B,aACPlxB,EAAKs+B,eAET,CACF,EAEAL,cAAcj8B,UAAU2c,KAAO,SAAU8B,EAAMzgB,GAC7C1J,KAAKoX,OAAS,GACdpX,KAAKmqB,KAAOA,EACZnqB,KAAK86B,6BAA6B3Q,GAClCnqB,KAAK8nC,uBAAuB3d,EAAMzgB,GAClC1J,KAAKs5B,QAAU3uB,oBACf3K,KAAK0Z,QAAS,EACd1Z,KAAKwW,GAAI,EAELxW,KAAK26B,kBAAkBz3B,OACzBlD,KAAKwW,GAAI,EAETxW,KAAKi6B,UAAS,EAElB,EAEA0N,cAAcj8B,UAAUu8B,YAAc,WAChCjoC,KAAKmqB,KAAKpG,WAAWuV,UAAYt5B,KAAKs5B,UAI1Ct5B,KAAKs5B,QAAUt5B,KAAKmqB,KAAKpG,WAAWuV,QACpCt5B,KAAK66B,2BACP,EAEA1vB,gBAAgB,CAACuvB,0BAA2BiN,eAI5Cx8B,gBAAgB,CAACw8B,eAAgBC,cAEjCA,aAAal8B,UAAUo8B,uBAAyB,SAAU3d,EAAMzgB,GAC9D1J,KAAK+S,EAAIunB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKqJ,EAAG,EAAG,IAAM/S,MACxDA,KAAKO,EAAI+5B,gBAAgBC,QAAQpQ,EAAMzgB,EAAKnJ,EAAG,EAAG,IAAMP,MACxDA,KAAK4X,EAAI0iB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKkO,EAAG,EAAG,EAAG5X,MACrDA,KAAKkoC,OAAS,EACdloC,KAAKmoC,OAAS,EACdnoC,KAAKi6B,SAAWj6B,KAAKioC,YACrBjoC,KAAK0hC,EAAIh4B,EAAKg4B,EACd1hC,KAAK46B,cAAgB56B,KAAK+S,EAAEwmB,gBAAgBr2B,UAAYlD,KAAKO,EAAEg5B,gBAAgBr2B,UAAYlD,KAAK4X,EAAE2hB,gBAAgBr2B,MACpH,EAEA0kC,aAAal8B,UAAUq8B,mBAAqB,SAAUtW,GACpDA,EAAU2W,UAAY,EACxB,EAEAR,aAAal8B,UAAU28B,oBAAsB,SAAUt1B,EAAGxS,EAAG+nC,EAAaxZ,EAAayZ,GACrF,IAAIvlB,EAAW,GAEXziB,GAAK,EACPyiB,EAASpW,KAAK,CACZmG,EAAGA,EACHxS,EAAGA,IAEIwS,GAAK,EACdiQ,EAASpW,KAAK,CACZmG,EAAGA,EAAI,EACPxS,EAAGA,EAAI,KAGTyiB,EAASpW,KAAK,CACZmG,EAAGA,EACHxS,EAAG,IAELyiB,EAASpW,KAAK,CACZmG,EAAG,EACHxS,EAAGA,EAAI,KAIX,IACI+K,EAEAk9B,EAHAC,EAAgB,GAEhBj9B,EAAMwX,EAAS9f,OAGnB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAIzB,IAAIo9B,EACAC,GAJNH,EAAYxlB,EAAS1X,IAEL/K,EAAIgoC,EAAsBzZ,GAAe0Z,EAAUz1B,EAAIw1B,EAAsBzZ,EAAcwZ,IAKvGI,EADEF,EAAUz1B,EAAIw1B,GAAuBzZ,EAC9B,GAEC0Z,EAAUz1B,EAAIw1B,EAAsBzZ,GAAewZ,EAI7DK,EADEH,EAAUjoC,EAAIgoC,GAAuBzZ,EAAcwZ,EAC5C,GAECE,EAAUjoC,EAAIgoC,EAAsBzZ,GAAewZ,EAG/DG,EAAc77B,KAAK,CAAC87B,EAAQC,IAEhC,CAMA,OAJKF,EAAcvlC,QACjBulC,EAAc77B,KAAK,CAAC,EAAG,IAGlB67B,CACT,EAEAb,aAAal8B,UAAUk9B,iBAAmB,SAAUR,GAClD,IAAI98B,EACAE,EAAM48B,EAAUllC,OAEpB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB2jB,mBAAmBL,QAAQwZ,EAAU98B,IAIvC,OADA88B,EAAUllC,OAAS,EACZklC,CACT,EAEAR,aAAal8B,UAAUm9B,cAAgB,SAAUpP,GAC/C,IAAI1mB,EACAxS,EAwCAuoC,EACAx9B,EAvCJ,GAAItL,KAAKo5B,MAAQK,EAAe,CAC9B,IAAI7hB,EAAI5X,KAAK4X,EAAE5E,EAAI,IAAM,IAsBzB,GApBI4E,EAAI,IACNA,GAAK,IAIL7E,EADE/S,KAAK+S,EAAEC,EAAI,EACT,EAAI4E,EACC5X,KAAK+S,EAAEC,EAAI,EAChB,EAAI4E,EAEJ5X,KAAK+S,EAAEC,EAAI4E,IAIfrX,EADEP,KAAKO,EAAEyS,EAAI,EACT,EAAI4E,EACC5X,KAAKO,EAAEyS,EAAI,EAChB,EAAI4E,EAEJ5X,KAAKO,EAAEyS,EAAI4E,GAGN,CACT,IAAImxB,EAAKh2B,EACTA,EAAIxS,EACJA,EAAIwoC,CACN,CAEAh2B,EAA4B,KAAxBzD,KAAKuB,MAAU,IAAJkC,GACfxS,EAA4B,KAAxB+O,KAAKuB,MAAU,IAAJtQ,GACfP,KAAKkoC,OAASn1B,EACd/S,KAAKmoC,OAAS5nC,CAChB,MACEwS,EAAI/S,KAAKkoC,OACT3nC,EAAIP,KAAKmoC,OAKX,IACI7xB,EACAC,EACA6xB,EACAhvB,EACA4vB,EALAx9B,EAAMxL,KAAKoX,OAAOlU,OAMlBqlC,EAAsB,EAE1B,GAAIhoC,IAAMwS,EACR,IAAKzH,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKoX,OAAO9L,GAAGiyB,qBAAqBd,gBACpCz8B,KAAKoX,OAAO9L,GAAG+wB,MAAMjD,MAAO,EAC5Bp5B,KAAKoX,OAAO9L,GAAG+wB,MAAMiB,MAAQt9B,KAAKoX,OAAO9L,GAAGiyB,qBAExCv9B,KAAKo5B,OACPp5B,KAAKoX,OAAO9L,GAAG88B,UAAUllC,OAAS,QAGjC,GAAY,IAAN3C,GAAiB,IAANwS,GAAiB,IAANxS,GAAiB,IAANwS,GAyGvC,GAAI/S,KAAKo5B,KACd,IAAK9tB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAGxBtL,KAAKoX,OAAO9L,GAAG88B,UAAUllC,OAAS,EAClClD,KAAKoX,OAAO9L,GAAG+wB,MAAMjD,MAAO,MA9GwB,CACtD,IACI3H,EACA8L,EAFAva,EAAW,GAIf,IAAK1X,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAGxB,IAFAmmB,EAAYzxB,KAAKoX,OAAO9L,IAET+wB,MAAMjD,MAASp5B,KAAKo5B,MAASK,GAA4B,IAAXz5B,KAAK0hC,EAE3D,CAKL,GAHAnrB,GADAuyB,EAAarX,EAAU4K,MAAMiB,OACX9O,QAClBwa,EAAmB,GAEdvX,EAAU4K,MAAMjD,MAAQ3H,EAAU2W,UAAUllC,OAC/C8lC,EAAmBvX,EAAUuX,qBACxB,CAGL,IAFAZ,EAAYpoC,KAAK4oC,iBAAiBnX,EAAU2W,WAEvC9xB,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB8C,EAAW2a,IAAIvC,kBAAkBsX,EAAW1xB,OAAOd,IACnD8xB,EAAUx7B,KAAKwM,GACf4vB,GAAoB5vB,EAAS8V,YAG/BuC,EAAUuX,iBAAmBA,EAC7BvX,EAAU2W,UAAYA,CACxB,CAEAG,GAAuBS,EACvBvX,EAAU4K,MAAMjD,MAAO,CACzB,MAvBE3H,EAAU4K,MAAMiB,MAAQ7L,EAAU8L,qBA0BtC,IAGI0L,EAHAP,EAAS31B,EACT41B,EAASpoC,EACTuuB,EAAc,EAGlB,IAAKxjB,EAAIE,EAAM,EAAGF,GAAK,EAAGA,GAAK,EAG7B,IAFAmmB,EAAYzxB,KAAKoX,OAAO9L,IAEV+wB,MAAMjD,KAAM,CAaxB,KAZAmE,EAAuB9L,EAAU8L,sBACZd,gBAEN,IAAXz8B,KAAK0hC,GAAWl2B,EAAM,GACxBy9B,EAAQjpC,KAAKqoC,oBAAoBt1B,EAAGxS,EAAGkxB,EAAUuX,iBAAkBla,EAAayZ,GAChFzZ,GAAe2C,EAAUuX,kBAEzBC,EAAQ,CAAC,CAACP,EAAQC,IAGpBpyB,EAAO0yB,EAAM/lC,OAERoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAAG,CAC5BoyB,EAASO,EAAM3yB,GAAG,GAClBqyB,EAASM,EAAM3yB,GAAG,GAClB0M,EAAS9f,OAAS,EAEdylC,GAAU,EACZ3lB,EAASpW,KAAK,CACZmG,EAAG0e,EAAUuX,iBAAmBN,EAChCnoC,EAAGkxB,EAAUuX,iBAAmBL,IAEzBD,GAAU,EACnB1lB,EAASpW,KAAK,CACZmG,EAAG0e,EAAUuX,kBAAoBN,EAAS,GAC1CnoC,EAAGkxB,EAAUuX,kBAAoBL,EAAS,MAG5C3lB,EAASpW,KAAK,CACZmG,EAAG0e,EAAUuX,iBAAmBN,EAChCnoC,EAAGkxB,EAAUuX,mBAEfhmB,EAASpW,KAAK,CACZmG,EAAG,EACHxS,EAAGkxB,EAAUuX,kBAAoBL,EAAS,MAI9C,IAAIO,EAAgBlpC,KAAKmpC,UAAU1X,EAAWzO,EAAS,IAEvD,GAAIA,EAAS,GAAGjQ,IAAMiQ,EAAS,GAAGziB,EAAG,CACnC,GAAIyiB,EAAS9f,OAAS,EAGpB,GAF4BuuB,EAAU4K,MAAMiB,MAAMlmB,OAAOqa,EAAU4K,MAAMiB,MAAM9O,QAAU,GAE/DjV,EAAG,CAC3B,IAAI6vB,EAAYF,EAAcG,MAC9BrpC,KAAKspC,SAASJ,EAAe3L,GAC7B2L,EAAgBlpC,KAAKmpC,UAAU1X,EAAWzO,EAAS,GAAIomB,EACzD,MACEppC,KAAKspC,SAASJ,EAAe3L,GAC7B2L,EAAgBlpC,KAAKmpC,UAAU1X,EAAWzO,EAAS,IAIvDhjB,KAAKspC,SAASJ,EAAe3L,EAC/B,CACF,CAEA9L,EAAU4K,MAAMiB,MAAQC,CAC1B,CAEJ,CAQF,EAEAqK,aAAal8B,UAAU49B,SAAW,SAAUC,EAAUhM,GACpD,IAAIjyB,EACAE,EAAM+9B,EAASrmC,OAEnB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBiyB,EAAqBf,SAAS+M,EAASj+B,GAE3C,EAEAs8B,aAAal8B,UAAU89B,WAAa,SAAU1Z,EAAKC,EAAKC,EAAKC,EAAKmM,EAAWf,EAAKoO,GAChFrN,EAAUhB,QAAQrL,EAAI,GAAIA,EAAI,GAAI,IAAKsL,GACvCe,EAAUhB,QAAQpL,EAAI,GAAIA,EAAI,GAAI,IAAKqL,EAAM,GAEzCoO,GACFrN,EAAUhB,QAAQtL,EAAI,GAAIA,EAAI,GAAI,IAAKuL,GAGzCe,EAAUhB,QAAQnL,EAAI,GAAIA,EAAI,GAAI,IAAKoL,EAAM,EAC/C,EAEAuM,aAAal8B,UAAUg+B,oBAAsB,SAAUnd,EAAQ6P,EAAWf,EAAKoO,GAC7ErN,EAAUhB,QAAQ7O,EAAO,GAAIA,EAAO,GAAI,IAAK8O,GAC7Ce,EAAUhB,QAAQ7O,EAAO,GAAIA,EAAO,GAAI,IAAK8O,EAAM,GAE/CoO,GACFrN,EAAUhB,QAAQ7O,EAAO,GAAIA,EAAO,GAAI,IAAK8O,GAG/Ce,EAAUhB,QAAQ7O,EAAO,GAAIA,EAAO,GAAI,IAAK8O,EAAM,EACrD,EAEAuM,aAAal8B,UAAUy9B,UAAY,SAAU1X,EAAWkY,EAAcvN,GACpE,IAEI9wB,EAEAgL,EACAC,EAEAqzB,EACAC,EACA7a,EACAxJ,EAEA2L,EAZAiX,EAAY3W,EAAU2W,UACtBU,EAAarX,EAAU4K,MAAMiB,MAAMlmB,OAEnC5L,EAAMimB,EAAU4K,MAAMiB,MAAM9O,QAG5BM,EAAc,EAKd1X,EAAS,GAETqyB,GAAW,EAaf,IAXKrN,GAKHyN,EAAezN,EAAU5N,QACzB2C,EAAUiL,EAAU5N,UALpB4N,EAAYD,UAAUxN,aACtBkb,EAAe,EACf1Y,EAAU,GAMZ/Z,EAAOxK,KAAKwvB,GAEP9wB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAK3B,IAJA0jB,EAAUoZ,EAAU98B,GAAG0jB,QACvBoN,EAAU7iB,EAAIuvB,EAAWx9B,GAAGiO,EAC5BhD,EAAOuyB,EAAWx9B,GAAGiO,EAAIyV,EAAQ9rB,OAAS8rB,EAAQ9rB,OAAS,EAEtDoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAGzB,GAAIwY,GAFJ8a,EAAoB5a,EAAQ1Y,EAAI,IAEIwY,YAAc6a,EAAa52B,EAC7D+b,GAAe8a,EAAkB9a,YACjCsN,EAAU7iB,GAAI,MACT,IAAIuV,EAAc6a,EAAappC,EAAG,CACvC67B,EAAU7iB,GAAI,EACd,KACF,CACMowB,EAAa52B,GAAK+b,GAAe6a,EAAappC,GAAKuuB,EAAc8a,EAAkB9a,aACrF9uB,KAAKwpC,WAAWV,EAAWx9B,GAAG0H,EAAEsD,EAAI,GAAIwyB,EAAWx9B,GAAGsM,EAAEtB,EAAI,GAAIwyB,EAAWx9B,GAAGA,EAAEgL,GAAIwyB,EAAWx9B,GAAG0H,EAAEsD,GAAI8lB,EAAWyN,EAAcJ,GACjIA,GAAW,IAEXjkB,EAAUuO,IAAIjC,cAAcgX,EAAWx9B,GAAG0H,EAAEsD,EAAI,GAAIwyB,EAAWx9B,GAAG0H,EAAEsD,GAAIwyB,EAAWx9B,GAAGsM,EAAEtB,EAAI,GAAIwyB,EAAWx9B,GAAGA,EAAEgL,IAAKqzB,EAAa52B,EAAI+b,GAAe8a,EAAkB9a,aAAc6a,EAAappC,EAAIuuB,GAAe8a,EAAkB9a,YAAaE,EAAQ1Y,EAAI,IAChQtW,KAAK0pC,oBAAoBlkB,EAAS4W,EAAWyN,EAAcJ,GAE3DA,GAAW,EACXrN,EAAU7iB,GAAI,GAGhBuV,GAAe8a,EAAkB9a,YACjC+a,GAAgB,CAClB,CAGF,GAAIf,EAAWx9B,GAAGiO,GAAKyV,EAAQ9rB,OAAQ,CAGrC,GAFA0mC,EAAoB5a,EAAQ1Y,EAAI,GAE5BwY,GAAe6a,EAAappC,EAAG,CACjC,IAAImwB,EAAgB1B,EAAQ1Y,EAAI,GAAGwY,YAE/B6a,EAAa52B,GAAK+b,GAAe6a,EAAappC,GAAKuuB,EAAc4B,GACnE1wB,KAAKwpC,WAAWV,EAAWx9B,GAAG0H,EAAEsD,EAAI,GAAIwyB,EAAWx9B,GAAGsM,EAAEtB,EAAI,GAAIwyB,EAAWx9B,GAAGA,EAAE,GAAIw9B,EAAWx9B,GAAG0H,EAAE,GAAIopB,EAAWyN,EAAcJ,GACjIA,GAAW,IAEXjkB,EAAUuO,IAAIjC,cAAcgX,EAAWx9B,GAAG0H,EAAEsD,EAAI,GAAIwyB,EAAWx9B,GAAG0H,EAAE,GAAI81B,EAAWx9B,GAAGsM,EAAEtB,EAAI,GAAIwyB,EAAWx9B,GAAGA,EAAE,IAAKq+B,EAAa52B,EAAI+b,GAAe4B,GAAgBiZ,EAAappC,EAAIuuB,GAAe4B,EAAe1B,EAAQ1Y,EAAI,IAChOtW,KAAK0pC,oBAAoBlkB,EAAS4W,EAAWyN,EAAcJ,GAE3DA,GAAW,EACXrN,EAAU7iB,GAAI,EAElB,MACE6iB,EAAU7iB,GAAI,EAGhBuV,GAAe8a,EAAkB9a,YACjC+a,GAAgB,CAClB,CAOA,GALIzN,EAAU5N,UACZ4N,EAAUhB,QAAQgB,EAAUppB,EAAEme,GAAS,GAAIiL,EAAUppB,EAAEme,GAAS,GAAI,IAAKA,GACzEiL,EAAUhB,QAAQgB,EAAUppB,EAAEopB,EAAU5N,QAAU,GAAG,GAAI4N,EAAUppB,EAAEopB,EAAU5N,QAAU,GAAG,GAAI,IAAK4N,EAAU5N,QAAU,IAGvHM,EAAc6a,EAAappC,EAC7B,MAGE+K,EAAIE,EAAM,IACZ4wB,EAAYD,UAAUxN,aACtB8a,GAAW,EACXryB,EAAOxK,KAAKwvB,GACZyN,EAAe,EAEnB,CAEA,OAAOzyB,CACT,EAIAjM,gBAAgB,CAACw8B,eAAgBE,wBAEjCA,uBAAuBn8B,UAAUo8B,uBAAyB,SAAU3d,EAAMzgB,GACxE1J,KAAKi6B,SAAWj6B,KAAKioC,YACrBjoC,KAAK8pC,OAASxP,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsP,EAAG,EAAG,KAAMhZ,MAC7DA,KAAK46B,cAAgB56B,KAAK8pC,OAAOvQ,gBAAgBr2B,MACnD,EAEA2kC,uBAAuBn8B,UAAUq+B,YAAc,SAAUv0B,EAAMs0B,GAC7D,IAAIxW,EAAUwW,EAAS,IACnBE,EAAc,CAAC,EAAG,GAClBC,EAAaz0B,EAAKgZ,QAClBljB,EAAI,EAER,IAAKA,EAAI,EAAGA,EAAI2+B,EAAY3+B,GAAK,EAC/B0+B,EAAY,IAAMx0B,EAAKxC,EAAE1H,GAAG,GAC5B0+B,EAAY,IAAMx0B,EAAKxC,EAAE1H,GAAG,GAG9B0+B,EAAY,IAAMC,EAClBD,EAAY,IAAMC,EAClB,IAEI1O,EACAC,EACAC,EACAC,EACAC,EACAC,EAPAsO,EAAa/N,UAAUxN,aAS3B,IARAub,EAAW3wB,EAAI/D,EAAK+D,EAQfjO,EAAI,EAAGA,EAAI2+B,EAAY3+B,GAAK,EAC/BiwB,EAAK/lB,EAAKxC,EAAE1H,GAAG,IAAM0+B,EAAY,GAAKx0B,EAAKxC,EAAE1H,GAAG,IAAMgoB,EACtDkI,EAAKhmB,EAAKxC,EAAE1H,GAAG,IAAM0+B,EAAY,GAAKx0B,EAAKxC,EAAE1H,GAAG,IAAMgoB,EACtDmI,EAAKjmB,EAAKoC,EAAEtM,GAAG,IAAM0+B,EAAY,GAAKx0B,EAAKoC,EAAEtM,GAAG,KAAOgoB,EACvDoI,EAAKlmB,EAAKoC,EAAEtM,GAAG,IAAM0+B,EAAY,GAAKx0B,EAAKoC,EAAEtM,GAAG,KAAOgoB,EACvDqI,EAAKnmB,EAAKlK,EAAEA,GAAG,IAAM0+B,EAAY,GAAKx0B,EAAKlK,EAAEA,GAAG,KAAOgoB,EACvDsI,EAAKpmB,EAAKlK,EAAEA,GAAG,IAAM0+B,EAAY,GAAKx0B,EAAKlK,EAAEA,GAAG,KAAOgoB,EACvD4W,EAAW5O,YAAYC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAItwB,GAGjD,OAAO4+B,CACT,EAEArC,uBAAuBn8B,UAAUm9B,cAAgB,SAAUpP,GACzD,IAAIqP,EACAx9B,EAEAgL,EACAC,EAIEkb,EACA8L,EAPF/xB,EAAMxL,KAAKoX,OAAOlU,OAGlB4mC,EAAS9pC,KAAK8pC,OAAO92B,EAEzB,GAAe,IAAX82B,EAIF,IAAKx+B,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAI3B,GAFAiyB,GADA9L,EAAYzxB,KAAKoX,OAAO9L,IACSiyB,qBAE1B9L,EAAU4K,MAAMjD,MAASp5B,KAAKo5B,MAASK,EAM5C,IALA8D,EAAqBd,gBACrBhL,EAAU4K,MAAMjD,MAAO,EACvB0P,EAAarX,EAAU4K,MAAMiB,MAAMlmB,OACnCb,EAAOkb,EAAU4K,MAAMiB,MAAM9O,QAExBlY,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzBinB,EAAqBf,SAASx8B,KAAK+pC,YAAYjB,EAAWxyB,GAAIwzB,IAIlErY,EAAU4K,MAAMiB,MAAQ7L,EAAU8L,oBACpC,CAGGv9B,KAAK26B,kBAAkBz3B,SAC1BlD,KAAKo5B,MAAO,EAEhB,EAEA,IAAI+Q,yBAA2B,WAC7B,IAAIC,EAAgB,CAAC,EAAG,GAkLxB,SAASC,EAAkBlgB,EAAMzgB,EAAMnD,GAwBrC,GAvBAvG,KAAKmqB,KAAOA,EACZnqB,KAAKs5B,SAAW,EAChBt5B,KAAKu0B,SAAW,YAChBv0B,KAAK0J,KAAOA,EACZ1J,KAAKgT,EAAI,IAAIotB,OAEbpgC,KAAKsqC,IAAM,IAAIlK,OACfpgC,KAAKuqC,uBAAyB,EAC9BvqC,KAAK86B,6BAA6Bv0B,GAAa4jB,GAE3CzgB,EAAK2J,GAAK3J,EAAK2J,EAAEN,GACnB/S,KAAKwqC,GAAKlQ,gBAAgBC,QAAQpQ,EAAMzgB,EAAK2J,EAAEuZ,EAAG,EAAG,EAAG5sB,MACxDA,KAAKyqC,GAAKnQ,gBAAgBC,QAAQpQ,EAAMzgB,EAAK2J,EAAEoiB,EAAG,EAAG,EAAGz1B,MAEpD0J,EAAK2J,EAAEixB,IACTtkC,KAAK0qC,GAAKpQ,gBAAgBC,QAAQpQ,EAAMzgB,EAAK2J,EAAEixB,EAAG,EAAG,EAAGtkC,QAG1DA,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAK2J,GAAK,CAC/CmD,EAAG,CAAC,EAAG,EAAG,IACT,EAAG,EAAGxW,MAGP0J,EAAKihC,GAAI,CAKX,GAJA3qC,KAAK2qC,GAAKrQ,gBAAgBC,QAAQpQ,EAAMzgB,EAAKihC,GAAI,EAAGn6B,UAAWxQ,MAC/DA,KAAK4qC,GAAKtQ,gBAAgBC,QAAQpQ,EAAMzgB,EAAKkhC,GAAI,EAAGp6B,UAAWxQ,MAC/DA,KAAK6qC,GAAKvQ,gBAAgBC,QAAQpQ,EAAMzgB,EAAKmhC,GAAI,EAAGr6B,UAAWxQ,MAE3D0J,EAAKo1B,GAAGtoB,EAAE,GAAG6e,GAAI,CACnB,IAAI/pB,EACAE,EAAM9B,EAAKo1B,GAAGtoB,EAAEtT,OAEpB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB5B,EAAKo1B,GAAGtoB,EAAElL,GAAG8pB,GAAK,KAClB1rB,EAAKo1B,GAAGtoB,EAAElL,GAAG+pB,GAAK,IAEtB,CAEAr1B,KAAK8+B,GAAKxE,gBAAgBC,QAAQpQ,EAAMzgB,EAAKo1B,GAAI,EAAGtuB,UAAWxQ,MAE/DA,KAAK8+B,GAAGxI,IAAK,CACf,MACEt2B,KAAKiT,EAAIqnB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKuJ,GAAK,CAC/CuD,EAAG,GACF,EAAGhG,UAAWxQ,MAGf0J,EAAKuP,KACPjZ,KAAKiZ,GAAKqhB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKuP,GAAI,EAAGzI,UAAWxQ,MAC/DA,KAAKkZ,GAAKohB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKwP,GAAI,EAAG1I,UAAWxQ,OAGjEA,KAAKgZ,EAAIshB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsP,GAAK,CAC/CxC,EAAG,CAAC,EAAG,EAAG,IACT,EAAG,EAAGxW,MACTA,KAAK+S,EAAIunB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKqJ,GAAK,CAC/CyD,EAAG,CAAC,IAAK,IAAK,MACb,EAAG,IAAMxW,MAER0J,EAAKkO,EACP5X,KAAK4X,EAAI0iB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKkO,EAAG,EAAG,IAAMuS,GAExDnqB,KAAK4X,EAAI,CACPwhB,MAAM,EACNpmB,EAAG,GAIPhT,KAAK8qC,UAAW,EAEX9qC,KAAK26B,kBAAkBz3B,QAC1BlD,KAAKi6B,UAAS,EAElB,CAgBA,OAdAoQ,EAAkB3+B,UAAY,CAC5Bq/B,cA7PF,SAAuBC,GACrB,IAAI5R,EAAOp5B,KAAKo5B,KAChBp5B,KAAK66B,2BACL76B,KAAKo5B,KAAOp5B,KAAKo5B,MAAQA,EAErBp5B,KAAKgZ,GACPgyB,EAAIrJ,WAAW3hC,KAAKgZ,EAAEhG,EAAE,IAAKhT,KAAKgZ,EAAEhG,EAAE,GAAIhT,KAAKgZ,EAAEhG,EAAE,IAGjDhT,KAAK+S,GACPi4B,EAAI1J,MAAMthC,KAAK+S,EAAEC,EAAE,GAAIhT,KAAK+S,EAAEC,EAAE,GAAIhT,KAAK+S,EAAEC,EAAE,IAG3ChT,KAAKiZ,IACP+xB,EAAI3J,cAAcrhC,KAAKiZ,GAAGjG,EAAGhT,KAAKkZ,GAAGlG,GAGnChT,KAAKiT,EACP+3B,EAAIrK,QAAQ3gC,KAAKiT,EAAED,GAEnBg4B,EAAI/J,SAASjhC,KAAK6qC,GAAG73B,GAAGguB,QAAQhhC,KAAK4qC,GAAG53B,GAAG+tB,QAAQ/gC,KAAK2qC,GAAG33B,GAAGiuB,SAASjhC,KAAK8+B,GAAG9rB,EAAE,IAAIguB,QAAQhhC,KAAK8+B,GAAG9rB,EAAE,IAAI+tB,QAAQ/gC,KAAK8+B,GAAG9rB,EAAE,IAG3HhT,KAAK0J,KAAK2J,EAAEN,EACV/S,KAAK0J,KAAK2J,EAAEixB,EACd0G,EAAIrJ,UAAU3hC,KAAKwqC,GAAGx3B,EAAGhT,KAAKyqC,GAAGz3B,GAAIhT,KAAK0qC,GAAG13B,GAE7Cg4B,EAAIrJ,UAAU3hC,KAAKwqC,GAAGx3B,EAAGhT,KAAKyqC,GAAGz3B,EAAG,GAGtCg4B,EAAIrJ,UAAU3hC,KAAKqT,EAAEL,EAAE,GAAIhT,KAAKqT,EAAEL,EAAE,IAAKhT,KAAKqT,EAAEL,EAAE,GAEtD,EA8NEinB,SA5NF,SAAqBgR,GACnB,GAAIjrC,KAAKmqB,KAAKpG,WAAWuV,UAAYt5B,KAAKs5B,QAA1C,CAWA,GAPIt5B,KAAK8qC,WACP9qC,KAAKkrC,qBACLlrC,KAAK8qC,UAAW,GAGlB9qC,KAAK66B,2BAED76B,KAAKo5B,MAAQ6R,EAAa,CAC5B,IAAI9oB,EAqBJ,GApBAniB,KAAKgT,EAAEoxB,eAAepkC,KAAKsqC,IAAI5J,OAE3B1gC,KAAKuqC,uBAAyB,GAChCvqC,KAAKgT,EAAE2uB,WAAW3hC,KAAKgZ,EAAEhG,EAAE,IAAKhT,KAAKgZ,EAAEhG,EAAE,GAAIhT,KAAKgZ,EAAEhG,EAAE,IAGpDhT,KAAKuqC,uBAAyB,GAChCvqC,KAAKgT,EAAEsuB,MAAMthC,KAAK+S,EAAEC,EAAE,GAAIhT,KAAK+S,EAAEC,EAAE,GAAIhT,KAAK+S,EAAEC,EAAE,IAG9ChT,KAAKiZ,IAAMjZ,KAAKuqC,uBAAyB,GAC3CvqC,KAAKgT,EAAEquB,cAAcrhC,KAAKiZ,GAAGjG,EAAGhT,KAAKkZ,GAAGlG,GAGtChT,KAAKiT,GAAKjT,KAAKuqC,uBAAyB,EAC1CvqC,KAAKgT,EAAE2tB,QAAQ3gC,KAAKiT,EAAED,IACZhT,KAAKiT,GAAKjT,KAAKuqC,uBAAyB,GAClDvqC,KAAKgT,EAAEiuB,SAASjhC,KAAK6qC,GAAG73B,GAAGguB,QAAQhhC,KAAK4qC,GAAG53B,GAAG+tB,QAAQ/gC,KAAK2qC,GAAG33B,GAAGiuB,SAASjhC,KAAK8+B,GAAG9rB,EAAE,IAAIguB,QAAQhhC,KAAK8+B,GAAG9rB,EAAE,IAAI+tB,QAAQ/gC,KAAK8+B,GAAG9rB,EAAE,IAG9HhT,KAAKmrC,aAAc,CACrB,IAAIhL,EACAiL,EAGJ,GAFAjpB,EAAYniB,KAAKmqB,KAAKpG,WAAW5B,UAE7BniB,KAAKqT,GAAKrT,KAAKqT,EAAE0hB,WAAa/0B,KAAKqT,EAAEg4B,eACnCrrC,KAAKqT,EAAE0lB,SAASlD,UAAY71B,KAAKqT,EAAEihB,YAAct0B,KAAKqT,EAAE0hB,UAAU,GAAGxhB,GACvE4sB,EAAKngC,KAAKqT,EAAEg4B,gBAAgBrrC,KAAKqT,EAAE0hB,UAAU,GAAGxhB,EAAI,KAAQ4O,EAAW,GACvEipB,EAAKprC,KAAKqT,EAAEg4B,eAAerrC,KAAKqT,EAAE0hB,UAAU,GAAGxhB,EAAI4O,EAAW,IACrDniB,KAAKqT,EAAE0lB,SAASlD,UAAY71B,KAAKqT,EAAEihB,YAAct0B,KAAKqT,EAAE0hB,UAAU/0B,KAAKqT,EAAE0hB,UAAU7xB,OAAS,GAAGqQ,GACxG4sB,EAAKngC,KAAKqT,EAAEg4B,eAAerrC,KAAKqT,EAAE0hB,UAAU/0B,KAAKqT,EAAE0hB,UAAU7xB,OAAS,GAAGqQ,EAAI4O,EAAW,GACxFipB,EAAKprC,KAAKqT,EAAEg4B,gBAAgBrrC,KAAKqT,EAAE0hB,UAAU/0B,KAAKqT,EAAE0hB,UAAU7xB,OAAS,GAAGqQ,EAAI,KAAQ4O,EAAW,KAEjGge,EAAKngC,KAAKqT,EAAEmhB,GACZ4W,EAAKprC,KAAKqT,EAAEg4B,gBAAgBrrC,KAAKqT,EAAE0lB,SAASlD,UAAY71B,KAAKqT,EAAEihB,WAAa,KAAQnS,EAAWniB,KAAKqT,EAAEihB,kBAEnG,GAAIt0B,KAAKwqC,IAAMxqC,KAAKwqC,GAAGzV,WAAa/0B,KAAKyqC,GAAG1V,WAAa/0B,KAAKwqC,GAAGa,gBAAkBrrC,KAAKyqC,GAAGY,eAAgB,CAChHlL,EAAK,GACLiL,EAAK,GACL,IAAIZ,EAAKxqC,KAAKwqC,GACVC,EAAKzqC,KAAKyqC,GAEVD,EAAGzR,SAASlD,UAAY2U,EAAGlW,YAAckW,EAAGzV,UAAU,GAAGxhB,GAC3D4sB,EAAG,GAAKqK,EAAGa,gBAAgBb,EAAGzV,UAAU,GAAGxhB,EAAI,KAAQ4O,EAAW,GAClEge,EAAG,GAAKsK,EAAGY,gBAAgBZ,EAAG1V,UAAU,GAAGxhB,EAAI,KAAQ4O,EAAW,GAClEipB,EAAG,GAAKZ,EAAGa,eAAeb,EAAGzV,UAAU,GAAGxhB,EAAI4O,EAAW,GACzDipB,EAAG,GAAKX,EAAGY,eAAeZ,EAAG1V,UAAU,GAAGxhB,EAAI4O,EAAW,IAChDqoB,EAAGzR,SAASlD,UAAY2U,EAAGlW,YAAckW,EAAGzV,UAAUyV,EAAGzV,UAAU7xB,OAAS,GAAGqQ,GACxF4sB,EAAG,GAAKqK,EAAGa,eAAeb,EAAGzV,UAAUyV,EAAGzV,UAAU7xB,OAAS,GAAGqQ,EAAI4O,EAAW,GAC/Ege,EAAG,GAAKsK,EAAGY,eAAeZ,EAAG1V,UAAU0V,EAAG1V,UAAU7xB,OAAS,GAAGqQ,EAAI4O,EAAW,GAC/EipB,EAAG,GAAKZ,EAAGa,gBAAgBb,EAAGzV,UAAUyV,EAAGzV,UAAU7xB,OAAS,GAAGqQ,EAAI,KAAQ4O,EAAW,GACxFipB,EAAG,GAAKX,EAAGY,gBAAgBZ,EAAG1V,UAAU0V,EAAG1V,UAAU7xB,OAAS,GAAGqQ,EAAI,KAAQ4O,EAAW,KAExFge,EAAK,CAACqK,EAAGhW,GAAIiW,EAAGjW,IAChB4W,EAAG,GAAKZ,EAAGa,gBAAgBb,EAAGzR,SAASlD,UAAY2U,EAAGlW,WAAa,KAAQnS,EAAWqoB,EAAGlW,YACzF8W,EAAG,GAAKX,EAAGY,gBAAgBZ,EAAG1R,SAASlD,UAAY4U,EAAGnW,WAAa,KAAQnS,EAAWsoB,EAAGnW,YAE7F,MAEE6L,EADAiL,EAAKhB,EAIPpqC,KAAKgT,EAAE2tB,QAAQrxB,KAAK0oB,MAAMmI,EAAG,GAAKiL,EAAG,GAAIjL,EAAG,GAAKiL,EAAG,IACtD,CAEIprC,KAAK0J,KAAK2J,GAAKrT,KAAK0J,KAAK2J,EAAEN,EACzB/S,KAAK0J,KAAK2J,EAAEixB,EACdtkC,KAAKgT,EAAE2uB,UAAU3hC,KAAKwqC,GAAGx3B,EAAGhT,KAAKyqC,GAAGz3B,GAAIhT,KAAK0qC,GAAG13B,GAEhDhT,KAAKgT,EAAE2uB,UAAU3hC,KAAKwqC,GAAGx3B,EAAGhT,KAAKyqC,GAAGz3B,EAAG,GAGzChT,KAAKgT,EAAE2uB,UAAU3hC,KAAKqT,EAAEL,EAAE,GAAIhT,KAAKqT,EAAEL,EAAE,IAAKhT,KAAKqT,EAAEL,EAAE,GAEzD,CAEAhT,KAAKs5B,QAAUt5B,KAAKmqB,KAAKpG,WAAWuV,OAvFpC,CAwFF,EAkIE4R,mBAhIF,WAIE,GAHAlrC,KAAKuqC,uBAAyB,EAC9BvqC,KAAKsqC,IAAIxoC,SAEJ9B,KAAKgZ,EAAEugB,gBAAgBr2B,SAC1BlD,KAAKsqC,IAAI3I,WAAW3hC,KAAKgZ,EAAEhG,EAAE,IAAKhT,KAAKgZ,EAAEhG,EAAE,GAAIhT,KAAKgZ,EAAEhG,EAAE,IACxDhT,KAAKuqC,uBAAyB,GAK3BvqC,KAAK+S,EAAEwmB,gBAAgBr2B,QAA5B,CAOA,GANElD,KAAKsqC,IAAIhJ,MAAMthC,KAAK+S,EAAEC,EAAE,GAAIhT,KAAK+S,EAAEC,EAAE,GAAIhT,KAAK+S,EAAEC,EAAE,IAClDhT,KAAKuqC,uBAAyB,EAK5BvqC,KAAKiZ,GAAI,CACX,GAAKjZ,KAAKiZ,GAAGsgB,gBAAgBr2B,QAAWlD,KAAKkZ,GAAGqgB,gBAAgBr2B,OAI9D,OAHAlD,KAAKsqC,IAAIjJ,cAAcrhC,KAAKiZ,GAAGjG,EAAGhT,KAAKkZ,GAAGlG,GAC1ChT,KAAKuqC,uBAAyB,CAIlC,CAEIvqC,KAAKiT,EACFjT,KAAKiT,EAAEsmB,gBAAgBr2B,SAC1BlD,KAAKsqC,IAAI3J,QAAQ3gC,KAAKiT,EAAED,GACxBhT,KAAKuqC,uBAAyB,GAEtBvqC,KAAK6qC,GAAGtR,gBAAgBr2B,QAAWlD,KAAK4qC,GAAGrR,gBAAgBr2B,QAAWlD,KAAK2qC,GAAGpR,gBAAgBr2B,QAAWlD,KAAK8+B,GAAGvF,gBAAgBr2B,SAC3IlD,KAAKsqC,IAAIrJ,SAASjhC,KAAK6qC,GAAG73B,GAAGguB,QAAQhhC,KAAK4qC,GAAG53B,GAAG+tB,QAAQ/gC,KAAK2qC,GAAG33B,GAAGiuB,SAASjhC,KAAK8+B,GAAG9rB,EAAE,IAAIguB,QAAQhhC,KAAK8+B,GAAG9rB,EAAE,IAAI+tB,QAAQ/gC,KAAK8+B,GAAG9rB,EAAE,IAClIhT,KAAKuqC,uBAAyB,EAlBhC,CAoBF,EA6FEe,WA3FF,WAEA,GA2FAngC,gBAAgB,CAACuvB,0BAA2B2P,GAC5CA,EAAkB3+B,UAAUouB,mBA1F5B,SAA4B9tB,GAC1BhM,KAAKurC,oBAAoBv/B,GAEzBhM,KAAKmqB,KAAK2P,mBAAmB9tB,GAC7BhM,KAAK8qC,UAAW,CAClB,EAsFAT,EAAkB3+B,UAAU6/B,oBAAsB7Q,yBAAyBhvB,UAAUouB,mBAM9E,CACL0R,qBALF,SAA8BrhB,EAAMzgB,EAAMnD,GACxC,OAAO,IAAI8jC,EAAkBlgB,EAAMzgB,EAAMnD,EAC3C,EAKF,CAhR+B,GAkR/B,SAASklC,mBAAoB,CAkS7B,SAASC,uBAAwB,CA0HjC,SAASC,WAAW3yB,EAAG7F,GACrB,OAAyB,IAAlB7D,KAAKc,IAAI4I,EAAI7F,IAAe7D,KAAKS,IAAIT,KAAKc,IAAI4I,GAAI1J,KAAKc,IAAI+C,GACpE,CAEA,SAASy4B,UAAUx4B,GACjB,OAAO9D,KAAKc,IAAIgD,IAAM,IACxB,CAEA,SAASy4B,KAAK5N,EAAIC,EAAI4L,GACpB,OAAO7L,GAAM,EAAI6L,GAAU5L,EAAK4L,CAClC,CAEA,SAASgC,UAAU7N,EAAIC,EAAI4L,GACzB,MAAO,CAAC+B,KAAK5N,EAAG,GAAIC,EAAG,GAAI4L,GAAS+B,KAAK5N,EAAG,GAAIC,EAAG,GAAI4L,GACzD,CAEA,SAASiC,UAAU/yB,EAAG7F,EAAGoG,GAEvB,GAAU,IAANP,EAAS,MAAO,GACpB,IAAIjG,EAAII,EAAIA,EAAI,EAAI6F,EAAIO,EAExB,GAAIxG,EAAI,EAAG,MAAO,GAClB,IAAIi5B,GAAc74B,GAAK,EAAI6F,GAE3B,GAAU,IAANjG,EAAS,MAAO,CAACi5B,GACrB,IAAIC,EAAQ38B,KAAKG,KAAKsD,IAAM,EAAIiG,GAEhC,MAAO,CAACgzB,EAAaC,EAAOD,EAAaC,EAC3C,CAEA,SAASC,uBAAuBjO,EAAIC,EAAI2E,EAAIsJ,GAC1C,MAAO,CAAO,EAAIjO,EAATD,EAAc,EAAI4E,EAAKsJ,EAAI,EAAIlO,EAAK,EAAIC,EAAK,EAAI2E,GAAK,EAAI5E,EAAK,EAAIC,EAAID,EAClF,CAEA,SAASmO,YAAY/4B,GACnB,OAAO,IAAIg5B,iBAAiBh5B,EAAGA,EAAGA,EAAGA,GAAG,EAC1C,CAEA,SAASg5B,iBAAiBpO,EAAIC,EAAI2E,EAAIsJ,EAAIG,GACpCA,GAAaC,WAAWtO,EAAIC,KAC9BA,EAAK4N,UAAU7N,EAAIkO,EAAI,EAAI,IAGzBG,GAAaC,WAAW1J,EAAIsJ,KAC9BtJ,EAAKiJ,UAAU7N,EAAIkO,EAAI,EAAI,IAG7B,IAAIK,EAASN,uBAAuBjO,EAAG,GAAIC,EAAG,GAAI2E,EAAG,GAAIsJ,EAAG,IACxDM,EAASP,uBAAuBjO,EAAG,GAAIC,EAAG,GAAI2E,EAAG,GAAIsJ,EAAG,IAC5DnsC,KAAKgZ,EAAI,CAACwzB,EAAO,GAAIC,EAAO,IAC5BzsC,KAAKmT,EAAI,CAACq5B,EAAO,GAAIC,EAAO,IAC5BzsC,KAAKuZ,EAAI,CAACizB,EAAO,GAAIC,EAAO,IAC5BzsC,KAAKyT,EAAI,CAAC+4B,EAAO,GAAIC,EAAO,IAC5BzsC,KAAKusB,OAAS,CAAC0R,EAAIC,EAAI2E,EAAIsJ,EAC7B,CAkDA,SAASO,QAAQ3Y,EAAKzc,GACpB,IAAIvH,EAAMgkB,EAAIxH,OAAO,GAAGjV,GACpBzH,EAAMkkB,EAAIxH,OAAOwH,EAAIxH,OAAOrpB,OAAS,GAAGoU,GAE5C,GAAIvH,EAAMF,EAAK,CACb,IAAItP,EAAIsP,EACRA,EAAME,EACNA,EAAMxP,CACR,CAKA,IAFA,IAAI6S,EAAI24B,UAAU,EAAIhY,EAAI/a,EAAE1B,GAAO,EAAIyc,EAAI5gB,EAAEmE,GAAOyc,EAAIxa,EAAEjC,IAEjDhM,EAAI,EAAGA,EAAI8H,EAAElQ,OAAQoI,GAAK,EACjC,GAAI8H,EAAE9H,GAAK,GAAK8H,EAAE9H,GAAK,EAAG,CACxB,IAAI+E,EAAM0jB,EAAIzD,MAAMld,EAAE9H,IAAIgM,GACtBjH,EAAMN,EAAKA,EAAMM,EAAaA,EAAMR,IAAKA,EAAMQ,EACrD,CAGF,MAAO,CACLN,IAAKA,EACLF,IAAKA,EAET,CAuBA,SAAS88B,cAAc5Y,EAAK7B,EAAI0a,GAC9B,IAAIC,EAAM9Y,EAAI+Y,cACd,MAAO,CACLC,GAAIF,EAAIE,GACRC,GAAIH,EAAIG,GACR3wB,MAAOwwB,EAAIxwB,MACXC,OAAQuwB,EAAIvwB,OACZyX,IAAKA,EACLxgB,GAAI2e,EAAK0a,GAAM,EACf1a,GAAIA,EACJ0a,GAAIA,EAER,CAEA,SAASK,UAAUvjC,GACjB,IAAIuO,EAAQvO,EAAKqqB,IAAI9b,MAAM,IAC3B,MAAO,CAAC00B,cAAc10B,EAAM,GAAIvO,EAAKwoB,GAAIxoB,EAAK6J,GAAIo5B,cAAc10B,EAAM,GAAIvO,EAAK6J,EAAG7J,EAAKkjC,IACzF,CAEA,SAASM,aAAalK,EAAIhB,GACxB,OAAiC,EAA1B1yB,KAAKc,IAAI4yB,EAAG+J,GAAK/K,EAAG+K,IAAU/J,EAAG3mB,MAAQ2lB,EAAG3lB,OAAmC,EAA1B/M,KAAKc,IAAI4yB,EAAGgK,GAAKhL,EAAGgL,IAAUhK,EAAG1mB,OAAS0lB,EAAG1lB,MAC3G,CAEA,SAAS6wB,eAAelK,EAAIhB,EAAImL,EAAOC,EAAWC,EAAeC,GAC/D,GAAKL,aAAajK,EAAIhB,GAEtB,GAAImL,GAASG,GAAgBtK,EAAG5mB,OAASgxB,GAAapK,EAAG3mB,QAAU+wB,GAAapL,EAAG5lB,OAASgxB,GAAapL,EAAG3lB,QAAU+wB,EACpHC,EAAc1gC,KAAK,CAACq2B,EAAG1vB,EAAG0uB,EAAG1uB,QAD/B,CAKA,IAAIi6B,EAAMP,UAAUhK,GAChBwK,EAAMR,UAAUhL,GACpBkL,eAAeK,EAAI,GAAIC,EAAI,GAAIL,EAAQ,EAAGC,EAAWC,EAAeC,GACpEJ,eAAeK,EAAI,GAAIC,EAAI,GAAIL,EAAQ,EAAGC,EAAWC,EAAeC,GACpEJ,eAAeK,EAAI,GAAIC,EAAI,GAAIL,EAAQ,EAAGC,EAAWC,EAAeC,GACpEJ,eAAeK,EAAI,GAAIC,EAAI,GAAIL,EAAQ,EAAGC,EAAWC,EAAeC,EAPpE,CAQF,CAoBA,SAASG,aAAa10B,EAAG7F,GACvB,MAAO,CAAC6F,EAAE,GAAK7F,EAAE,GAAK6F,EAAE,GAAK7F,EAAE,GAAI6F,EAAE,GAAK7F,EAAE,GAAK6F,EAAE,GAAK7F,EAAE,GAAI6F,EAAE,GAAK7F,EAAE,GAAK6F,EAAE,GAAK7F,EAAE,GACvF,CAEA,SAASw6B,iBAAiBC,EAAQC,EAAMC,EAAQC,GAC9C,IAAI5N,EAAK,CAACyN,EAAO,GAAIA,EAAO,GAAI,GAC5BxC,EAAK,CAACyC,EAAK,GAAIA,EAAK,GAAI,GACxBG,EAAK,CAACF,EAAO,GAAIA,EAAO,GAAI,GAC5BG,EAAK,CAACF,EAAK,GAAIA,EAAK,GAAI,GACxB96B,EAAIy6B,aAAaA,aAAavN,EAAIiL,GAAKsC,aAAaM,EAAIC,IAC5D,OAAIrC,UAAU34B,EAAE,IAAY,KACrB,CAACA,EAAE,GAAKA,EAAE,GAAIA,EAAE,GAAKA,EAAE,GAChC,CAEA,SAASi7B,YAAY76B,EAAG+rB,EAAOl8B,GAC7B,MAAO,CAACmQ,EAAE,GAAK/D,KAAKgpB,IAAI8G,GAASl8B,EAAQmQ,EAAE,GAAK/D,KAAKmoB,IAAI2H,GAASl8B,EACpE,CAEA,SAASirC,cAAcjQ,EAAI2E,GACzB,OAAOvzB,KAAK8+B,MAAMlQ,EAAG,GAAK2E,EAAG,GAAI3E,EAAG,GAAK2E,EAAG,GAC9C,CAEA,SAAS0J,WAAWrO,EAAI2E,GACtB,OAAO8I,WAAWzN,EAAG,GAAI2E,EAAG,KAAO8I,WAAWzN,EAAG,GAAI2E,EAAG,GAC1D,CAEA,SAASwL,iBAAkB,CAY3B,SAASC,SAASC,EAAcje,EAAO8O,EAAOttB,EAAW08B,EAAWC,EAAcC,GAChF,IAAIC,EAAOvP,EAAQ9vB,KAAKmB,GAAK,EACzBm+B,EAAOxP,EAAQ9vB,KAAKmB,GAAK,EACzB+5B,EAAKla,EAAM,GAAKhhB,KAAKgpB,IAAI8G,GAASttB,EAAY08B,EAC9C/D,EAAKna,EAAM,GAAKhhB,KAAKmoB,IAAI2H,GAASttB,EAAY08B,EAClDD,EAAajT,YAAYkP,EAAIC,EAAID,EAAKl7B,KAAKgpB,IAAIqW,GAAQF,EAAchE,EAAKn7B,KAAKmoB,IAAIkX,GAAQF,EAAcjE,EAAKl7B,KAAKgpB,IAAIsW,GAAQF,EAAajE,EAAKn7B,KAAKmoB,IAAImX,GAAQF,EAAaH,EAAarrC,SAC9L,CAEA,SAAS2rC,uBAAuB/e,EAAKC,GACnC,IAAI+e,EAAS,CAAC/e,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,IACxCif,EAAiB,IAAVz/B,KAAKmB,GAEhB,MADoB,CAACnB,KAAKgpB,IAAIyW,GAAOD,EAAO,GAAKx/B,KAAKmoB,IAAIsX,GAAOD,EAAO,GAAIx/B,KAAKmoB,IAAIsX,GAAOD,EAAO,GAAKx/B,KAAKgpB,IAAIyW,GAAOD,EAAO,GAEjI,CAEA,SAASE,mBAAmBx5B,EAAMy5B,GAChC,IAAIC,EAAoB,IAARD,EAAYz5B,EAAKtS,SAAW,EAAI+rC,EAAM,EAClDE,GAAaF,EAAM,GAAKz5B,EAAKtS,SAG7BksC,EAAUP,uBAFEr5B,EAAKxC,EAAEk8B,GACP15B,EAAKxC,EAAEm8B,IAEvB,OAAO7/B,KAAK0oB,MAAM,EAAG,GAAK1oB,KAAK0oB,MAAMoX,EAAQ,GAAIA,EAAQ,GAC3D,CAEA,SAASC,aAAad,EAAc/4B,EAAMy5B,EAAKT,EAAWc,EAAWC,EAAWz9B,GAC9E,IAAIstB,EAAQ4P,mBAAmBx5B,EAAMy5B,GACjC3e,EAAQ9a,EAAKxC,EAAEi8B,EAAMz5B,EAAKgZ,SAC1BghB,EAAYh6B,EAAKxC,EAAU,IAARi8B,EAAYz5B,EAAKgZ,QAAU,EAAIygB,EAAM,GACxDQ,EAAYj6B,EAAKxC,GAAGi8B,EAAM,GAAKz5B,EAAKgZ,SACpCkhB,EAAyB,IAAdH,EAAkBjgC,KAAKG,KAAKH,KAAKC,IAAI+gB,EAAM,GAAKkf,EAAU,GAAI,GAAKlgC,KAAKC,IAAI+gB,EAAM,GAAKkf,EAAU,GAAI,IAAM,EACtHG,EAAyB,IAAdJ,EAAkBjgC,KAAKG,KAAKH,KAAKC,IAAI+gB,EAAM,GAAKmf,EAAU,GAAI,GAAKngC,KAAKC,IAAI+gB,EAAM,GAAKmf,EAAU,GAAI,IAAM,EAC1HnB,SAASC,EAAc/4B,EAAKxC,EAAEi8B,EAAMz5B,EAAKgZ,SAAU4Q,EAAOttB,EAAW08B,EAAWmB,GAA8B,GAAjBL,EAAY,IAASI,GAA8B,GAAjBJ,EAAY,IAASC,EACtJ,CAEA,SAASK,cAAcrB,EAAc/oB,EAASgpB,EAAWc,EAAWC,EAAWz9B,GAC7E,IAAK,IAAIxG,EAAI,EAAGA,EAAIgkC,EAAWhkC,GAAK,EAAG,CACrC,IAAIiI,GAAKjI,EAAI,IAAMgkC,EAAY,GAC3BO,EAAqB,IAAdN,EAAkBjgC,KAAKG,KAAKH,KAAKC,IAAIiW,EAAQ+G,OAAO,GAAG,GAAK/G,EAAQ+G,OAAO,GAAG,GAAI,GAAKjd,KAAKC,IAAIiW,EAAQ+G,OAAO,GAAG,GAAK/G,EAAQ+G,OAAO,GAAG,GAAI,IAAM,EAC1J6S,EAAQ5Z,EAAQsqB,YAAYv8B,GAEhC+6B,SAASC,EADG/oB,EAAQ8K,MAAM/c,GACI6rB,EAAOttB,EAAW08B,EAAWqB,GAA0B,GAAjBP,EAAY,IAASO,GAA0B,GAAjBP,EAAY,IAASC,GACvHz9B,GAAaA,CACf,CAEA,OAAOA,CACT,CAqEA,SAASi+B,aAAa7R,EAAI2E,EAAIiH,GAC5B,IAAI1K,EAAQ9vB,KAAK0oB,MAAM6K,EAAG,GAAK3E,EAAG,GAAI2E,EAAG,GAAK3E,EAAG,IACjD,MAAO,CAACgQ,YAAYhQ,EAAIkB,EAAO0K,GAASoE,YAAYrL,EAAIzD,EAAO0K,GACjE,CAEA,SAASkG,cAAcxqB,EAASskB,GAC9B,IAAI7L,EACAgS,EACAC,EACAC,EACAC,EACAjE,EACA5rC,EAEJ09B,GADA19B,EAAIwvC,aAAavqB,EAAQ+G,OAAO,GAAI/G,EAAQ+G,OAAO,GAAIud,IAChD,GACPmG,EAAM1vC,EAAE,GAER2vC,GADA3vC,EAAIwvC,aAAavqB,EAAQ+G,OAAO,GAAI/G,EAAQ+G,OAAO,GAAIud,IAC/C,GACRqG,EAAM5vC,EAAE,GAER6vC,GADA7vC,EAAIwvC,aAAavqB,EAAQ+G,OAAO,GAAI/G,EAAQ+G,OAAO,GAAIud,IAC/C,GACRqC,EAAK5rC,EAAE,GACP,IAAI29B,EAAKyP,iBAAiB1P,EAAIgS,EAAKC,EAAKC,GAC7B,OAAPjS,IAAaA,EAAK+R,GACtB,IAAIpN,EAAK8K,iBAAiByC,EAAKjE,EAAI+D,EAAKC,GAExC,OADW,OAAPtN,IAAaA,EAAKuN,GACf,IAAI/D,iBAAiBpO,EAAIC,EAAI2E,EAAIsJ,EAC1C,CAEA,SAASkE,UAAU9B,EAAc+B,EAAMC,EAAMC,EAAUC,GACrD,IAAIxS,EAAKqS,EAAK/jB,OAAO,GACjB2R,EAAKqS,EAAKhkB,OAAO,GAErB,GAAiB,IAAbikB,EAAgB,OAAOvS,EAE3B,GAAIsO,WAAWtO,EAAIC,GAAK,OAAOD,EAE/B,GAAiB,IAAbuS,EAAgB,CAClB,IAAIE,GAAYJ,EAAKK,aAAa,GAC9BC,GAAWL,EAAKI,aAAa,GAAKrhC,KAAKmB,GACvCtM,EAASwpC,iBAAiB1P,EAAIiQ,YAAYjQ,EAAIyS,EAAWphC,KAAKmB,GAAK,EAAG,KAAMytB,EAAIgQ,YAAYhQ,EAAIwS,EAAWphC,KAAKmB,GAAK,EAAG,MACxHogC,EAAS1sC,EAASgqC,cAAchqC,EAAQ85B,GAAMkQ,cAAclQ,EAAIC,GAAM,EACtEsC,EAAM0N,YAAYjQ,EAAIyS,EAAU,EAAIG,EAASngC,aAIjD,OAHA69B,EAAanT,QAAQoF,EAAI,GAAIA,EAAI,GAAI,IAAK+N,EAAarrC,SAAW,GAClEs9B,EAAM0N,YAAYhQ,EAAI0S,EAAS,EAAIC,EAASngC,aAC5C69B,EAAajT,YAAY4C,EAAG,GAAIA,EAAG,GAAIA,EAAG,GAAIA,EAAG,GAAIsC,EAAI,GAAIA,EAAI,GAAI+N,EAAarrC,UAC3Eg7B,CACT,CAGA,IAEI4S,EAAenD,iBAFVpB,WAAWtO,EAAIqS,EAAK/jB,OAAO,IAAM+jB,EAAK/jB,OAAO,GAAK+jB,EAAK/jB,OAAO,GAE/B0R,EAAIC,EADnCqO,WAAWrO,EAAIqS,EAAKhkB,OAAO,IAAMgkB,EAAKhkB,OAAO,GAAKgkB,EAAKhkB,OAAO,IAGvE,OAAIukB,GAAgB3C,cAAc2C,EAAc7S,GAAMwS,GACpDlC,EAAajT,YAAYwV,EAAa,GAAIA,EAAa,GAAIA,EAAa,GAAIA,EAAa,GAAIA,EAAa,GAAIA,EAAa,GAAIvC,EAAarrC,UACrI4tC,GAGF7S,CACT,CAEA,SAAS8S,gBAAgB/3B,EAAG7F,GAC1B,IAAI69B,EAAYh4B,EAAEs0B,cAAcn6B,GAEhC,OADI69B,EAAU9tC,QAAUyoC,WAAWqF,EAAU,GAAG,GAAI,IAAIA,EAAUvrB,QAC9DurB,EAAU9tC,OAAe8tC,EAAU,GAChC,IACT,CAEA,SAASC,yBAAyBj4B,EAAG7F,GACnC,IAAI+9B,EAAOl4B,EAAE8R,QACTqmB,EAAOh+B,EAAE2X,QACTkmB,EAAYD,gBAAgB/3B,EAAEA,EAAE9V,OAAS,GAAIiQ,EAAE,IAOnD,OALI69B,IACFE,EAAKl4B,EAAE9V,OAAS,GAAK8V,EAAEA,EAAE9V,OAAS,GAAG+U,MAAM+4B,EAAU,IAAI,GACzDG,EAAK,GAAKh+B,EAAE,GAAG8E,MAAM+4B,EAAU,IAAI,IAGjCh4B,EAAE9V,OAAS,GAAKiQ,EAAEjQ,OAAS,IAC7B8tC,EAAYD,gBAAgB/3B,EAAE,GAAI7F,EAAEA,EAAEjQ,OAAS,KAGtC,CAAC,CAAC8V,EAAE,GAAGf,MAAM+4B,EAAU,IAAI,IAAK,CAAC79B,EAAEA,EAAEjQ,OAAS,GAAG+U,MAAM+4B,EAAU,IAAI,KAIzE,CAACE,EAAMC,EAChB,CAEA,SAASC,mBAAmBpuB,GAG1B,IAFA,IAAIziB,EAEK+K,EAAI,EAAGA,EAAI0X,EAAS9f,OAAQoI,GAAK,EACxC/K,EAAI0wC,yBAAyBjuB,EAAS1X,EAAI,GAAI0X,EAAS1X,IACvD0X,EAAS1X,EAAI,GAAK/K,EAAE,GACpByiB,EAAS1X,GAAK/K,EAAE,GASlB,OANIyiB,EAAS9f,OAAS,IACpB3C,EAAI0wC,yBAAyBjuB,EAASA,EAAS9f,OAAS,GAAI8f,EAAS,IACrEA,EAASA,EAAS9f,OAAS,GAAK3C,EAAE,GAClCyiB,EAAS,GAAKziB,EAAE,IAGXyiB,CACT,CAEA,SAASquB,mBAAmB7rB,EAASskB,GAOnC,IACIniC,EACA2pC,EACAr5B,EACAs5B,EAJAC,EAAOhsB,EAAQisB,mBAMnB,GAAoB,IAAhBD,EAAKtuC,OACP,MAAO,CAAC8sC,cAAcxqB,EAASskB,IAGjC,GAAoB,IAAhB0H,EAAKtuC,QAAgByoC,WAAW6F,EAAK,GAAI,GAI3C,OAFA7pC,GADAsQ,EAAQuN,EAAQvN,MAAMu5B,EAAK,KACd,GACbF,EAAQr5B,EAAM,GACP,CAAC+3B,cAAcroC,EAAMmiC,GAASkG,cAAcsB,EAAOxH,IAI5DniC,GADAsQ,EAAQuN,EAAQvN,MAAMu5B,EAAK,KACd,GACb,IAAIj+B,GAAKi+B,EAAK,GAAKA,EAAK,KAAO,EAAIA,EAAK,IAIxC,OAFAD,GADAt5B,EAAQA,EAAM,GAAGA,MAAM1E,IACX,GACZ+9B,EAAQr5B,EAAM,GACP,CAAC+3B,cAAcroC,EAAMmiC,GAASkG,cAAcuB,EAAKzH,GAASkG,cAAcsB,EAAOxH,GACxF,CAEA,SAAS4H,qBAAsB,CAwG/B,SAASC,kBAAkBC,GAOzB,IANA,IAAIC,EAASD,EAASE,OAASF,EAASE,OAAO75B,MAAM,KAAO,GACxD85B,EAAU,SACVD,EAAS,SACTtmC,EAAMqmC,EAAO3uC,OAGRoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAG5B,OAFYumC,EAAOvmC,GAAG0mC,eAGpB,IAAK,SACHF,EAAS,SACT,MAEF,IAAK,OACHC,EAAU,MACV,MAEF,IAAK,QACHA,EAAU,MACV,MAEF,IAAK,SACHA,EAAU,MACV,MAEF,IAAK,UACL,IAAK,SACHA,EAAU,MACV,MAEF,IAAK,QACL,IAAK,OACHA,EAAU,MAQhB,MAAO,CACL/gC,MAAO8gC,EACPG,OAAQL,EAASG,SAAWA,EAEhC,CAriCA5mC,gBAAgB,CAACw8B,eAAgB8D,kBAEjCA,iBAAiB//B,UAAUo8B,uBAAyB,SAAU3d,EAAMzgB,GAClE1J,KAAKi6B,SAAWj6B,KAAKioC,YACrBjoC,KAAKuZ,EAAI+gB,gBAAgBC,QAAQpQ,EAAMzgB,EAAK6P,EAAG,EAAG,KAAMvZ,MACxDA,KAAK4X,EAAI0iB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKkO,EAAG,EAAG,KAAM5X,MACxDA,KAAKkyC,GAAK/H,yBAAyBqB,qBAAqBrhB,EAAMzgB,EAAKwoC,GAAIlyC,MACvEA,KAAKmyC,GAAK7X,gBAAgBC,QAAQpQ,EAAMzgB,EAAKwoC,GAAGC,GAAI,EAAG,IAAMnyC,MAC7DA,KAAKoyC,GAAK9X,gBAAgBC,QAAQpQ,EAAMzgB,EAAKwoC,GAAGE,GAAI,EAAG,IAAMpyC,MAC7DA,KAAK0J,KAAOA,EAEP1J,KAAK26B,kBAAkBz3B,QAC1BlD,KAAKi6B,UAAS,GAGhBj6B,KAAK46B,cAAgB56B,KAAK26B,kBAAkBz3B,OAC5ClD,KAAKqyC,QAAU,IAAIjS,OACnBpgC,KAAKsyC,QAAU,IAAIlS,OACnBpgC,KAAKuyC,QAAU,IAAInS,OACnBpgC,KAAKwyC,QAAU,IAAIpS,OACnBpgC,KAAK8jC,OAAS,IAAI1D,MACpB,EAEAqL,iBAAiB//B,UAAU+mC,gBAAkB,SAAUJ,EAASC,EAASC,EAASzQ,EAAW3R,EAAMuiB,GACjG,IAAIphB,EAAMohB,GAAO,EAAI,EACjBC,EAAS7Q,EAAU/uB,EAAEC,EAAE,IAAM,EAAI8uB,EAAU/uB,EAAEC,EAAE,KAAO,EAAImd,GAC1DyiB,EAAS9Q,EAAU/uB,EAAEC,EAAE,IAAM,EAAI8uB,EAAU/uB,EAAEC,EAAE,KAAO,EAAImd,GAC9DkiB,EAAQ1Q,UAAUG,EAAUzuB,EAAEL,EAAE,GAAKse,EAAMnB,EAAM2R,EAAUzuB,EAAEL,EAAE,GAAKse,EAAMnB,EAAM2R,EAAUzuB,EAAEL,EAAE,IAC9Fs/B,EAAQ3Q,WAAWG,EAAU9oB,EAAEhG,EAAE,IAAK8uB,EAAU9oB,EAAEhG,EAAE,GAAI8uB,EAAU9oB,EAAEhG,EAAE,IACtEs/B,EAAQ3R,QAAQmB,EAAU7uB,EAAED,EAAIse,EAAMnB,GACtCmiB,EAAQ3Q,UAAUG,EAAU9oB,EAAEhG,EAAE,GAAI8uB,EAAU9oB,EAAEhG,EAAE,GAAI8uB,EAAU9oB,EAAEhG,EAAE,IACpEu/B,EAAQ5Q,WAAWG,EAAU9oB,EAAEhG,EAAE,IAAK8uB,EAAU9oB,EAAEhG,EAAE,GAAI8uB,EAAU9oB,EAAEhG,EAAE,IACtEu/B,EAAQjR,MAAMoR,EAAM,EAAIC,EAASA,EAAQD,EAAM,EAAIE,EAASA,GAC5DL,EAAQ5Q,UAAUG,EAAU9oB,EAAEhG,EAAE,GAAI8uB,EAAU9oB,EAAEhG,EAAE,GAAI8uB,EAAU9oB,EAAEhG,EAAE,GACtE,EAEAy4B,iBAAiB//B,UAAU2c,KAAO,SAAU8B,EAAMjc,EAAKmtB,EAAKwX,GAY1D,IAXA7yC,KAAKmqB,KAAOA,EACZnqB,KAAKkO,IAAMA,EACXlO,KAAKq7B,IAAMA,EACXr7B,KAAK6yC,UAAYA,EACjB7yC,KAAK8yC,eAAiB,EACtB9yC,KAAK+yC,UAAY,GACjB/yC,KAAKgzC,QAAU,GACfhzC,KAAKs5B,SAAW,EAChBt5B,KAAK86B,6BAA6B3Q,GAClCnqB,KAAK8nC,uBAAuB3d,EAAMjc,EAAImtB,IAE/BA,EAAM,GACXA,GAAO,EAEPr7B,KAAK+yC,UAAUE,QAAQ/kC,EAAImtB,IAGzBr7B,KAAK26B,kBAAkBz3B,OACzBlD,KAAKwW,GAAI,EAETxW,KAAKi6B,UAAS,EAElB,EAEAwR,iBAAiB//B,UAAUwnC,cAAgB,SAAUC,GACnD,IAAI7nC,EACAE,EAAM2nC,EAASjwC,OAEnB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB6nC,EAAS7nC,GAAG8nC,YAAa,EAEF,OAAnBD,EAAS7nC,GAAG0L,IACdhX,KAAKkzC,cAAcC,EAAS7nC,GAAGqM,GAGrC,EAEA8zB,iBAAiB//B,UAAU2nC,cAAgB,SAAUF,GACnD,IAAIG,EAAcxvC,KAAKC,MAAMD,KAAK2T,UAAU07B,IAE5C,OADAnzC,KAAKkzC,cAAcI,GACZA,CACT,EAEA7H,iBAAiB//B,UAAU6nC,kBAAoB,SAAUJ,EAAUK,GACjE,IAAIloC,EACAE,EAAM2nC,EAASjwC,OAEnB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB6nC,EAAS7nC,GAAGmoC,QAAUD,EAEC,OAAnBL,EAAS7nC,GAAG0L,IACdhX,KAAKuzC,kBAAkBJ,EAAS7nC,GAAGqM,GAAI67B,EAG7C,EAEA/H,iBAAiB//B,UAAUm9B,cAAgB,SAAUpP,GACnD,IAAI9vB,EACA+pC,EACApoC,EACAgmB,EACAqiB,EACAC,GAAc,EAElB,GAAI5zC,KAAKo5B,MAAQK,EAAe,CAC9B,IAmEI+Z,EAnEAK,EAASvkC,KAAKwkC,KAAK9zC,KAAKuZ,EAAEvG,GAE9B,GAAIhT,KAAKgzC,QAAQ9vC,OAAS2wC,EAAQ,CAChC,KAAO7zC,KAAKgzC,QAAQ9vC,OAAS2wC,GAAQ,CACnC,IAAIE,EAAQ,CACVp8B,GAAI3X,KAAKqzC,cAAcrzC,KAAK+yC,WAC5B/7B,GAAI,MAEN+8B,EAAMp8B,GAAG/K,KAAK,CACZoM,EAAG,CACDA,EAAG,EACHg7B,GAAI,EACJx9B,EAAG,CAAC,EAAG,IAET8K,GAAI,YACJ1J,EAAG,CACDoB,EAAG,EACHg7B,GAAI,EACJx9B,EAAG,KAELnD,EAAG,CACD2F,EAAG,EACHg7B,GAAI,EACJx9B,EAAG,CAAC,EAAG,IAETvD,EAAG,CACD+F,EAAG,EACHg7B,GAAI,EACJx9B,EAAG,CAAC,CACFzD,EAAG,EACHxS,EAAG,EACHgT,EAAG,GACF,CACDR,EAAG,EACHxS,EAAG,EACHgT,EAAG,KAGPR,EAAG,CACDiG,EAAG,EACHg7B,GAAI,EACJx9B,EAAG,CAAC,IAAK,MAEX0C,GAAI,CACFF,EAAG,EACHg7B,GAAI,EACJx9B,EAAG,GAELyC,GAAI,CACFD,EAAG,EACHg7B,GAAI,EACJx9B,EAAG,GAELQ,GAAI,OAENhX,KAAKkO,IAAI4R,OAAO,EAAG,EAAGi0B,GAEtB/zC,KAAKgzC,QAAQlzB,OAAO,EAAG,EAAGi0B,GAE1B/zC,KAAK8yC,gBAAkB,CACzB,CAEA9yC,KAAKmqB,KAAK8pB,eACVL,GAAc,CAChB,CAKA,IAHAD,EAAO,EAGFroC,EAAI,EAAGA,GAAKtL,KAAKgzC,QAAQ9vC,OAAS,EAAGoI,GAAK,EAAG,CAKhD,GAJAkoC,EAAaG,EAAOE,EACpB7zC,KAAKgzC,QAAQ1nC,GAAGmoC,QAAUD,EAC1BxzC,KAAKuzC,kBAAkBvzC,KAAKgzC,QAAQ1nC,GAAGqM,GAAI67B,IAEtCA,EAAY,CACf,IAAIU,EAAQl0C,KAAK6yC,UAAUvnC,GAAGqM,GAC1Bw8B,EAAgBD,EAAMA,EAAMhxC,OAAS,GAEJ,IAAjCixC,EAAcrS,UAAUjpB,GAAG7F,GAC7BmhC,EAAcrS,UAAUjpB,GAAGugB,MAAO,EAClC+a,EAAcrS,UAAUjpB,GAAG7F,EAAI,GAE/BmhC,EAAcrS,UAAUjpB,GAAGugB,MAAO,CAEtC,CAEAua,GAAQ,CACV,CAEA3zC,KAAK8yC,eAAiBe,EAEtB,IAAItuC,EAASvF,KAAK4X,EAAE5E,EAChBohC,EAAe7uC,EAAS,EACxB8uC,EAAc9uC,EAAS,EAAI+J,KAAKK,MAAMpK,GAAU+J,KAAKwkC,KAAKvuC,GAC1D+uC,EAASt0C,KAAKqyC,QAAQ3R,MACtB6T,EAASv0C,KAAKsyC,QAAQ5R,MACtB8T,EAASx0C,KAAKuyC,QAAQ7R,MAC1B1gC,KAAKqyC,QAAQvwC,QACb9B,KAAKsyC,QAAQxwC,QACb9B,KAAKuyC,QAAQzwC,QACb9B,KAAKwyC,QAAQ1wC,QACb9B,KAAK8jC,OAAOhiC,QACZ,IA2BIwU,EACAC,EA5BAk+B,EAAY,EAEhB,GAAIlvC,EAAS,EAAG,CACd,KAAOkvC,EAAYJ,GACjBr0C,KAAKyyC,gBAAgBzyC,KAAKqyC,QAASryC,KAAKsyC,QAAStyC,KAAKuyC,QAASvyC,KAAKkyC,GAAI,GAAG,GAC3EuC,GAAa,EAGXL,IACFp0C,KAAKyyC,gBAAgBzyC,KAAKqyC,QAASryC,KAAKsyC,QAAStyC,KAAKuyC,QAASvyC,KAAKkyC,GAAIkC,GAAc,GACtFK,GAAaL,EAEjB,MAAO,GAAI7uC,EAAS,EAAG,CACrB,KAAOkvC,EAAYJ,GACjBr0C,KAAKyyC,gBAAgBzyC,KAAKqyC,QAASryC,KAAKsyC,QAAStyC,KAAKuyC,QAASvyC,KAAKkyC,GAAI,GAAG,GAC3EuC,GAAa,EAGXL,IACFp0C,KAAKyyC,gBAAgBzyC,KAAKqyC,QAASryC,KAAKsyC,QAAStyC,KAAKuyC,QAASvyC,KAAKkyC,IAAKkC,GAAc,GACvFK,GAAaL,EAEjB,CAQA,IANA9oC,EAAoB,IAAhBtL,KAAK0J,KAAKg4B,EAAU,EAAI1hC,KAAK8yC,eAAiB,EAClDxhB,EAAsB,IAAhBtxB,KAAK0J,KAAKg4B,EAAU,GAAK,EAC/BiS,EAAO3zC,KAAK8yC,eAILa,GAAM,CAQX,GALAp9B,GADAm9B,GADA/pC,EAAQ3J,KAAK6yC,UAAUvnC,GAAGqM,IACHhO,EAAMzG,OAAS,GAAG4+B,UAAU4S,OAAO1hC,EAAE0tB,OACtCx9B,OACtByG,EAAMA,EAAMzG,OAAS,GAAG4+B,UAAU4S,OAAOtb,MAAO,EAChDzvB,EAAMA,EAAMzG,OAAS,GAAG4+B,UAAUjpB,GAAGugB,MAAO,EAC5CzvB,EAAMA,EAAMzG,OAAS,GAAG4+B,UAAUjpB,GAAG7F,EAA4B,IAAxBhT,KAAK8yC,eAAuB9yC,KAAKmyC,GAAGn/B,EAAIhT,KAAKmyC,GAAGn/B,GAAKhT,KAAKoyC,GAAGp/B,EAAIhT,KAAKmyC,GAAGn/B,IAAM1H,GAAKtL,KAAK8yC,eAAiB,IAEjI,IAAd2B,EAAiB,CASnB,KARU,IAANnpC,GAAmB,IAARgmB,GAAahmB,IAAMtL,KAAK8yC,eAAiB,IAAc,IAATxhB,IAC3DtxB,KAAKyyC,gBAAgBzyC,KAAKqyC,QAASryC,KAAKsyC,QAAStyC,KAAKuyC,QAASvyC,KAAKkyC,GAAI,GAAG,GAG7ElyC,KAAK8jC,OAAOhC,UAAUyS,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KACvMv0C,KAAK8jC,OAAOhC,UAAU0S,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KACvMx0C,KAAK8jC,OAAOhC,UAAUwS,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KAElMh+B,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzBo9B,EAAep9B,GAAKtW,KAAK8jC,OAAOpD,MAAMpqB,GAGxCtW,KAAK8jC,OAAOhiC,OACd,MAGE,IAFA9B,KAAK8jC,OAAOhiC,QAEPwU,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzBo9B,EAAep9B,GAAKtW,KAAK8jC,OAAOpD,MAAMpqB,GAI1Cm+B,GAAa,EACbd,GAAQ,EACRroC,GAAKgmB,CACP,CACF,MAKE,IAJAqiB,EAAO3zC,KAAK8yC,eACZxnC,EAAI,EACJgmB,EAAM,EAECqiB,GAELD,GADA/pC,EAAQ3J,KAAK6yC,UAAUvnC,GAAGqM,IACHhO,EAAMzG,OAAS,GAAG4+B,UAAU4S,OAAO1hC,EAAE0tB,MAC5D/2B,EAAMA,EAAMzG,OAAS,GAAG4+B,UAAU4S,OAAOtb,MAAO,EAChDzvB,EAAMA,EAAMzG,OAAS,GAAG4+B,UAAUjpB,GAAGugB,MAAO,EAC5Cua,GAAQ,EACRroC,GAAKgmB,EAIT,OAAOsiB,CACT,EAEAnI,iBAAiB//B,UAAU8wB,SAAW,WAAa,EAInDrxB,gBAAgB,CAACw8B,eAAgB+D,sBAEjCA,qBAAqBhgC,UAAUo8B,uBAAyB,SAAU3d,EAAMzgB,GACtE1J,KAAKi6B,SAAWj6B,KAAKioC,YACrBjoC,KAAK20C,GAAKra,gBAAgBC,QAAQpQ,EAAMzgB,EAAKuJ,EAAG,EAAG,KAAMjT,MACzDA,KAAK46B,cAAgB56B,KAAK20C,GAAGpb,gBAAgBr2B,MAC/C,EAEAwoC,qBAAqBhgC,UAAUq+B,YAAc,SAAUv0B,EAAM3E,GAC3D,IAEIvF,EAFA4+B,EAAa/N,UAAUxN,aAC3Bub,EAAW3wB,EAAI/D,EAAK+D,EAEpB,IACIq7B,EACAC,EACAC,EACAC,EACAC,EACAC,EAEA1Z,EACAC,EACAC,EACAC,EACAC,EACAC,EAbApwB,EAAMgK,EAAKgZ,QAOXlF,EAAQ,EAQZ,IAAKhe,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBspC,EAAWp/B,EAAKxC,EAAE1H,GAClBwpC,EAAWt/B,EAAKoC,EAAEtM,GAClBupC,EAAWr/B,EAAKlK,EAAEA,GAEdspC,EAAS,KAAOE,EAAS,IAAMF,EAAS,KAAOE,EAAS,IAAMF,EAAS,KAAOC,EAAS,IAAMD,EAAS,KAAOC,EAAS,GAC7G,IAANvpC,GAAWA,IAAME,EAAM,GAAOgK,EAAK+D,GASpCw7B,EADQ,IAANzpC,EACQkK,EAAKxC,EAAExH,EAAM,GAEbgK,EAAKxC,EAAE1H,EAAI,GAIvB2pC,GADAD,EAAW1lC,KAAKG,KAAKH,KAAKC,IAAIqlC,EAAS,GAAKG,EAAQ,GAAI,GAAKzlC,KAAKC,IAAIqlC,EAAS,GAAKG,EAAQ,GAAI,KACxEzlC,KAAKS,IAAIilC,EAAW,EAAGnkC,GAASmkC,EAAW,EAEnEzZ,EADAI,EAAKiZ,EAAS,IAAMG,EAAQ,GAAKH,EAAS,IAAMK,EAGhDzZ,EADAI,EAAKgZ,EAAS,IAAMA,EAAS,GAAKG,EAAQ,IAAME,EAEhDxZ,EAAKF,GAAMA,EAAKqZ,EAAS,IAAMlkC,YAC/BgrB,EAAKF,GAAMA,EAAKoZ,EAAS,IAAMlkC,YAC/Bw5B,EAAW5O,YAAYC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAItS,GAC/CA,GAAS,EAGPyrB,EADEzpC,IAAME,EAAM,EACJgK,EAAKxC,EAAE,GAEPwC,EAAKxC,EAAE1H,EAAI,GAIvB2pC,GADAD,EAAW1lC,KAAKG,KAAKH,KAAKC,IAAIqlC,EAAS,GAAKG,EAAQ,GAAI,GAAKzlC,KAAKC,IAAIqlC,EAAS,GAAKG,EAAQ,GAAI,KACxEzlC,KAAKS,IAAIilC,EAAW,EAAGnkC,GAASmkC,EAAW,EAEnEzZ,EADAE,EAAKmZ,EAAS,IAAMG,EAAQ,GAAKH,EAAS,IAAMK,EAGhDzZ,EADAE,EAAKkZ,EAAS,IAAMG,EAAQ,GAAKH,EAAS,IAAMK,EAEhDtZ,EAAKJ,GAAMA,EAAKqZ,EAAS,IAAMlkC,YAC/BkrB,EAAKJ,GAAMA,EAAKoZ,EAAS,IAAMlkC,YAC/Bw5B,EAAW5O,YAAYC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAItS,GAC/CA,GAAS,IAvCT4gB,EAAW5O,YAAYsZ,EAAS,GAAIA,EAAS,GAAIE,EAAS,GAAIA,EAAS,GAAID,EAAS,GAAIA,EAAS,GAAIvrB,GAKrGA,GAAS,IAqCX4gB,EAAW5O,YAAY9lB,EAAKxC,EAAE1H,GAAG,GAAIkK,EAAKxC,EAAE1H,GAAG,GAAIkK,EAAKoC,EAAEtM,GAAG,GAAIkK,EAAKoC,EAAEtM,GAAG,GAAIkK,EAAKlK,EAAEA,GAAG,GAAIkK,EAAKlK,EAAEA,GAAG,GAAIge,GAC3GA,GAAS,GAIb,OAAO4gB,CACT,EAEAwB,qBAAqBhgC,UAAUm9B,cAAgB,SAAUpP,GACvD,IAAIqP,EACAx9B,EAEAgL,EACAC,EAIEkb,EACA8L,EAPF/xB,EAAMxL,KAAKoX,OAAOlU,OAGlByxC,EAAK30C,KAAK20C,GAAG3hC,EAEjB,GAAW,IAAP2hC,EAIF,IAAKrpC,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAI3B,GAFAiyB,GADA9L,EAAYzxB,KAAKoX,OAAO9L,IACSiyB,qBAE1B9L,EAAU4K,MAAMjD,MAASp5B,KAAKo5B,MAASK,EAM5C,IALA8D,EAAqBd,gBACrBhL,EAAU4K,MAAMjD,MAAO,EACvB0P,EAAarX,EAAU4K,MAAMiB,MAAMlmB,OACnCb,EAAOkb,EAAU4K,MAAMiB,MAAM9O,QAExBlY,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzBinB,EAAqBf,SAASx8B,KAAK+pC,YAAYjB,EAAWxyB,GAAIq+B,IAIlEljB,EAAU4K,MAAMiB,MAAQ7L,EAAU8L,oBACpC,CAGGv9B,KAAK26B,kBAAkBz3B,SAC1BlD,KAAKo5B,MAAO,EAEhB,EA0DAiT,iBAAiB3gC,UAAU4kB,MAAQ,SAAU/c,GAC3C,MAAO,GAAGvT,KAAKgZ,EAAE,GAAKzF,EAAIvT,KAAKmT,EAAE,IAAMI,EAAIvT,KAAKuZ,EAAE,IAAMhG,EAAIvT,KAAKyT,EAAE,KAAMzT,KAAKgZ,EAAE,GAAKzF,EAAIvT,KAAKmT,EAAE,IAAMI,EAAIvT,KAAKuZ,EAAE,IAAMhG,EAAIvT,KAAKyT,EAAE,GACpI,EAEA44B,iBAAiB3gC,UAAUwpC,WAAa,SAAU3hC,GAChD,MAAO,EAAE,EAAIA,EAAIvT,KAAKgZ,EAAE,GAAK,EAAIhZ,KAAKmT,EAAE,IAAMI,EAAIvT,KAAKuZ,EAAE,IAAK,EAAIhG,EAAIvT,KAAKgZ,EAAE,GAAK,EAAIhZ,KAAKmT,EAAE,IAAMI,EAAIvT,KAAKuZ,EAAE,GAChH,EAEA8yB,iBAAiB3gC,UAAUilC,aAAe,SAAUp9B,GAClD,IAAIF,EAAIrT,KAAKk1C,WAAW3hC,GACxB,OAAOjE,KAAK0oB,MAAM3kB,EAAE,GAAIA,EAAE,GAC5B,EAEAg5B,iBAAiB3gC,UAAUokC,YAAc,SAAUv8B,GACjD,IAAIF,EAAIrT,KAAKk1C,WAAW3hC,GACxB,OAAOjE,KAAK0oB,MAAM3kB,EAAE,GAAIA,EAAE,GAC5B,EAEAg5B,iBAAiB3gC,UAAU+lC,iBAAmB,WAC5C,IAAI0D,EAAQn1C,KAAKgZ,EAAE,GAAKhZ,KAAKmT,EAAE,GAAKnT,KAAKgZ,EAAE,GAAKhZ,KAAKmT,EAAE,GACvD,GAAIy4B,UAAUuJ,GAAQ,MAAO,GAC7B,IAAIC,GAAS,IAAOp1C,KAAKgZ,EAAE,GAAKhZ,KAAKuZ,EAAE,GAAKvZ,KAAKgZ,EAAE,GAAKhZ,KAAKuZ,EAAE,IAAM47B,EACjEE,EAASD,EAAQA,EAAQ,EAAI,GAAKp1C,KAAKmT,EAAE,GAAKnT,KAAKuZ,EAAE,GAAKvZ,KAAKmT,EAAE,GAAKnT,KAAKuZ,EAAE,IAAM47B,EACvF,GAAIE,EAAS,EAAG,MAAO,GACvB,IAAIC,EAAOhmC,KAAKG,KAAK4lC,GAErB,OAAIzJ,UAAU0J,GACRA,EAAO,GAAKA,EAAO,EAAU,CAACF,GAC3B,GAGF,CAACA,EAAQE,EAAMF,EAAQE,GAAMpsC,QAAO,SAAU+J,GACnD,OAAOA,EAAI,GAAKA,EAAI,CACtB,GACF,EAEAo5B,iBAAiB3gC,UAAUuM,MAAQ,SAAU1E,GAC3C,GAAIA,GAAK,EAAG,MAAO,CAAC64B,YAAYpsC,KAAKusB,OAAO,IAAKvsB,MACjD,GAAIuT,GAAK,EAAG,MAAO,CAACvT,KAAMosC,YAAYpsC,KAAKusB,OAAOvsB,KAAKusB,OAAOrpB,OAAS,KACvE,IAAIqyC,EAAMzJ,UAAU9rC,KAAKusB,OAAO,GAAIvsB,KAAKusB,OAAO,GAAIhZ,GAChDiiC,EAAM1J,UAAU9rC,KAAKusB,OAAO,GAAIvsB,KAAKusB,OAAO,GAAIhZ,GAChD8xB,EAAMyG,UAAU9rC,KAAKusB,OAAO,GAAIvsB,KAAKusB,OAAO,GAAIhZ,GAChDkiC,EAAM3J,UAAUyJ,EAAKC,EAAKjiC,GAC1BmiC,EAAM5J,UAAU0J,EAAKnQ,EAAK9xB,GAC1B44B,EAAKL,UAAU2J,EAAKC,EAAKniC,GAC7B,MAAO,CAAC,IAAI84B,iBAAiBrsC,KAAKusB,OAAO,GAAIgpB,EAAKE,EAAKtJ,GAAI,GAAO,IAAIE,iBAAiBF,EAAIuJ,EAAKrQ,EAAKrlC,KAAKusB,OAAO,IAAI,GACvH,EA4BA8f,iBAAiB3gC,UAAUiqC,OAAS,WAClC,MAAO,CACL/oB,EAAG8f,QAAQ1sC,KAAM,GACjBy1B,EAAGiX,QAAQ1sC,KAAM,GAErB,EAEAqsC,iBAAiB3gC,UAAUohC,YAAc,WACvC,IAAI6I,EAAS31C,KAAK21C,SAClB,MAAO,CACLhuC,KAAMguC,EAAO/oB,EAAE7c,IACfuhC,MAAOqE,EAAO/oB,EAAE/c,IAChBjI,IAAK+tC,EAAOlgB,EAAE1lB,IACd6lC,OAAQD,EAAOlgB,EAAE5lB,IACjBwM,MAAOs5B,EAAO/oB,EAAE/c,IAAM8lC,EAAO/oB,EAAE7c,IAC/BuM,OAAQq5B,EAAOlgB,EAAE5lB,IAAM8lC,EAAOlgB,EAAE1lB,IAChCg9B,IAAK4I,EAAO/oB,EAAE/c,IAAM8lC,EAAO/oB,EAAE7c,KAAO,EACpCi9B,IAAK2I,EAAOlgB,EAAE5lB,IAAM8lC,EAAOlgB,EAAE1lB,KAAO,EAExC,EAyCAs8B,iBAAiB3gC,UAAU4hC,cAAgB,SAAUuI,EAAOxI,EAAWE,QACnDrpB,IAAdmpB,IAAyBA,EAAY,QACpBnpB,IAAjBqpB,IAA4BA,EAAe,GAC/C,IAAID,EAAgB,GAEpB,OADAH,eAAeR,cAAc3sC,KAAM,EAAG,GAAI2sC,cAAckJ,EAAO,EAAG,GAAI,EAAGxI,EAAWC,EAAeC,GAC5FD,CACT,EAEAjB,iBAAiB1C,aAAe,SAAUvN,EAAW9S,GACnD,IAAI6lB,GAAa7lB,EAAQ,GAAK8S,EAAUl5B,SACxC,OAAO,IAAImpC,iBAAiBjQ,EAAUppB,EAAEsW,GAAQ8S,EAAUxkB,EAAE0R,GAAQ8S,EAAU9wB,EAAE6jC,GAAY/S,EAAUppB,EAAEm8B,IAAY,EACtH,EAEA9C,iBAAiByJ,qBAAuB,SAAU1Z,EAAW9S,GAC3D,IAAI6lB,GAAa7lB,EAAQ,GAAK8S,EAAUl5B,SACxC,OAAO,IAAImpC,iBAAiBjQ,EAAUppB,EAAEm8B,GAAY/S,EAAU9wB,EAAE6jC,GAAY/S,EAAUxkB,EAAE0R,GAAQ8S,EAAUppB,EAAEsW,IAAQ,EACtH,EA8BAne,gBAAgB,CAACw8B,eAAgB0G,gBAEjCA,eAAe3iC,UAAUo8B,uBAAyB,SAAU3d,EAAMzgB,GAChE1J,KAAKi6B,SAAWj6B,KAAKioC,YACrBjoC,KAAKwuC,UAAYlU,gBAAgBC,QAAQpQ,EAAMzgB,EAAKqJ,EAAG,EAAG,KAAM/S,MAChEA,KAAKsvC,UAAYhV,gBAAgBC,QAAQpQ,EAAMzgB,EAAKuJ,EAAG,EAAG,KAAMjT,MAChEA,KAAK+1C,WAAazb,gBAAgBC,QAAQpQ,EAAMzgB,EAAKoN,GAAI,EAAG,KAAM9W,MAClEA,KAAK46B,YAAwD,IAA1C56B,KAAKwuC,UAAUjV,gBAAgBr2B,QAA0D,IAA1ClD,KAAKsvC,UAAU/V,gBAAgBr2B,QAA2D,IAA3ClD,KAAK+1C,WAAWxc,gBAAgBr2B,MACnJ,EAiDAmrC,eAAe3iC,UAAUq+B,YAAc,SAAUv0B,EAAMg5B,EAAWc,EAAWC,GAC3E,IAAIyG,EAAQxgC,EAAKgZ,QACb0b,EAAa/N,UAAUxN,aAO3B,GANAub,EAAW3wB,EAAI/D,EAAK+D,EAEf/D,EAAK+D,IACRy8B,GAAS,GAGG,IAAVA,EAAa,OAAO9L,EACxB,IAAIp4B,GAAa,EACb0T,EAAU6mB,iBAAiB1C,aAAan0B,EAAM,GAClD65B,aAAanF,EAAY10B,EAAM,EAAGg5B,EAAWc,EAAWC,EAAWz9B,GAEnE,IAAK,IAAIxG,EAAI,EAAGA,EAAI0qC,EAAO1qC,GAAK,EAC9BwG,EAAY89B,cAAc1F,EAAY1kB,EAASgpB,EAAWc,EAAWC,GAAYz9B,GAK/E0T,EAHEla,IAAM0qC,EAAQ,GAAMxgC,EAAK+D,EAGjB8yB,iBAAiB1C,aAAan0B,GAAOlK,EAAI,GAAK0qC,GAF9C,KAKZ3G,aAAanF,EAAY10B,EAAMlK,EAAI,EAAGkjC,EAAWc,EAAWC,EAAWz9B,GAGzE,OAAOo4B,CACT,EAEAmE,eAAe3iC,UAAUm9B,cAAgB,SAAUpP,GACjD,IAAIqP,EACAx9B,EAEAgL,EACAC,EAMEkb,EACA8L,EATF/xB,EAAMxL,KAAKoX,OAAOlU,OAGlBsrC,EAAYxuC,KAAKwuC,UAAUx7B,EAC3Bs8B,EAAYhgC,KAAKO,IAAI,EAAGP,KAAKuB,MAAM7Q,KAAKsvC,UAAUt8B,IAClDu8B,EAAYvvC,KAAK+1C,WAAW/iC,EAEhC,GAAkB,IAAdw7B,EAIF,IAAKljC,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAI3B,GAFAiyB,GADA9L,EAAYzxB,KAAKoX,OAAO9L,IACSiyB,qBAE1B9L,EAAU4K,MAAMjD,MAASp5B,KAAKo5B,MAASK,EAM5C,IALA8D,EAAqBd,gBACrBhL,EAAU4K,MAAMjD,MAAO,EACvB0P,EAAarX,EAAU4K,MAAMiB,MAAMlmB,OACnCb,EAAOkb,EAAU4K,MAAMiB,MAAM9O,QAExBlY,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzBinB,EAAqBf,SAASx8B,KAAK+pC,YAAYjB,EAAWxyB,GAAIk4B,EAAWc,EAAWC,IAIxF9d,EAAU4K,MAAMiB,MAAQ7L,EAAU8L,oBACpC,CAGGv9B,KAAK26B,kBAAkBz3B,SAC1BlD,KAAKo5B,MAAO,EAEhB,EAiJAjuB,gBAAgB,CAACw8B,eAAgB+J,oBAEjCA,mBAAmBhmC,UAAUo8B,uBAAyB,SAAU3d,EAAMzgB,GACpE1J,KAAKi6B,SAAWj6B,KAAKioC,YACrBjoC,KAAK8pC,OAASxP,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsP,EAAG,EAAG,KAAMhZ,MAC7DA,KAAKywC,WAAanW,gBAAgBC,QAAQpQ,EAAMzgB,EAAKusC,GAAI,EAAG,KAAMj2C,MAClEA,KAAKwwC,SAAW9mC,EAAKwsC,GACrBl2C,KAAK46B,YAAqD,IAAvC56B,KAAK8pC,OAAOvQ,gBAAgBr2B,MACjD,EAEAwuC,mBAAmBhmC,UAAUq+B,YAAc,SAAUoM,EAAarM,EAAQ0G,EAAUC,GAClF,IAAIlC,EAAepS,UAAUxN,aAC7B4f,EAAah1B,EAAI48B,EAAY58B,EAC7B,IAMIjO,EACAgL,EACAkP,EARAwwB,EAAQG,EAAYjzC,SAEnBizC,EAAY58B,IACfy8B,GAAS,GAMX,IAAII,EAAgB,GAEpB,IAAK9qC,EAAI,EAAGA,EAAI0qC,EAAO1qC,GAAK,EAC1Bka,EAAU6mB,iBAAiB1C,aAAawM,EAAa7qC,GACrD8qC,EAAcxpC,KAAKykC,mBAAmB7rB,EAASskB,IAGjD,IAAKqM,EAAY58B,EACf,IAAKjO,EAAI0qC,EAAQ,EAAG1qC,GAAK,EAAGA,GAAK,EAC/Bka,EAAU6mB,iBAAiByJ,qBAAqBK,EAAa7qC,GAC7D8qC,EAAcxpC,KAAKykC,mBAAmB7rB,EAASskB,IAInDsM,EAAgBhF,mBAAmBgF,GAEnC,IAAI7lB,EAAY,KACZ8lB,EAAU,KAEd,IAAK/qC,EAAI,EAAGA,EAAI8qC,EAAclzC,OAAQoI,GAAK,EAAG,CAC5C,IAAIgrC,EAAeF,EAAc9qC,GAIjC,IAHI+qC,IAAS9lB,EAAY8f,UAAU9B,EAAc8H,EAASC,EAAa,GAAI9F,EAAUC,IACrF4F,EAAUC,EAAaA,EAAapzC,OAAS,GAExCoT,EAAI,EAAGA,EAAIggC,EAAapzC,OAAQoT,GAAK,EACxCkP,EAAU8wB,EAAahgC,GAEnBia,GAAagc,WAAW/mB,EAAQ+G,OAAO,GAAIgE,GAC7Cge,EAAanT,QAAQ5V,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAI,IAAKgiB,EAAarrC,SAAW,GAE9FqrC,EAAajT,YAAY9V,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAIgiB,EAAarrC,UAG5KqrC,EAAajT,YAAY9V,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAI/G,EAAQ+G,OAAO,GAAG,GAAIgiB,EAAarrC,UAC1KqtB,EAAY/K,EAAQ+G,OAAO,EAE/B,CAGA,OADI6pB,EAAclzC,QAAQmtC,UAAU9B,EAAc8H,EAASD,EAAc,GAAG,GAAI5F,EAAUC,GACnFlC,CACT,EAEAmD,mBAAmBhmC,UAAUm9B,cAAgB,SAAUpP,GACrD,IAAIqP,EACAx9B,EAEAgL,EACAC,EAMEkb,EACA8L,EATF/xB,EAAMxL,KAAKoX,OAAOlU,OAGlB4mC,EAAS9pC,KAAK8pC,OAAO92B,EACrBy9B,EAAazwC,KAAKywC,WAAWz9B,EAC7Bw9B,EAAWxwC,KAAKwwC,SAEpB,GAAe,IAAX1G,EAIF,IAAKx+B,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAI3B,GAFAiyB,GADA9L,EAAYzxB,KAAKoX,OAAO9L,IACSiyB,qBAE1B9L,EAAU4K,MAAMjD,MAASp5B,KAAKo5B,MAASK,EAM5C,IALA8D,EAAqBd,gBACrBhL,EAAU4K,MAAMjD,MAAO,EACvB0P,EAAarX,EAAU4K,MAAMiB,MAAMlmB,OACnCb,EAAOkb,EAAU4K,MAAMiB,MAAM9O,QAExBlY,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzBinB,EAAqBf,SAASx8B,KAAK+pC,YAAYjB,EAAWxyB,GAAIwzB,EAAQ0G,EAAUC,IAIpFhf,EAAU4K,MAAMiB,MAAQ7L,EAAU8L,oBACpC,CAGGv9B,KAAK26B,kBAAkBz3B,SAC1BlD,KAAKo5B,MAAO,EAEhB,EAkDA,IAAImd,YAAc,WAChB,IACIC,EAAY,CACdC,EAAG,EACHpxC,KAAM,EACN+R,OAAQ,GACR1N,KAAM,CACJ0N,OAAQ,KAGRs/B,EAAqB,GAEzBA,EAAqBA,EAAmB7rB,OAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAChP,IAAI8rB,EAAwB,OAMxBC,EAAkC,OAClCC,EAAkC,OAClCC,EAAqB,CAAC,WAAY,WAAY,WAAY,WAAY,YAiB1E,SAASC,EAAUC,EAAMC,GACvB,IAAIC,EAAajsC,UAAU,QAE3BisC,EAAW/sC,aAAa,eAAe,GACvC+sC,EAAWlmC,MAAMmmC,WAAaF,EAC9B,IAAIG,EAAOnsC,UAAU,QAErBmsC,EAAKrtC,UAAY,iBAEjBmtC,EAAWlmC,MAAMC,SAAW,WAC5BimC,EAAWlmC,MAAMrJ,KAAO,WACxBuvC,EAAWlmC,MAAMpJ,IAAM,WAEvBsvC,EAAWlmC,MAAMqmC,SAAW,QAE5BH,EAAWlmC,MAAMsmC,YAAc,SAC/BJ,EAAWlmC,MAAMumC,UAAY,SAC7BL,EAAWlmC,MAAMwmC,WAAa,SAC9BN,EAAWlmC,MAAMymC,cAAgB,IACjCP,EAAW9sC,YAAYgtC,GACvBn2C,SAASC,KAAKkJ,YAAY8sC,GAE1B,IAAI76B,EAAQ+6B,EAAK3vC,YAEjB,OADA2vC,EAAKpmC,MAAMmmC,WAtCb,SAAyBH,GACvB,IACI1rC,EADAosC,EAAcV,EAAK/+B,MAAM,KAEzBzM,EAAMksC,EAAYx0C,OAClBy0C,EAAkB,GAEtB,IAAKrsC,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACD,eAAnBosC,EAAYpsC,IAA0C,cAAnBosC,EAAYpsC,IACjDqsC,EAAgB/qC,KAAK8qC,EAAYpsC,IAIrC,OAAOqsC,EAAgB18B,KAAK,IAC9B,CAyB0B28B,CAAgBZ,GAAQ,KAAOC,EAChD,CACLG,KAAMA,EACNX,EAAGp6B,EACHw7B,OAAQX,EAEZ,CA6CA,SAASY,EAAalG,EAAUmG,GAC9B,IACIC,EADAC,EAASh3C,SAASC,MAAQ62C,EAAM,MAAQ,SAExCG,EAAYvG,kBAAkBC,GAElC,GAAe,QAAXqG,EAAkB,CACpB,IAAIE,EAAUtjC,SAAS,QACvBsjC,EAAQnnC,MAAMqmC,SAAW,QAEzBc,EAAQhuC,aAAa,cAAeynC,EAASwG,SAC7CD,EAAQhuC,aAAa,aAAc+tC,EAAUlnC,OAC7CmnC,EAAQhuC,aAAa,cAAe+tC,EAAUjG,QAC9CkG,EAAQE,YAAc,IAElBzG,EAAS0G,QACXH,EAAQnnC,MAAMmmC,WAAa,UAC3BgB,EAAQhuC,aAAa,QAASynC,EAAS0G,SAEvCH,EAAQnnC,MAAMmmC,WAAavF,EAASwG,QAGtCL,EAAI3tC,YAAY+tC,GAChBH,EAASG,CACX,KAAO,CACL,IAAII,EAAgB,IAAIC,gBAAgB,IAAK,KAAKh8B,WAAW,MAC7D+7B,EAAcvB,KAAOkB,EAAUlnC,MAAQ,IAAMknC,EAAUjG,OAAS,UAAYL,EAASwG,QACrFJ,EAASO,CACX,CAWA,MAAO,CACLE,YAVF,SAAiB12C,GACf,MAAe,QAAXk2C,GACFD,EAAOK,YAAct2C,EACdi2C,EAAOU,yBAGTV,EAAOS,YAAY12C,GAAMsa,KAClC,EAKF,CAwMA,SAASs8B,EAAav1C,GACpB,IAAIw1C,EAAY,EACZnuB,EAAQrnB,EAAOy1C,WAAW,GAE9B,GAAIpuB,GAAS,OAAUA,GAAS,MAAQ,CACtC,IAAIquB,EAAS11C,EAAOy1C,WAAW,GAE3BC,GAAU,OAAUA,GAAU,QAChCF,EAA+B,MAAlBnuB,EAAQ,OAAkBquB,EAAS,MAAS,MAE7D,CAEA,OAAOF,CACT,CAsBA,SAASG,EAAe31C,GACtB,IAAIw1C,EAAYD,EAAav1C,GAE7B,OAAIw1C,GAAahC,GAAmCgC,GAAa/B,CAKnE,CA2CA,IAAImC,EAAO,WACTh5C,KAAKklB,MAAQ,GACbllB,KAAK0Y,MAAQ,KACb1Y,KAAKi5C,cAAgB,EACrBj5C,KAAKiiB,UAAW,EAChBjiB,KAAKk5C,SAAU,EACfl5C,KAAK0pB,SAAWrmB,KAAK81C,MACrBn5C,KAAKo5C,kBAAoBp5C,KAAKq5C,YAAYt7B,KAAK/d,MAC/CA,KAAKs5C,uBAAyBt5C,KAAKu5C,iBAAiBx7B,KAAK/d,KAC3D,EAEAg5C,EAAKQ,WAjFL,SAAoBC,EAAeC,GACjC,IAAIC,EAAMF,EAAcvlC,SAAS,IAAMwlC,EAAexlC,SAAS,IAC/D,OAA4C,IAArC4iC,EAAmBx8B,QAAQq/B,EACpC,EA+EAX,EAAKY,kBA7EL,SAA2BC,GACzB,OArWiC,OAqW1BA,CACT,EA4EAb,EAAKc,YApDL,SAAqB12C,GACnB,OAAO21C,EAAe31C,EAAOohB,OAAO,EAAG,KAAOu0B,EAAe31C,EAAOohB,OAAO,EAAG,GAChF,EAmDAw0B,EAAKD,eAAiBA,EACtBC,EAAKe,oBAlDL,SAA6BC,GAC3B,OAA+C,IAAxCtD,EAAmBp8B,QAAQ0/B,EACpC,EAiDAhB,EAAKiB,eA5CL,SAAwBl4C,EAAMunB,GAC5B,IAAIsvB,EAAYD,EAAa52C,EAAKyiB,OAAO8E,EAAO,IAEhD,GAAIsvB,IAAcjC,EAChB,OAAO,EAGT,IAAIX,EAAQ,EAGZ,IAFA1sB,GAAS,EAEF0sB,EAAQ,GAAG,CAGhB,IAFA4C,EAAYD,EAAa52C,EAAKyiB,OAAO8E,EAAO,KAvZzB,QAyZiBsvB,EAxZjB,OAyZjB,OAAO,EAGT5C,GAAS,EACT1sB,GAAS,CACX,CAEA,OAla0B,SAkanBqvB,EAAa52C,EAAKyiB,OAAO8E,EAAO,GACzC,EAuBA0vB,EAAKkB,oBA3EL,SAA6BL,GAC3B,OA7WqC,QA6W9BA,CACT,EA0EAb,EAAKrC,sBAAwBA,EAC7B,IAAIwD,EAAgB,CAClB/0B,SArMF,SAAkB1M,GAChB,GAAKA,EAAL,CAQA,IAAIpN,EAJCtL,KAAK0Y,QACR1Y,KAAK0Y,MAAQ,IAIf,IACIpC,EAEA8jC,EAHA5uC,EAAMkN,EAAMxV,OAEZqT,EAAOvW,KAAK0Y,MAAMxV,OAGtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAI3B,IAHAgL,EAAI,EACJ8jC,GAAQ,EAED9jC,EAAIC,GACLvW,KAAK0Y,MAAMpC,GAAGtF,QAAU0H,EAAMpN,GAAG0F,OAAShR,KAAK0Y,MAAMpC,GAAG8hC,UAAY1/B,EAAMpN,GAAG8sC,SAAWp4C,KAAK0Y,MAAMpC,GAAG+jC,KAAO3hC,EAAMpN,GAAG+uC,KACxHD,GAAQ,GAGV9jC,GAAK,EAGF8jC,IACHp6C,KAAK0Y,MAAM9L,KAAK8L,EAAMpN,IACtBiL,GAAQ,EAEZ,CA5BA,CA6BF,EAsKE8O,SAjTF,SAAkBusB,EAAU5tB,GAC1B,GAAK4tB,EAAL,CAKA,GAAI5xC,KAAK0Y,MAGP,OAFA1Y,KAAKiiB,UAAW,OAChBjiB,KAAKklB,MAAQ0sB,EAAS3oC,MAIxB,IAAKhI,SAASC,KAOZ,OANAlB,KAAKiiB,UAAW,EAChB2vB,EAAS3oC,KAAK9G,SAAQ,SAAUuH,GAC9BA,EAAKsuC,OAASF,EAAapuC,GAC3BA,EAAK4wC,MAAQ,CAAC,CAChB,SACAt6C,KAAKklB,MAAQ0sB,EAAS3oC,MAIxB,IACIqC,EADAivC,EAAU3I,EAAS3oC,KAEnBuC,EAAM+uC,EAAQr3C,OACds3C,EAAgBhvC,EAEpB,IAAKF,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAC3B,IACImvC,EACAnkC,EAFAokC,GAAiB,EAOrB,GAJAH,EAAQjvC,GAAGqvC,QAAS,EACpBJ,EAAQjvC,GAAGsvC,SAAW7D,EAAUwD,EAAQjvC,GAAG8sC,QAAS,aACpDmC,EAAQjvC,GAAGuvC,SAAW9D,EAAUwD,EAAQjvC,GAAG8sC,QAAS,cAE/CmC,EAAQjvC,GAAGwvC,OAGT,GAA2B,MAAvBP,EAAQjvC,GAAGyvC,SAAyC,IAAtBR,EAAQjvC,GAAGuQ,QAOlD,IANA4+B,EAAiBx5C,SAASiB,iBAAiB,kCAAoCq4C,EAAQjvC,GAAG8sC,QAAU,qCAAuCmC,EAAQjvC,GAAG8sC,QAAU,OAE7Il1C,OAAS,IAC1Bw3C,GAAiB,GAGfA,EAAgB,CAClB,IAAI3nC,EAAI9H,UAAU,SAClB8H,EAAE5I,aAAa,YAAaowC,EAAQjvC,GAAGyvC,SACvChoC,EAAE5I,aAAa,WAAYowC,EAAQjvC,GAAGuQ,QACtC9I,EAAE5I,aAAa,WAAYowC,EAAQjvC,GAAG8sC,SACtCrlC,EAAE7I,KAAO,WACT6I,EAAEhJ,UAAY,4BAA8BwwC,EAAQjvC,GAAG8sC,QAAU,mCAAqCmC,EAAQjvC,GAAGwvC,MAAQ,OACzH92B,EAAK5Z,YAAY2I,EACnB,OACK,GAA2B,MAAvBwnC,EAAQjvC,GAAGyvC,SAAyC,IAAtBR,EAAQjvC,GAAGuQ,OAAc,CAGhE,IAFA4+B,EAAiBx5C,SAASiB,iBAAiB,2CAEtCoU,EAAI,EAAGA,EAAImkC,EAAev3C,OAAQoT,GAAK,GACgB,IAAtDmkC,EAAenkC,GAAGyvB,KAAKzrB,QAAQigC,EAAQjvC,GAAGwvC,SAE5CJ,GAAiB,GAIrB,GAAIA,EAAgB,CAClB,IAAIjZ,EAAIx2B,UAAU,QAClBw2B,EAAEt3B,aAAa,YAAaowC,EAAQjvC,GAAGyvC,SACvCtZ,EAAEt3B,aAAa,WAAYowC,EAAQjvC,GAAGuQ,QACtC4lB,EAAEv3B,KAAO,WACTu3B,EAAEuZ,IAAM,aACRvZ,EAAEsE,KAAOwU,EAAQjvC,GAAGwvC,MACpB75C,SAASC,KAAKkJ,YAAYq3B,EAC5B,CACF,MAAO,GAA2B,MAAvB8Y,EAAQjvC,GAAGyvC,SAAyC,IAAtBR,EAAQjvC,GAAGuQ,OAAc,CAGhE,IAFA4+B,EAAiBx5C,SAASiB,iBAAiB,+CAEtCoU,EAAI,EAAGA,EAAImkC,EAAev3C,OAAQoT,GAAK,EACtCikC,EAAQjvC,GAAGwvC,QAAUL,EAAenkC,GAAGxP,MAEzC4zC,GAAiB,GAIrB,GAAIA,EAAgB,CAClB,IAAIO,EAAKhwC,UAAU,QACnBgwC,EAAG9wC,aAAa,YAAaowC,EAAQjvC,GAAGyvC,SACxCE,EAAG9wC,aAAa,WAAYowC,EAAQjvC,GAAGuQ,QACvCo/B,EAAG9wC,aAAa,MAAO,cACvB8wC,EAAG9wC,aAAa,OAAQowC,EAAQjvC,GAAGwvC,OACnC92B,EAAK5Z,YAAY6wC,EACnB,CACF,OAvDEV,EAAQjvC,GAAGqvC,QAAS,EACpBH,GAAiB,EAwDnBD,EAAQjvC,GAAG0sC,OAASF,EAAayC,EAAQjvC,GAAI0Y,GAC7Cu2B,EAAQjvC,GAAGgvC,MAAQ,CAAC,EACpBt6C,KAAKklB,MAAMtY,KAAK2tC,EAAQjvC,GAC1B,CAEsB,IAAlBkvC,EACFx6C,KAAKiiB,UAAW,EAIhBve,WAAW1D,KAAKu5C,iBAAiBx7B,KAAK/d,MAAO,IAnG/C,MAFEA,KAAKiiB,UAAW,CAuGpB,EAyMEi5B,YArKF,SAAqBC,EAAOnqC,EAAOgmC,GAIjC,IAHA,IAAI1rC,EAAI,EACJE,EAAMxL,KAAK0Y,MAAMxV,OAEdoI,EAAIE,GAAK,CACd,GAAIxL,KAAK0Y,MAAMpN,GAAG+uC,KAAOc,GAASn7C,KAAK0Y,MAAMpN,GAAG0F,QAAUA,GAAShR,KAAK0Y,MAAMpN,GAAG8sC,UAAYpB,EAC3F,OAAOh3C,KAAK0Y,MAAMpN,GAGpBA,GAAK,CACP,CAQA,OANsB,iBAAV6vC,GAA8C,KAAxBA,EAAMtC,WAAW,KAAcsC,IAAU35C,SAAWA,QAAQ45C,OAC1Fp7C,KAAKk5C,UACPl5C,KAAKk5C,SAAU,EACf13C,QAAQ45C,KAAK,oDAAqDD,EAAOnqC,EAAOgmC,IAG3ER,CACT,EAmJE6E,cA5HF,SAAuBpxC,GAIrB,IAHA,IAAIqB,EAAI,EACJE,EAAMxL,KAAKklB,MAAMhiB,OAEdoI,EAAIE,GAAK,CACd,GAAIxL,KAAKklB,MAAM5Z,GAAGgwC,QAAUrxC,EAC1B,OAAOjK,KAAKklB,MAAM5Z,GAGpBA,GAAK,CACP,CAEA,OAAOtL,KAAKklB,MAAM,EACpB,EAgHEuzB,YAlJF,SAAqB8C,EAAQC,EAAUn2C,GACrC,IAAIusC,EAAW5xC,KAAKq7C,cAAcG,GAG9BlyB,EAAQiyB,EAEZ,IAAK3J,EAAS0I,MAAMhxB,GAAQ,CAC1B,IAAI6uB,EAAUvG,EAASoG,OAEvB,GAAe,MAAXuD,EAAgB,CAClB,IAAIE,EAAatD,EAAQM,YAAY,IAAM8C,EAAS,KAChDG,EAAavD,EAAQM,YAAY,MACrC7G,EAAS0I,MAAMhxB,IAAUmyB,EAAaC,GAAc,GACtD,MACE9J,EAAS0I,MAAMhxB,GAAS6uB,EAAQM,YAAY8C,GAAU,GAE1D,CAEA,OAAO3J,EAAS0I,MAAMhxB,GAASjkB,CACjC,EAgIEk0C,iBA3YF,WACE,IAAIjuC,EAEA8rC,EACAX,EAFAjrC,EAAMxL,KAAKklB,MAAMhiB,OAGjBy4C,EAAcnwC,EAElB,IAAKF,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBtL,KAAKklB,MAAM5Z,GAAGqvC,OAChBgB,GAAe,EACoB,MAA1B37C,KAAKklB,MAAM5Z,GAAGyvC,SAA4C,IAAzB/6C,KAAKklB,MAAM5Z,GAAGuQ,OACxD7b,KAAKklB,MAAM5Z,GAAGqvC,QAAS,GAEvBvD,EAAOp3C,KAAKklB,MAAM5Z,GAAGsvC,SAASxD,KAC9BX,EAAIz2C,KAAKklB,MAAM5Z,GAAGsvC,SAASnE,EAEvBW,EAAK3vC,cAAgBgvC,GACvBkF,GAAe,EACf37C,KAAKklB,MAAM5Z,GAAGqvC,QAAS,IAEvBvD,EAAOp3C,KAAKklB,MAAM5Z,GAAGuvC,SAASzD,KAC9BX,EAAIz2C,KAAKklB,MAAM5Z,GAAGuvC,SAASpE,EAEvBW,EAAK3vC,cAAgBgvC,IACvBkF,GAAe,EACf37C,KAAKklB,MAAM5Z,GAAGqvC,QAAS,IAIvB36C,KAAKklB,MAAM5Z,GAAGqvC,SAChB36C,KAAKklB,MAAM5Z,GAAGuvC,SAAShD,OAAOX,WAAW0E,YAAY57C,KAAKklB,MAAM5Z,GAAGuvC,SAAShD,QAC5E73C,KAAKklB,MAAM5Z,GAAGsvC,SAAS/C,OAAOX,WAAW0E,YAAY57C,KAAKklB,MAAM5Z,GAAGsvC,SAAS/C,UAK9D,IAAhB8D,GAAqBt4C,KAAK81C,MAAQn5C,KAAK0pB,SAxGxB,IAyGjBhmB,WAAW1D,KAAKs5C,uBAAwB,IAExC51C,WAAW1D,KAAKo5C,kBAAmB,GAEvC,EAmWEC,YA9BF,WACEr5C,KAAKiiB,UAAW,CAClB,GA+BA,OADA+2B,EAAKttC,UAAYyuC,EACVnB,CACT,CArdkB,GAudlB,SAAS6C,YAAYtjC,GACnBvY,KAAKuY,cAAgBA,CACvB,CAUA,SAASujC,YAAYvjC,GACnB,OAAO,IAAIsjC,YAAYtjC,EACzB,CAEA,SAASwjC,oBAAqB,CAZ9BF,YAAYnwC,UAAU6uB,QAAU,SAAU7wB,GACxC,OAAI1J,KAAKuY,cAAcyjC,OAASh8C,KAAKuY,cAAcyjC,MAAMtyC,EAAK8wB,KACrD7uB,OAAOswC,OAAOvyC,EAAM1J,KAAKuY,cAAcyjC,MAAMtyC,EAAK8wB,KAAKnnB,GAGzD3J,CACT,EAQAqyC,kBAAkBrwC,UAAY,CAC5BwwC,eAAgB,WAEdl8C,KAAKm8C,WAAY,EAEjBn8C,KAAKo8C,QAAS,EAEdp8C,KAAKq8C,eAAgB,EAErBr8C,KAAKs8C,qBAAuB,EAC9B,EACAC,uBAAwB,SAAgCC,IACA,IAAlDx8C,KAAKs8C,qBAAqBhiC,QAAQkiC,IACpCx8C,KAAKs8C,qBAAqB1vC,KAAK4vC,EAEnC,EACAC,0BAA2B,SAAmCD,IACN,IAAlDx8C,KAAKs8C,qBAAqBhiC,QAAQkiC,IACpCx8C,KAAKs8C,qBAAqBx8B,OAAO9f,KAAKs8C,qBAAqBhiC,QAAQkiC,GAAY,EAEnF,EACAE,uBAAwB,SAAgCC,GACtD38C,KAAK48C,iBAAiBD,EACxB,EACAE,kBAAmB,WACb78C,KAAK88C,eAAeC,MAAMnlC,EAAE5E,GAAK,GAC9BhT,KAAKq8C,eAAiBr8C,KAAK+jB,WAAWi5B,aAAaC,oBACtDj9C,KAAKq8C,eAAgB,EACrBr8C,KAAKkpB,QAEElpB,KAAKq8C,gBACdr8C,KAAKq8C,eAAgB,EACrBr8C,KAAKmpB,OAET,EAUAyzB,iBAAkB,SAA0BD,GACtC38C,KAAK0J,KAAKkP,GAAK5Y,KAAK0J,KAAKoP,IAAM6jC,GAAO38C,KAAK0J,KAAKmP,GAAK7Y,KAAK0J,KAAKoP,GAAK6jC,GAC/C,IAAnB38C,KAAKm8C,YACPn8C,KAAK+jB,WAAWqV,MAAO,EACvBp5B,KAAKo5B,MAAO,EACZp5B,KAAKm8C,WAAY,EACjBn8C,KAAKmpB,SAEqB,IAAnBnpB,KAAKm8C,YACdn8C,KAAK+jB,WAAWqV,MAAO,EACvBp5B,KAAKm8C,WAAY,EACjBn8C,KAAKkpB,OAET,EACAg0B,iBAAkB,WAChB,IAAI5xC,EACAE,EAAMxL,KAAKs8C,qBAAqBp5C,OAEpC,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKs8C,qBAAqBhxC,GAAGub,YAAY7mB,KAAKy5B,cAKlD,EACA0jB,iBAAkB,WAChB,MAAO,CACLv1C,IAAK,EACLD,KAAM,EACN0U,MAAO,IACPC,OAAQ,IAEZ,EACA8gC,aAAc,WACZ,OAAqB,IAAjBp9C,KAAK0J,KAAKsN,GACL,CACLy/B,EAAGz2C,KAAK0J,KAAK2zC,SAAShhC,MACtBvJ,EAAG9S,KAAK0J,KAAK2zC,SAAS/gC,QAInB,CACLm6B,EAAGz2C,KAAK0J,KAAK2S,MACbvJ,EAAG9S,KAAK0J,KAAK4S,OAEjB,GAGF,IAAIghC,cACEC,eAAiB,CACnB,EAAG,cACH,EAAG,WACH,EAAG,SACH,EAAG,UACH,EAAG,SACH,EAAG,UACH,EAAG,cACH,EAAG,aACH,EAAG,aACH,EAAG,aACH,GAAI,aACJ,GAAI,YACJ,GAAI,MACJ,GAAI,aACJ,GAAI,QACJ,GAAI,cAEC,SAAUC,GACf,OAAOD,eAAeC,IAAS,EACjC,GApBID,eAuBN,SAASE,aAAa/zC,EAAMygB,EAAM5jB,GAChCvG,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsJ,EAAG,EAAG,EAAGzM,EACvD,CAEA,SAASm3C,YAAYh0C,EAAMygB,EAAM5jB,GAC/BvG,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsJ,EAAG,EAAG,EAAGzM,EACvD,CAEA,SAASo3C,YAAYj0C,EAAMygB,EAAM5jB,GAC/BvG,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsJ,EAAG,EAAG,EAAGzM,EACvD,CAEA,SAASq3C,YAAYl0C,EAAMygB,EAAM5jB,GAC/BvG,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsJ,EAAG,EAAG,EAAGzM,EACvD,CAEA,SAASs3C,iBAAiBn0C,EAAMygB,EAAM5jB,GACpCvG,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsJ,EAAG,EAAG,EAAGzM,EACvD,CAEA,SAASu3C,gBAAgBp0C,EAAMygB,EAAM5jB,GACnCvG,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsJ,EAAG,EAAG,EAAGzM,EACvD,CAEA,SAASw3C,eAAer0C,EAAMygB,EAAM5jB,GAClCvG,KAAKqT,EAAIinB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsJ,EAAG,EAAG,EAAGzM,EACvD,CAEA,SAASy3C,gBACPh+C,KAAKqT,EAAI,CAAC,CACZ,CAEA,SAAS4qC,eAAev0C,EAAMqH,GAC5B,IAEIzF,EAFA4yC,EAAUx0C,EAAKy0C,IAAM,GACzBn+C,KAAKo+C,eAAiB,GAEtB,IACIC,EADA7yC,EAAM0yC,EAAQh7C,OAGlB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB+yC,EAAa,IAAIC,YAAYJ,EAAQ5yC,GAAIyF,GACzC/Q,KAAKo+C,eAAexxC,KAAKyxC,EAE7B,CAEA,SAASC,YAAY50C,EAAMqH,GACzB/Q,KAAKqoB,KAAK3e,EAAMqH,EAClB,CA+DA,SAASwtC,cAAe,CAkFxB,SAASC,eAAgB,CAiDzB,SAASC,eAAe/0C,EAAMqa,EAAYzM,GACxCtX,KAAKg0B,YACLh0B,KAAKk8C,iBACLl8C,KAAKmd,UAAY4G,EAAWkF,aAAavf,EAAKwN,OAC9ClX,KAAKke,YAAc6F,EAAW26B,YAAY5/B,SAAS9e,KAAKmd,WACxDnd,KAAK2+C,aAAaj1C,EAAMqa,EAAYzM,EACtC,CA6BA,SAASsnC,aAAal1C,EAAMqa,EAAYzM,GACtCtX,KAAKg0B,YACLh0B,KAAKk8C,iBACLl8C,KAAKmd,UAAY4G,EAAWkF,aAAavf,EAAKwN,OAC9ClX,KAAK2+C,aAAaj1C,EAAMqa,EAAYzM,GACpCtX,KAAK6+C,YAAa,EAClB7+C,KAAK8+C,UAAW,EAChB,IAAI5xC,EAAYlN,KAAK+jB,WAAW7G,cAAcld,KAAKmd,WACnDnd,KAAK2M,MAAQ3M,KAAK+jB,WAAWV,gBAAgBpW,YAAYC,GACzDlN,KAAK++C,aAAe,EACpB/+C,KAAK+jB,WAAWV,gBAAgB3W,SAAS1M,MACzCA,KAAKg/C,kBAAoB,EACzBh/C,KAAKwM,QAAU,EACfxM,KAAKi/C,gBAAkB,KACvBj/C,KAAK4gB,GAAKlX,EAAKkX,GAAK0Z,gBAAgBC,QAAQv6B,KAAM0J,EAAKkX,GAAI,EAAGmD,EAAW5B,UAAWniB,MAAQ,CAC1Fk/C,cAAc,GAEhBl/C,KAAKm/C,GAAK7kB,gBAAgBC,QAAQv6B,KAAM0J,EAAK01C,IAAM11C,EAAK01C,GAAGD,GAAKz1C,EAAK01C,GAAGD,GAAK,CAC3E3oC,EAAG,CAAC,MACH,EAAG,IAAMxW,KACd,CA0EA,SAASq/C,eAAgB,CAjUzBl0C,gBAAgB,CAACuvB,0BAA2B4jB,aAC5CA,YAAY5yC,UAAUuuB,SAAWqkB,YAAY5yC,UAAUmvB,yBAEvDyjB,YAAY5yC,UAAU2c,KAAO,SAAU3e,EAAMqH,GAI3C,IAAIzF,EAHJtL,KAAK0J,KAAOA,EACZ1J,KAAKo+C,eAAiB,GACtBp+C,KAAK86B,6BAA6B/pB,GAElC,IACIuuC,EADA9zC,EAAMxL,KAAK0J,KAAKy0C,GAAGj7C,OAEnBg7C,EAAUl+C,KAAK0J,KAAKy0C,GAExB,IAAK7yC,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAG3B,OAFAg0C,EAAM,KAEEpB,EAAQ5yC,GAAG0L,IACjB,KAAK,EACHsoC,EAAM,IAAI7B,aAAaS,EAAQ5yC,GAAIyF,EAAS/Q,MAC5C,MAEF,KAAK,EACHs/C,EAAM,IAAI5B,YAAYQ,EAAQ5yC,GAAIyF,EAAS/Q,MAC3C,MAEF,KAAK,EACHs/C,EAAM,IAAI3B,YAAYO,EAAQ5yC,GAAIyF,EAAS/Q,MAC3C,MAEF,KAAK,EACHs/C,EAAM,IAAI1B,YAAYM,EAAQ5yC,GAAIyF,EAAS/Q,MAC3C,MAEF,KAAK,EACL,KAAK,EACHs/C,EAAM,IAAIvB,eAAeG,EAAQ5yC,GAAIyF,EAAS/Q,MAC9C,MAEF,KAAK,GACHs/C,EAAM,IAAIzB,iBAAiBK,EAAQ5yC,GAAIyF,EAAS/Q,MAChD,MAEF,KAAK,GACHs/C,EAAM,IAAIxB,gBAAgBI,EAAQ5yC,GAAIyF,EAAS/Q,MAC/C,MAEF,KAAK,EACHs/C,EAAM,IAAIrB,eAAeC,EAAQ5yC,GAAIyF,EAAS/Q,MAC9C,MAGF,QACEs/C,EAAM,IAAItB,cAAcE,EAAQ5yC,GAAIyF,EAAS/Q,MAI7Cs/C,GACFt/C,KAAKo+C,eAAexxC,KAAK0yC,EAE7B,CACF,EAIAf,YAAY7yC,UAAY,CACtB6zC,WAAY,WACV,IAAKv/C,KAAK0J,KAAKiN,QACb,OAAO,EAMT,IAHA,IAAIrL,EAAI,EACJE,EAAMxL,KAAK0J,KAAKmN,gBAAgB3T,OAE7BoI,EAAIE,GAAK,CACd,GAA0C,MAAtCxL,KAAK0J,KAAKmN,gBAAgBvL,GAAGkyC,OAAoD,IAApCx9C,KAAK0J,KAAKmN,gBAAgBvL,GAAGqO,GAC5E,OAAO,EAGTrO,GAAK,CACP,CAEA,OAAO,CACT,EACAga,gBAAiB,WACf,IAAIvW,EAAwByF,0BAE5B,GAAKzF,EAAL,CAIA,IAAIywC,EAA2BzwC,EAAsB,SACjD0wC,EAA6B1wC,EAAsB,WACnD2wC,EAA2B3wC,EAAsB,SACjD4wC,EAA0B5wC,EAAsB,QAChD6wC,EAA0B7wC,EAAsB,QACpD/O,KAAK6/C,eAAiBL,EAAyBx/C,MAE3CA,KAAK0J,KAAKiN,SAAW3W,KAAK8/C,aAC5B9/C,KAAK6/C,eAAeE,sBAAsB//C,KAAK8/C,aAGjD,IAAIE,EAAmBP,EAA2BQ,uBAAuBjgD,KAAMA,KAAK6/C,gBACpF7/C,KAAK6/C,eAAeK,yBAAyBF,GAExB,IAAjBhgD,KAAK0J,KAAKsN,IAAYhX,KAAK0J,KAAK8X,GAClCxhB,KAAK0hB,cAAgBk+B,EAAwB5/C,MACnB,IAAjBA,KAAK0J,KAAKsN,IACnBhX,KAAK6/C,eAAeM,eAAiBT,EAAyB1/C,KAAKogD,WAAYpgD,KAAKqgD,UAAWrgD,KAAK6/C,gBACpG7/C,KAAK6/C,eAAex1C,QAAUrK,KAAK6/C,eAAeM,gBACxB,IAAjBngD,KAAK0J,KAAKsN,KACnBhX,KAAK6/C,eAAeS,cAAgBX,EAAwB3/C,MAC5DA,KAAK6/C,eAAe99C,KAAO/B,KAAK6/C,eAAeS,cAvBjD,CAyBF,EACAC,aAAc,WACZ,IAAIC,EAAiBlD,aAAat9C,KAAK0J,KAAK+2C,KACjCzgD,KAAK0gD,aAAe1gD,KAAK2gD,cAC/B3vC,MAAM,kBAAoBwvC,CACjC,EACA7B,aAAc,SAAsBj1C,EAAMqa,EAAYzM,GACpDtX,KAAK+jB,WAAaA,EAClB/jB,KAAKsX,KAAOA,EACZtX,KAAK0J,KAAOA,EACZ1J,KAAK4gD,QAAUjuC,kBAEV3S,KAAK0J,KAAKqP,KACb/Y,KAAK0J,KAAKqP,GAAK,GAIjB/Y,KAAK6gD,eAAiB,IAAI5C,eAAej+C,KAAK0J,KAAM1J,KAAMA,KAAK26B,kBACjE,EACAmmB,QAAS,WACP,OAAO9gD,KAAKkK,IACd,EACAizC,iBAAkB,WAA6B,GAWjDqB,aAAa9yC,UAAY,CAMvBsoB,UAAW,WAETh0B,KAAKy5B,eAAgB,EAErBz5B,KAAK26B,kBAAoB,GAEzB36B,KAAKo5B,MAAO,CACd,EAYA2nB,kBAAmB,SAA2BpE,EAAKqE,GACjD,IAAI11C,EACAE,EAAMxL,KAAK26B,kBAAkBz3B,OAEjC,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,GACpB01C,GAAahhD,KAAKihD,WAAoD,cAAvCjhD,KAAK26B,kBAAkBrvB,GAAGipB,YAC3Dv0B,KAAK26B,kBAAkBrvB,GAAG2uB,WAEtBj6B,KAAK26B,kBAAkBrvB,GAAG8tB,OAC5Bp5B,KAAK+jB,WAAWqV,MAAO,EACvBp5B,KAAKo5B,MAAO,GAIpB,EACAU,mBAAoB,SAA4B9tB,IACA,IAA1ChM,KAAK26B,kBAAkBrgB,QAAQtO,IACjChM,KAAK26B,kBAAkB/tB,KAAKZ,EAEhC,GAWFyyC,eAAe/yC,UAAU6V,aAAe,WAAa,EAErDpW,gBAAgB,CAAC4wC,kBAAmBwC,YAAaC,cAAeC,gBAEhEA,eAAe/yC,UAAUw1C,eAAiB,WACxC,OAAO,IACT,EAEAzC,eAAe/yC,UAAUmb,YAAc,WAAa,EAEpD43B,eAAe/yC,UAAUmT,QAAU,WAAa,EAEhD4/B,eAAe/yC,UAAU4Z,gBAAkB,WACzC,IAAIvW,EAAwByF,0BAE5B,GAAKzF,EAAL,CAIA,IAAIoyC,EAAmBpyC,EAAsB,WAC7C/O,KAAK6/C,eAAiBsB,EAAiBnhD,KAHvC,CAIF,EAEAy+C,eAAe/yC,UAAU01C,eAAiB,WACxC,OAAOphD,KAAKke,WACd,EAwBA0gC,aAAalzC,UAAU6V,aAAe,SAAUo7B,GAI9C,GAHA38C,KAAK08C,uBAAuBC,GAAK,GACjC38C,KAAK+gD,kBAAkBpE,GAAK,GAEvB38C,KAAK4gB,GAAGs+B,aAIXl/C,KAAK++C,aAAepC,EAAM38C,KAAK0J,KAAKqP,OAJX,CACzB,IAAIsoC,EAAerhD,KAAK4gB,GAAG5N,EAC3BhT,KAAK++C,aAAesC,CACtB,CAIArhD,KAAKwM,QAAUxM,KAAKm/C,GAAGnsC,EAAE,GACzB,IAAIsuC,EAActhD,KAAKwM,QAAUxM,KAAKg/C,kBAElCh/C,KAAKi/C,kBAAoBqC,IAC3BthD,KAAKi/C,gBAAkBqC,EACvBthD,KAAK2M,MAAMoB,OAAOuzC,GAEtB,EAEAn2C,gBAAgB,CAAC4wC,kBAAmBwC,YAAaC,cAAeI,cAEhEA,aAAalzC,UAAUmb,YAAc,WAC/B7mB,KAAKm8C,WAAan8C,KAAK8+C,WACpB9+C,KAAK6+C,aAIE7+C,KAAK2M,MAAMY,WAAa+B,KAAKc,IAAIpQ,KAAK++C,aAAe/+C,KAAK+jB,WAAW5B,UAAYniB,KAAK2M,MAAMW,QAAU,KAChHtN,KAAK2M,MAAMW,KAAKtN,KAAK++C,aAAe/+C,KAAK+jB,WAAW5B,YAJpDniB,KAAK2M,MAAMU,OACXrN,KAAK2M,MAAMW,KAAKtN,KAAK++C,aAAe/+C,KAAK+jB,WAAW5B,WACpDniB,KAAK6+C,YAAa,GAKxB,EAEAD,aAAalzC,UAAUyd,KAAO,WAC9B,EAEAy1B,aAAalzC,UAAUwd,KAAO,WAC5BlpB,KAAK2M,MAAME,QACX7M,KAAK6+C,YAAa,CACpB,EAEAD,aAAalzC,UAAUmB,MAAQ,WAC7B7M,KAAK2M,MAAME,QACX7M,KAAK6+C,YAAa,EAClB7+C,KAAK8+C,UAAW,CAClB,EAEAF,aAAalzC,UAAUoB,OAAS,WAC9B9M,KAAK8+C,UAAW,CAClB,EAEAF,aAAalzC,UAAUqB,QAAU,SAAUC,GACzChN,KAAK2M,MAAMa,KAAKR,EAClB,EAEA4xC,aAAalzC,UAAUqC,OAAS,SAAUwzC,GACxCvhD,KAAKg/C,kBAAoBuC,EACzBvhD,KAAKi/C,gBAAkBsC,EAAcvhD,KAAKwM,QAC1CxM,KAAK2M,MAAMoB,OAAO/N,KAAKi/C,gBACzB,EAEAL,aAAalzC,UAAUw1C,eAAiB,WACtC,OAAO,IACT,EAEAtC,aAAalzC,UAAUmT,QAAU,WAAa,EAE9C+/B,aAAalzC,UAAUyxC,iBAAmB,WAAa,EAEvDyB,aAAalzC,UAAU4Z,gBAAkB,WAAa,EAItD+5B,aAAa3zC,UAAU81C,YAAc,SAAU7E,GAC7C,IAAIrxC,EAEA5B,EADA8B,EAAMxL,KAAKmW,OAAOjT,OAItB,IAFAlD,KAAKkW,gBAAiB,EAEjB5K,EAAIE,EAAM,EAAGF,GAAK,EAAGA,GAAK,EACxBtL,KAAKmzC,SAAS7nC,KACjB5B,EAAO1J,KAAKmW,OAAO7K,IAEVsN,GAAKlP,EAAKoP,IAAM6jC,EAAM38C,KAAKmW,OAAO7K,GAAGwN,IAAMpP,EAAKmP,GAAKnP,EAAKoP,GAAK6jC,EAAM38C,KAAKmW,OAAO7K,GAAGwN,IAC3F9Y,KAAKyhD,UAAUn2C,GAInBtL,KAAKkW,iBAAiBlW,KAAKmzC,SAAS7nC,IAAKtL,KAAKkW,eAGhDlW,KAAK0hD,sBACP,EAEArC,aAAa3zC,UAAUi2C,WAAa,SAAUC,GAC5C,OAAQA,EAAM5qC,IACZ,KAAK,EACH,OAAOhX,KAAK6hD,YAAYD,GAE1B,KAAK,EACH,OAAO5hD,KAAK8hD,WAAWF,GAEzB,KAAK,EACH,OAAO5hD,KAAK+hD,YAAYH,GAE1B,KAAK,EAkBL,QACE,OAAO5hD,KAAKgiD,WAAWJ,GAhBzB,KAAK,EACH,OAAO5hD,KAAKiiD,YAAYL,GAE1B,KAAK,EACH,OAAO5hD,KAAKkiD,WAAWN,GAEzB,KAAK,EACH,OAAO5hD,KAAKiN,YAAY20C,GAE1B,KAAK,GACH,OAAO5hD,KAAKmiD,aAAaP,GAE3B,KAAK,GACH,OAAO5hD,KAAKoiD,cAAcR,GAKhC,EAEAvC,aAAa3zC,UAAUy2C,aAAe,WACpC,MAAM,IAAI7hC,MAAM,mDAClB,EAEA++B,aAAa3zC,UAAUuB,YAAc,SAAUvD,GAC7C,OAAO,IAAIk1C,aAAal1C,EAAM1J,KAAK+jB,WAAY/jB,KACjD,EAEAq/C,aAAa3zC,UAAU02C,cAAgB,SAAU14C,GAC/C,OAAO,IAAI+0C,eAAe/0C,EAAM1J,KAAK+jB,WAAY/jB,KACnD,EAEAq/C,aAAa3zC,UAAU22C,cAAgB,WACrC,IAAI/2C,EACAE,EAAMxL,KAAKmW,OAAOjT,OAEtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKyhD,UAAUn2C,GAGjBtL,KAAK0hD,sBACP,EAEArC,aAAa3zC,UAAUsZ,cAAgB,SAAUC,GAE/C,IAAI3Z,EADJtL,KAAKkW,gBAAiB,EAEtB,IACII,EADA9K,EAAMyZ,EAAU/hB,OAEhBqT,EAAOvW,KAAKmW,OAAOjT,OAEvB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAGxB,IAFAgL,EAAI,EAEGA,EAAIC,GAAM,CACf,GAAIvW,KAAKmW,OAAOG,GAAG5N,KAAOuc,EAAU3Z,GAAG5C,GAAI,CACzC1I,KAAKmW,OAAOG,GAAK2O,EAAU3Z,GAC3B,KACF,CAEAgL,GAAK,CACP,CAEJ,EAEA+oC,aAAa3zC,UAAUuY,oBAAsB,SAAUq+B,GACrDtiD,KAAK+jB,WAAWZ,iBAAmBm/B,CACrC,EAEAjD,aAAa3zC,UAAU4a,UAAY,WAC5BtmB,KAAK+jB,WAAWw+B,iBACnBviD,KAAKqiD,eAET,EAEAhD,aAAa3zC,UAAU82C,sBAAwB,SAAUzxC,EAAS0xC,EAAYC,GAM5E,IALA,IAAIvP,EAAWnzC,KAAKmzC,SAChBh9B,EAASnW,KAAKmW,OACd7K,EAAI,EACJE,EAAM2K,EAAOjT,OAEVoI,EAAIE,GACL2K,EAAO7K,GAAGgqB,KAAOmtB,IAEdtP,EAAS7nC,KAAsB,IAAhB6nC,EAAS7nC,IAI3Bo3C,EAAU91C,KAAKumC,EAAS7nC,IACxB6nC,EAAS7nC,GAAGq3C,mBAEaz+B,IAArB/N,EAAO7K,GAAGusC,OACZ73C,KAAKwiD,sBAAsBzxC,EAASoF,EAAO7K,GAAGusC,OAAQ6K,GAEtD3xC,EAAQ6xC,aAAaF,KATvB1iD,KAAKyhD,UAAUn2C,GACftL,KAAK6iD,kBAAkB9xC,KAa3BzF,GAAK,CAET,EAEA+zC,aAAa3zC,UAAUm3C,kBAAoB,SAAU9xC,GACnD/Q,KAAK8iD,gBAAgBl2C,KAAKmE,EAC5B,EAEAsuC,aAAa3zC,UAAUua,wBAA0B,SAAUzN,GACzD,IAAIlN,EACAE,EAAMgN,EAAOtV,OAEjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,GAAIkN,EAAOlN,GAAGkW,GAAI,CAChB,IAAIlK,EAAOtX,KAAK8hD,WAAWtpC,EAAOlN,IAClCgM,EAAKgO,kBACLtlB,KAAK+jB,WAAWZ,iBAAiBhC,oBAAoB7J,EACvD,CAEJ,EAEA+nC,aAAa3zC,UAAUq3C,eAAiB,SAAUztB,GAChD,IAAIhqB,EACAE,EAAMxL,KAAKmzC,SAASjwC,OAExB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,GAAItL,KAAKmzC,SAAS7nC,GAAG5B,KAAK4rB,MAAQA,EAChC,OAAOt1B,KAAKmzC,SAAS7nC,GAIzB,OAAO,IACT,EAEA+zC,aAAa3zC,UAAU6d,iBAAmB,SAAU/T,GAClD,IACIzE,EADAiyC,EAAYxtC,EAAKiQ,QAGrB,GAAyB,iBAAdu9B,EACTjyC,EAAU/Q,KAAKmzC,SAAS6P,OACnB,CACL,IAAI13C,EACAE,EAAMxL,KAAKmzC,SAASjwC,OAExB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,GAAItL,KAAKmzC,SAAS7nC,GAAG5B,KAAK4X,KAAO0hC,EAAW,CAC1CjyC,EAAU/Q,KAAKmzC,SAAS7nC,GACxB,KACF,CAEJ,CAEA,OAAoB,IAAhBkK,EAAKtS,OACA6N,EAGFA,EAAQwY,iBAAiB/T,EAClC,EAEA6pC,aAAa3zC,UAAUu3C,gBAAkB,SAAUl9B,EAAUm9B,GAC3DljD,KAAK+jB,WAAWoB,YAAc,IAAIoxB,YAClCv2C,KAAK+jB,WAAW0W,YAAcqhB,YAAY/1B,GAC1C/lB,KAAK+jB,WAAWoB,YAAYC,SAASW,EAASrN,OAC9C1Y,KAAK+jB,WAAWoB,YAAYE,SAASU,EAASb,MAAOg+B,GACrDljD,KAAK+jB,WAAWkF,aAAejpB,KAAKmjD,cAAcl6B,aAAalL,KAAK/d,KAAKmjD,eACzEnjD,KAAK+jB,WAAW7G,cAAgBld,KAAKmjD,cAAcjmC,cAAca,KAAK/d,KAAKmjD,eAC3EnjD,KAAK+jB,WAAW26B,YAAc1+C,KAAKmjD,cAAc//B,eACjDpjB,KAAK+jB,WAAWV,gBAAkBrjB,KAAKmjD,cAAc9/B,gBACrDrjB,KAAK+jB,WAAWuV,QAAU,EAC1Bt5B,KAAK+jB,WAAW5B,UAAY4D,EAASC,GACrChmB,KAAK+jB,WAAWzC,GAAKyE,EAASzE,GAC9BthB,KAAK+jB,WAAWq/B,SAAW,CACzB3M,EAAG1wB,EAAS0wB,EACZ3jC,EAAGiT,EAASjT,EAEhB,EAEA,IAAIuwC,YAAc,CAChBC,iBAAkB,mBAGpB,SAASC,mBAAoB,CA6J7B,SAASC,YAAY95C,EAAMqH,EAASgT,GAClC/jB,KAAK0J,KAAOA,EACZ1J,KAAK+Q,QAAUA,EACf/Q,KAAK+jB,WAAaA,EAClB/jB,KAAK8wB,WAAa,GAClB9wB,KAAK6W,gBAAkB7W,KAAK0J,KAAKmN,iBAAmB,GACpD7W,KAAKyjD,YAAc,KACnB,IACIn4C,EAIAkK,EALAwO,EAAOhkB,KAAK+jB,WAAWC,KAEvBxY,EAAMxL,KAAK6W,gBAAkB7W,KAAK6W,gBAAgB3T,OAAS,EAC/DlD,KAAK0jD,SAAWp1C,iBAAiB9C,GACjCxL,KAAK2jD,UAAY,GAEjB,IAGIrtC,EACAC,EAEAqtC,EACAC,EACAC,EACAl3B,EATAm3B,EAAa/jD,KAAK6W,gBAClBm/B,EAAQ,EACRgO,EAAe,GAGfpD,EAAUjuC,kBAKVsxC,EAAW,WACXC,EAAU,YAEd,IAAK54C,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAkBxB,IAjB2B,MAAvBy4C,EAAWz4C,GAAGkyC,MAAuC,MAAvBuG,EAAWz4C,GAAGkyC,MAAgBuG,EAAWz4C,GAAGonC,KAA6B,MAAtBqR,EAAWz4C,GAAGsM,EAAEpB,GAAautC,EAAWz4C,GAAGsM,EAAEgV,KAChIq3B,EAAW,OACXC,EAAU,QAGgB,MAAvBH,EAAWz4C,GAAGkyC,MAAuC,MAAvBuG,EAAWz4C,GAAGkyC,MAA2B,IAAVxH,EAOhE4N,EAAO,OANPA,EAAO/uC,SAAS,SACX1K,aAAa,OAAQ,WAC1By5C,EAAKz5C,aAAa,QAASnK,KAAK+Q,QAAQuG,KAAK5N,KAAK+sC,GAAK,GACvDmN,EAAKz5C,aAAa,SAAUnK,KAAK+Q,QAAQuG,KAAK5N,KAAKoJ,GAAK,GACxDkxC,EAAap3C,KAAKg3C,IAKpBpuC,EAAOX,SAAS,QAEW,MAAvBkvC,EAAWz4C,GAAGkyC,KAEhBx9C,KAAK0jD,SAASp4C,GAAK,CACjBuN,GAAIyhB,gBAAgBC,QAAQv6B,KAAK+Q,QAASgzC,EAAWz4C,GAAGsM,EAAG,EAAG,IAAM5X,KAAK+Q,SACzE/E,KAAM6wB,qBAAqBsnB,aAAankD,KAAK+Q,QAASgzC,EAAWz4C,GAAI,GACrE6e,KAAM3U,EACN4uC,SAAU,IAEZpgC,EAAK5Z,YAAYoL,OACZ,CAIL,IAAI6uC,EAgCJ,GAnCArO,GAAS,EACTxgC,EAAKrL,aAAa,OAA+B,MAAvB45C,EAAWz4C,GAAGkyC,KAAe,UAAY,WACnEhoC,EAAKrL,aAAa,YAAa,WAGL,IAAtB45C,EAAWz4C,GAAGshB,EAAEpW,GAClBytC,EAAW,OACXC,EAAU,OACVt3B,EAAI0N,gBAAgBC,QAAQv6B,KAAK+Q,QAASgzC,EAAWz4C,GAAGshB,EAAG,EAAG,KAAM5sB,KAAK+Q,SACzEszC,EAAW1xC,mBACXkxC,EAAWhvC,SAAS,WACX1K,aAAa,KAAMk6C,IAC5BP,EAAUjvC,SAAS,iBACX1K,aAAa,WAAY,SACjC25C,EAAQ35C,aAAa,KAAM,iBAC3B25C,EAAQ35C,aAAa,SAAU,KAC/B05C,EAASz5C,YAAY05C,GACrB9/B,EAAK5Z,YAAYy5C,GACjBruC,EAAKrL,aAAa,SAAiC,MAAvB45C,EAAWz4C,GAAGkyC,KAAe,UAAY,aAErEsG,EAAU,KACVl3B,EAAI,MAIN5sB,KAAK8wB,WAAWxlB,GAAK,CACnB6e,KAAM3U,EACNoX,EAAGA,EACH03B,MAAOR,EACPM,SAAU,GACVG,aAAc,GACdC,SAAUH,EACVI,WAAY,GAGa,MAAvBV,EAAWz4C,GAAGkyC,KAAc,CAC9BjnC,EAAOytC,EAAa9gD,OACpB,IAAIgQ,EAAI2B,SAAS,KAEjB,IAAKyB,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzBpD,EAAE9I,YAAY45C,EAAa1tC,IAG7B,IAAIouC,EAAO7vC,SAAS,QACpB6vC,EAAKv6C,aAAa,YAAa,SAC/Bu6C,EAAKv6C,aAAa,KAAMy2C,EAAU,IAAM5K,GACxC0O,EAAKt6C,YAAYoL,GACjBwO,EAAK5Z,YAAYs6C,GACjBxxC,EAAE/I,aAAa,OAAQ,OAASa,kBAAoB,IAAM41C,EAAU,IAAM5K,EAAQ,KAClFgO,EAAa9gD,OAAS,EACtB8gD,EAAap3C,KAAKsG,EACpB,MACE8wC,EAAap3C,KAAK4I,GAGhBuuC,EAAWz4C,GAAGonC,MAAQ1yC,KAAK2jD,YAC7B3jD,KAAK2jD,UAAY3jD,KAAK2kD,wBAIxB3kD,KAAK0jD,SAASp4C,GAAK,CACjB6e,KAAM3U,EACN4uC,SAAU,GACVvrC,GAAIyhB,gBAAgBC,QAAQv6B,KAAK+Q,QAASgzC,EAAWz4C,GAAGsM,EAAG,EAAG,IAAM5X,KAAK+Q,SACzE/E,KAAM6wB,qBAAqBsnB,aAAankD,KAAK+Q,QAASgzC,EAAWz4C,GAAI,GACrEs5C,QAAShB,GAGN5jD,KAAK0jD,SAASp4C,GAAGU,KAAKwK,GACzBxW,KAAK6kD,SAASd,EAAWz4C,GAAItL,KAAK0jD,SAASp4C,GAAGU,KAAKgH,EAAGhT,KAAK0jD,SAASp4C,GAExE,CAMF,IAHAtL,KAAKyjD,YAAc5uC,SAASovC,GAC5Bz4C,EAAMw4C,EAAa9gD,OAEdoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKyjD,YAAYr5C,YAAY45C,EAAa14C,IAGxC0qC,EAAQ,IACVh2C,KAAKyjD,YAAYt5C,aAAa,KAAMy2C,GACpC5gD,KAAK+Q,QAAQ+zC,cAAc36C,aAAa+5C,EAAS,OAASl5C,kBAAoB,IAAM41C,EAAU,KAC9F58B,EAAK5Z,YAAYpK,KAAKyjD,cAGpBzjD,KAAK0jD,SAASxgD,QAChBlD,KAAK+Q,QAAQwrC,uBAAuBv8C,KAExC,CA3SAujD,iBAAiB73C,UAAY,CAC3Bq5C,cAAe,WACb,IAAI/Z,EAAM,IAAI5K,OACdpgC,KAAK88C,eAAiB,CACpBC,MAAO/8C,KAAK0J,KAAKgO,GAAKyyB,yBAAyBqB,qBAAqBxrC,KAAMA,KAAK0J,KAAKgO,GAAI1X,MAAQ,CAC9F4X,EAAG,GAELotC,SAAS,EACTC,cAAc,EACdC,QAAQ,EACRla,IAAKA,EACLma,SAAUna,EACVoa,aAAc,GAGZplD,KAAK0J,KAAK27C,KACZrlD,KAAK88C,eAAeC,MAAM5R,cAAe,GAIvCnrC,KAAK0J,KAAKsN,EAEhB,EACAsuC,gBAAiB,WAIf,GAHAtlD,KAAK88C,eAAeoI,OAASllD,KAAK88C,eAAeC,MAAMnlC,EAAEwhB,MAAQp5B,KAAKy5B,cACtEz5B,KAAK88C,eAAekI,QAAUhlD,KAAK88C,eAAeC,MAAM3jB,MAAQp5B,KAAKy5B,cAEjEz5B,KAAK0iD,UAAW,CAClB,IAAI1X,EACAua,EAAWvlD,KAAK88C,eAAe9R,IAC/B1/B,EAAI,EACJE,EAAMxL,KAAK0iD,UAAUx/C,OAEzB,IAAKlD,KAAK88C,eAAekI,QACvB,KAAO15C,EAAIE,GAAK,CACd,GAAIxL,KAAK0iD,UAAUp3C,GAAGwxC,eAAeC,MAAM3jB,KAAM,CAC/Cp5B,KAAK88C,eAAekI,SAAU,EAC9B,KACF,CAEA15C,GAAK,CACP,CAGF,GAAItL,KAAK88C,eAAekI,QAItB,IAHAha,EAAMhrC,KAAK88C,eAAeC,MAAM/pC,EAAE0tB,MAClC6kB,EAASnhB,eAAe4G,GAEnB1/B,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBi6C,EAAS1hB,SAAS7jC,KAAK0iD,UAAUp3C,GAAGwxC,eAAeC,MAAM/pC,EAG/D,CAEIhT,KAAK88C,eAAekI,UACtBhlD,KAAK88C,eAAemI,aAAejlD,KAAK88C,eAAekI,SAGrDhlD,KAAK88C,eAAeoI,SACtBllD,KAAK88C,eAAesI,aAAeplD,KAAK88C,eAAeC,MAAMnlC,EAAE5E,EAEnE,EACAwyC,qBAAsB,WACpB,GAAIxlD,KAAKylD,gBAAiB,CACxB,IAAIn6C,EAAI,EACJE,EAAMxL,KAAKylD,gBAAgBviD,OAG/B,GAFAlD,KAAK88C,eAAemI,aAAejlD,KAAK88C,eAAekI,SAElDhlD,KAAK88C,eAAemI,eAAiBjlD,KAAK88C,eAAeoI,OAC5D,KAAO55C,EAAIE,GACLxL,KAAKylD,gBAAgBn6C,GAAG8tB,OAC1Bp5B,KAAK88C,eAAemI,cAAe,GAGjCjlD,KAAKylD,gBAAgBn6C,GAAG45C,SAAWllD,KAAK88C,eAAeoI,SACzDllD,KAAK88C,eAAesI,aAAeplD,KAAK88C,eAAeC,MAAMnlC,EAAE5E,EAC/DhT,KAAK88C,eAAeoI,QAAS,GAG/B55C,GAAK,EAIT,GAAItL,KAAK88C,eAAemI,aAAc,CACpC,IAAIE,EAAWnlD,KAAK88C,eAAeqI,SAGnC,IAFAnlD,KAAKylD,gBAAgB,GAAG3hB,OAAOj6B,MAAMs7C,GAEhC75C,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAC3B,IAAIo6C,EAAO1lD,KAAKylD,gBAAgBn6C,GAAGw4B,OACnCqhB,EAASthB,SAAS6hB,EACpB,CAEAP,EAASthB,SAAS7jC,KAAK88C,eAAe9R,IACxC,CAEA,GAAIhrC,KAAK88C,eAAeoI,OAAQ,CAC9B,IAAIS,EAAU3lD,KAAK88C,eAAesI,aAElC,IAAK95C,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBq6C,GAA6C,IAAlC3lD,KAAKylD,gBAAgBn6C,GAAGs6C,QAGrC5lD,KAAK88C,eAAesI,aAAeO,CACrC,CACF,CACF,EACAE,uBAAwB,WACtB,GAAI7lD,KAAK8lD,yBAA0B,CACjC,IAAIC,EAAmB/lD,KAAK8lD,yBAAyBE,WAAW3C,YAAYC,kBAE5E,GAAIyC,EAAiB7iD,OAAQ,CAC3BlD,KAAKylD,gBAAkB,GACvBzlD,KAAK88C,eAAeqI,SAAW,IAAI/kB,OACnC,IAAI90B,EAAI,EACJE,EAAMu6C,EAAiB7iD,OAE3B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKylD,gBAAgB74C,KAAKm5C,EAAiBz6C,GAE/C,CACF,CACF,EACA26C,cAAe,SAAuBnvC,GACpC,IAAIovC,EAAa,GACjBA,EAAWt5C,KAAK5M,KAAK88C,gBAIrB,IAHA,IAeIxxC,EAfAT,GAAO,EACPyM,EAAOtX,KAAKsX,KAETzM,GACDyM,EAAKwlC,gBACHxlC,EAAK5N,KAAKiN,SACZuvC,EAAWpmC,OAAO,EAAG,EAAGxI,EAAKwlC,gBAG/BxlC,EAAOA,EAAKA,MAEZzM,GAAO,EAKX,IACIs7C,EADA36C,EAAM06C,EAAWhjD,OAGrB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB66C,EAAQD,EAAW56C,GAAG0/B,IAAIlG,kBAAkB,EAAG,EAAG,GAElDhuB,EAAK,CAACA,EAAG,GAAKqvC,EAAM,GAAIrvC,EAAG,GAAKqvC,EAAM,GAAI,GAG5C,OAAOrvC,CACT,EACAsvC,QAAS,IAAIhmB,QAqJfojB,YAAY93C,UAAU26C,gBAAkB,SAAUhrB,GAChD,OAAOr7B,KAAK0jD,SAASroB,GAAKrvB,IAC5B,EAEAw3C,YAAY93C,UAAUmb,YAAc,SAAUy/B,GAC5C,IACIh7C,EADAi6C,EAAWvlD,KAAK+Q,QAAQ+rC,eAAe9R,IAEvCx/B,EAAMxL,KAAK6W,gBAAgB3T,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EASxB,IARItL,KAAK0jD,SAASp4C,GAAGU,KAAKotB,MAAQktB,IAChCtmD,KAAK6kD,SAAS7kD,KAAK6W,gBAAgBvL,GAAItL,KAAK0jD,SAASp4C,GAAGU,KAAKgH,EAAGhT,KAAK0jD,SAASp4C,KAG5EtL,KAAK0jD,SAASp4C,GAAGuN,GAAGugB,MAAQktB,IAC9BtmD,KAAK0jD,SAASp4C,GAAG6e,KAAKhgB,aAAa,eAAgBnK,KAAK0jD,SAASp4C,GAAGuN,GAAG7F,GAGpC,MAAjChT,KAAK6W,gBAAgBvL,GAAGkyC,OACtBx9C,KAAK0jD,SAASp4C,GAAGs5C,UAAY5kD,KAAK+Q,QAAQ+rC,eAAeC,MAAM3jB,MAAQktB,IACzEtmD,KAAK0jD,SAASp4C,GAAGs5C,QAAQz6C,aAAa,YAAao7C,EAAS7gB,mBAAmBiB,WAG7E3lC,KAAK8wB,WAAWxlB,GAAGshB,IAAM5sB,KAAK8wB,WAAWxlB,GAAGshB,EAAEwM,MAAQktB,IAAe,CACvE,IAAIxC,EAAU9jD,KAAK8wB,WAAWxlB,GAAGg5C,MAE7BtkD,KAAK8wB,WAAWxlB,GAAGshB,EAAE5Z,EAAI,GACa,UAApChT,KAAK8wB,WAAWxlB,GAAGi5C,eACrBvkD,KAAK8wB,WAAWxlB,GAAGi5C,aAAe,QAClCvkD,KAAK8wB,WAAWxlB,GAAG6e,KAAKhgB,aAAa,SAAU,OAASa,kBAAoB,IAAMhL,KAAK8wB,WAAWxlB,GAAGk5C,SAAW,MAGlHV,EAAQ35C,aAAa,UAAWnK,KAAK8wB,WAAWxlB,GAAGshB,EAAE5Z,KAEb,WAApChT,KAAK8wB,WAAWxlB,GAAGi5C,eACrBvkD,KAAK8wB,WAAWxlB,GAAGi5C,aAAe,SAClCvkD,KAAK8wB,WAAWxlB,GAAG6e,KAAKhgB,aAAa,SAAU,OAGjDnK,KAAK8wB,WAAWxlB,GAAG6e,KAAKhgB,aAAa,eAAyC,EAAzBnK,KAAK8wB,WAAWxlB,GAAGshB,EAAE5Z,GAE9E,CAGN,EAEAwwC,YAAY93C,UAAU66C,eAAiB,WACrC,OAAOvmD,KAAKyjD,WACd,EAEAD,YAAY93C,UAAUi5C,qBAAuB,WAC3C,IAAInvC,EAAO,QAKX,OAJAA,GAAQ,KAAOxV,KAAK+jB,WAAWq/B,SAAS3M,EACxCjhC,GAAQ,KAAOxV,KAAK+jB,WAAWq/B,SAAStwC,EACxC0C,GAAQ,MAAQxV,KAAK+jB,WAAWq/B,SAAS3M,EACzCjhC,GAAQ,MAAQxV,KAAK+jB,WAAWq/B,SAAStwC,EAAI,GAE/C,EAEA0wC,YAAY93C,UAAUm5C,SAAW,SAAUzrC,EAAUotC,EAAW9C,GAC9D,IACIp4C,EACAE,EAFAi7C,EAAa,KAAOD,EAAUxzC,EAAE,GAAG,GAAK,IAAMwzC,EAAUxzC,EAAE,GAAG,GAKjE,IAFAxH,EAAMg7C,EAAUh4B,QAEXljB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAExBm7C,GAAc,KAAOD,EAAU5uC,EAAEtM,EAAI,GAAG,GAAK,IAAMk7C,EAAU5uC,EAAEtM,EAAI,GAAG,GAAK,IAAMk7C,EAAUl7C,EAAEA,GAAG,GAAK,IAAMk7C,EAAUl7C,EAAEA,GAAG,GAAK,IAAMk7C,EAAUxzC,EAAE1H,GAAG,GAAK,IAAMk7C,EAAUxzC,EAAE1H,GAAG,GAShL,GALIk7C,EAAUjtC,GAAK/N,EAAM,IACvBi7C,GAAc,KAAOD,EAAU5uC,EAAEtM,EAAI,GAAG,GAAK,IAAMk7C,EAAU5uC,EAAEtM,EAAI,GAAG,GAAK,IAAMk7C,EAAUl7C,EAAE,GAAG,GAAK,IAAMk7C,EAAUl7C,EAAE,GAAG,GAAK,IAAMk7C,EAAUxzC,EAAE,GAAG,GAAK,IAAMwzC,EAAUxzC,EAAE,GAAG,IAI5K0wC,EAASU,WAAaqC,EAAY,CACpC,IAAIC,EAAiB,GAEjBhD,EAASv5B,OACPq8B,EAAUjtC,IACZmtC,EAAiBttC,EAASs5B,IAAM1yC,KAAK2jD,UAAY8C,EAAaA,GAGhE/C,EAASv5B,KAAKhgB,aAAa,IAAKu8C,IAGlChD,EAASU,SAAWqC,CACtB,CACF,EAEAjD,YAAY93C,UAAUmT,QAAU,WAC9B7e,KAAK+Q,QAAU,KACf/Q,KAAK+jB,WAAa,KAClB/jB,KAAKyjD,YAAc,KACnBzjD,KAAK0J,KAAO,KACZ1J,KAAK6W,gBAAkB,IACzB,EAEA,IAAI8vC,eAAiB,WACnB,IAAI1oC,EAAK,CACTA,aAGA,SAAsB2oC,EAAOC,GAC3B,IAAIC,EAAMjyC,SAAS,UAWnB,OAVAiyC,EAAI38C,aAAa,KAAMy8C,IAEC,IAApBC,IACFC,EAAI38C,aAAa,cAAe,qBAChC28C,EAAI38C,aAAa,IAAK,MACtB28C,EAAI38C,aAAa,IAAK,MACtB28C,EAAI38C,aAAa,QAAS,QAC1B28C,EAAI38C,aAAa,SAAU,SAGtB28C,CACT,EAfA7oC,6BAiBA,WACE,IAAI8oC,EAAgBlyC,SAAS,iBAI7B,OAHAkyC,EAAc58C,aAAa,OAAQ,UACnC48C,EAAc58C,aAAa,8BAA+B,QAC1D48C,EAAc58C,aAAa,SAAU,8CAC9B48C,CACT,GAEA,OAAO9oC,CACT,CA7BqB,GA+BjB+oC,eAAiB,WACnB,IAAI/oC,EAAK,CACPgmC,UAAU,EACVgD,eAAe,EACfC,gBAA4C,oBAApB1O,iBAW1B,OARI,WAAWtpC,KAAK3E,UAAU4E,YAAc,UAAUD,KAAK3E,UAAU4E,YAAc,WAAWD,KAAK3E,UAAU4E,YAAc,aAAaD,KAAK3E,UAAU4E,cACrJ8O,EAAGgmC,UAAW,GAGZ,WAAW/0C,KAAK3E,UAAU4E,aAC5B8O,EAAGgpC,eAAgB,GAGdhpC,CACT,CAhBqB,GAkBjBkpC,oBAAsB,CAAC,EACvBC,SAAW,iBAEf,SAASC,WAAWl9B,GAClB,IAAI7e,EAOAg8C,EANAC,EAAS,gBACT/7C,EAAM2e,EAAKzgB,KAAKy0C,GAAKh0B,EAAKzgB,KAAKy0C,GAAGj7C,OAAS,EAC3C0jD,EAAQj0C,kBACRm0C,EAAMH,eAAea,aAAaZ,GAAO,GACzC5Q,EAAQ,EAIZ,IAHAh2C,KAAKynD,QAAU,GAGVn8C,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAC3Bg8C,EAAgB,KAChB,IAAIp9C,EAAOigB,EAAKzgB,KAAKy0C,GAAG7yC,GAAG0L,GAEvBmwC,oBAAoBj9C,KAEtBo9C,EAAgB,IAAII,EADPP,oBAAoBj9C,GAAMy9C,QACZb,EAAK38B,EAAK02B,eAAezC,eAAe9yC,GAAI6e,EAAMi9B,SAAWpR,EAAOuR,GAC/FA,EAASH,SAAWpR,EAEhBmR,oBAAoBj9C,GAAM09C,iBAC5B5R,GAAS,IAITsR,GACFtnD,KAAKynD,QAAQ76C,KAAK06C,EAEtB,CAEItR,IACF7rB,EAAKpG,WAAWC,KAAK5Z,YAAY08C,GACjC38B,EAAKw2B,aAAax2C,aAAa,SAAU,OAASa,kBAAoB,IAAM47C,EAAQ,MAGlF5mD,KAAKynD,QAAQvkD,QACfinB,EAAKoyB,uBAAuBv8C,KAEhC,CAyBA,SAAS6nD,iBAAiBn/C,EAAIi/C,EAAQC,GACpCT,oBAAoBz+C,GAAM,CACxBi/C,OAAQA,EACRC,eAAgBA,EAEpB,CAEA,SAASE,iBAAkB,CA6L3B,SAASC,mBAAoB,CAgD7B,SAASC,uBAAwB,CAoEjC,SAASC,cAAcv+C,EAAMqa,EAAYzM,GACvCtX,KAAKmd,UAAY4G,EAAWkF,aAAavf,EAAKwN,OAE1ClX,KAAKmd,WAAand,KAAKmd,UAAUqd,MACnCx6B,KAAKmd,UAAY4G,EAAW0W,YAAYF,QAAQv6B,KAAKmd,YAGvDnd,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,GACnCtX,KAAKmoD,WAAa,CAChBvgD,IAAK,EACLD,KAAM,EACN0U,MAAOrc,KAAKmd,UAAUs5B,EACtBn6B,OAAQtc,KAAKmd,UAAUrK,EAE3B,CAkBA,SAASs1C,iBAAiBr3C,EAASE,GACjCjR,KAAKmqB,KAAOpZ,EACZ/Q,KAAKq7B,IAAMpqB,CACb,CAEA,SAASo3C,gBAAiB,CApX1BhB,WAAW37C,UAAUmb,YAAc,SAAU4S,GAC3C,IAAInuB,EACAE,EAAMxL,KAAKynD,QAAQvkD,OAEvB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKynD,QAAQn8C,GAAGub,YAAY4S,EAEhC,EAEA4tB,WAAW37C,UAAUs6C,WAAa,SAAU97C,GAC1C,IAAIoB,EACAE,EAAMxL,KAAKynD,QAAQvkD,OACnBg7C,EAAU,GAEd,IAAK5yC,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBtL,KAAKynD,QAAQn8C,GAAGpB,OAASA,GAC3Bg0C,EAAQtxC,KAAK5M,KAAKynD,QAAQn8C,IAI9B,OAAO4yC,CACT,EAWA4J,eAAep8C,UAAY,CACzB48C,oBAAqB,WACnBtoD,KAAK2gD,aAAe9rC,SAAS,IAC/B,EACA0zC,wBAAyB,WACvBvoD,KAAKwoD,aAAe3zC,SAAS,KAC7B7U,KAAKyoD,mBAAqBzoD,KAAK2gD,aAC/B3gD,KAAK8kD,cAAgB9kD,KAAK2gD,aAC1B3gD,KAAK0oD,cAAe,EACpB,IAAIC,EAAqB,KAEzB,GAAI3oD,KAAK0J,KAAKk/C,GAAI,CAChB5oD,KAAK6oD,WAAa,CAAC,EACnB,IAAIC,EAAKj0C,SAAS,KAClBi0C,EAAG3+C,aAAa,KAAMnK,KAAK4gD,SAC3BkI,EAAG1+C,YAAYpK,KAAK2gD,cACpBgI,EAAqBG,EACrB9oD,KAAK+jB,WAAWC,KAAK5Z,YAAY0+C,EACnC,MAAW9oD,KAAK0J,KAAKq/C,IACnB/oD,KAAKwoD,aAAap+C,YAAYpK,KAAK2gD,cACnCgI,EAAqB3oD,KAAKwoD,aAC1BxoD,KAAK0gD,YAAc1gD,KAAKwoD,cAExBxoD,KAAK0gD,YAAc1gD,KAAK2gD,aAY1B,GATI3gD,KAAK0J,KAAKs/C,IACZhpD,KAAK2gD,aAAax2C,aAAa,KAAMnK,KAAK0J,KAAKs/C,IAG7ChpD,KAAK0J,KAAKiQ,IACZ3Z,KAAK2gD,aAAax2C,aAAa,QAASnK,KAAK0J,KAAKiQ,IAI/B,IAAjB3Z,KAAK0J,KAAKsN,KAAahX,KAAK0J,KAAKu/C,GAAI,CACvC,IAAIC,EAAKr0C,SAAS,YACdiC,EAAKjC,SAAS,QAClBiC,EAAG3M,aAAa,IAAK,SAAWnK,KAAK0J,KAAK+sC,EAAI,OAASz2C,KAAK0J,KAAK+sC,EAAI,IAAMz2C,KAAK0J,KAAKoJ,EAAI,OAAS9S,KAAK0J,KAAKoJ,EAAI,KAChH,IAAIq2C,EAASx2C,kBAKb,GAJAu2C,EAAG/+C,aAAa,KAAMg/C,GACtBD,EAAG9+C,YAAY0M,GACf9W,KAAK+jB,WAAWC,KAAK5Z,YAAY8+C,GAE7BlpD,KAAKu/C,aAAc,CACrB,IAAI6J,EAAUv0C,SAAS,KACvBu0C,EAAQj/C,aAAa,YAAa,OAASa,kBAAoB,IAAMm+C,EAAS,KAC9EC,EAAQh/C,YAAYpK,KAAK2gD,cACzB3gD,KAAKyoD,mBAAqBW,EAEtBT,EACFA,EAAmBv+C,YAAYpK,KAAKyoD,oBAEpCzoD,KAAK0gD,YAAc1gD,KAAKyoD,kBAE5B,MACEzoD,KAAK2gD,aAAax2C,aAAa,YAAa,OAASa,kBAAoB,IAAMm+C,EAAS,IAE5F,CAEqB,IAAjBnpD,KAAK0J,KAAK+2C,IACZzgD,KAAKugD,cAET,EACA8I,cAAe,WACTrpD,KAAK88C,eAAemI,cACtBjlD,KAAKyoD,mBAAmBt+C,aAAa,YAAanK,KAAK88C,eAAeqI,SAASxf,WAG7E3lC,KAAK88C,eAAeoI,QACtBllD,KAAKyoD,mBAAmBt+C,aAAa,UAAWnK,KAAK88C,eAAesI,aAExE,EACAkE,mBAAoB,WAClBtpD,KAAK2gD,aAAe,KACpB3gD,KAAKwoD,aAAe,KACpBxoD,KAAK8/C,YAAYjhC,SACnB,EACAqiC,eAAgB,WACd,OAAIlhD,KAAK0J,KAAKu/C,GACL,KAGFjpD,KAAK0gD,WACd,EACA6I,2BAA4B,WAC1BvpD,KAAK8/C,YAAc,IAAI0D,YAAYxjD,KAAK0J,KAAM1J,KAAMA,KAAK+jB,YACzD/jB,KAAK8lD,yBAA2B,IAAIuB,WAAWrnD,MAC/CA,KAAK6lD,wBACP,EACA2D,SAAU,SAAkBC,GAQ1B,GAJKzpD,KAAK6oD,aACR7oD,KAAK6oD,WAAa,CAAC,IAGhB7oD,KAAK6oD,WAAWY,GAAY,CAC/B,IACI7C,EACAE,EACA4C,EACAZ,EAJApgD,EAAK1I,KAAK4gD,QAAU,IAAM6I,EAM9B,GAAkB,IAAdA,GAAiC,IAAdA,EAAiB,CACtC,IAAIE,EAAS90C,SAAS,QACtB80C,EAAOx/C,aAAa,KAAMzB,GAC1BihD,EAAOx/C,aAAa,YAA2B,IAAds/C,EAAkB,YAAc,UACjEC,EAAa70C,SAAS,QACXqK,eAAe,+BAAgC,OAAQ,IAAMlf,KAAK4gD,SAC7E+I,EAAOv/C,YAAYs/C,GACnB1pD,KAAK+jB,WAAWC,KAAK5Z,YAAYu/C,GAE5B3C,eAAe/C,UAA0B,IAAdwF,IAC9BE,EAAOx/C,aAAa,YAAa,aACjCy8C,EAAQj0C,kBACRm0C,EAAMH,eAAea,aAAaZ,GAClC5mD,KAAK+jB,WAAWC,KAAK5Z,YAAY08C,GACjCA,EAAI18C,YAAYu8C,eAAeiD,iCAC/Bd,EAAKj0C,SAAS,MACXzK,YAAYs/C,GACfC,EAAOv/C,YAAY0+C,GACnBA,EAAG3+C,aAAa,SAAU,OAASa,kBAAoB,IAAM47C,EAAQ,KAEzE,MAAO,GAAkB,IAAd6C,EAAiB,CAC1B,IAAII,EAAYh1C,SAAS,QACzBg1C,EAAU1/C,aAAa,KAAMzB,GAC7BmhD,EAAU1/C,aAAa,YAAa,SACpC,IAAI2/C,EAAcj1C,SAAS,KAC3Bg1C,EAAUz/C,YAAY0/C,GACtBlD,EAAQj0C,kBACRm0C,EAAMH,eAAea,aAAaZ,GAElC,IAAImD,EAAQl1C,SAAS,uBACrBk1C,EAAM5/C,aAAa,KAAM,iBACzB28C,EAAI18C,YAAY2/C,GAChB,IAAIC,EAASn1C,SAAS,WACtBm1C,EAAO7/C,aAAa,OAAQ,SAC5B6/C,EAAO7/C,aAAa,cAAe,WACnC4/C,EAAM3/C,YAAY4/C,GAElBhqD,KAAK+jB,WAAWC,KAAK5Z,YAAY08C,GACjC,IAAImD,EAAYp1C,SAAS,QACzBo1C,EAAU9/C,aAAa,QAASnK,KAAKsX,KAAK5N,KAAK+sC,GAC/CwT,EAAU9/C,aAAa,SAAUnK,KAAKsX,KAAK5N,KAAKoJ,GAChDm3C,EAAU9/C,aAAa,IAAK,KAC5B8/C,EAAU9/C,aAAa,IAAK,KAC5B8/C,EAAU9/C,aAAa,OAAQ,WAC/B8/C,EAAU9/C,aAAa,UAAW,KAClC2/C,EAAY3/C,aAAa,SAAU,OAASa,kBAAoB,IAAM47C,EAAQ,KAC9EkD,EAAY1/C,YAAY6/C,IACxBP,EAAa70C,SAAS,QACXqK,eAAe,+BAAgC,OAAQ,IAAMlf,KAAK4gD,SAC7EkJ,EAAY1/C,YAAYs/C,GAEnB1C,eAAe/C,WAClB4F,EAAU1/C,aAAa,YAAa,aACpC28C,EAAI18C,YAAYu8C,eAAeiD,gCAC/Bd,EAAKj0C,SAAS,KACdi1C,EAAY1/C,YAAY6/C,GACxBnB,EAAG1+C,YAAYpK,KAAK2gD,cACpBmJ,EAAY1/C,YAAY0+C,IAG1B9oD,KAAK+jB,WAAWC,KAAK5Z,YAAYy/C,EACnC,CAEA7pD,KAAK6oD,WAAWY,GAAa/gD,CAC/B,CAEA,OAAO1I,KAAK6oD,WAAWY,EACzB,EACAS,SAAU,SAAkBxhD,GACrB1I,KAAKwoD,cAIVxoD,KAAKwoD,aAAar+C,aAAa,OAAQ,OAASa,kBAAoB,IAAMtC,EAAK,IACjF,GAUFq/C,iBAAiBr8C,UAAY,CAM3By+C,cAAe,WAEbnqD,KAAK0iD,UAAY,GAEjB1iD,KAAKihD,WAAY,EACjBjhD,KAAKoqD,gBACP,EASAxH,aAAc,SAAsBF,GAClC1iD,KAAK0iD,UAAYA,CACnB,EAOAC,YAAa,WACX3iD,KAAKihD,WAAY,CACnB,EAOAmJ,eAAgB,gBACWlmC,IAArBlkB,KAAK0J,KAAKmuC,QACZ73C,KAAKsX,KAAKkrC,sBAAsBxiD,KAAMA,KAAK0J,KAAKmuC,OAAQ,GAE5D,GAoEA1sC,gBAAgB,CAAC4wC,kBAAmB7vC,oBA9DnB,CACfg8C,YAAa,SAAqBx+C,EAAMqa,EAAYzM,GAClDtX,KAAKg0B,YACLh0B,KAAK2+C,aAAaj1C,EAAMqa,EAAYzM,GACpCtX,KAAK+kD,cAAcr7C,EAAMqa,EAAYzM,GACrCtX,KAAKmqD,gBACLnqD,KAAKk8C,iBACLl8C,KAAKsoD,sBACLtoD,KAAKuoD,0BACLvoD,KAAKupD,6BACLvpD,KAAKqqD,gBACLrqD,KAAKkpB,MACP,EACAA,KAAM,WAEClpB,KAAKo8C,QAAYp8C,KAAKm8C,YAAan8C,KAAKq8C,iBAChCr8C,KAAK0gD,aAAe1gD,KAAK2gD,cAC/B3vC,MAAME,QAAU,OACrBlR,KAAKo8C,QAAS,EAElB,EACAjzB,KAAM,WAEAnpB,KAAKm8C,YAAcn8C,KAAKq8C,gBACrBr8C,KAAK0J,KAAKu/C,MACFjpD,KAAK0gD,aAAe1gD,KAAK2gD,cAC/B3vC,MAAME,QAAU,SAGvBlR,KAAKo8C,QAAS,EACdp8C,KAAKy5B,eAAgB,EAEzB,EACA5S,YAAa,WAGP7mB,KAAK0J,KAAKu/C,IAAMjpD,KAAKo8C,SAIzBp8C,KAAKslD,kBACLtlD,KAAKk9C,mBACLl9C,KAAKwlD,uBACLxlD,KAAKqpD,gBACLrpD,KAAKsqD,qBAEDtqD,KAAKy5B,gBACPz5B,KAAKy5B,eAAgB,GAEzB,EACA6wB,mBAAoB,WAA+B,EACnD/oC,aAAc,SAAsBo7B,GAClC38C,KAAKo5B,MAAO,EACZp5B,KAAK08C,uBAAuBC,GAC5B38C,KAAK+gD,kBAAkBpE,EAAK38C,KAAKm8C,WACjCn8C,KAAK68C,mBACP,EACAh+B,QAAS,WACP7e,KAAKuqD,UAAY,KACjBvqD,KAAKspD,oBACP,KAEoEtB,sBAmBxE78C,gBAAgB,CAACozC,YAAagF,iBAAkBuE,eAAgBC,iBAAkBvJ,aAAcwJ,sBAAuBC,eAEvHA,cAAcv8C,UAAU2+C,cAAgB,WACtC,IAAIn9C,EAAYlN,KAAK+jB,WAAW7G,cAAcld,KAAKmd,WACnDnd,KAAKuqD,UAAY11C,SAAS,SAC1B7U,KAAKuqD,UAAUpgD,aAAa,QAASnK,KAAKmd,UAAUs5B,EAAI,MACxDz2C,KAAKuqD,UAAUpgD,aAAa,SAAUnK,KAAKmd,UAAUrK,EAAI,MACzD9S,KAAKuqD,UAAUpgD,aAAa,sBAAuBnK,KAAKmd,UAAUqtC,IAAMxqD,KAAK+jB,WAAWi5B,aAAayN,0BACrGzqD,KAAKuqD,UAAUrrC,eAAe,+BAAgC,OAAQhS,GACtElN,KAAK2gD,aAAav2C,YAAYpK,KAAKuqD,UACrC,EAEAtC,cAAcv8C,UAAUyxC,iBAAmB,WACzC,OAAOn9C,KAAKmoD,UACd,EASAE,cAAc38C,UAAY,CACxBg/C,oBAAqB,SAA6BhhD,GAChD,IAAI4B,EACAE,EAAMxL,KAAK2qD,eAAeznD,OAE9B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAK2qD,eAAer/C,GAAGkxB,SAAS9yB,EAEpC,EACAkhD,2BAA4B,SAAoClhD,GAI9D,IAHA,IACI8B,EAAMxL,KAAK2qD,eAAeznD,OADtB,EAGGsI,GACT,GAAIxL,KAAK2qD,eAJH,GAIqBE,oBAAoBnhD,GAC7C,OAAO,EAIX,OAAO,CACT,EACAohD,gBAAiB,WACf,GAAK9qD,KAAK2qD,eAAeznD,OAAzB,CAIA,IAAIoI,EACAE,EAAMxL,KAAKoX,OAAOlU,OAEtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKoX,OAAO9L,GAAGgrB,GAAGx0B,QAMpB,IAAKwJ,GAHLE,EAAMxL,KAAK2qD,eAAeznD,QAGX,EAAGoI,GAAK,IACAtL,KAAK2qD,eAAer/C,GAAGu9B,cAAc7oC,KAAKy5B,eADvCnuB,GAAK,GAZ/B,CAoBF,EACAy/C,uBAAwB,SAAgC5gC,GAKtD,IAJA,IAAIgpB,EAAWnzC,KAAKgrD,kBAChB1/C,EAAI,EACJE,EAAM2nC,EAASjwC,OAEZoI,EAAIE,GAAK,CACd,GAAI2nC,EAAS7nC,GAAG6e,OAASA,EACvB,OAAOgpB,EAAS7nC,GAAG+vB,IAGrB/vB,GAAK,CACP,CAEA,OAAO,CACT,EACA2/C,oBAAqB,SAA6B9gC,EAAMkR,GAItD,IAHA,IAAI8X,EAAWnzC,KAAKgrD,kBAChB1/C,EAAI6nC,EAASjwC,OAEVoI,GAGL,GAAI6nC,EAFJ7nC,GAAK,GAEW6e,OAASA,EAEvB,YADAgpB,EAAS7nC,GAAG+vB,IAAMA,GAKtB8X,EAASvmC,KAAK,IAAIw7C,iBAAiBj+B,EAAMkR,GAC3C,EACA9Z,aAAc,SAAsBo7B,GAClC38C,KAAK08C,uBAAuBC,GAC5B38C,KAAK+gD,kBAAkBpE,EAAK38C,KAAKm8C,UACnC,GAGF,IAAI+O,YAAc,CAChB,EAAG,OACH,EAAG,QACH,EAAG,UAEDC,aAAe,CACjB,EAAG,QACH,EAAG,QACH,EAAG,SAGL,SAASC,aAAaC,EAAcC,EAAOjvB,GACzCr8B,KAAKurD,OAAS,GACdvrD,KAAK6xC,OAAS,GACd7xC,KAAKqrD,aAAeA,EACpBrrD,KAAKwrD,KAAO,GACZxrD,KAAKs2B,GAAK+F,EACVr8B,KAAKyrD,IAAMH,EAIXtrD,KAAK46B,cAAgByB,EAAM7lB,EAK3B,IAHA,IAAIlL,EAAI,EACJE,EAAM6/C,EAAanoD,OAEhBoI,EAAIE,GAAK,CACd,GAAI6/C,EAAa//C,GAAGopC,OAAO/Z,kBAAkBz3B,OAAQ,CACnDlD,KAAK46B,aAAc,EACnB,KACF,CAEAtvB,GAAK,CACP,CACF,CAMA,SAASogD,aAAahiD,EAAM4hD,GAC1BtrD,KAAK0J,KAAOA,EACZ1J,KAAKkK,KAAOR,EAAKsN,GACjBhX,KAAKyT,EAAI,GACTzT,KAAKyrD,IAAMH,EACXtrD,KAAKo5B,MAAO,EACZp5B,KAAK0Z,QAAqB,IAAZhQ,EAAKu/C,GACnBjpD,KAAK2rD,MAAQ92C,SAAS,QACtB7U,KAAK4rD,OAAS,IAChB,CAOA,SAASC,aAAa1hC,EAAMzgB,EAAMiZ,EAAUpc,GAU1C,IAAI+E,EATJtL,KAAKmqB,KAAOA,EACZnqB,KAAKs5B,SAAW,EAChBt5B,KAAK8rD,UAAYx9C,iBAAiB5E,EAAKxG,QACvClD,KAAK2iB,SAAWA,EAChB3iB,KAAKwW,GAAI,EACTxW,KAAK+rD,QAAU,GACf/rD,KAAKgsD,UAAYh+C,iBAAiB,UAAWtE,EAAKxG,OAASwG,EAAKxG,OAAS,EAAI,GAC7ElD,KAAKisD,WAAaj+C,iBAAiB,UAAW,GAC9ChO,KAAK86B,6BAA6Bv0B,GAElC,IACIyF,EADAR,EAAM9B,EAAKxG,QAAU,EAGzB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBU,EAAOsuB,gBAAgBC,QAAQpQ,EAAMzgB,EAAK4B,GAAG0H,EAAG,EAAG,EAAGhT,MACtDA,KAAKwW,EAAIxK,EAAKwK,GAAKxW,KAAKwW,EACxBxW,KAAK8rD,UAAUxgD,GAAK,CAClBoqB,EAAGhsB,EAAK4B,GAAGoqB,EACXriB,EAAGrH,GAIFhM,KAAKwW,GACRxW,KAAKi6B,UAAS,GAGhBj6B,KAAK46B,YAAc56B,KAAKwW,CAC1B,CAmCA,SAAS01C,mBAAmB/hC,EAAMzgB,EAAMyiD,GACtCnsD,KAAK86B,6BAA6B3Q,GAClCnqB,KAAKi6B,SAAWj6B,KAAK66B,yBACrB76B,KAAK4X,EAAI0iB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKkO,EAAG,EAAG,IAAM5X,MACxDA,KAAKy2C,EAAInc,gBAAgBC,QAAQpQ,EAAMzgB,EAAK+sC,EAAG,EAAG,KAAMz2C,MACxDA,KAAKyT,EAAI,IAAIo4C,aAAa1hC,EAAMzgB,EAAK+J,GAAK,CAAC,EAAG,MAAOzT,MACrDA,KAAKuZ,EAAI+gB,gBAAgBC,QAAQpQ,EAAMzgB,EAAK6P,EAAG,EAAG,IAAKvZ,MACvDA,KAAKgR,MAAQm7C,EACbnsD,KAAK46B,cAAgB56B,KAAK46B,WAC5B,CAIA,SAASwxB,iBAAiBjiC,EAAMzgB,EAAMyiD,GACpCnsD,KAAK86B,6BAA6B3Q,GAClCnqB,KAAKi6B,SAAWj6B,KAAK66B,yBACrB76B,KAAK4X,EAAI0iB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKkO,EAAG,EAAG,IAAM5X,MACxDA,KAAKuZ,EAAI+gB,gBAAgBC,QAAQpQ,EAAMzgB,EAAK6P,EAAG,EAAG,IAAKvZ,MACvDA,KAAKgR,MAAQm7C,CACf,CAIA,SAASE,eAAeliC,EAAMzgB,EAAMyiD,GAClCnsD,KAAK86B,6BAA6B3Q,GAClCnqB,KAAKi6B,SAAWj6B,KAAK66B,yBACrB76B,KAAKgR,MAAQm7C,CACf,CAIA,SAASG,iBAAiBniC,EAAMzgB,EAAMnD,GACpCvG,KAAK0J,KAAOA,EACZ1J,KAAKuZ,EAAIvL,iBAAiB,SAAmB,EAATtE,EAAK2J,GACzC,IAAIk5C,EAAU7iD,EAAK8M,EAAEA,EAAE,GAAGzD,EAAIrJ,EAAK8M,EAAEA,EAAE,GAAGzD,EAAE7P,OAAkB,EAATwG,EAAK2J,EAAQ3J,EAAK8M,EAAEA,EAAEtT,OAAkB,EAATwG,EAAK2J,EACzFrT,KAAK4X,EAAI5J,iBAAiB,UAAWu+C,GACrCvsD,KAAKwsD,OAAQ,EACbxsD,KAAKysD,OAAQ,EACbzsD,KAAK0sD,aAAe1sD,KAAK2sD,mBACzB3sD,KAAK4sD,YAAcL,EACnBvsD,KAAK86B,6BAA6Bv0B,GAClCvG,KAAKgM,KAAOsuB,gBAAgBC,QAAQpQ,EAAMzgB,EAAK8M,EAAG,EAAG,KAAMxW,MAC3DA,KAAKwW,EAAIxW,KAAKgM,KAAKwK,EACnBxW,KAAKi6B,UAAS,EAChB,CAqFA,SAAS4yB,yBAAyB1iC,EAAMzgB,EAAMyiD,GAC5CnsD,KAAK86B,6BAA6B3Q,GAClCnqB,KAAKi6B,SAAWj6B,KAAK66B,yBACrB76B,KAAK8sD,iBAAiB3iC,EAAMzgB,EAAMyiD,EACpC,CAyFA,SAASY,2BAA2B5iC,EAAMzgB,EAAMyiD,GAC9CnsD,KAAK86B,6BAA6B3Q,GAClCnqB,KAAKi6B,SAAWj6B,KAAK66B,yBACrB76B,KAAKy2C,EAAInc,gBAAgBC,QAAQpQ,EAAMzgB,EAAK+sC,EAAG,EAAG,KAAMz2C,MACxDA,KAAKyT,EAAI,IAAIo4C,aAAa1hC,EAAMzgB,EAAK+J,GAAK,CAAC,EAAG,MAAOzT,MACrDA,KAAK8sD,iBAAiB3iC,EAAMzgB,EAAMyiD,GAClCnsD,KAAK46B,cAAgB56B,KAAK46B,WAC5B,CAIA,SAASoyB,iBACPhtD,KAAK2X,GAAK,GACV3X,KAAKitD,aAAe,GACpBjtD,KAAKktD,GAAKr4C,SAAS,IACrB,CAEA,SAASs4C,iBAAiBzY,EAAQ77B,EAAItS,GACpCvG,KAAK8hC,UAAY,CACf4S,OAAQA,EACR77B,GAAIA,EACJtS,UAAWA,GAEbvG,KAAKmzC,SAAW,GAChBnzC,KAAK46B,YAAc56B,KAAK8hC,UAAU4S,OAAO/Z,kBAAkBz3B,QAAUlD,KAAK8hC,UAAUjpB,GAAG0gB,gBAAgBr2B,MACzG,CA1UAkoD,aAAa1/C,UAAUs8B,cAAgB,WACrChoC,KAAK46B,aAAc,CACrB,EAaA8wB,aAAahgD,UAAU5J,MAAQ,WAC7B9B,KAAKyT,EAAI,GACTzT,KAAKo5B,MAAO,CACd,EAgCAyyB,aAAangD,UAAUuuB,SAAW,SAAUgR,GAC1C,IAAIjrC,KAAKmqB,KAAKpG,WAAWuV,UAAYt5B,KAAKs5B,SAAY2R,KAItDjrC,KAAKs5B,QAAUt5B,KAAKmqB,KAAKpG,WAAWuV,QACpCt5B,KAAK66B,2BACL76B,KAAKo5B,KAAOp5B,KAAKo5B,MAAQ6R,EAErBjrC,KAAKo5B,MAAM,CACb,IAAI9tB,EAAI,EACJE,EAAMxL,KAAK8rD,UAAU5oD,OAMzB,IAJsB,QAAlBlD,KAAK2iB,WACP3iB,KAAK+rD,QAAU,IAGZzgD,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACI,MAAxBtL,KAAK8rD,UAAUxgD,GAAGoqB,EACE,QAAlB11B,KAAK2iB,SACP3iB,KAAK+rD,SAAW,IAAM/rD,KAAK8rD,UAAUxgD,GAAG+H,EAAEL,EAE1ChT,KAAKgsD,UAAU1gD,GAAKtL,KAAK8rD,UAAUxgD,GAAG+H,EAAEL,EAG1ChT,KAAKisD,WAAW,GAAKjsD,KAAK8rD,UAAUxgD,GAAG+H,EAAEL,CAG/C,CACF,EAEA7H,gBAAgB,CAACuvB,0BAA2BmxB,cAa5C1gD,gBAAgB,CAACuvB,0BAA2BwxB,oBAU5C/gD,gBAAgB,CAACuvB,0BAA2B0xB,kBAQ5CjhD,gBAAgB,CAACuvB,0BAA2B2xB,gBAiB5CC,iBAAiB5gD,UAAU0hD,cAAgB,SAAUh1B,EAAQ7L,GAK3D,IAJA,IAAIjhB,EAAI,EACJE,EAAMxL,KAAK4X,EAAE1U,OAAS,EAGnBoI,EAAIE,GAAK,CAGd,GAFO8D,KAAKc,IAAIgoB,EAAW,EAAJ9sB,GAAS8sB,EAAgB,EAAT7L,EAAiB,EAAJjhB,IAEzC,IACT,OAAO,EAGTA,GAAK,CACP,CAEA,OAAO,CACT,EAEAghD,iBAAiB5gD,UAAUihD,iBAAmB,WAC5C,GAAI3sD,KAAK4X,EAAE1U,OAAS,GAAMlD,KAAKuZ,EAAErW,OAAS,EACxC,OAAO,EAGT,GAAIlD,KAAK0J,KAAK8M,EAAEA,EAAE,GAAGzD,EAInB,IAHA,IAAIzH,EAAI,EACJE,EAAMxL,KAAK0J,KAAK8M,EAAEA,EAAEtT,OAEjBoI,EAAIE,GAAK,CACd,IAAKxL,KAAKotD,cAAcptD,KAAK0J,KAAK8M,EAAEA,EAAElL,GAAGyH,EAAG/S,KAAK0J,KAAK2J,GACpD,OAAO,EAGT/H,GAAK,CACP,MACK,IAAKtL,KAAKotD,cAAcptD,KAAK0J,KAAK8M,EAAEA,EAAGxW,KAAK0J,KAAK2J,GACtD,OAAO,EAGT,OAAO,CACT,EAEAi5C,iBAAiB5gD,UAAUuuB,SAAW,SAAUgR,GAM9C,GALAjrC,KAAKgM,KAAKiuB,WACVj6B,KAAKo5B,MAAO,EACZp5B,KAAKwsD,OAAQ,EACbxsD,KAAKysD,OAAQ,EAETzsD,KAAKgM,KAAKotB,MAAQ6R,EAAa,CACjC,IAAI3/B,EAEA6tB,EACA9oB,EAFA7E,EAAoB,EAAdxL,KAAK0J,KAAK2J,EAIpB,IAAK/H,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB6tB,EAAO7tB,EAAI,GAAM,EAAI,IAAM,IAC3B+E,EAAMf,KAAKuB,MAAM7Q,KAAKgM,KAAKgH,EAAE1H,GAAK6tB,GAE9Bn5B,KAAKuZ,EAAEjO,KAAO+E,IAChBrQ,KAAKuZ,EAAEjO,GAAK+E,EACZrQ,KAAKwsD,OAASvhB,GAIlB,GAAIjrC,KAAK4X,EAAE1U,OAGT,IAFAsI,EAAMxL,KAAKgM,KAAKgH,EAAE9P,OAEboI,EAAkB,EAAdtL,KAAK0J,KAAK2J,EAAO/H,EAAIE,EAAKF,GAAK,EACtC6tB,EAAO7tB,EAAI,GAAM,EAAI,IAAM,EAC3B+E,EAAM/E,EAAI,GAAM,EAAIgE,KAAKuB,MAAuB,IAAjB7Q,KAAKgM,KAAKgH,EAAE1H,IAAYtL,KAAKgM,KAAKgH,EAAE1H,GAE/DtL,KAAK4X,EAAEtM,EAAkB,EAAdtL,KAAK0J,KAAK2J,KAAWhD,IAClCrQ,KAAK4X,EAAEtM,EAAkB,EAAdtL,KAAK0J,KAAK2J,GAAShD,EAC9BrQ,KAAKysD,OAASxhB,GAKpBjrC,KAAKo5B,MAAQ6R,CACf,CACF,EAEA9/B,gBAAgB,CAACuvB,0BAA2B4xB,kBAQ5CO,yBAAyBnhD,UAAUohD,iBAAmB,SAAU3iC,EAAMzgB,EAAMyiD,GAC1EnsD,KAAK4X,EAAI0iB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKkO,EAAG,EAAG,IAAM5X,MACxDA,KAAK+S,EAAIunB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKqJ,EAAG,EAAG,KAAM/S,MACxDA,KAAKO,EAAI+5B,gBAAgBC,QAAQpQ,EAAMzgB,EAAKnJ,EAAG,EAAG,KAAMP,MACxDA,KAAK8S,EAAIwnB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKoJ,GAAK,CAC/C0D,EAAG,GACF,EAAG,IAAMxW,MACZA,KAAKgZ,EAAIshB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsP,GAAK,CAC/CxC,EAAG,GACF,EAAGhG,UAAWxQ,MACjBA,KAAKkT,EAAI,IAAIo5C,iBAAiBniC,EAAMzgB,EAAKwJ,EAAGlT,MAC5CA,KAAKgR,MAAQm7C,EACbnsD,KAAKqtD,MAAQ,GACbrtD,KAAKstD,gBAAgBnB,EAAQR,MAAOjiD,GACpC1J,KAAKutD,mBAAmB7jD,EAAMyiD,GAC9BnsD,KAAK46B,cAAgB56B,KAAK46B,WAC5B,EAEAiyB,yBAAyBnhD,UAAU4hD,gBAAkB,SAAUE,EAAa9jD,GAC1E,IAAI+jD,EAAa96C,kBACb+6C,EAAQ74C,SAAoB,IAAXnL,EAAK6J,EAAU,iBAAmB,kBACvDm6C,EAAMvjD,aAAa,KAAMsjD,GACzBC,EAAMvjD,aAAa,eAAgB,OACnCujD,EAAMvjD,aAAa,gBAAiB,kBACpC,IACI8c,EACA3Q,EACAC,EAHA82C,EAAQ,GAMZ,IAFA92C,EAAkB,EAAX7M,EAAKwJ,EAAEG,EAETiD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB2Q,EAAOpS,SAAS,QAChB64C,EAAMtjD,YAAY6c,GAClBomC,EAAMzgD,KAAKqa,GAGbumC,EAAYrjD,aAAyB,OAAZT,EAAKsN,GAAc,OAAS,SAAU,OAAShM,kBAAoB,IAAMyiD,EAAa,KAC/GztD,KAAK2tD,GAAKD,EACV1tD,KAAK4tD,IAAMP,CACb,EAEAR,yBAAyBnhD,UAAU6hD,mBAAqB,SAAU7jD,EAAMyiD,GACtE,GAAInsD,KAAKkT,EAAE05C,cAAgB5sD,KAAKkT,EAAEw5C,aAAc,CAC9C,IAAIzlC,EACA3Q,EACAC,EACAmuC,EAAO7vC,SAAS,QAChB4uC,EAAc5uC,SAAS,QAC3B6vC,EAAKt6C,YAAYq5C,GACjB,IAAIoK,EAAYl7C,kBACZm7C,EAASn7C,kBACb+xC,EAAKv6C,aAAa,KAAM2jD,GACxB,IAAIC,EAASl5C,SAAoB,IAAXnL,EAAK6J,EAAU,iBAAmB,kBACxDw6C,EAAO5jD,aAAa,KAAM0jD,GAC1BE,EAAO5jD,aAAa,eAAgB,OACpC4jD,EAAO5jD,aAAa,gBAAiB,kBACrCoM,EAAO7M,EAAKwJ,EAAEsD,EAAEA,EAAE,GAAGzD,EAAIrJ,EAAKwJ,EAAEsD,EAAEA,EAAE,GAAGzD,EAAE7P,OAASwG,EAAKwJ,EAAEsD,EAAEA,EAAEtT,OAC7D,IAAImqD,EAAQrtD,KAAKqtD,MAEjB,IAAK/2C,EAAe,EAAX5M,EAAKwJ,EAAEG,EAAOiD,EAAIC,EAAMD,GAAK,GACpC2Q,EAAOpS,SAAS,SACX1K,aAAa,aAAc,oBAChC4jD,EAAO3jD,YAAY6c,GACnBomC,EAAMzgD,KAAKqa,GAGbw8B,EAAYt5C,aAAyB,OAAZT,EAAKsN,GAAc,OAAS,SAAU,OAAShM,kBAAoB,IAAM6iD,EAAY,KAE9F,OAAZnkD,EAAKsN,KACPysC,EAAYt5C,aAAa,iBAAkB+gD,YAAYxhD,EAAKskD,IAAM,IAClEvK,EAAYt5C,aAAa,kBAAmBghD,aAAazhD,EAAKwsC,IAAM,IAEpD,IAAZxsC,EAAKwsC,IACPuN,EAAYt5C,aAAa,oBAAqBT,EAAKusC,KAIvDj2C,KAAKiuD,GAAKF,EACV/tD,KAAKkuD,GAAKxJ,EACV1kD,KAAKmuD,IAAMd,EACXrtD,KAAK8tD,OAASA,EACd3B,EAAQP,OAASnI,CACnB,CACF,EAEAt4C,gBAAgB,CAACuvB,0BAA2BmyB,0BAW5C1hD,gBAAgB,CAAC0hD,yBAA0BnyB,0BAA2BqyB,4BAkBtE,IAAIqB,iBAAmB,SAA0B5H,EAAWtjD,EAAQwW,EAAQsxB,GAC1E,GAAe,IAAX9nC,EACF,MAAO,GAGT,IAGIoI,EAHA+iD,EAAK7H,EAAU5uC,EACf02C,EAAK9H,EAAUl7C,EACf+yB,EAAKmoB,EAAUxzC,EAEfu7C,EAAc,KAAOvjB,EAAIzF,wBAAwBlH,EAAG,GAAG,GAAIA,EAAG,GAAG,IAErE,IAAK/yB,EAAI,EAAGA,EAAIpI,EAAQoI,GAAK,EAC3BijD,GAAe,KAAOvjB,EAAIzF,wBAAwB8oB,EAAG/iD,EAAI,GAAG,GAAI+iD,EAAG/iD,EAAI,GAAG,IAAM,IAAM0/B,EAAIzF,wBAAwB+oB,EAAGhjD,GAAG,GAAIgjD,EAAGhjD,GAAG,IAAM,IAAM0/B,EAAIzF,wBAAwBlH,EAAG/yB,GAAG,GAAI+yB,EAAG/yB,GAAG,IAQ5L,OALIoO,GAAUxW,IACZqrD,GAAe,KAAOvjB,EAAIzF,wBAAwB8oB,EAAG/iD,EAAI,GAAG,GAAI+iD,EAAG/iD,EAAI,GAAG,IAAM,IAAM0/B,EAAIzF,wBAAwB+oB,EAAG,GAAG,GAAIA,EAAG,GAAG,IAAM,IAAMtjB,EAAIzF,wBAAwBlH,EAAG,GAAG,GAAIA,EAAG,GAAG,IAC1LkwB,GAAe,KAGVA,CACT,EAEIC,oBAAsB,WACxB,IAAIC,EAAkB,IAAIruB,OAEtBsuB,EAAgB,IAAItuB,OAqCxB,SAASuuB,EAAuBC,EAAWC,EAAUvI,IAC/CA,GAAgBuI,EAAS/sB,UAAUjpB,GAAGugB,OACxCy1B,EAAS/sB,UAAUv7B,UAAU4D,aAAa,UAAW0kD,EAAS/sB,UAAUjpB,GAAG7F,IAGzEszC,GAAgBuI,EAAS/sB,UAAU4S,OAAOtb,OAC5Cy1B,EAAS/sB,UAAUv7B,UAAU4D,aAAa,YAAa0kD,EAAS/sB,UAAU4S,OAAO1hC,EAAE2yB,UAEvF,CAEA,SAASmpB,IAAc,CAEvB,SAASC,EAAWH,EAAWC,EAAUvI,GACvC,IAAIhwC,EACAC,EACAy4C,EACAC,EACAzI,EACA/kB,EAGAnE,EACA0N,EACAkkB,EACA14C,EALA24C,EAAON,EAAShd,OAAO3uC,OACvBuoD,EAAMoD,EAASpD,IAMnB,IAAKhqB,EAAI,EAAGA,EAAI0tB,EAAM1tB,GAAK,EAAG,CAG5B,GAFAwtB,EAASJ,EAASv4B,GAAG8C,MAAQktB,EAEzBuI,EAAShd,OAAOpQ,GAAGgqB,IAAMA,EAAK,CAKhC,IAJAzgB,EAAM0jB,EAAc5sD,QACpBotD,EAAazD,EAAMoD,EAAShd,OAAOpQ,GAAGgqB,IACtCj1C,EAAIq4C,EAASxD,aAAanoD,OAAS,GAE3B+rD,GAAUC,EAAa,GAC7BD,EAASJ,EAASxD,aAAa70C,GAAGk+B,OAAOtb,MAAQ61B,EACjDC,GAAc,EACd14C,GAAK,EAGP,GAAIy4C,EAIF,IAHAC,EAAazD,EAAMoD,EAAShd,OAAOpQ,GAAGgqB,IACtCj1C,EAAIq4C,EAASxD,aAAanoD,OAAS,EAE5BgsD,EAAa,GAClBlkB,EAAInH,SAASgrB,EAASxD,aAAa70C,GAAGk+B,OAAO1hC,GAC7Ck8C,GAAc,EACd14C,GAAK,CAGX,MACEw0B,EAAMyjB,EAMR,GAFAl4C,GADA+mB,EAAQuxB,EAASv4B,GAAGgH,OACP9O,QAETygC,EAAQ,CAGV,IAFAD,EAAwB,GAEnB14C,EAAI,EAAGA,EAAIC,EAAMD,GAAK,GACzBkwC,EAAYlpB,EAAMlmB,OAAOd,KAERkwC,EAAUh4B,UACzBwgC,GAAyBZ,iBAAiB5H,EAAWA,EAAUh4B,QAASg4B,EAAUjtC,EAAGyxB,IAIzF6jB,EAAStD,OAAO9pB,GAAKutB,CACvB,MACEA,EAAwBH,EAAStD,OAAO9pB,GAG1CotB,EAAShd,OAAOpQ,GAAGhuB,IAAsB,IAAjBm7C,EAAU3F,GAAc,GAAK+F,EACrDH,EAAShd,OAAOpQ,GAAGrI,KAAO61B,GAAUJ,EAAShd,OAAOpQ,GAAGrI,IACzD,CACF,CAEA,SAASg2B,EAAWR,EAAWC,EAAUvI,GACvC,IAAI+I,EAAYR,EAAS79C,OAErB69C,EAASt1C,EAAE6f,MAAQktB,IACrB+I,EAAU1D,MAAMxhD,aAAa,OAAQ,OAASuF,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,MAGzI67C,EAASj3C,EAAEwhB,MAAQktB,IACrB+I,EAAU1D,MAAMxhD,aAAa,eAAgB0kD,EAASj3C,EAAE5E,EAE5D,CAEA,SAASs8C,EAAqBV,EAAWC,EAAUvI,GACjDiJ,EAAeX,EAAWC,EAAUvI,GACpCkJ,EAAaZ,EAAWC,EAAUvI,EACpC,CAEA,SAASiJ,EAAeX,EAAWC,EAAUvI,GAC3C,IAsBI+G,EACA/hD,EACAE,EACAyb,EA+CE+X,EAxEF0uB,EAAQmB,EAASlB,GACjB8B,EAAaZ,EAAS37C,EAAE05C,YACxB98B,EAAM++B,EAAS97C,EAAEC,EACjB+c,EAAM8+B,EAAStuD,EAAEyS,EAErB,GAAI67C,EAASj3C,EAAEwhB,MAAQktB,EAAc,CACnC,IAAI76C,EAAwB,OAAjBmjD,EAAU53C,GAAc,eAAiB,iBACpD63C,EAAS79C,MAAM26C,MAAMxhD,aAAasB,EAAMojD,EAASj3C,EAAE5E,EACrD,CAEA,GAAI67C,EAAS97C,EAAEqmB,MAAQktB,EAAc,CACnC,IAAIoJ,EAAwB,IAAhBd,EAAUr7C,EAAU,KAAO,KACnCo8C,EAAkB,OAAVD,EAAiB,KAAO,KACpChC,EAAMvjD,aAAaulD,EAAO5/B,EAAI,IAC9B49B,EAAMvjD,aAAawlD,EAAO7/B,EAAI,IAE1B2/B,IAAeZ,EAAS37C,EAAEw5C,eAC5BmC,EAASZ,GAAG9jD,aAAaulD,EAAO5/B,EAAI,IACpC++B,EAASZ,GAAG9jD,aAAawlD,EAAO7/B,EAAI,IAExC,CAOA,GAAI++B,EAAS37C,EAAEs5C,OAASlG,EAAc,CACpC+G,EAAQwB,EAASjB,IACjB,IAAIgC,EAAUf,EAAS37C,EAAEqG,EAGzB,IAFA/N,EAAM6hD,EAAMnqD,OAEPoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,GACxB2b,EAAOomC,EAAM/hD,IACRnB,aAAa,SAAUylD,EAAY,EAAJtkD,GAAS,KAC7C2b,EAAK9c,aAAa,aAAc,OAASylD,EAAY,EAAJtkD,EAAQ,GAAK,IAAMskD,EAAY,EAAJtkD,EAAQ,GAAK,IAAMskD,EAAY,EAAJtkD,EAAQ,GAAK,IAExH,CAEA,GAAImkD,IAAeZ,EAAS37C,EAAEu5C,OAASnG,GAAe,CACpD,IAAIuJ,EAAUhB,EAAS37C,EAAE0E,EAUzB,IAFApM,GALE6hD,EADEwB,EAAS37C,EAAEw5C,aACLmC,EAASjB,IAETiB,EAASV,KAGPjrD,OAEPoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB2b,EAAOomC,EAAM/hD,GAERujD,EAAS37C,EAAEw5C,cACdzlC,EAAK9c,aAAa,SAAU0lD,EAAY,EAAJvkD,GAAS,KAG/C2b,EAAK9c,aAAa,eAAgB0lD,EAAY,EAAJvkD,EAAQ,GAEtD,CAEA,GAAoB,IAAhBsjD,EAAUr7C,GACRs7C,EAAStuD,EAAE64B,MAAQktB,KACrBoH,EAAMvjD,aAAa,KAAM4lB,EAAI,IAC7B29B,EAAMvjD,aAAa,KAAM4lB,EAAI,IAEzB0/B,IAAeZ,EAAS37C,EAAEw5C,eAC5BmC,EAASZ,GAAG9jD,aAAa,KAAM4lB,EAAI,IACnC8+B,EAASZ,GAAG9jD,aAAa,KAAM4lB,EAAI,WAevC,IATI8+B,EAAS97C,EAAEqmB,MAAQy1B,EAAStuD,EAAE64B,MAAQktB,KACxCtnB,EAAM1vB,KAAKG,KAAKH,KAAKC,IAAIugB,EAAI,GAAKC,EAAI,GAAI,GAAKzgB,KAAKC,IAAIugB,EAAI,GAAKC,EAAI,GAAI,IACzE29B,EAAMvjD,aAAa,IAAK60B,GAEpBywB,IAAeZ,EAAS37C,EAAEw5C,cAC5BmC,EAASZ,GAAG9jD,aAAa,IAAK60B,IAI9B6vB,EAAStuD,EAAE64B,MAAQy1B,EAAS/7C,EAAEsmB,MAAQy1B,EAAS71C,EAAEogB,MAAQktB,EAAc,CACpEtnB,IACHA,EAAM1vB,KAAKG,KAAKH,KAAKC,IAAIugB,EAAI,GAAKC,EAAI,GAAI,GAAKzgB,KAAKC,IAAIugB,EAAI,GAAKC,EAAI,GAAI,KAG3E,IAAI+/B,EAAMxgD,KAAK0oB,MAAMjI,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,IAC/CwD,EAAUu7B,EAAS/7C,EAAEE,EAErBsgB,GAAW,EACbA,EAAU,IACDA,IAAY,IACrBA,GAAW,KAGb,IAAIuc,EAAO7Q,EAAM1L,EACb1G,EAAItd,KAAKgpB,IAAIw3B,EAAMjB,EAAS71C,EAAEhG,GAAK68B,EAAO/f,EAAI,GAC9C2F,EAAInmB,KAAKmoB,IAAIq4B,EAAMjB,EAAS71C,EAAEhG,GAAK68B,EAAO/f,EAAI,GAClD49B,EAAMvjD,aAAa,KAAMyiB,GACzB8gC,EAAMvjD,aAAa,KAAMsrB,GAErBg6B,IAAeZ,EAAS37C,EAAEw5C,eAC5BmC,EAASZ,GAAG9jD,aAAa,KAAMyiB,GAC/BiiC,EAASZ,GAAG9jD,aAAa,KAAMsrB,GAEnC,CAGJ,CAEA,SAAS+5B,EAAaZ,EAAWC,EAAUvI,GACzC,IAAI+I,EAAYR,EAAS79C,MACrByC,EAAIo7C,EAASp7C,EAEbA,IAAMA,EAAE2lB,MAAQktB,IAAiB7yC,EAAEs4C,UACrCsD,EAAU1D,MAAMxhD,aAAa,mBAAoBsJ,EAAEs4C,SACnDsD,EAAU1D,MAAMxhD,aAAa,oBAAqBsJ,EAAEw4C,WAAW,KAG7D4C,EAASt1C,IAAMs1C,EAASt1C,EAAE6f,MAAQktB,IACpC+I,EAAU1D,MAAMxhD,aAAa,SAAU,OAASuF,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,MAG3I67C,EAASj3C,EAAEwhB,MAAQktB,IACrB+I,EAAU1D,MAAMxhD,aAAa,iBAAkB0kD,EAASj3C,EAAE5E,IAGxD67C,EAASpY,EAAErd,MAAQktB,KACrB+I,EAAU1D,MAAMxhD,aAAa,eAAgB0kD,EAASpY,EAAEzjC,GAEpDq8C,EAAUzD,QACZyD,EAAUzD,OAAOzhD,aAAa,eAAgB0kD,EAASpY,EAAEzjC,GAG/D,CAEA,MA7QS,CACP+8C,qBAGF,SAA8BrmD,GAC5B,OAAQA,EAAKsN,IACX,IAAK,KACH,OAAOo4C,EAET,IAAK,KACH,OAAOG,EAET,IAAK,KACH,OAAOD,EAET,IAAK,KACH,OAAOE,EAET,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACH,OAAOT,EAET,IAAK,KACH,OAAOJ,EAET,IAAK,KACH,OAAOG,EAET,QACE,OAAO,KAEb,EA6OF,CAnR0B,GAqR1B,SAASkB,gBAAgBtmD,EAAMqa,EAAYzM,GAEzCtX,KAAKoX,OAAS,GAEdpX,KAAKogD,WAAa12C,EAAK0N,OAEvBpX,KAAKiwD,WAAa,GAElBjwD,KAAK2qD,eAAiB,GAEtB3qD,KAAKqgD,UAAY,GAEjBrgD,KAAKgrD,kBAAoB,GAEzBhrD,KAAKkwD,iBAAmB,GACxBlwD,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,GAGnCtX,KAAKitD,aAAe,EACtB,CAyWA,SAASkD,YAAYv4C,EAAGw4C,EAAInV,EAAIoV,EAAI3uB,EAAGruB,GACrCrT,KAAK4X,EAAIA,EACT5X,KAAKowD,GAAKA,EACVpwD,KAAKi7C,GAAKA,EACVj7C,KAAKqwD,GAAKA,EACVrwD,KAAK0hC,EAAIA,EACT1hC,KAAKqT,EAAIA,EACTrT,KAAKo5B,KAAO,CACVxhB,GAAG,EACHw4C,KAAMA,EACNnV,KAAMA,EACNoV,KAAMA,EACN3uB,GAAG,EACHruB,GAAG,EAEP,CAkDA,SAASi9C,aAAanmC,EAAMzgB,GAC1B1J,KAAKuwD,SAAW5lD,oBAChB3K,KAAKw0B,GAAK,GACVx0B,KAAKgT,EAAI,GACThT,KAAK25B,IAAK,EACV35B,KAAKy5B,eAAgB,EACrBz5B,KAAKo5B,MAAO,EAER1vB,EAAK+J,GAAK/J,EAAK+J,EAAE+mB,MACnB9wB,EAAK+J,EAAI0W,EAAKpG,WAAW0W,YAAYF,QAAQ7wB,EAAK+J,IAGpDzT,KAAK0J,KAAOA,EACZ1J,KAAKmqB,KAAOA,EACZnqB,KAAKsX,KAAOtX,KAAKmqB,KAAK7S,KACtBtX,KAAKwwD,UAAY,EACjBxwD,KAAKywD,WAAY,EACjBzwD,KAAK0wD,gBAAkB,EACvB1wD,KAAKu5B,gBAAkB,GACvBv5B,KAAK2wD,YAAc,CACjBC,OAAQ,EACRC,SAAU7wD,KAAK8wD,gBACf19C,EAAG,GACH0+B,OAAQ,GACRC,QAAS,GACTse,GAAI,GACJ/5C,EAAG,GACHy6C,cAAe,GACftvB,EAAG,GACHuvB,GAAI,EACJC,WAAY,GACZC,GAAI,GACJjD,GAAI,GACJl7C,EAAG,GACHkoC,GAAI,GACJmV,GAAI,EACJ78C,EAAG,EACH2+B,GAAI,EACJ3Q,GAAI,EACJ4vB,GAAI,KACJC,eAAe,EACfC,iBAAiB,EACjBC,iBAAiB,EACjBC,QAAS,EACTC,UAAW,EACXC,UAAW,GACXC,gBAAiB,EACjB73C,YAAY,GAEd7Z,KAAK2xD,SAAS3xD,KAAK2wD,YAAa3wD,KAAK0J,KAAK+J,EAAE+C,EAAE,GAAGzD,GAE5C/S,KAAK4xD,kBACR5xD,KAAK6xD,iBAAiB7xD,KAAK2wD,YAE/B,CA9dAxlD,gBAAgB,CAACozC,YAAagF,iBAAkBuE,eAAgBO,cAAeN,iBAAkBvJ,aAAcwJ,sBAAuBgI,iBAEtIA,gBAAgBtkD,UAAUomD,qBAAuB,WAAa,EAE9D9B,gBAAgBtkD,UAAUqmD,eAAiB,IAAI3xB,OAE/C4vB,gBAAgBtkD,UAAUsmD,yBAA2B,WAAa,EAElEhC,gBAAgBtkD,UAAU2+C,cAAgB,WACxCrqD,KAAKiyD,aAAajyD,KAAKogD,WAAYpgD,KAAKqgD,UAAWrgD,KAAKitD,aAAcjtD,KAAK2gD,aAAc,EAAG,IAAI,GAChG3gD,KAAKkyD,oBACP,EAMAlC,gBAAgBtkD,UAAUwmD,mBAAqB,WAC7C,IAAI5mD,EAEA+wB,EACA/lB,EAEAtF,EAJAxF,EAAMxL,KAAKoX,OAAOlU,OAGlBqT,EAAOvW,KAAKiwD,WAAW/sD,OAEvBivD,EAAa,GACbC,GAAc,EAElB,IAAK97C,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAAG,CAK5B,IAJAtF,EAAQhR,KAAKiwD,WAAW35C,GACxB87C,GAAc,EACdD,EAAWjvD,OAAS,EAEfoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,GAGa,KAFrC+wB,EAAQr8B,KAAKoX,OAAO9L,IAEVumC,OAAOv3B,QAAQtJ,KACvBmhD,EAAWvlD,KAAKyvB,GAChB+1B,EAAc/1B,EAAMzB,aAAew3B,GAInCD,EAAWjvD,OAAS,GAAKkvD,GAC3BpyD,KAAKqyD,oBAAoBF,EAE7B,CACF,EAEAnC,gBAAgBtkD,UAAU2mD,oBAAsB,SAAUj7C,GACxD,IAAI9L,EACAE,EAAM4L,EAAOlU,OAEjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB8L,EAAO9L,GAAG08B,eAEd,EAEAgoB,gBAAgBtkD,UAAU4mD,mBAAqB,SAAU5oD,EAAM4hD,GAE7D,IAAIiH,EACApG,EAAU,IAAIT,aAAahiD,EAAM4hD,GACjCkC,EAAcrB,EAAQR,MAgD1B,MA9CgB,OAAZjiD,EAAKsN,GACPu7C,EAAc,IAAIrG,mBAAmBlsD,KAAM0J,EAAMyiD,GAC5B,OAAZziD,EAAKsN,GACdu7C,EAAc,IAAInG,iBAAiBpsD,KAAM0J,EAAMyiD,GAC1B,OAAZziD,EAAKsN,IAA2B,OAAZtN,EAAKsN,IAElCu7C,EAAc,IADwB,OAAZ7oD,EAAKsN,GAAc61C,yBAA2BE,4BAClC/sD,KAAM0J,EAAMyiD,GAClDnsD,KAAK+jB,WAAWC,KAAK5Z,YAAYmoD,EAAY5E,IAEzC4E,EAAYzE,SACd9tD,KAAK+jB,WAAWC,KAAK5Z,YAAYmoD,EAAYrE,IAC7CluD,KAAK+jB,WAAWC,KAAK5Z,YAAYmoD,EAAYtE,IAC7CT,EAAYrjD,aAAa,OAAQ,OAASa,kBAAoB,IAAMunD,EAAYzE,OAAS,OAEtE,OAAZpkD,EAAKsN,KACdu7C,EAAc,IAAIlG,eAAersD,KAAM0J,EAAMyiD,IAG/B,OAAZziD,EAAKsN,IAA2B,OAAZtN,EAAKsN,KAC3Bw2C,EAAYrjD,aAAa,iBAAkB+gD,YAAYxhD,EAAKskD,IAAM,IAClER,EAAYrjD,aAAa,kBAAmBghD,aAAazhD,EAAKwsC,IAAM,IACpEsX,EAAYrjD,aAAa,eAAgB,KAEzB,IAAZT,EAAKwsC,IACPsX,EAAYrjD,aAAa,oBAAqBT,EAAKusC,KAIxC,IAAXvsC,EAAKuJ,GACPu6C,EAAYrjD,aAAa,YAAa,WAGpCT,EAAKs/C,IACPwE,EAAYrjD,aAAa,KAAMT,EAAKs/C,IAGlCt/C,EAAKiQ,IACP6zC,EAAYrjD,aAAa,QAAST,EAAKiQ,IAGrCjQ,EAAK+2C,KACP+M,EAAYx8C,MAAM,kBAAoBssC,aAAa5zC,EAAK+2C,KAG1DzgD,KAAKiwD,WAAWrjD,KAAKu/C,GACrBnsD,KAAKwyD,sBAAsB9oD,EAAM6oD,GAC1BA,CACT,EAEAvC,gBAAgBtkD,UAAU+mD,mBAAqB,SAAU/oD,GACvD,IAAI6oD,EAAc,IAAIvF,eActB,OAZItjD,EAAKs/C,IACPuJ,EAAYrF,GAAG/iD,aAAa,KAAMT,EAAKs/C,IAGrCt/C,EAAKiQ,IACP44C,EAAYrF,GAAG/iD,aAAa,QAAST,EAAKiQ,IAGxCjQ,EAAK+2C,KACP8R,EAAYrF,GAAGl8C,MAAM,kBAAoBssC,aAAa5zC,EAAK+2C,KAGtD8R,CACT,EAEAvC,gBAAgBtkD,UAAUgnD,uBAAyB,SAAUhpD,EAAMnD,GACjE,IAAIosD,EAAoBxoB,yBAAyBqB,qBAAqBxrC,KAAM0J,EAAM1J,MAC9EuyD,EAAc,IAAIpF,iBAAiBwF,EAAmBA,EAAkB/6C,EAAGrR,GAE/E,OADAvG,KAAKwyD,sBAAsB9oD,EAAM6oD,GAC1BA,CACT,EAEAvC,gBAAgBtkD,UAAUknD,mBAAqB,SAAUlpD,EAAMmpD,EAAiBvH,GAC9E,IAAIt0C,EAAK,EAEO,OAAZtN,EAAKsN,GACPA,EAAK,EACgB,OAAZtN,EAAKsN,GACdA,EAAK,EACgB,OAAZtN,EAAKsN,KACdA,EAAK,GAGP,IACIu7C,EAAc,IAAInH,aAAayH,EAAiBvH,EADhCzuB,qBAAqBsnB,aAAankD,KAAM0J,EAAMsN,EAAIhX,OAKtE,OAHAA,KAAKoX,OAAOxK,KAAK2lD,GACjBvyD,KAAK0qD,oBAAoB6H,GACzBvyD,KAAKwyD,sBAAsB9oD,EAAM6oD,GAC1BA,CACT,EAEAvC,gBAAgBtkD,UAAU8mD,sBAAwB,SAAU9oD,EAAMqH,GAIhE,IAHA,IAAIzF,EAAI,EACJE,EAAMxL,KAAKkwD,iBAAiBhtD,OAEzBoI,EAAIE,GAAK,CACd,GAAIxL,KAAKkwD,iBAAiB5kD,GAAGyF,UAAYA,EACvC,OAGFzF,GAAK,CACP,CAEAtL,KAAKkwD,iBAAiBtjD,KAAK,CACzB+I,GAAI64C,oBAAoBuB,qBAAqBrmD,GAC7CqH,QAASA,EACTrH,KAAMA,GAEV,EAEAsmD,gBAAgBtkD,UAAUonD,iBAAmB,SAAUP,GACrD,IACIj8C,EADApI,EAAMqkD,EAAY1gB,OAElBt7B,EAAOvW,KAAKiwD,WAAW/sD,OAE3B,IAAKoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACpBtW,KAAKiwD,WAAW35C,GAAGoD,QACtBxL,EAAItB,KAAK5M,KAAKiwD,WAAW35C,GAG/B,EAEA05C,gBAAgBtkD,UAAUuoC,aAAe,WAEvC,IAAI3oC,EADJtL,KAAKy5B,eAAgB,EAErB,IAAIjuB,EAAMxL,KAAKqgD,UAAUn9C,OAEzB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKitD,aAAa3hD,GAAKtL,KAAKqgD,UAAU/0C,GAOxC,IAJAtL,KAAKiyD,aAAajyD,KAAKogD,WAAYpgD,KAAKqgD,UAAWrgD,KAAKitD,aAAcjtD,KAAK2gD,aAAc,EAAG,IAAI,GAChG3gD,KAAKkyD,qBACL1mD,EAAMxL,KAAK26B,kBAAkBz3B,OAExBoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAK26B,kBAAkBrvB,GAAG2uB,WAG5Bj6B,KAAK8qD,iBACP,EAEAkF,gBAAgBtkD,UAAUumD,aAAe,SAAU/jD,EAAKmyC,EAAW4M,EAAc1mD,EAAW+kD,EAAOD,EAAc0H,GAC/G,IACIznD,EAEAgL,EACAC,EAGAy8C,EACAC,EACAC,EATAL,EAAkB,GAAGhoC,OAAOwgC,GAE5B7/C,EAAM0C,EAAIhL,OAAS,EAGnBiwD,EAAY,GACZC,EAAe,GAKnB,IAAK9nD,EAAIE,EAAKF,GAAK,EAAGA,GAAK,EAAG,CAS5B,IARA4nD,EAAelzD,KAAK+qD,uBAAuB78C,EAAI5C,KAK7C+0C,EAAU/0C,GAAK2hD,EAAaiG,EAAe,GAF3ChlD,EAAI5C,GAAGmoC,QAAUsf,EAKD,OAAd7kD,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,GAC5Fk8C,EAGH7S,EAAU/0C,GAAG0F,MAAM0I,QAAS,EAF5B2mC,EAAU/0C,GAAKtL,KAAKsyD,mBAAmBpkD,EAAI5C,GAAIggD,GAK7Cp9C,EAAI5C,GAAGmoC,SACL4M,EAAU/0C,GAAG0F,MAAM26C,MAAMzU,aAAe3wC,GAC1CA,EAAU6D,YAAYi2C,EAAU/0C,GAAG0F,MAAM26C,OAI7CwH,EAAUvmD,KAAKyzC,EAAU/0C,GAAG0F,YACvB,GAAkB,OAAd9C,EAAI5C,GAAG0L,GAAa,CAC7B,GAAKk8C,EAKH,IAFA38C,EAAO8pC,EAAU/0C,GAAGqM,GAAGzU,OAElBoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB+pC,EAAU/0C,GAAG2hD,aAAa32C,GAAK+pC,EAAU/0C,GAAGqM,GAAGrB,QALjD+pC,EAAU/0C,GAAKtL,KAAKyyD,mBAAmBvkD,EAAI5C,IAS7CtL,KAAKiyD,aAAa/jD,EAAI5C,GAAGqM,GAAI0oC,EAAU/0C,GAAGqM,GAAI0oC,EAAU/0C,GAAG2hD,aAAc5M,EAAU/0C,GAAG4hD,GAAI5B,EAAQ,EAAGuH,EAAiBE,GAElH7kD,EAAI5C,GAAGmoC,SACL4M,EAAU/0C,GAAG4hD,GAAGhW,aAAe3wC,GACjCA,EAAU6D,YAAYi2C,EAAU/0C,GAAG4hD,GAGzC,KAAyB,OAAdh/C,EAAI5C,GAAG0L,IACXk8C,IACH7S,EAAU/0C,GAAKtL,KAAK0yD,uBAAuBxkD,EAAI5C,GAAI/E,IAGrDysD,EAAmB3S,EAAU/0C,GAAGw2B,UAChC+wB,EAAgBjmD,KAAKomD,IACE,OAAd9kD,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAC7Ek8C,IACH7S,EAAU/0C,GAAKtL,KAAK4yD,mBAAmB1kD,EAAI5C,GAAIunD,EAAiBvH,IAGlEtrD,KAAK8yD,iBAAiBzS,EAAU/0C,KACT,OAAd4C,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IACzHk8C,GAMHD,EAAW5S,EAAU/0C,IACZoO,QAAS,IANlBu5C,EAAW1rB,eAAeG,YAAYx5B,EAAI5C,GAAG0L,KACpCqR,KAAKroB,KAAMkO,EAAI5C,IACxB+0C,EAAU/0C,GAAK2nD,EACfjzD,KAAK2qD,eAAe/9C,KAAKqmD,IAM3BG,EAAaxmD,KAAKqmD,IACK,OAAd/kD,EAAI5C,GAAG0L,KACXk8C,GAOHD,EAAW5S,EAAU/0C,IACZoO,QAAS,GAPlBu5C,EAAW1rB,eAAeG,YAAYx5B,EAAI5C,GAAG0L,IAC7CqpC,EAAU/0C,GAAK2nD,EACfA,EAAS5qC,KAAKroB,KAAMkO,EAAK5C,EAAG+0C,GAC5BrgD,KAAK2qD,eAAe/9C,KAAKqmD,GACzBF,GAAS,GAMXK,EAAaxmD,KAAKqmD,IAGpBjzD,KAAKirD,oBAAoB/8C,EAAI5C,GAAIA,EAAI,EACvC,CAIA,IAFAE,EAAM2nD,EAAUjwD,OAEXoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB6nD,EAAU7nD,GAAGoO,QAAS,EAKxB,IAFAlO,EAAM4nD,EAAalwD,OAEdoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB8nD,EAAa9nD,GAAGoO,QAAS,CAE7B,EAEAs2C,gBAAgBtkD,UAAU4+C,mBAAqB,WAE7C,IAAIh/C,EADJtL,KAAK8qD,kBAEL,IAAIt/C,EAAMxL,KAAKiwD,WAAW/sD,OAE1B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKiwD,WAAW3kD,GAAGxJ,QAKrB,IAFA9B,KAAKqzD,cAEA/nD,EAAI,EAAGA,EAAIE,EAAKF,GAAK,GACpBtL,KAAKiwD,WAAW3kD,GAAG8tB,MAAQp5B,KAAKy5B,iBAC9Bz5B,KAAKiwD,WAAW3kD,GAAGsgD,SACrB5rD,KAAKiwD,WAAW3kD,GAAGsgD,OAAOzhD,aAAa,IAAKnK,KAAKiwD,WAAW3kD,GAAGmI,GAE/DzT,KAAKiwD,WAAW3kD,GAAGmI,EAAI,OAASzT,KAAKiwD,WAAW3kD,GAAGmI,GAGrDzT,KAAKiwD,WAAW3kD,GAAGqgD,MAAMxhD,aAAa,IAAKnK,KAAKiwD,WAAW3kD,GAAGmI,GAAK,QAGzE,EAEAu8C,gBAAgBtkD,UAAU2nD,YAAc,WACtC,IAAI/nD,EAEAgoD,EADA9nD,EAAMxL,KAAKkwD,iBAAiBhtD,OAGhC,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBgoD,EAAkBtzD,KAAKkwD,iBAAiB5kD,IAEnCtL,KAAKy5B,eAAiB65B,EAAgBviD,QAAQ6pB,eAAyC,IAAzB04B,EAAgB5pD,MACjF4pD,EAAgB39C,GAAG29C,EAAgB5pD,KAAM4pD,EAAgBviD,QAAS/Q,KAAKy5B,cAG7E,EAEAu2B,gBAAgBtkD,UAAUmT,QAAU,WAClC7e,KAAKspD,qBACLtpD,KAAKogD,WAAa,KAClBpgD,KAAKqgD,UAAY,IACnB,EAmBA8P,YAAYzkD,UAAU6nD,OAAS,SAAU37C,EAAGw4C,EAAInV,EAAIoV,EAAI3uB,EAAGruB,GACzDrT,KAAKo5B,KAAKxhB,GAAI,EACd5X,KAAKo5B,KAAKg3B,IAAK,EACfpwD,KAAKo5B,KAAK6hB,IAAK,EACfj7C,KAAKo5B,KAAKi3B,IAAK,EACfrwD,KAAKo5B,KAAKsI,GAAI,EACd1hC,KAAKo5B,KAAK/lB,GAAI,EACd,IAAImgD,GAAU,EAsCd,OApCIxzD,KAAK4X,IAAMA,IACb5X,KAAK4X,EAAIA,EACT5X,KAAKo5B,KAAKxhB,GAAI,EACd47C,GAAU,GAGRxzD,KAAKowD,KAAOA,IACdpwD,KAAKowD,GAAKA,EACVpwD,KAAKo5B,KAAKg3B,IAAK,EACfoD,GAAU,GAGRxzD,KAAKi7C,KAAOA,IACdj7C,KAAKi7C,GAAKA,EACVj7C,KAAKo5B,KAAK6hB,IAAK,EACfuY,GAAU,GAGRxzD,KAAKqwD,KAAOA,IACdrwD,KAAKqwD,GAAKA,EACVrwD,KAAKo5B,KAAKi3B,IAAK,EACfmD,GAAU,GAGRxzD,KAAK0hC,IAAMA,IACb1hC,KAAK0hC,EAAIA,EACT1hC,KAAKo5B,KAAKsI,GAAI,EACd8xB,GAAU,IAGRngD,EAAEnQ,QAAWlD,KAAKqT,EAAE,KAAOA,EAAE,IAAMrT,KAAKqT,EAAE,KAAOA,EAAE,IAAMrT,KAAKqT,EAAE,KAAOA,EAAE,IAAMrT,KAAKqT,EAAE,KAAOA,EAAE,IAAMrT,KAAKqT,EAAE,MAAQA,EAAE,KAAOrT,KAAKqT,EAAE,MAAQA,EAAE,MAChJrT,KAAKqT,EAAIA,EACTrT,KAAKo5B,KAAK/lB,GAAI,EACdmgD,GAAU,GAGLA,CACT,EA0DAlD,aAAa5kD,UAAUolD,gBAAkB,CAAC,EAAG,GAE7CR,aAAa5kD,UAAUimD,SAAW,SAAUjjD,EAAKhF,GAC/C,IAAK,IAAIqJ,KAAKrJ,EACRiC,OAAOD,UAAUE,eAAeC,KAAKnC,EAAMqJ,KAC7CrE,EAAIqE,GAAKrJ,EAAKqJ,IAIlB,OAAOrE,CACT,EAEA4hD,aAAa5kD,UAAU+nD,eAAiB,SAAU/pD,GAC3CA,EAAKmQ,YACR7Z,KAAK6xD,iBAAiBnoD,GAGxB1J,KAAK2wD,YAAcjnD,EACnB1J,KAAK2wD,YAAYE,SAAW7wD,KAAK2wD,YAAYE,UAAY7wD,KAAK8wD,gBAC9D9wD,KAAKo5B,MAAO,CACd,EAEAk3B,aAAa5kD,UAAUkmD,eAAiB,WACtC,OAAO5xD,KAAK0zD,iBACd,EAEApD,aAAa5kD,UAAUgoD,gBAAkB,WAOvC,OANA1zD,KAAK25B,GAAK35B,KAAK0J,KAAK+J,EAAE+C,EAAEtT,OAAS,EAE7BlD,KAAK25B,IACP35B,KAAK45B,UAAU55B,KAAK2zD,iBAAiB51C,KAAK/d,OAGrCA,KAAK25B,EACd,EAEA22B,aAAa5kD,UAAUkuB,UAAY,SAAUC,GAC3C75B,KAAKu5B,gBAAgB3sB,KAAKitB,GAC1B75B,KAAKmqB,KAAK2P,mBAAmB95B,KAC/B,EAEAswD,aAAa5kD,UAAUuuB,SAAW,SAAU25B,GAC1C,GAAK5zD,KAAKmqB,KAAKpG,WAAWuV,UAAYt5B,KAAKs5B,SAAYt5B,KAAKu5B,gBAAgBr2B,QAAY0wD,EAAxF,CAIA5zD,KAAK2wD,YAAYp9C,EAAIvT,KAAK0J,KAAK+J,EAAE+C,EAAExW,KAAKwwD,WAAWz9C,EAAEQ,EACrD,IAAIsgD,EAAe7zD,KAAK2wD,YACpBmD,EAAe9zD,KAAKwwD,UAExB,GAAIxwD,KAAKw5B,KACPx5B,KAAKyzD,eAAezzD,KAAK2wD,iBAD3B,CAOA,IAAIrlD,EAFJtL,KAAKw5B,MAAO,EACZx5B,KAAKo5B,MAAO,EAEZ,IAAI5tB,EAAMxL,KAAKu5B,gBAAgBr2B,OAC3Bw2B,EAAak6B,GAAe5zD,KAAK0J,KAAK+J,EAAE+C,EAAExW,KAAKwwD,WAAWz9C,EAE9D,IAAKzH,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAGtBouB,EADEo6B,IAAiB9zD,KAAKwwD,UACXxwD,KAAKu5B,gBAAgBjuB,GAAGouB,EAAYA,EAAWnmB,GAE/CvT,KAAKu5B,gBAAgBjuB,GAAGtL,KAAK2wD,YAAaj3B,EAAWnmB,GAIlEsgD,IAAiBn6B,GACnB15B,KAAKyzD,eAAe/5B,GAGtB15B,KAAKgT,EAAIhT,KAAK2wD,YACd3wD,KAAKw0B,GAAKx0B,KAAKgT,EACfhT,KAAKw5B,MAAO,EACZx5B,KAAKs5B,QAAUt5B,KAAKmqB,KAAKpG,WAAWuV,OAxBpC,CATA,CAkCF,EAEAg3B,aAAa5kD,UAAUioD,iBAAmB,WAMxC,IALA,IAAII,EAAW/zD,KAAK0J,KAAK+J,EAAE+C,EACvB2d,EAAWn0B,KAAKmqB,KAAK7S,KAAKuhB,cAC1BvtB,EAAI,EACJE,EAAMuoD,EAAS7wD,OAEZoI,GAAKE,EAAM,KACZF,IAAME,EAAM,GAAKuoD,EAASzoD,EAAI,GAAGiI,EAAI4gB,IAIzC7oB,GAAK,EAOP,OAJItL,KAAKwwD,YAAcllD,IACrBtL,KAAKwwD,UAAYllD,GAGZtL,KAAK0J,KAAK+J,EAAE+C,EAAExW,KAAKwwD,WAAWz9C,CACvC,EAEAu9C,aAAa5kD,UAAUsoD,eAAiB,SAAUjyD,GAUhD,IATA,IAGI83C,EACAH,EAJAua,EAAkB,GAClB3oD,EAAI,EACJE,EAAMzJ,EAAKmB,OAGXgxD,GAAgB,EAChBC,GAAoB,EACpBC,EAAe,GAEZ9oD,EAAIE,GACT0oD,EAAgBC,EAChBA,GAAoB,EACpBta,EAAW93C,EAAK82C,WAAWvtC,GAC3B8oD,EAAeryD,EAAKsyD,OAAO/oD,GAEvBirC,YAAYwD,oBAAoBF,GAClCqa,GAAgB,EACPra,GAAY,OAAUA,GAAY,MACvCtD,YAAY0D,eAAel4C,EAAMuJ,GACnC8oD,EAAeryD,EAAKyiB,OAAOlZ,EAAG,KAE9BouC,EAAiB33C,EAAK82C,WAAWvtC,EAAI,KAEf,OAAUouC,GAAkB,QAC5CnD,YAAYiD,WAAWK,EAAUH,IACnC0a,EAAeryD,EAAKyiB,OAAOlZ,EAAG,GAC9B4oD,GAAgB,GAEhBE,EADS7d,YAAYuD,YAAY/3C,EAAKyiB,OAAOlZ,EAAG,IACjCvJ,EAAKyiB,OAAOlZ,EAAG,GAEfvJ,EAAKyiB,OAAOlZ,EAAG,IAI3BuuC,EAAW,OACpBH,EAAiB33C,EAAK82C,WAAWvtC,EAAI,GAEjCirC,YAAY2D,oBAAoBL,KAClCqa,GAAgB,IAET3d,YAAYqD,kBAAkBC,KACvCqa,GAAgB,EAChBC,GAAoB,GAGlBD,GACFD,EAAgBA,EAAgB/wD,OAAS,IAAMkxD,EAC/CF,GAAgB,GAEhBD,EAAgBrnD,KAAKwnD,GAGvB9oD,GAAK8oD,EAAalxD,OAGpB,OAAO+wD,CACT,EAEA3D,aAAa5kD,UAAUmmD,iBAAmB,SAAUv5C,GAClDA,EAAauB,YAAa,EAC1B,IAGIvO,EACAE,EACA8oD,EAEAjkD,EAQAiG,EACAC,EAEAoC,EAlBAwM,EAAcnlB,KAAKmqB,KAAKpG,WAAWoB,YACnCzb,EAAO1J,KAAK0J,KACZ6qD,EAAU,GAIVjrC,EAAQ,EAERkrC,EAAiB9qD,EAAKg4B,EAAExuB,EACxBuhD,EAAc,EACdC,EAAa,EACbC,EAAc,EACd1D,EAAa,GACb2D,EAAY,EACZC,EAAe,EAGfjjB,EAAWzsB,EAAYk2B,cAAc/iC,EAAalF,GAElDm5C,EAAU,EACVrU,EAAYvG,kBAAkBC,GAClCt5B,EAAay5B,QAAUmG,EAAUjG,OACjC35B,EAAaw5B,OAASoG,EAAUlnC,MAChCsH,EAAak5C,UAAYl5C,EAAavF,EACtCuF,EAAam5C,UAAYzxD,KAAKg0D,eAAe17C,EAAa/E,GAC1D/H,EAAM8M,EAAam5C,UAAUvuD,OAC7BoV,EAAao5C,gBAAkBp5C,EAAa04C,GAC5C,IACInX,EADAib,EAAiBx8C,EAAa45B,GAAK,IAAO55B,EAAak5C,UAG3D,GAAIl5C,EAAaipB,GAOf,IANA,IAGIwzB,EACAtD,EAJA5mD,GAAO,EACPgmD,EAAWv4C,EAAaipB,GAAG,GAC3ByzB,EAAY18C,EAAaipB,GAAG,GAIzB12B,GAAM,CAEXkqD,EAAgB,EAChBH,EAAY,EACZppD,GAHAimD,EAAYzxD,KAAKg0D,eAAe17C,EAAa/E,IAG7BrQ,OAChB4xD,EAAiBx8C,EAAa45B,GAAK,IAAO55B,EAAak5C,UACvD,IAAIyD,GAAkB,EAEtB,IAAK3pD,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBuuC,EAAW4X,EAAUnmD,GAAGutC,WAAW,GACnCyb,GAAc,EAEO,MAAjB7C,EAAUnmD,GACZ2pD,EAAiB3pD,EACK,KAAbuuC,GAAgC,IAAbA,IAC5B+a,EAAY,EACZN,GAAc,EACdS,GAAiBz8C,EAAao5C,iBAA4C,IAAzBp5C,EAAak5C,WAG5DrsC,EAAYzM,OACdC,EAAWwM,EAAY+1B,YAAYuW,EAAUnmD,GAAIsmC,EAASE,OAAQF,EAASwG,SAC3EmU,EAAU+H,EAAc,EAAI37C,EAAS89B,EAAIn+B,EAAak5C,UAAY,KAGlEjF,EAAUpnC,EAAYszB,YAAYgZ,EAAUnmD,GAAIgN,EAAalF,EAAGkF,EAAak5C,WAG3EoD,EAAYrI,EAAUsE,GAA6B,MAAjBY,EAAUnmD,KACtB,IAApB2pD,EACFzpD,GAAO,EAEPF,EAAI2pD,EAGNF,GAAiBz8C,EAAao5C,iBAA4C,IAAzBp5C,EAAak5C,UAC9DC,EAAU3xC,OAAOxU,EAAG2pD,IAAmB3pD,EAAI,EAAI,EAAG,MAElD2pD,GAAkB,EAClBL,EAAY,IAEZA,GAAarI,EACbqI,GAAaE,GAIjBC,GAAiBnjB,EAASgf,OAASt4C,EAAak5C,UAAY,IAExDxxD,KAAKywD,WAAan4C,EAAak5C,UAAYxxD,KAAK0wD,iBAAmBsE,EAAYD,GACjFz8C,EAAak5C,WAAa,EAC1Bl5C,EAAao5C,gBAAkBp5C,EAAak5C,UAAYl5C,EAAa04C,GAAK14C,EAAavF,IAEvFuF,EAAam5C,UAAYA,EACzBjmD,EAAM8M,EAAam5C,UAAUvuD,OAC7B2H,GAAO,EAEX,CAGF+pD,GAAaE,EACbvI,EAAU,EACV,IACI2I,EADAC,EAAoB,EAGxB,IAAK7pD,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EA6CxB,GA5CAgpD,GAAc,EAIG,MAFjBza,GADAqb,EAAc58C,EAAam5C,UAAUnmD,IACdutC,WAAW,KAEE,IAAbgB,GACrBsb,EAAoB,EACpBlE,EAAWrkD,KAAKgoD,GAChBC,EAAeD,EAAYC,EAAeD,EAAYC,EACtDD,GAAa,EAAIE,EACjBzkD,EAAM,GACNikD,GAAc,EACdK,GAAe,GAEftkD,EAAM6kD,EAGJ/vC,EAAYzM,OACdC,EAAWwM,EAAY+1B,YAAYga,EAAatjB,EAASE,OAAQ3sB,EAAYk2B,cAAc/iC,EAAalF,GAAGglC,SAC3GmU,EAAU+H,EAAc,EAAI37C,EAAS89B,EAAIn+B,EAAak5C,UAAY,KAIlEjF,EAAUpnC,EAAYszB,YAAYpoC,EAAKiI,EAAalF,EAAGkF,EAAak5C,WAIlD,MAAhB0D,EACFC,GAAqB5I,EAAUuI,GAE/BF,GAAarI,EAAUuI,EAAiBK,EACxCA,EAAoB,GAGtBZ,EAAQ3nD,KAAK,CACX60B,EAAG8qB,EACH6I,GAAI7I,EACJjrD,IAAKmzD,EACL/+B,EAAG4+B,EACHe,UAAW,GACXhlD,IAAKA,EACL4P,KAAM00C,EACNW,sBAAuB,IAGH,GAAlBd,GAIF,GAFAC,GAAelI,EAEH,KAARl8C,GAAsB,MAARA,GAAe/E,IAAME,EAAM,EAAG,CAK9C,IAJY,KAAR6E,GAAsB,MAARA,IAChBokD,GAAelI,GAGVmI,GAAcppD,GACnBipD,EAAQG,GAAYU,GAAKX,EACzBF,EAAQG,GAAYp/B,IAAMhM,EAC1BirC,EAAQG,GAAYa,MAAQhJ,EAC5BmI,GAAc,EAGhBprC,GAAS,EACTmrC,EAAc,CAChB,OACK,GAAsB,GAAlBD,GAIT,GAFAC,GAAelI,EAEH,KAARl8C,GAAc/E,IAAME,EAAM,EAAG,CAK/B,IAJY,KAAR6E,IACFokD,GAAelI,GAGVmI,GAAcppD,GACnBipD,EAAQG,GAAYU,GAAKX,EACzBF,EAAQG,GAAYp/B,IAAMhM,EAC1BirC,EAAQG,GAAYa,MAAQhJ,EAC5BmI,GAAc,EAGhBD,EAAc,EACdnrC,GAAS,CACX,OAEAirC,EAAQjrC,GAAOgM,IAAMhM,EACrBirC,EAAQjrC,GAAOisC,MAAQ,EACvBjsC,GAAS,EAQb,GAJAhR,EAAampB,EAAI8yB,EACjBM,EAAeD,EAAYC,EAAeD,EAAYC,EACtD5D,EAAWrkD,KAAKgoD,GAEZt8C,EAAaipB,GACfjpB,EAAau4C,SAAWv4C,EAAaipB,GAAG,GACxCjpB,EAAay4C,cAAgB,OAI7B,OAFAz4C,EAAau4C,SAAWgE,EAEhBv8C,EAAahC,GACnB,KAAK,EACHgC,EAAay4C,eAAiBz4C,EAAau4C,SAC3C,MAEF,KAAK,EACHv4C,EAAay4C,eAAiBz4C,EAAau4C,SAAW,EACtD,MAEF,QACEv4C,EAAay4C,cAAgB,EAInCz4C,EAAa24C,WAAaA,EAC1B,IACIuE,EACAC,EAEAC,EACApgC,EALAqgC,EAAYjsD,EAAKsP,EAGrBzC,EAAOo/C,EAAUzyD,OAGjB,IAAI0yD,EAAU,GAEd,IAAKt/C,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAAG,CAkB5B,KAjBAk/C,EAAeG,EAAUr/C,IAER0C,EAAEiiC,KACjB3iC,EAAa+4C,iBAAkB,GAG7BmE,EAAax8C,EAAEo3C,KACjB93C,EAAag5C,iBAAkB,IAG7BkE,EAAax8C,EAAEq3C,IAAMmF,EAAax8C,EAAE68C,IAAML,EAAax8C,EAAE88C,IAAMN,EAAax8C,EAAE+8C,MAChFz9C,EAAa84C,eAAgB,GAG/B97B,EAAM,EACNogC,EAAQF,EAAaziD,EAAEI,EAElB7H,EAAI,EAAGA,EAAIE,EAAKF,GAAK,GACxBmqD,EAAalB,EAAQjpD,IACV+pD,UAAU/+C,GAAKgf,GAEb,GAATogC,GAAiC,KAAnBD,EAAWplD,KAAuB,GAATqlD,GAAiC,KAAnBD,EAAWplD,KAAiC,MAAnBolD,EAAWplD,KAAwB,GAATqlD,IAAeD,EAAW//B,GAAuB,KAAlB+/B,EAAWplD,KAAc/E,GAAKE,EAAM,IAAe,GAATkqD,IAAeD,EAAW//B,GAAKpqB,GAAKE,EAAM,MAEnM,IAAtBgqD,EAAaziD,EAAEijD,IACjBJ,EAAQhpD,KAAK0oB,GAGfA,GAAO,GAIX5rB,EAAKsP,EAAE1C,GAAGvD,EAAEkjD,WAAa3gC,EACzB,IACI4gC,EADAC,GAAc,EAGlB,GAA0B,IAAtBX,EAAaziD,EAAEijD,GACjB,IAAK1qD,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAGpB6qD,IAFJV,EAAalB,EAAQjpD,IAEQ+pD,UAAU/+C,KAErC6/C,EAAaV,EAAWJ,UAAU/+C,GAClC4/C,EAASN,EAAQ91C,OAAOxQ,KAAKK,MAAML,KAAKa,SAAWylD,EAAQ1yD,QAAS,GAAG,IAGzEuyD,EAAWJ,UAAU/+C,GAAK4/C,CAGhC,CAEA59C,EAAai5C,QAAUj5C,EAAao5C,iBAA4C,IAAzBp5C,EAAak5C,UACpEl5C,EAAa44C,GAAK54C,EAAa44C,IAAM,EACrC54C,EAAas4C,OAAShf,EAASgf,OAASt4C,EAAak5C,UAAY,GACnE,EAEAlB,aAAa5kD,UAAU2d,mBAAqB,SAAU+sC,EAAS9sC,GAC7DA,OAAkBpF,IAAVoF,EAAsBtpB,KAAKwwD,UAAYlnC,EAC/C,IAAI+sC,EAAQr2D,KAAK2xD,SAAS,CAAC,EAAG3xD,KAAK0J,KAAK+J,EAAE+C,EAAE8S,GAAOvW,GACnDsjD,EAAQr2D,KAAK2xD,SAAS0E,EAAOD,GAC7Bp2D,KAAK0J,KAAK+J,EAAE+C,EAAE8S,GAAOvW,EAAIsjD,EACzBr2D,KAAKs2D,YAAYhtC,GACjBtpB,KAAKyzD,eAAe4C,GACpBr2D,KAAKmqB,KAAK2P,mBAAmB95B,KAC/B,EAEAswD,aAAa5kD,UAAU4qD,YAAc,SAAUhtC,GAC7C,IAAI+sC,EAAQr2D,KAAK0J,KAAK+J,EAAE+C,EAAE8S,GAAOvW,EACjCsjD,EAAMx8C,YAAa,EACnB7Z,KAAKwwD,UAAY,EACjBxwD,KAAKy5B,eAAgB,EACrBz5B,KAAKi6B,SAASo8B,EAChB,EAEA/F,aAAa5kD,UAAU6qD,cAAgB,SAAUC,GAC/Cx2D,KAAKywD,UAAY+F,EACjBx2D,KAAKs2D,YAAYt2D,KAAKwwD,WACtBxwD,KAAKmqB,KAAK2P,mBAAmB95B,KAC/B,EAEAswD,aAAa5kD,UAAU+qD,mBAAqB,SAAUC,GACpD12D,KAAK0wD,gBAAkBphD,KAAKK,MAAM+mD,IAAe,EACjD12D,KAAKs2D,YAAYt2D,KAAKwwD,WACtBxwD,KAAKmqB,KAAK2P,mBAAmB95B,KAC/B,EAEA,IAAI22D,iBAAmB,WACrB,IAAI9mD,EAAMP,KAAKO,IACXE,EAAMT,KAAKS,IACXJ,EAAQL,KAAKK,MAEjB,SAASinD,EAAwBzsC,EAAMzgB,GACrC1J,KAAK62D,oBAAsB,EAC3B72D,KAAKwW,GAAI,EACTxW,KAAK0J,KAAOA,EACZ1J,KAAKmqB,KAAOA,EACZnqB,KAAKsX,KAAO6S,EAAK7S,KACjBtX,KAAK82D,OAAS,EACd92D,KAAK+2D,OAAS,EACd/2D,KAAK86B,6BAA6B3Q,GAClCnqB,KAAK+S,EAAIunB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKqJ,GAAK,CAC/CyD,EAAG,GACF,EAAG,EAAGxW,MAGPA,KAAKO,EADH,MAAOmJ,EACA4wB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKnJ,EAAG,EAAG,EAAGP,MAE5C,CACPgT,EAAG,KAIPhT,KAAK4X,EAAI0iB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKkO,GAAK,CAC/CpB,EAAG,GACF,EAAG,EAAGxW,MACTA,KAAKg3D,GAAK18B,gBAAgBC,QAAQpQ,EAAMzgB,EAAKstD,IAAM,CACjDxgD,EAAG,GACF,EAAG,EAAGxW,MACTA,KAAKi3D,GAAK38B,gBAAgBC,QAAQpQ,EAAMzgB,EAAKutD,IAAM,CACjDzgD,EAAG,GACF,EAAG,EAAGxW,MACTA,KAAKk3D,GAAK58B,gBAAgBC,QAAQpQ,EAAMzgB,EAAKwtD,IAAM,CACjD1gD,EAAG,KACF,EAAG,EAAGxW,MACTA,KAAKgZ,EAAIshB,gBAAgBC,QAAQpQ,EAAMzgB,EAAKsP,EAAG,EAAG,IAAMhZ,MAEnDA,KAAK26B,kBAAkBz3B,QAC1BlD,KAAKi6B,UAET,CA+JA,OA7JA28B,EAAwBlrD,UAAY,CAClCyrD,QAAS,SAAiB7hC,GACpBt1B,KAAK62D,qBAAuB72D,KAAKmqB,KAAKitC,aAAazG,YAAYlvB,EAAEv+B,QACnElD,KAAKi6B,WAGP,IAAI3K,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EAELzvB,KAAKi3D,GAAGjkD,EAAI,EACdsc,EAAKtvB,KAAKi3D,GAAGjkD,EAAI,IAEjBuc,GAAMvvB,KAAKi3D,GAAGjkD,EAAI,IAGhBhT,KAAKg3D,GAAGhkD,EAAI,EACdwc,EAAK,EAAMxvB,KAAKg3D,GAAGhkD,EAAI,IAEvByc,EAAK,EAAMzvB,KAAKg3D,GAAGhkD,EAAI,IAGzB,IAAIqkD,EAAQ9rC,cAAciK,gBAAgBlG,EAAIC,EAAIC,EAAIC,GAAI9C,IACtDwM,EAAO,EACPpmB,EAAI/S,KAAK82D,OACTv2D,EAAIP,KAAK+2D,OACT7sD,EAAOlK,KAAK0J,KAAK4sB,GAErB,GAAa,IAATpsB,EAOFivB,EAAOk+B,EALLl+B,EADE54B,IAAMwS,EACDuiB,GAAO/0B,EAAI,EAAI,EAEfsP,EAAI,EAAGE,EAAI,IAAOxP,EAAIwS,IAAMuiB,EAAMviB,IAAMxS,EAAIwS,GAAI,UAIpD,GAAa,IAAT7I,EAOTivB,EAAOk+B,EALLl+B,EADE54B,IAAMwS,EACDuiB,GAAO/0B,EAAI,EAAI,EAEf,EAAIsP,EAAI,EAAGE,EAAI,IAAOxP,EAAIwS,IAAMuiB,EAAMviB,IAAMxS,EAAIwS,GAAI,UAIxD,GAAa,IAAT7I,EACL3J,IAAMwS,EACRomB,EAAO,GAEPA,EAAOtpB,EAAI,EAAGE,EAAI,IAAOxP,EAAIwS,IAAMuiB,EAAMviB,IAAMxS,EAAIwS,GAAI,KAE5C,GACTomB,GAAQ,EAERA,EAAO,EAAI,GAAKA,EAAO,IAI3BA,EAAOk+B,EAAMl+B,QACR,GAAa,IAATjvB,EAAY,CACrB,GAAI3J,IAAMwS,EACRomB,EAAO,MACF,CACL,IAAIm+B,EAAM/2D,EAAIwS,EAKV6Z,GAAK0qC,EAAM,GADfhiC,EAAMvlB,EAAIF,EAAI,EAAGylB,EAAM,GAAMviB,GAAIxS,EAAIwS,IAEjCiG,EAAIs+C,EAAM,EACdn+B,EAAO7pB,KAAKG,KAAK,EAAImd,EAAIA,GAAK5T,EAAIA,GACpC,CAEAmgB,EAAOk+B,EAAMl+B,EACf,MAAoB,IAATjvB,GACL3J,IAAMwS,EACRomB,EAAO,GAEP7D,EAAMvlB,EAAIF,EAAI,EAAGylB,EAAM,GAAMviB,GAAIxS,EAAIwS,GACrComB,GAAQ,EAAI7pB,KAAKgpB,IAAIhpB,KAAKmB,GAAe,EAAVnB,KAAKmB,GAAS6kB,GAAO/0B,EAAIwS,KAAO,GAGjEomB,EAAOk+B,EAAMl+B,KAET7D,GAAO3lB,EAAMoD,KAEbomB,EAAOtpB,EAAI,EAAGE,EADZulB,EAAMviB,EAAI,EACMhD,EAAIxP,EAAG,IAAMwS,EAAIuiB,GAEjB/0B,EAAI+0B,EAFmB,KAM7C6D,EAAOk+B,EAAMl+B,IAaf,GAAkB,MAAdn5B,KAAKk3D,GAAGlkD,EAAW,CACrB,IAAIukD,EAAyB,IAAZv3D,KAAKk3D,GAAGlkD,EAEN,IAAfukD,IACFA,EAAa,MAGf,IAAI5uD,EAAY,GAAmB,GAAb4uD,EAElBp+B,EAAOxwB,EACTwwB,EAAO,GAEPA,GAAQA,EAAOxwB,GAAa4uD,GAEjB,IACTp+B,EAAO,EAGb,CAEA,OAAOA,EAAOn5B,KAAKgZ,EAAEhG,CACvB,EACAinB,SAAU,SAAkBu9B,GAC1Bx3D,KAAK66B,2BACL76B,KAAKo5B,KAAOo+B,GAAgBx3D,KAAKo5B,KACjCp5B,KAAK62D,mBAAqB72D,KAAKmqB,KAAKitC,aAAazG,YAAYlvB,EAAEv+B,QAAU,EAErEs0D,GAAgC,IAAhBx3D,KAAK0J,KAAKuJ,IAC5BjT,KAAKO,EAAEyS,EAAIhT,KAAK62D,oBAGlB,IAAIY,EAA0B,IAAhBz3D,KAAK0J,KAAKuJ,EAAU,EAAI,IAAMjT,KAAK0J,KAAKusD,WAClDr+C,EAAI5X,KAAK4X,EAAE5E,EAAIykD,EACf1kD,EAAI/S,KAAK+S,EAAEC,EAAIykD,EAAU7/C,EACzBrX,EAAIP,KAAKO,EAAEyS,EAAIykD,EAAU7/C,EAE7B,GAAI7E,EAAIxS,EAAG,CACT,IAAIwoC,EAAKh2B,EACTA,EAAIxS,EACJA,EAAIwoC,CACN,CAEA/oC,KAAK82D,OAAS/jD,EACd/S,KAAK+2D,OAASx2D,CAChB,GAEF4K,gBAAgB,CAACuvB,0BAA2Bk8B,GAMrC,CACLc,oBALF,SAA6BvtC,EAAMzgB,EAAMwE,GACvC,OAAO,IAAI0oD,EAAwBzsC,EAAMzgB,EAAMwE,EACjD,EAKF,CA7MuB,GA+MvB,SAASypD,yBAAyBxtC,EAAMytC,EAAerxD,GACrD,IAAIsxD,EAAc,CAChBtjC,UAAU,GAERgG,EAAUD,gBAAgBC,QAC1Bu9B,EAA0BF,EAAc5+C,EAC5ChZ,KAAKgZ,EAAI,CACP/F,EAAG6kD,EAAwB7kD,EAAIsnB,EAAQpQ,EAAM2tC,EAAwB7kD,EAAG,EAAGzC,UAAWjK,GAAasxD,EACnGltB,GAAImtB,EAAwBntB,GAAKpQ,EAAQpQ,EAAM2tC,EAAwBntB,GAAI,EAAGn6B,UAAWjK,GAAasxD,EACtGjtB,GAAIktB,EAAwBltB,GAAKrQ,EAAQpQ,EAAM2tC,EAAwBltB,GAAI,EAAGp6B,UAAWjK,GAAasxD,EACtG5+C,GAAI6+C,EAAwB7+C,GAAKshB,EAAQpQ,EAAM2tC,EAAwB7+C,GAAI,EAAGzI,UAAWjK,GAAasxD,EACtG3+C,GAAI4+C,EAAwB5+C,GAAKqhB,EAAQpQ,EAAM2tC,EAAwB5+C,GAAI,EAAG1I,UAAWjK,GAAasxD,EACtG9kD,EAAG+kD,EAAwB/kD,EAAIwnB,EAAQpQ,EAAM2tC,EAAwB/kD,EAAG,EAAG,IAAMxM,GAAasxD,EAC9F7+C,EAAG8+C,EAAwB9+C,EAAIuhB,EAAQpQ,EAAM2tC,EAAwB9+C,EAAG,EAAG,EAAGzS,GAAasxD,EAC3FjgD,EAAGkgD,EAAwBlgD,EAAI2iB,EAAQpQ,EAAM2tC,EAAwBlgD,EAAG,EAAG,IAAMrR,GAAasxD,EAC9FxkD,EAAGykD,EAAwBzkD,EAAIknB,EAAQpQ,EAAM2tC,EAAwBzkD,EAAG,EAAG,EAAG9M,GAAasxD,EAC3FzH,GAAI0H,EAAwB1H,GAAK71B,EAAQpQ,EAAM2tC,EAAwB1H,GAAI,EAAG,EAAG7pD,GAAasxD,EAC9F5c,GAAI6c,EAAwB7c,GAAK1gB,EAAQpQ,EAAM2tC,EAAwB7c,GAAI,EAAG,EAAG10C,GAAasxD,EAC9FxH,GAAIyH,EAAwBzH,GAAK91B,EAAQpQ,EAAM2tC,EAAwBzH,GAAI,EAAG,EAAG9pD,GAAasxD,EAC9FhC,GAAIiC,EAAwBjC,GAAKt7B,EAAQpQ,EAAM2tC,EAAwBjC,GAAI,EAAG,EAAGtvD,GAAasxD,EAC9F/B,GAAIgC,EAAwBhC,GAAKv7B,EAAQpQ,EAAM2tC,EAAwBhC,GAAI,EAAG,IAAMvvD,GAAasxD,EACjG9B,GAAI+B,EAAwB/B,GAAKx7B,EAAQpQ,EAAM2tC,EAAwB/B,GAAI,EAAG,IAAMxvD,GAAasxD,EACjGtkD,EAAGukD,EAAwBvkD,EAAIgnB,EAAQpQ,EAAM2tC,EAAwBvkD,EAAG,EAAG,EAAGhN,GAAasxD,GAE7F73D,KAAK+S,EAAI4jD,iBAAiBe,oBAAoBvtC,EAAMytC,EAAc7kD,EAAGxM,GACrEvG,KAAK+S,EAAEQ,EAAIqkD,EAAc7kD,EAAEQ,CAC7B,CAEA,SAASwkD,qBAAqB1a,EAAU2a,EAAY7tC,GAClDnqB,KAAKy5B,eAAgB,EACrBz5B,KAAKi4D,gBAAiB,EACtBj4D,KAAKuwD,UAAY,EACjBvwD,KAAKk4D,UAAY7a,EACjBr9C,KAAKm4D,YAAcH,EACnBh4D,KAAKo4D,MAAQjuC,EACbnqB,KAAKq4D,eAAiB/pD,iBAAiBtO,KAAKk4D,UAAUl/C,EAAE9V,QACxDlD,KAAKs4D,UAAY,CAAC,EAClBt4D,KAAKu4D,aAAe,CAClBC,UAAW,CAAC,GAEdx4D,KAAKy4D,gBAAkB,GACvBz4D,KAAK04D,oBAAqB,EAC1B14D,KAAK86B,6BAA6B3Q,EACpC,CAwoBA,SAASwuC,eAAgB,CAtoBzBZ,qBAAqBrsD,UAAUktD,iBAAmB,WAChD,IAAIttD,EAEAssD,EADApsD,EAAMxL,KAAKk4D,UAAUl/C,EAAE9V,OAEvBq3B,EAAUD,gBAAgBC,QAE9B,IAAKjvB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBssD,EAAgB53D,KAAKk4D,UAAUl/C,EAAE1N,GACjCtL,KAAKq4D,eAAe/sD,GAAK,IAAIqsD,yBAAyB33D,KAAKo4D,MAAOR,EAAe53D,MAG/EA,KAAKk4D,UAAU7kD,GAAK,MAAOrT,KAAKk4D,UAAU7kD,GAC5CrT,KAAKs4D,UAAY,CACft/C,EAAGuhB,EAAQv6B,KAAKo4D,MAAOp4D,KAAKk4D,UAAU7kD,EAAE2F,EAAG,EAAG,EAAGhZ,MACjDoT,EAAGmnB,EAAQv6B,KAAKo4D,MAAOp4D,KAAKk4D,UAAU7kD,EAAED,EAAG,EAAG,EAAGpT,MACjDyhC,EAAGlH,EAAQv6B,KAAKo4D,MAAOp4D,KAAKk4D,UAAU7kD,EAAEouB,EAAG,EAAG,EAAGzhC,MACjDiT,EAAGsnB,EAAQv6B,KAAKo4D,MAAOp4D,KAAKk4D,UAAU7kD,EAAEJ,EAAG,EAAG,EAAGjT,MACjDqT,EAAGknB,EAAQv6B,KAAKo4D,MAAOp4D,KAAKk4D,UAAU7kD,EAAEA,EAAG,EAAG,EAAGrT,MACjD0hC,EAAG1hC,KAAKo4D,MAAMtY,YAAYuG,gBAAgBrmD,KAAKk4D,UAAU7kD,EAAEquB,IAE7D1hC,KAAKi4D,gBAAiB,GAEtBj4D,KAAKi4D,gBAAiB,EAGxBj4D,KAAKu4D,aAAaC,UAAYj+B,EAAQv6B,KAAKo4D,MAAOp4D,KAAKk4D,UAAUx2B,EAAE1oB,EAAG,EAAG,EAAGhZ,KAC9E,EAEA+3D,qBAAqBrsD,UAAUmtD,YAAc,SAAUvgD,EAAcogD,GAGnE,GAFA14D,KAAK04D,mBAAqBA,EAErB14D,KAAKo5B,MAASp5B,KAAKy5B,eAAkBi/B,GAAwB14D,KAAKi4D,gBAAmBj4D,KAAKs4D,UAAU52B,EAAEtI,KAA3G,CAIAp5B,KAAKy5B,eAAgB,EACrB,IAMIq/B,EACAC,EACAztD,EACAE,EAEAwtD,EACAC,EACAC,EACAxoC,EACA7lB,EACAsuD,EACAC,EACA5pB,EACAjjB,EACAvJ,EACA6N,EACA3B,EACAiB,EACAkpC,EACA3U,EAzBA8T,EAAYx4D,KAAKu4D,aAAaC,UAAUxlD,EACxC2iD,EAAY31D,KAAKq4D,eACjBhb,EAAWr9C,KAAKk4D,UAChBoB,EAAet5D,KAAKomD,QACpB4R,EAAah4D,KAAKm4D,YAClBoB,EAAuBv5D,KAAKy4D,gBAAgBv1D,OAK5CqxD,EAAUj8C,EAAampB,EAiB3B,GAAIzhC,KAAKi4D,eAAgB,CAGvB,GAFAvT,EAAO1kD,KAAKs4D,UAAU52B,GAEjB1hC,KAAKs4D,UAAU5iC,GAAK11B,KAAKs4D,UAAUl/B,KAAM,CAC5C,IAYInI,EAZAqM,EAAQonB,EAAK1xC,EAejB,IAbIhT,KAAKs4D,UAAUrlD,EAAED,IACnBsqB,EAAQA,EAAMzB,WAIhBm9B,EAAW,CACTQ,QAAS,EACTx2C,SAAU,IAEZxX,EAAM8xB,EAAM9O,QAAU,EAEtBU,EAAc,EAET5jB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB2lB,EAAa8C,IAAIhD,gBAAgBuM,EAAMtqB,EAAE1H,GAAIgyB,EAAMtqB,EAAE1H,EAAI,GAAI,CAACgyB,EAAM1lB,EAAEtM,GAAG,GAAKgyB,EAAMtqB,EAAE1H,GAAG,GAAIgyB,EAAM1lB,EAAEtM,GAAG,GAAKgyB,EAAMtqB,EAAE1H,GAAG,IAAK,CAACgyB,EAAMhyB,EAAEA,EAAI,GAAG,GAAKgyB,EAAMtqB,EAAE1H,EAAI,GAAG,GAAIgyB,EAAMhyB,EAAEA,EAAI,GAAG,GAAKgyB,EAAMtqB,EAAE1H,EAAI,GAAG,KACxM0tD,EAASQ,SAAWvoC,EAAWP,cAC/BsoC,EAASh2C,SAASpW,KAAKqkB,GACvB/B,GAAe+B,EAAWP,cAG5BplB,EAAIE,EAEAk5C,EAAK1xC,EAAEuG,IACT0X,EAAa8C,IAAIhD,gBAAgBuM,EAAMtqB,EAAE1H,GAAIgyB,EAAMtqB,EAAE,GAAI,CAACsqB,EAAM1lB,EAAEtM,GAAG,GAAKgyB,EAAMtqB,EAAE1H,GAAG,GAAIgyB,EAAM1lB,EAAEtM,GAAG,GAAKgyB,EAAMtqB,EAAE1H,GAAG,IAAK,CAACgyB,EAAMhyB,EAAE,GAAG,GAAKgyB,EAAMtqB,EAAE,GAAG,GAAIsqB,EAAMhyB,EAAE,GAAG,GAAKgyB,EAAMtqB,EAAE,GAAG,KACpLgmD,EAASQ,SAAWvoC,EAAWP,cAC/BsoC,EAASh2C,SAASpW,KAAKqkB,GACvB/B,GAAe+B,EAAWP,eAG5B1wB,KAAKs4D,UAAUmB,GAAKT,CACtB,CAUA,GARAA,EAAWh5D,KAAKs4D,UAAUmB,GAC1BR,EAAgBj5D,KAAKs4D,UAAUllD,EAAEJ,EACjComD,EAAa,EACbD,EAAW,EACXzoC,EAAgB,EAChB7lB,GAAO,EACPmY,EAAWg2C,EAASh2C,SAEhBi2C,EAAgB,GAAKvU,EAAK1xC,EAAEuG,EAS9B,IARIy/C,EAASQ,QAAUlqD,KAAKc,IAAI6oD,KAC9BA,GAAiB3pD,KAAKc,IAAI6oD,GAAiBD,EAASQ,SAKtDL,GADA5sC,EAASvJ,EADTo2C,EAAap2C,EAAS9f,OAAS,GACDqpB,QACZrpB,OAAS,EAEpB+1D,EAAgB,GACrBA,GAAiB1sC,EAAO4sC,GAAUtoC,eAClCsoC,GAAY,GAEG,IAGbA,GADA5sC,EAASvJ,EADTo2C,GAAc,GACgB7sC,QACZrpB,OAAS,GAMjCssC,GADAjjB,EAASvJ,EAASo2C,GAAY7sC,QACX4sC,EAAW,GAE9BtoC,GADAqoC,EAAe3sC,EAAO4sC,IACOtoC,aAC/B,CAEArlB,EAAM+oD,EAAQrxD,OACd41D,EAAO,EACPC,EAAO,EACP,IAEInB,EAEAthD,EACAC,EACAmjD,EAEAvgC,EARAwgC,EAAgC,IAAzBrhD,EAAak5C,UAAkB,KACtCoI,GAAY,EAMhBrjD,EAAOo/C,EAAUzyD,OAEjB,IACI22D,EACAC,EACAC,EAKAC,EACA/e,EACAmV,EACAC,EACA75C,EACAyjD,EACAC,EACAC,EAGAC,EAlBA9kC,GAAO,EAIP+kC,EAAcpB,EACdqB,EAAiBlB,EACjBmB,EAAepB,EACfxE,GAAe,EASf6F,GAAU,GACVC,GAAUz6D,KAAK06D,kBAGnB,GAAuB,IAAnBpiD,EAAahC,GAA8B,IAAnBgC,EAAahC,EAAS,CAChD,IAAIg/C,GAAwB,EACxBqF,GAA0B,EAC1BC,GAAuC,IAAnBtiD,EAAahC,GAAW,IAAO,EACnDwe,GAAY,EACZ+lC,IAAY,EAEhB,IAAKvvD,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,GAAIipD,EAAQjpD,GAAGoqB,EAAG,CAKhB,IAJI4/B,KACFA,IAAyBqF,IAGpB7lC,GAAYxpB,GACjBipD,EAAQz/B,IAAWwgC,sBAAwBA,GAC3CxgC,IAAa,EAGfwgC,GAAwB,EACxBuF,IAAY,CACd,KAAO,CACL,IAAKvkD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,GACzBshD,EAAgBjC,EAAUr/C,GAAG0C,GAEXzF,EAAEghB,WACdsmC,IAAgC,IAAnBviD,EAAahC,IAC5BqkD,IAA2B/C,EAAcrkD,EAAEP,EAAI4nD,KAIjDzhC,EADmBw8B,EAAUr/C,GAAGvD,EACRokD,QAAQ5C,EAAQjpD,GAAG+pD,UAAU/+C,GAAI+mC,EAASrkC,EAAE1C,GAAGvD,EAAEkjD,aAEhE/yD,OACPoyD,IAAyBsC,EAAcrkD,EAAEP,EAAImmB,EAAK,GAAKyhC,GAEvDtF,IAAyBsC,EAAcrkD,EAAEP,EAAImmB,EAAOyhC,IAK1DC,IAAY,CACd,CAOF,IAJIvF,KACFA,IAAyBqF,IAGpB7lC,GAAYxpB,GACjBipD,EAAQz/B,IAAWwgC,sBAAwBA,GAC3CxgC,IAAa,CAEjB,CAGA,IAAKxpB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAI3B,GAHAguD,EAAax3D,QACbk4D,EAAc,EAEVzF,EAAQjpD,GAAGoqB,EACbojC,EAAO,EACPC,GAAQzgD,EAAai5C,QACrBwH,GAAQa,EAAY,EAAI,EACxBX,EAAgBoB,EAChBT,GAAY,EAER55D,KAAKi4D,iBAEPkB,EAAWoB,EAEX/qB,GADAjjB,EAASvJ,EAFTo2C,EAAakB,GAEiB/tC,QACX4sC,EAAW,GAE9BtoC,GADAqoC,EAAe3sC,EAAO4sC,IACOtoC,cAC7BH,EAAgB,GAGlB8pC,GAAU,GACVL,EAAW,GACXF,EAAW,GACXG,EAAU,GACVK,GAAUz6D,KAAK06D,sBACV,CACL,GAAI16D,KAAKi4D,eAAgB,CACvB,GAAItD,IAAgBJ,EAAQjpD,GAAG2U,KAAM,CACnC,OAAQ3H,EAAahC,GACnB,KAAK,EACH2iD,GAAiB/pC,EAAc5W,EAAa24C,WAAWsD,EAAQjpD,GAAG2U,MAClE,MAEF,KAAK,EACHg5C,IAAkB/pC,EAAc5W,EAAa24C,WAAWsD,EAAQjpD,GAAG2U,OAAS,EAOhF00C,EAAcJ,EAAQjpD,GAAG2U,IAC3B,CAEIqV,IAAQi/B,EAAQjpD,GAAGgqB,MACjBi/B,EAAQj/B,KACV2jC,GAAiB1E,EAAQj/B,GAAKigC,OAGhC0D,GAAiB1E,EAAQjpD,GAAG8pD,GAAK,EACjC9/B,EAAMi/B,EAAQjpD,GAAGgqB,KAGnB2jC,GAAiBT,EAAU,GAAKjE,EAAQjpD,GAAG8pD,GAAK,KAChD,IAAI0F,GAAiB,EAErB,IAAKxkD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,GACzBshD,EAAgBjC,EAAUr/C,GAAG0C,GAEX3F,EAAEkhB,YAElB4E,EADmBw8B,EAAUr/C,GAAGvD,EACRokD,QAAQ5C,EAAQjpD,GAAG+pD,UAAU/+C,GAAI+mC,EAASrkC,EAAE1C,GAAGvD,EAAEkjD,aAEhE/yD,OACP43D,IAAkBlD,EAAcvkD,EAAEL,EAAE,GAAKmmB,EAAK,GAE9C2hC,IAAkBlD,EAAcvkD,EAAEL,EAAE,GAAKmmB,GAIzCy+B,EAAc5+C,EAAEub,YAElB4E,EADmBw8B,EAAUr/C,GAAGvD,EACRokD,QAAQ5C,EAAQjpD,GAAG+pD,UAAU/+C,GAAI+mC,EAASrkC,EAAE1C,GAAGvD,EAAEkjD,aAEhE/yD,OACP43D,IAAkBlD,EAAc5+C,EAAEhG,EAAE,GAAKmmB,EAAK,GAE9C2hC,IAAkBlD,EAAc5+C,EAAEhG,EAAE,GAAKmmB,GAY/C,IAPAtuB,GAAO,EAEH7K,KAAKs4D,UAAUt/C,EAAEhG,IACnBimD,EAAgC,GAAhB1E,EAAQ,GAAGa,IAAYlmC,EAAclvB,KAAKs4D,UAAUllD,EAAEJ,EAAoB,GAAhBuhD,EAAQ,GAAGa,GAA4C,GAAjCb,EAAQA,EAAQrxD,OAAS,GAAGkyD,IAAY9/B,GAAO9pB,EAAM,GACrJytD,GAAiBj5D,KAAKs4D,UAAUllD,EAAEJ,GAG7BnI,GACD6lB,EAAgBG,GAAiBooC,EAAgB6B,KAAmBvuC,GACtE4D,GAAQ8oC,EAAgB6B,GAAiBpqC,GAAiBwoC,EAAaroC,cACvEipC,EAAWtqB,EAAUlf,MAAM,IAAM4oC,EAAa5oC,MAAM,GAAKkf,EAAUlf,MAAM,IAAMH,EAC/E4pC,EAAWvqB,EAAUlf,MAAM,IAAM4oC,EAAa5oC,MAAM,GAAKkf,EAAUlf,MAAM,IAAMH,EAC/EmpC,EAAa33B,WAAW62B,EAAU,GAAKjE,EAAQjpD,GAAG8pD,GAAK,MAASoD,EAAU,GAAKmB,EAAQ,KACvF9uD,GAAO,GACE0hB,IACTmE,GAAiBwoC,EAAaroC,eAC9BsoC,GAAY,IAEI5sC,EAAOrpB,SACrBi2D,EAAW,EAGNn2C,EAFLo2C,GAAc,GAYZ7sC,EAASvJ,EAASo2C,GAAY7sC,OAT1Bm4B,EAAK1xC,EAAEuG,GACT4/C,EAAW,EAEX5sC,EAASvJ,EADTo2C,EAAa,GACiB7sC,SAE9BmE,GAAiBwoC,EAAaroC,cAC9BtE,EAAS,OAOXA,IACFijB,EAAY0pB,EAEZroC,GADAqoC,EAAe3sC,EAAO4sC,IACOtoC,gBAKnCgpC,EAAOtF,EAAQjpD,GAAG8pD,GAAK,EAAIb,EAAQjpD,GAAGhK,IACtCg4D,EAAa33B,WAAWk4B,EAAM,EAAG,EACnC,MACEA,EAAOtF,EAAQjpD,GAAG8pD,GAAK,EAAIb,EAAQjpD,GAAGhK,IACtCg4D,EAAa33B,WAAWk4B,EAAM,EAAG,GAEjCP,EAAa33B,WAAW62B,EAAU,GAAKjE,EAAQjpD,GAAG8pD,GAAK,MAAQoD,EAAU,GAAKmB,EAAO,IAAM,GAG7F,IAAKrjD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,GACzBshD,EAAgBjC,EAAUr/C,GAAG0C,GAEXzF,EAAEghB,WAElB4E,EADmBw8B,EAAUr/C,GAAGvD,EACRokD,QAAQ5C,EAAQjpD,GAAG+pD,UAAU/+C,GAAI+mC,EAASrkC,EAAE1C,GAAGvD,EAAEkjD,YAE5D,IAAT6C,GAAiC,IAAnBxgD,EAAahC,IACzBtW,KAAKi4D,eACH9+B,EAAKj2B,OACP+1D,GAAiBrB,EAAcrkD,EAAEP,EAAImmB,EAAK,GAE1C8/B,GAAiBrB,EAAcrkD,EAAEP,EAAImmB,EAE9BA,EAAKj2B,OACd41D,GAAQlB,EAAcrkD,EAAEP,EAAImmB,EAAK,GAEjC2/B,GAAQlB,EAAcrkD,EAAEP,EAAImmB,IAsBpC,IAhBI7gB,EAAag5C,kBACflB,EAAK93C,EAAa83C,IAAM,GAGtB93C,EAAa+4C,kBAEbpW,EADE3iC,EAAa2iC,GACV,CAAC3iC,EAAa2iC,GAAG,GAAI3iC,EAAa2iC,GAAG,GAAI3iC,EAAa2iC,GAAG,IAEzD,CAAC,EAAG,EAAG,IAIZ3iC,EAAa84C,eAAiB94C,EAAa+3C,KAC7CA,EAAK,CAAC/3C,EAAa+3C,GAAG,GAAI/3C,EAAa+3C,GAAG,GAAI/3C,EAAa+3C,GAAG,KAG3D/5C,EAAI,EAAGA,EAAIC,EAAMD,GAAK,GACzBshD,EAAgBjC,EAAUr/C,GAAG0C,GAEXA,EAAEub,YAElB4E,EADmBw8B,EAAUr/C,GAAGvD,EACRokD,QAAQ5C,EAAQjpD,GAAG+pD,UAAU/+C,GAAI+mC,EAASrkC,EAAE1C,GAAGvD,EAAEkjD,aAEhE/yD,OACPo2D,EAAa33B,WAAWi2B,EAAc5+C,EAAEhG,EAAE,GAAKmmB,EAAK,IAAKy+B,EAAc5+C,EAAEhG,EAAE,GAAKmmB,EAAK,GAAIy+B,EAAc5+C,EAAEhG,EAAE,GAAKmmB,EAAK,IAErHmgC,EAAa33B,WAAWi2B,EAAc5+C,EAAEhG,EAAE,GAAKmmB,GAAOy+B,EAAc5+C,EAAEhG,EAAE,GAAKmmB,EAAMy+B,EAAc5+C,EAAEhG,EAAE,GAAKmmB,IAKhH,IAAK7iB,EAAI,EAAGA,EAAIC,EAAMD,GAAK,GACzBshD,EAAgBjC,EAAUr/C,GAAG0C,GAEXjG,EAAEwhB,YAElB4E,EADmBw8B,EAAUr/C,GAAGvD,EACRokD,QAAQ5C,EAAQjpD,GAAG+pD,UAAU/+C,GAAI+mC,EAASrkC,EAAE1C,GAAGvD,EAAEkjD,aAEhE/yD,OACPo2D,EAAah4B,MAAM,GAAKs2B,EAAc7kD,EAAEC,EAAE,GAAK,GAAKmmB,EAAK,GAAI,GAAKy+B,EAAc7kD,EAAEC,EAAE,GAAK,GAAKmmB,EAAK,GAAI,GAEvGmgC,EAAah4B,MAAM,GAAKs2B,EAAc7kD,EAAEC,EAAE,GAAK,GAAKmmB,EAAM,GAAKy+B,EAAc7kD,EAAEC,EAAE,GAAK,GAAKmmB,EAAM,IAKvG,IAAK7iB,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAAG,CAqD5B,GApDAshD,EAAgBjC,EAAUr/C,GAAG0C,EAE7BmgB,EADmBw8B,EAAUr/C,GAAGvD,EACRokD,QAAQ5C,EAAQjpD,GAAG+pD,UAAU/+C,GAAI+mC,EAASrkC,EAAE1C,GAAGvD,EAAEkjD,YAErE2B,EAAc3+C,GAAGsb,WACf4E,EAAKj2B,OACPo2D,EAAaj4B,cAAcu2B,EAAc3+C,GAAGjG,EAAImmB,EAAK,GAAIy+B,EAAc1+C,GAAGlG,EAAImmB,EAAK,IAEnFmgC,EAAaj4B,cAAcu2B,EAAc3+C,GAAGjG,EAAImmB,EAAMy+B,EAAc1+C,GAAGlG,EAAImmB,IAI3Ey+B,EAAc3kD,EAAEshB,WACd4E,EAAKj2B,OACPo2D,EAAar4B,SAAS22B,EAAc3kD,EAAED,EAAImmB,EAAK,IAE/CmgC,EAAar4B,SAAS22B,EAAc3kD,EAAED,EAAImmB,IAI1Cy+B,EAAchtB,GAAGrW,WACf4E,EAAKj2B,OACPo2D,EAAat4B,QAAQ42B,EAAchtB,GAAG53B,EAAImmB,EAAK,IAE/CmgC,EAAat4B,QAAQ42B,EAAchtB,GAAG53B,EAAImmB,IAI1Cy+B,EAAcjtB,GAAGpW,WACf4E,EAAKj2B,OACPo2D,EAAav4B,QAAQ62B,EAAcjtB,GAAG33B,EAAImmB,EAAK,IAE/CmgC,EAAav4B,QAAQ62B,EAAcjtB,GAAG33B,EAAImmB,IAI1Cy+B,EAAchgD,EAAE2c,WACd4E,EAAKj2B,OACP82D,IAAgBpC,EAAchgD,EAAE5E,EAAImmB,EAAK,GAAK6gC,GAAe7gC,EAAK,GAElE6gC,IAAgBpC,EAAchgD,EAAE5E,EAAImmB,EAAO6gC,GAAe7gC,GAI1D7gB,EAAag5C,iBAAmBsG,EAAcxH,GAAG77B,WAC/C4E,EAAKj2B,OACPktD,GAAMwH,EAAcxH,GAAGp9C,EAAImmB,EAAK,GAEhCi3B,GAAMwH,EAAcxH,GAAGp9C,EAAImmB,GAI3B7gB,EAAa+4C,iBAAmBuG,EAAc3c,GAAG1mB,SACnD,IAAK/d,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAClB2iB,EAAKj2B,OACP+3C,EAAGzkC,KAAOohD,EAAc3c,GAAGjoC,EAAEwD,GAAKykC,EAAGzkC,IAAM2iB,EAAK,GAEhD8hB,EAAGzkC,KAAOohD,EAAc3c,GAAGjoC,EAAEwD,GAAKykC,EAAGzkC,IAAM2iB,EAKjD,GAAI7gB,EAAa84C,eAAiB94C,EAAa+3C,GAAI,CACjD,GAAIuH,EAAcvH,GAAG97B,SACnB,IAAK/d,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAClB2iB,EAAKj2B,OACPmtD,EAAG75C,KAAOohD,EAAcvH,GAAGr9C,EAAEwD,GAAK65C,EAAG75C,IAAM2iB,EAAK,GAEhDk3B,EAAG75C,KAAOohD,EAAcvH,GAAGr9C,EAAEwD,GAAK65C,EAAG75C,IAAM2iB,EAK7Cy+B,EAAc/B,GAAGthC,WAEjB87B,EADEl3B,EAAKj2B,OACF4Q,YAAYu8C,EAAIuH,EAAc/B,GAAG7iD,EAAImmB,EAAK,IAE1CrlB,YAAYu8C,EAAIuH,EAAc/B,GAAG7iD,EAAImmB,IAI1Cy+B,EAAc9B,GAAGvhC,WAEjB87B,EADEl3B,EAAKj2B,OACFwQ,mBAAmB28C,EAAIuH,EAAc9B,GAAG9iD,EAAImmB,EAAK,IAEjDzlB,mBAAmB28C,EAAIuH,EAAc9B,GAAG9iD,EAAImmB,IAIjDy+B,EAAc7B,GAAGxhC,WAEjB87B,EADEl3B,EAAKj2B,OACF2Q,mBAAmBw8C,EAAIuH,EAAc7B,GAAG/iD,EAAImmB,EAAK,IAEjDtlB,mBAAmBw8C,EAAIuH,EAAc7B,GAAG/iD,EAAImmB,GAGvD,CACF,CAEA,IAAK7iB,EAAI,EAAGA,EAAIC,EAAMD,GAAK,GACzBshD,EAAgBjC,EAAUr/C,GAAG0C,GAEX3F,EAAEkhB,WAElB4E,EADmBw8B,EAAUr/C,GAAGvD,EACRokD,QAAQ5C,EAAQjpD,GAAG+pD,UAAU/+C,GAAI+mC,EAASrkC,EAAE1C,GAAGvD,EAAEkjD,YAErEj2D,KAAKi4D,eACH9+B,EAAKj2B,OACPo2D,EAAa33B,UAAU,EAAGi2B,EAAcvkD,EAAEL,EAAE,GAAKmmB,EAAK,IAAKy+B,EAAcvkD,EAAEL,EAAE,GAAKmmB,EAAK,IAEvFmgC,EAAa33B,UAAU,EAAGi2B,EAAcvkD,EAAEL,EAAE,GAAKmmB,GAAOy+B,EAAcvkD,EAAEL,EAAE,GAAKmmB,GAExEA,EAAKj2B,OACdo2D,EAAa33B,UAAUi2B,EAAcvkD,EAAEL,EAAE,GAAKmmB,EAAK,GAAIy+B,EAAcvkD,EAAEL,EAAE,GAAKmmB,EAAK,IAAKy+B,EAAcvkD,EAAEL,EAAE,GAAKmmB,EAAK,IAEpHmgC,EAAa33B,UAAUi2B,EAAcvkD,EAAEL,EAAE,GAAKmmB,EAAMy+B,EAAcvkD,EAAEL,EAAE,GAAKmmB,GAAOy+B,EAAcvkD,EAAEL,EAAE,GAAKmmB,IAiB/G,GAZI7gB,EAAag5C,kBACf2I,EAAW7J,EAAK,EAAI,EAAIA,GAGtB93C,EAAa+4C,kBACf6I,EAAW,OAAS5qD,KAAKuB,MAAc,IAARoqC,EAAG,IAAY,IAAM3rC,KAAKuB,MAAc,IAARoqC,EAAG,IAAY,IAAM3rC,KAAKuB,MAAc,IAARoqC,EAAG,IAAY,KAG5G3iC,EAAa84C,eAAiB94C,EAAa+3C,KAC7C8J,EAAW,OAAS7qD,KAAKuB,MAAc,IAARw/C,EAAG,IAAY,IAAM/gD,KAAKuB,MAAc,IAARw/C,EAAG,IAAY,IAAM/gD,KAAKuB,MAAc,IAARw/C,EAAG,IAAY,KAG5GrwD,KAAKi4D,eAAgB,CAIvB,GAHAqB,EAAa33B,UAAU,GAAIrpB,EAAa44C,IACxCoI,EAAa33B,UAAU,EAAG62B,EAAU,GAAKmB,EAAO,IAAOZ,EAAM,GAEzD/4D,KAAKs4D,UAAUjlD,EAAEL,EAAG,CACtBqmD,GAAYH,EAAa5oC,MAAM,GAAKkf,EAAUlf,MAAM,KAAO4oC,EAAa5oC,MAAM,GAAKkf,EAAUlf,MAAM,IACnG,IAAIye,GAA4B,IAAtBz/B,KAAKyrD,KAAK1B,GAAkB/pD,KAAKmB,GAEvCyoD,EAAa5oC,MAAM,GAAKkf,EAAUlf,MAAM,KAC1Cye,IAAO,KAGTuqB,EAAa34B,QAAQoO,GAAMz/B,KAAKmB,GAAK,IACvC,CAEA6oD,EAAa33B,UAAUm4B,EAAUC,EAAU,GAC3Cd,GAAiBT,EAAU,GAAKjE,EAAQjpD,GAAG8pD,GAAK,KAE5Cb,EAAQjpD,EAAI,IAAMgqB,IAAQi/B,EAAQjpD,EAAI,GAAGgqB,MAC3C2jC,GAAiB1E,EAAQjpD,GAAG8pD,GAAK,EACjC6D,GAAmC,KAAlB3gD,EAAa45B,GAAa55B,EAAak5C,UAE5D,KAAO,CAQL,OAPA8H,EAAa33B,UAAUm3B,EAAMC,EAAM,GAE/BzgD,EAAa64C,IAEfmI,EAAa33B,UAAUrpB,EAAa64C,GAAG,GAAI74C,EAAa64C,GAAG,GAAK74C,EAAas4C,OAAQ,GAG/Et4C,EAAahC,GACnB,KAAK,EACHgjD,EAAa33B,UAAU4yB,EAAQjpD,GAAGgqD,sBAAwBh9C,EAAay4C,eAAiBz4C,EAAau4C,SAAWv4C,EAAa24C,WAAWsD,EAAQjpD,GAAG2U,OAAQ,EAAG,GAC9J,MAEF,KAAK,EACHq5C,EAAa33B,UAAU4yB,EAAQjpD,GAAGgqD,sBAAwBh9C,EAAay4C,eAAiBz4C,EAAau4C,SAAWv4C,EAAa24C,WAAWsD,EAAQjpD,GAAG2U,OAAS,EAAG,EAAG,GAOtKq5C,EAAa33B,UAAU,GAAIrpB,EAAa44C,IACxCoI,EAAa33B,UAAUk4B,EAAM,EAAG,GAChCP,EAAa33B,UAAU62B,EAAU,GAAKjE,EAAQjpD,GAAG8pD,GAAK,KAAOoD,EAAU,GAAKmB,EAAO,IAAM,GACzFb,GAAQvE,EAAQjpD,GAAGm2B,EAAsB,KAAlBnpB,EAAa45B,GAAa55B,EAAak5C,SAChE,CAEmB,SAAfwG,EACFwC,GAAUlB,EAAa9zB,QACC,QAAfwyB,EACTwC,GAAUlB,EAAa3zB,UAEvB80B,GAAU,CAACnB,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,GAAI44B,EAAa54B,MAAM,IAAK44B,EAAa54B,MAAM,IAAK44B,EAAa54B,MAAM,IAAK44B,EAAa54B,MAAM,IAAK44B,EAAa54B,MAAM,IAAK44B,EAAa54B,MAAM,KAG9X05B,EAAUJ,CACZ,CAEIT,GAAwBjuD,GAC1BouD,EAAc,IAAIvJ,YAAYiK,EAASH,EAAUC,EAAUC,EAAUK,GAASC,IAC9Ez6D,KAAKy4D,gBAAgB7rD,KAAK8sD,GAC1BH,GAAwB,EACxBv5D,KAAK04D,oBAAqB,IAE1BgB,EAAc15D,KAAKy4D,gBAAgBntD,GACnCtL,KAAK04D,mBAAqBgB,EAAYnG,OAAO6G,EAASH,EAAUC,EAAUC,EAAUK,GAASC,KAAYz6D,KAAK04D,mBAElH,CArlBA,CAslBF,EAEAX,qBAAqBrsD,UAAUuuB,SAAW,WACpCj6B,KAAKo4D,MAAMr0C,WAAWuV,UAAYt5B,KAAKuwD,WAI3CvwD,KAAKuwD,SAAWvwD,KAAKo4D,MAAMr0C,WAAWuV,QACtCt5B,KAAK66B,2BACP,EAEAk9B,qBAAqBrsD,UAAU06C,QAAU,IAAIhmB,OAC7C23B,qBAAqBrsD,UAAUgvD,kBAAoB,GACnDvvD,gBAAgB,CAACuvB,0BAA2Bq9B,sBAI5CY,aAAajtD,UAAUw8C,YAAc,SAAUx+C,EAAMqa,EAAYzM,GAC/DtX,KAAK04D,oBAAqB,EAC1B14D,KAAKg0B,YACLh0B,KAAK2+C,aAAaj1C,EAAMqa,EAAYzM,GACpCtX,KAAKo3D,aAAe,IAAI9G,aAAatwD,KAAM0J,EAAK6J,EAAGvT,KAAK26B,mBACxD36B,KAAKg7D,aAAe,IAAIjD,qBAAqBruD,EAAK6J,EAAGvT,KAAKg4D,WAAYh4D,MACtEA,KAAK+kD,cAAcr7C,EAAMqa,EAAYzM,GACrCtX,KAAKmqD,gBACLnqD,KAAKk8C,iBACLl8C,KAAKsoD,sBACLtoD,KAAKuoD,0BACLvoD,KAAKupD,6BACLvpD,KAAKqqD,gBACLrqD,KAAKkpB,OACLlpB,KAAKg7D,aAAapC,iBAAiB54D,KAAK26B,kBAC1C,EAEAg+B,aAAajtD,UAAU6V,aAAe,SAAUo7B,GAC9C38C,KAAKo5B,MAAO,EACZp5B,KAAK08C,uBAAuBC,GAC5B38C,KAAK+gD,kBAAkBpE,EAAK38C,KAAKm8C,UACnC,EAEAwc,aAAajtD,UAAUuvD,gBAAkB,SAAU3B,EAAcliD,GAC/D,IAAId,EAEAkwC,EADAjwC,EAAOa,EAAOlU,OAEdg4D,EAAW,GAEf,IAAK5kD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACJ,OAAjBc,EAAOd,GAAGU,KACZwvC,EAAYpvC,EAAOd,GAAGoB,GAAGlB,EACzB0kD,GAAY9M,iBAAiB5H,EAAWA,EAAUl7C,EAAEpI,QAAQ,EAAMo2D,IAItE,OAAO4B,CACT,EAEAvC,aAAajtD,UAAU2d,mBAAqB,SAAU+sC,EAAS9sC,GAC7DtpB,KAAKo3D,aAAa/tC,mBAAmB+sC,EAAS9sC,EAChD,EAEAqvC,aAAajtD,UAAU6qD,cAAgB,SAAUC,GAC/Cx2D,KAAKo3D,aAAab,cAAcC,EAClC,EAEAmC,aAAajtD,UAAU+qD,mBAAqB,SAAU0E,GACpDn7D,KAAKo3D,aAAaX,mBAAmB0E,EACvC,EAEAxC,aAAajtD,UAAU0vD,4BAA8B,SAAU9iD,EAAcghD,EAAc+B,EAAYvC,EAAMC,GAO3G,OANIzgD,EAAa64C,IACfmI,EAAa33B,UAAUrpB,EAAa64C,GAAG,GAAI74C,EAAa64C,GAAG,GAAK74C,EAAas4C,OAAQ,GAGvF0I,EAAa33B,UAAU,GAAIrpB,EAAa44C,GAAI,GAEpC54C,EAAahC,GACnB,KAAK,EACHgjD,EAAa33B,UAAUrpB,EAAay4C,eAAiBz4C,EAAau4C,SAAWv4C,EAAa24C,WAAWoK,IAAc,EAAG,GACtH,MAEF,KAAK,EACH/B,EAAa33B,UAAUrpB,EAAay4C,eAAiBz4C,EAAau4C,SAAWv4C,EAAa24C,WAAWoK,IAAe,EAAG,EAAG,GAO9H/B,EAAa33B,UAAUm3B,EAAMC,EAAM,EACrC,EAEAJ,aAAajtD,UAAU4vD,WAAa,SAAUC,GAC5C,MAAO,OAASjsD,KAAKuB,MAAqB,IAAf0qD,EAAU,IAAY,IAAMjsD,KAAKuB,MAAqB,IAAf0qD,EAAU,IAAY,IAAMjsD,KAAKuB,MAAqB,IAAf0qD,EAAU,IAAY,GACjI,EAEA5C,aAAajtD,UAAU8vD,UAAY,IAAIrL,YAEvCwI,aAAajtD,UAAUmT,QAAU,WAAa,EAE9C85C,aAAajtD,UAAU+vD,aAAe,YAChCz7D,KAAKo3D,aAAah+B,MAAQp5B,KAAKo3D,aAAa39B,iBAC9Cz5B,KAAK07D,eACL17D,KAAKo3D,aAAa39B,eAAgB,EAClCz5B,KAAKo3D,aAAah+B,MAAO,EAE7B,EAEA,IAAIuiC,eAAiB,CACnBvkD,OAAQ,IAGV,SAASwkD,qBAAqBlyD,EAAMqa,EAAYzM,GAC9CtX,KAAK67D,UAAY,GACjB77D,KAAKg4D,WAAa,MAClBh4D,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,EACrC,CAgVA,SAASwkD,cAAcpyD,EAAMqa,EAAYzM,GACvCtX,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,EACrC,CAeA,SAASykD,YAAYryD,EAAMqa,EAAYzM,GACrCtX,KAAKg0B,YACLh0B,KAAK2+C,aAAaj1C,EAAMqa,EAAYzM,GACpCtX,KAAKg0B,YACLh0B,KAAK+kD,cAAcr7C,EAAMqa,EAAYzM,GACrCtX,KAAKmqD,eACP,CAoBA,SAAS6R,kBAAmB,CAkQ5B,SAASC,eAAgB,CA4GzB,SAASC,eAAexyD,EAAMqa,EAAYzM,GACxCtX,KAAKmW,OAASzM,EAAKyM,OACnBnW,KAAKm8D,YAAa,EAClBn8D,KAAKkW,gBAAiB,EACtBlW,KAAK8iD,gBAAkB,GACvB9iD,KAAKmzC,SAAWnzC,KAAKmW,OAAS7H,iBAAiBtO,KAAKmW,OAAOjT,QAAU,GACrElD,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,GACnCtX,KAAK4gB,GAAKlX,EAAKkX,GAAK0Z,gBAAgBC,QAAQv6B,KAAM0J,EAAKkX,GAAI,EAAGmD,EAAW5B,UAAWniB,MAAQ,CAC1Fk/C,cAAc,EAElB,CAQA,SAASkd,YAAYjZ,EAAekZ,GAClCr8D,KAAKmjD,cAAgBA,EACrBnjD,KAAKmW,OAAS,KACdnW,KAAK64B,eAAiB,EACtB74B,KAAKs8D,WAAaznD,SAAS,OAC3B,IAAI0nD,EAAY,GAEhB,GAAIF,GAAUA,EAAOG,MAAO,CAC1B,IAAIC,EAAe5nD,SAAS,SACxB6nD,EAAU/pD,kBACd8pD,EAAatyD,aAAa,KAAMuyD,GAChCD,EAAapkB,YAAcgkB,EAAOG,MAClCx8D,KAAKs8D,WAAWlyD,YAAYqyD,GAC5BF,GAAaG,CACf,CAEA,GAAIL,GAAUA,EAAOM,YAAa,CAChC,IAAIC,EAAc/nD,SAAS,QACvBgoD,EAASlqD,kBACbiqD,EAAYzyD,aAAa,KAAM0yD,GAC/BD,EAAYvkB,YAAcgkB,EAAOM,YACjC38D,KAAKs8D,WAAWlyD,YAAYwyD,GAC5BL,GAAa,IAAMM,CACrB,CAEIN,GACFv8D,KAAKs8D,WAAWnyD,aAAa,kBAAmBoyD,GAGlD,IAAIv4C,EAAOnP,SAAS,QACpB7U,KAAKs8D,WAAWlyD,YAAY4Z,GAC5B,IAAIy/B,EAAc5uC,SAAS,KAC3B7U,KAAKs8D,WAAWlyD,YAAYq5C,GAC5BzjD,KAAK2gD,aAAe8C,EACpBzjD,KAAKg9C,aAAe,CAClB8f,oBAAqBT,GAAUA,EAAOS,qBAAuB,gBAC7DrS,yBAA0B4R,GAAUA,EAAO5R,0BAA4B,iBACvEsS,kBAAmBV,GAAUA,EAAOU,mBAAqB,UACzDxa,gBAAiB8Z,GAAUA,EAAO9Z,kBAAmB,EACrDtF,oBAAqBof,IAAuC,IAA7BA,EAAOpf,mBACtC+f,YAAaX,GAAUA,EAAOW,cAAe,EAC7CC,YAAaZ,GAAUA,EAAOY,cAAe,EAC7CC,UAAWb,GAAUA,EAAOa,WAAa,GACzCx0D,GAAI2zD,GAAUA,EAAO3zD,IAAM,GAC3By0D,UAAWd,GAAUA,EAAOc,UAC5BC,WAAY,CACV/gD,MAAOggD,GAAUA,EAAOe,YAAcf,EAAOe,WAAW/gD,OAAS,OACjEC,OAAQ+/C,GAAUA,EAAOe,YAAcf,EAAOe,WAAW9gD,QAAU,OACnEsQ,EAAGyvC,GAAUA,EAAOe,YAAcf,EAAOe,WAAWxwC,GAAK,KACzD6I,EAAG4mC,GAAUA,EAAOe,YAAcf,EAAOe,WAAW3nC,GAAK,MAE3DpZ,MAAOggD,GAAUA,EAAOhgD,MACxBC,OAAQ+/C,GAAUA,EAAO//C,OACzB+gD,gBAAiBhB,QAAoCn4C,IAA1Bm4C,EAAOgB,gBAAgChB,EAAOgB,gBAE3Er9D,KAAK+jB,WAAa,CAChBqV,MAAM,EACNjF,UAAW,EACXnQ,KAAMA,EACNg5B,aAAch9C,KAAKg9C,cAErBh9C,KAAKmzC,SAAW,GAChBnzC,KAAK8iD,gBAAkB,GACvB9iD,KAAKs9D,WAAY,EACjBt9D,KAAKqmB,aAAe,KACtB,CAQA,SAASk3C,wBACPv9D,KAAKw9D,UAAY,CAAC,EAClBx9D,KAAKy9D,aAAe,GACpBz9D,KAAK09D,oBAAsB,CAC7B,CAt0BAvyD,gBAAgB,CAACozC,YAAagF,iBAAkBuE,eAAgBC,iBAAkBvJ,aAAcwJ,qBAAsB2Q,cAAeiD,sBAErIA,qBAAqBlwD,UAAU2+C,cAAgB,WACzCrqD,KAAK0J,KAAKi0D,cAAgB39D,KAAK+jB,WAAWoB,YAAYzM,QACxD1Y,KAAK49D,cAAgB/oD,SAAS,QAElC,EAEA+mD,qBAAqBlwD,UAAUmyD,kBAAoB,SAAUC,GAM3D,IALA,IAAIxyD,EAAI,EACJE,EAAMsyD,EAAU56D,OAChB66D,EAAe,GACfC,EAAqB,GAElB1yD,EAAIE,GACLsyD,EAAUxyD,KAAO2yD,OAAOC,aAAa,KAAOJ,EAAUxyD,KAAO2yD,OAAOC,aAAa,IACnFH,EAAanxD,KAAKoxD,GAClBA,EAAqB,IAErBA,GAAsBF,EAAUxyD,GAGlCA,GAAK,EAIP,OADAyyD,EAAanxD,KAAKoxD,GACXD,CACT,EAEAnC,qBAAqBlwD,UAAUyyD,eAAiB,SAAUz0D,EAAM43B,GAK9D,GAAI53B,EAAK0N,QAAU1N,EAAK0N,OAAOlU,OAAQ,CACrC,IAAIm5B,EAAQ3yB,EAAK0N,OAAO,GAExB,GAAIilB,EAAM1kB,GAAI,CACZ,IAAIymD,EAAY/hC,EAAM1kB,GAAG0kB,EAAM1kB,GAAGzU,OAAS,GAEvCk7D,EAAUrrD,IACZqrD,EAAUrrD,EAAEyD,EAAE,GAAK8qB,EACnB88B,EAAUrrD,EAAEyD,EAAE,GAAK8qB,EAEvB,CACF,CAEA,OAAO53B,CACT,EAEAkyD,qBAAqBlwD,UAAUgwD,aAAe,WAE5C,IAAIpwD,EACAE,EAFJxL,KAAK85B,mBAAmB95B,MAGxB,IAAIsY,EAAetY,KAAKo3D,aAAazG,YACrC3wD,KAAKy4D,gBAAkBnqD,iBAAiBgK,EAAeA,EAAampB,EAAEv+B,OAAS,GAE3EoV,EAAa+3C,GACfrwD,KAAK2gD,aAAax2C,aAAa,OAAQnK,KAAKs7D,WAAWhjD,EAAa+3C,KAEpErwD,KAAK2gD,aAAax2C,aAAa,OAAQ,iBAGrCmO,EAAa2iC,KACfj7C,KAAK2gD,aAAax2C,aAAa,SAAUnK,KAAKs7D,WAAWhjD,EAAa2iC,KACtEj7C,KAAK2gD,aAAax2C,aAAa,eAAgBmO,EAAa83C,KAG9DpwD,KAAK2gD,aAAax2C,aAAa,YAAamO,EAAak5C,WACzD,IAAI5f,EAAW5xC,KAAK+jB,WAAWoB,YAAYk2B,cAAc/iC,EAAalF,GAEtE,GAAIw+B,EAAS0G,OACXt4C,KAAK2gD,aAAax2C,aAAa,QAASynC,EAAS0G,YAC5C,CACLt4C,KAAK2gD,aAAax2C,aAAa,cAAeynC,EAASwG,SACvD,IAAIrG,EAAUz5B,EAAay5B,QACvBD,EAASx5B,EAAaw5B,OAC1B9xC,KAAK2gD,aAAax2C,aAAa,aAAc2nC,GAC7C9xC,KAAK2gD,aAAax2C,aAAa,cAAe4nC,EAChD,CAEA/xC,KAAK2gD,aAAax2C,aAAa,aAAcmO,EAAa/E,GAC1D,IAGI8qD,EAHA9J,EAAUj8C,EAAampB,GAAK,GAC5B68B,IAAet+D,KAAK+jB,WAAWoB,YAAYzM,MAC/ClN,EAAM+oD,EAAQrxD,OAEd,IAAIo2D,EAAet5D,KAAKomD,QAEpBuX,EAAc39D,KAAK0J,KAAKi0D,YACxB7E,EAAO,EACPC,EAAO,EACPa,GAAY,EACZ9E,EAAmC,KAAlBx8C,EAAa45B,GAAa55B,EAAak5C,UAE5D,IAAImM,GAAgBW,GAAehmD,EAAaipB,GA4CzC,CACL,IACI5oB,EADA4lD,EAAoBv+D,KAAK67D,UAAU34D,OAGvC,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAS3B,GARKtL,KAAK67D,UAAUvwD,KAClBtL,KAAK67D,UAAUvwD,GAAK,CAClBkzD,KAAM,KACNC,UAAW,KACXC,MAAO,QAINJ,IAAeX,GAAqB,IAANryD,EAAS,CAG1C,GAFA+yD,EAAQE,EAAoBjzD,EAAItL,KAAK67D,UAAUvwD,GAAGkzD,KAAO3pD,SAASypD,EAAa,IAAM,QAEjFC,GAAqBjzD,EAAG,CAM1B,GALA+yD,EAAMl0D,aAAa,iBAAkB,QACrCk0D,EAAMl0D,aAAa,kBAAmB,SACtCk0D,EAAMl0D,aAAa,oBAAqB,KACxCnK,KAAK67D,UAAUvwD,GAAGkzD,KAAOH,EAErBC,EAAY,CACd,IAAIG,EAAY5pD,SAAS,KACzBwpD,EAAMj0D,YAAYq0D,GAClBz+D,KAAK67D,UAAUvwD,GAAGmzD,UAAYA,CAChC,CAEAz+D,KAAK67D,UAAUvwD,GAAGkzD,KAAOH,EACzBr+D,KAAK2gD,aAAav2C,YAAYi0D,EAChC,CAEAA,EAAMrtD,MAAME,QAAU,SACxB,CAkBA,GAhBAooD,EAAax3D,QAET67D,IACEpJ,EAAQjpD,GAAGoqB,IACbojC,GAAQhE,EACRiE,GAAQzgD,EAAai5C,QACrBwH,GAAQa,EAAY,EAAI,EACxBA,GAAY,GAGd55D,KAAKo7D,4BAA4B9iD,EAAcghD,EAAc/E,EAAQjpD,GAAG2U,KAAM64C,EAAMC,GACpFD,GAAQvE,EAAQjpD,GAAGm2B,GAAK,EAExBq3B,GAAQhE,GAGNwJ,EAAY,CAEd,IAAIK,EAEJ,GAAmB,KAHnBhmD,EAAW3Y,KAAK+jB,WAAWoB,YAAY+1B,YAAY5iC,EAAam5C,UAAUnmD,GAAIsmC,EAASE,OAAQ9xC,KAAK+jB,WAAWoB,YAAYk2B,cAAc/iC,EAAalF,GAAGglC,UAG5I7kC,EACXorD,EAAe,IAAIzC,eAAevjD,EAASjP,KAAM1J,KAAK+jB,WAAY/jB,UAC7D,CACL,IAAI0J,EAAOiyD,eAEPhjD,EAASjP,MAAQiP,EAASjP,KAAK0N,SACjC1N,EAAO1J,KAAKm+D,eAAexlD,EAASjP,KAAM4O,EAAak5C,YAGzDmN,EAAe,IAAI3O,gBAAgBtmD,EAAM1J,KAAK+jB,WAAY/jB,KAC5D,CAEA,GAAIA,KAAK67D,UAAUvwD,GAAGozD,MAAO,CAC3B,IAAIA,EAAQ1+D,KAAK67D,UAAUvwD,GAAGozD,MAC9B1+D,KAAK67D,UAAUvwD,GAAGmzD,UAAU7iB,YAAY8iB,EAAM/d,cAC9C+d,EAAM7/C,SACR,CAEA7e,KAAK67D,UAAUvwD,GAAGozD,MAAQC,EAC1BA,EAAaC,QAAS,EACtBD,EAAap9C,aAAa,GAC1Bo9C,EAAa93C,cACb7mB,KAAK67D,UAAUvwD,GAAGmzD,UAAUr0D,YAAYu0D,EAAahe,cAGlC,IAAfhoC,EAASpF,GACXvT,KAAK67D,UAAUvwD,GAAGmzD,UAAUt0D,aAAa,YAAa,SAAWmO,EAAak5C,UAAY,IAAM,IAAMl5C,EAAak5C,UAAY,IAAM,IAEzI,MACMmM,GACFU,EAAMl0D,aAAa,YAAa,aAAemvD,EAAa54B,MAAM,IAAM,IAAM44B,EAAa54B,MAAM,IAAM,KAGzG29B,EAAMhmB,YAAckc,EAAQjpD,GAAG+E,IAC/BguD,EAAMn/C,eAAe,uCAAwC,YAAa,WAG9E,CAEIy+C,GAAeU,GACjBA,EAAMl0D,aAAa,IAlJR,GAoJf,KA7IoD,CAClD,IAAI00D,EAAW7+D,KAAK49D,cAChBkB,EAAU,QAEd,OAAQxmD,EAAahC,GACnB,KAAK,EACHwoD,EAAU,MACV,MAEF,KAAK,EACHA,EAAU,SACV,MAEF,QACEA,EAAU,QAIdD,EAAS10D,aAAa,cAAe20D,GACrCD,EAAS10D,aAAa,iBAAkB2qD,GACxC,IAAIzc,EAAcr4C,KAAK69D,kBAAkBvlD,EAAam5C,WAItD,IAHAjmD,EAAM6sC,EAAYn1C,OAClB61D,EAAOzgD,EAAa64C,GAAK74C,EAAa64C,GAAG,GAAK74C,EAAas4C,OAAS,EAE/DtlD,EAAI,EAAGA,EAAIE,EAAKF,GAAK,GACxB+yD,EAAQr+D,KAAK67D,UAAUvwD,GAAGkzD,MAAQ3pD,SAAS,UACrCwjC,YAAcA,EAAY/sC,GAChC+yD,EAAMl0D,aAAa,IAAK,GACxBk0D,EAAMl0D,aAAa,IAAK4uD,GACxBsF,EAAMrtD,MAAME,QAAU,UACtB2tD,EAASz0D,YAAYi0D,GAEhBr+D,KAAK67D,UAAUvwD,KAClBtL,KAAK67D,UAAUvwD,GAAK,CAClBkzD,KAAM,KACNE,MAAO,OAIX1+D,KAAK67D,UAAUvwD,GAAGkzD,KAAOH,EACzBtF,GAAQzgD,EAAao5C,gBAGvB1xD,KAAK2gD,aAAav2C,YAAYy0D,EAChC,CAmGA,KAAOvzD,EAAItL,KAAK67D,UAAU34D,QACxBlD,KAAK67D,UAAUvwD,GAAGkzD,KAAKxtD,MAAME,QAAU,OACvC5F,GAAK,EAGPtL,KAAK0oD,cAAe,CACtB,EAEAkT,qBAAqBlwD,UAAUyxC,iBAAmB,WAIhD,GAHAn9C,KAAKuhB,aAAavhB,KAAKsX,KAAKuhB,cAAgB74B,KAAK0J,KAAKoP,IACtD9Y,KAAKsqD,qBAEDtqD,KAAK0oD,aAAc,CACrB1oD,KAAK0oD,cAAe,EACpB,IAAIqW,EAAU/+D,KAAK2gD,aAAa/iC,UAChC5d,KAAKg/D,KAAO,CACVp3D,IAAKm3D,EAAQtpC,EACb9tB,KAAMo3D,EAAQnyC,EACdvQ,MAAO0iD,EAAQ1iD,MACfC,OAAQyiD,EAAQziD,OAEpB,CAEA,OAAOtc,KAAKg/D,IACd,EAEApD,qBAAqBlwD,UAAUuuB,SAAW,WACxC,IAAI3uB,EAEAqzD,EADAnzD,EAAMxL,KAAK67D,UAAU34D,OAIzB,IAFAlD,KAAK64B,cAAgB74B,KAAKsX,KAAKuhB,cAE1BvtB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,GACxBqzD,EAAe3+D,KAAK67D,UAAUvwD,GAAGozD,SAG/BC,EAAap9C,aAAavhB,KAAKsX,KAAKuhB,cAAgB74B,KAAK0J,KAAKoP,IAE1D6lD,EAAavlC,OACfp5B,KAAKo5B,MAAO,GAIpB,EAEAwiC,qBAAqBlwD,UAAU4+C,mBAAqB,WAGlD,GAFAtqD,KAAKy7D,iBAEAz7D,KAAK0J,KAAKi0D,aAAe39D,KAAKo5B,QACjCp5B,KAAKg7D,aAAanC,YAAY74D,KAAKo3D,aAAazG,YAAa3wD,KAAK04D,oBAE9D14D,KAAK04D,oBAAsB14D,KAAKg7D,aAAatC,oBAAoB,CAEnE,IAAIptD,EACAE,EAFJxL,KAAK0oD,cAAe,EAGpB,IAGIuW,EACAC,EACAP,EALAlG,EAAkBz4D,KAAKg7D,aAAavC,gBACpClE,EAAUv0D,KAAKo3D,aAAazG,YAAYlvB,EAM5C,IALAj2B,EAAM+oD,EAAQrxD,OAKToI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACnBipD,EAAQjpD,GAAGoqB,IACdupC,EAAiBxG,EAAgBntD,GACjC4zD,EAAWl/D,KAAK67D,UAAUvwD,GAAGkzD,MAC7BG,EAAe3+D,KAAK67D,UAAUvwD,GAAGozD,QAG/BC,EAAa93C,cAGXo4C,EAAe7lC,KAAKsI,GACtBw9B,EAAS/0D,aAAa,YAAa80D,EAAev9B,GAGhDu9B,EAAe7lC,KAAKxhB,GACtBsnD,EAAS/0D,aAAa,UAAW80D,EAAernD,GAG9CqnD,EAAe7lC,KAAKg3B,IACtB8O,EAAS/0D,aAAa,eAAgB80D,EAAe7O,IAGnD6O,EAAe7lC,KAAK6hB,IACtBikB,EAAS/0D,aAAa,SAAU80D,EAAehkB,IAG7CgkB,EAAe7lC,KAAKi3B,IACtB6O,EAAS/0D,aAAa,OAAQ80D,EAAe5O,IAIrD,CAEJ,EAMAllD,gBAAgB,CAAC88C,eAAgB6T,eAEjCA,cAAcpwD,UAAU2+C,cAAgB,WACtC,IAAIzG,EAAO/uC,SAAS,QAIpB+uC,EAAKz5C,aAAa,QAASnK,KAAK0J,KAAK0mD,IACrCxM,EAAKz5C,aAAa,SAAUnK,KAAK0J,KAAK4sB,IACtCstB,EAAKz5C,aAAa,OAAQnK,KAAK0J,KAAKuxC,IACpCj7C,KAAK2gD,aAAav2C,YAAYw5C,EAChC,EAUAmY,YAAYrwD,UAAU6V,aAAe,SAAUo7B,GAC7C38C,KAAK+gD,kBAAkBpE,GAAK,EAC9B,EAEAof,YAAYrwD,UAAUmb,YAAc,WAAa,EAEjDk1C,YAAYrwD,UAAUw1C,eAAiB,WACrC,OAAO,IACT,EAEA6a,YAAYrwD,UAAUmT,QAAU,WAAa,EAE7Ck9C,YAAYrwD,UAAUyxC,iBAAmB,WAAa,EAEtD4e,YAAYrwD,UAAUwd,KAAO,WAAa,EAE1C/d,gBAAgB,CAACozC,YAAagF,iBAAkBwE,iBAAkBvJ,cAAeud,aAIjF5wD,gBAAgB,CAACk0C,cAAe2c,iBAEhCA,gBAAgBtwD,UAAUs2C,WAAa,SAAUt4C,GAC/C,OAAO,IAAIqyD,YAAYryD,EAAM1J,KAAK+jB,WAAY/jB,KAChD,EAEAg8D,gBAAgBtwD,UAAUu2C,YAAc,SAAUv4C,GAChD,OAAO,IAAIsmD,gBAAgBtmD,EAAM1J,KAAK+jB,WAAY/jB,KACpD,EAEAg8D,gBAAgBtwD,UAAUw2C,WAAa,SAAUx4C,GAC/C,OAAO,IAAIkyD,qBAAqBlyD,EAAM1J,KAAK+jB,WAAY/jB,KACzD,EAEAg8D,gBAAgBtwD,UAAUm2C,YAAc,SAAUn4C,GAChD,OAAO,IAAIu+C,cAAcv+C,EAAM1J,KAAK+jB,WAAY/jB,KAClD,EAEAg8D,gBAAgBtwD,UAAUq2C,YAAc,SAAUr4C,GAChD,OAAO,IAAIoyD,cAAcpyD,EAAM1J,KAAK+jB,WAAY/jB,KAClD,EAEAg8D,gBAAgBtwD,UAAU4X,gBAAkB,SAAUyC,GACpD/lB,KAAKs8D,WAAWnyD,aAAa,QAAS,8BACtCnK,KAAKs8D,WAAWnyD,aAAa,cAAe,gCAExCnK,KAAKg9C,aAAaigB,YACpBj9D,KAAKs8D,WAAWnyD,aAAa,UAAWnK,KAAKg9C,aAAaigB,aAE1Dj9D,KAAKs8D,WAAWnyD,aAAa,UAAW,OAAS4b,EAAS0wB,EAAI,IAAM1wB,EAASjT,GAG1E9S,KAAKg9C,aAAaggB,cACrBh9D,KAAKs8D,WAAWnyD,aAAa,QAAS4b,EAAS0wB,GAC/Cz2C,KAAKs8D,WAAWnyD,aAAa,SAAU4b,EAASjT,GAChD9S,KAAKs8D,WAAWtrD,MAAMqL,MAAQ,OAC9Brc,KAAKs8D,WAAWtrD,MAAMsL,OAAS,OAC/Btc,KAAKs8D,WAAWtrD,MAAM8wB,UAAY,qBAClC9hC,KAAKs8D,WAAWtrD,MAAM+rD,kBAAoB/8D,KAAKg9C,aAAa+f,mBAG1D/8D,KAAKg9C,aAAa3gC,OACpBrc,KAAKs8D,WAAWnyD,aAAa,QAASnK,KAAKg9C,aAAa3gC,OAGtDrc,KAAKg9C,aAAa1gC,QACpBtc,KAAKs8D,WAAWnyD,aAAa,SAAUnK,KAAKg9C,aAAa1gC,QAGvDtc,KAAKg9C,aAAakgB,WACpBl9D,KAAKs8D,WAAWnyD,aAAa,QAASnK,KAAKg9C,aAAakgB,WAGtDl9D,KAAKg9C,aAAat0C,IACpB1I,KAAKs8D,WAAWnyD,aAAa,KAAMnK,KAAKg9C,aAAat0C,SAGnBwb,IAAhClkB,KAAKg9C,aAAamgB,WACpBn9D,KAAKs8D,WAAWnyD,aAAa,YAAanK,KAAKg9C,aAAamgB,WAG9Dn9D,KAAKs8D,WAAWnyD,aAAa,sBAAuBnK,KAAKg9C,aAAa8f,qBAGtE98D,KAAKmjD,cAAcx/B,QAAQvZ,YAAYpK,KAAKs8D,YAE5C,IAAIt4C,EAAOhkB,KAAK+jB,WAAWC,KAC3BhkB,KAAKijD,gBAAgBl9B,EAAU/B,GAC/BhkB,KAAK+jB,WAAWw+B,gBAAkBviD,KAAKg9C,aAAauF,gBACpDviD,KAAK0J,KAAOqc,EACZ,IAAI09B,EAAc5uC,SAAS,YACvB+uC,EAAO/uC,SAAS,QACpB+uC,EAAKz5C,aAAa,QAAS4b,EAAS0wB,GACpCmN,EAAKz5C,aAAa,SAAU4b,EAASjT,GACrC8wC,EAAKz5C,aAAa,IAAK,GACvBy5C,EAAKz5C,aAAa,IAAK,GACvB,IAAI2jD,EAASn7C,kBACb8wC,EAAYt5C,aAAa,KAAM2jD,GAC/BrK,EAAYr5C,YAAYw5C,GACxB5jD,KAAK2gD,aAAax2C,aAAa,YAAa,OAASa,kBAAoB,IAAM8iD,EAAS,KACxF9pC,EAAK5Z,YAAYq5C,GACjBzjD,KAAKmW,OAAS4P,EAAS5P,OACvBnW,KAAKmzC,SAAW7kC,iBAAiByX,EAAS5P,OAAOjT,OACnD,EAEA84D,gBAAgBtwD,UAAUmT,QAAU,WAOlC,IAAIvT,EANAtL,KAAKmjD,cAAcx/B,UACrB3jB,KAAKmjD,cAAcx/B,QAAQ5Z,UAAY,IAGzC/J,KAAK2gD,aAAe,KACpB3gD,KAAK+jB,WAAWC,KAAO,KAEvB,IAAIxY,EAAMxL,KAAKmW,OAASnW,KAAKmW,OAAOjT,OAAS,EAE7C,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBtL,KAAKmzC,SAAS7nC,IAAMtL,KAAKmzC,SAAS7nC,GAAGuT,SACvC7e,KAAKmzC,SAAS7nC,GAAGuT,UAIrB7e,KAAKmzC,SAASjwC,OAAS,EACvBlD,KAAKs9D,WAAY,EACjBt9D,KAAKmjD,cAAgB,IACvB,EAEA6Y,gBAAgBtwD,UAAUib,oBAAsB,WAAa,EAE7Dq1C,gBAAgBtwD,UAAUyzD,eAAiB,SAAU7pC,GACnD,IAAIhqB,EAAI,EACJE,EAAMxL,KAAKmW,OAAOjT,OAEtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,GAAItL,KAAKmW,OAAO7K,GAAGgqB,MAAQA,EACzB,OAAOhqB,EAIX,OAAQ,CACV,EAEA0wD,gBAAgBtwD,UAAU+1C,UAAY,SAAUpmB,GAC9C,IAAI8X,EAAWnzC,KAAKmzC,SAEpB,IAAIA,EAAS9X,IAAgC,KAAxBr7B,KAAKmW,OAAOklB,GAAKrkB,GAAtC,CAIAm8B,EAAS9X,IAAO,EAChB,IAAItqB,EAAU/Q,KAAK2hD,WAAW3hD,KAAKmW,OAAOklB,IAa1C,GAZA8X,EAAS9X,GAAOtqB,EAEZuD,yBAC0B,IAAxBtU,KAAKmW,OAAOklB,GAAKrkB,IACnBhX,KAAK+jB,WAAWZ,iBAAiBhC,oBAAoBpQ,GAGvDA,EAAQuU,mBAGVtlB,KAAKo/D,mBAAmBruD,EAASsqB,GAE7Br7B,KAAKmW,OAAOklB,GAAK0tB,GAAI,CACvB,IAAIsW,EAAe,OAAQr/D,KAAKmW,OAAOklB,GAAOr7B,KAAKm/D,eAAen/D,KAAKmW,OAAOklB,GAAKikC,IAAMjkC,EAAM,EAE/F,IAAsB,IAAlBgkC,EACF,OAGF,GAAKr/D,KAAKmzC,SAASksB,KAAiD,IAAhCr/D,KAAKmzC,SAASksB,GAG3C,CACL,IACIE,EADepsB,EAASksB,GACC7V,SAASxpD,KAAKmW,OAAOklB,GAAK0tB,IACvDh4C,EAAQm5C,SAASqV,EACnB,MANEv/D,KAAKyhD,UAAU4d,GACfr/D,KAAK6iD,kBAAkB9xC,EAM3B,CA/BA,CAgCF,EAEAirD,gBAAgBtwD,UAAUg2C,qBAAuB,WAC/C,KAAO1hD,KAAK8iD,gBAAgB5/C,QAAQ,CAClC,IAAI6N,EAAU/Q,KAAK8iD,gBAAgBzZ,MAGnC,GAFAt4B,EAAQq5C,iBAEJr5C,EAAQrH,KAAKq/C,GAIf,IAHA,IAAIz9C,EAAI,EACJE,EAAMxL,KAAKmzC,SAASjwC,OAEjBoI,EAAIE,GAAK,CACd,GAAIxL,KAAKmzC,SAAS7nC,KAAOyF,EAAS,CAChC,IAAIsuD,EAAe,OAAQtuD,EAAQrH,KAAO1J,KAAKm/D,eAAepuD,EAAQrH,KAAK41D,IAAMh0D,EAAI,EAEjFi0D,EADev/D,KAAKmzC,SAASksB,GACJ7V,SAASxpD,KAAKmW,OAAO7K,GAAGy9C,IACrDh4C,EAAQm5C,SAASqV,GACjB,KACF,CAEAj0D,GAAK,CACP,CAEJ,CACF,EAEA0wD,gBAAgBtwD,UAAUmb,YAAc,SAAU81B,GAChD,GAAI38C,KAAK64B,gBAAkB8jB,IAAO38C,KAAKs9D,UAAvC,CAgBA,IAAIhyD,EAZQ,OAARqxC,EACFA,EAAM38C,KAAK64B,cAEX74B,KAAK64B,cAAgB8jB,EAKvB38C,KAAK+jB,WAAWoQ,SAAWwoB,EAC3B38C,KAAK+jB,WAAWuV,SAAW,EAC3Bt5B,KAAK+jB,WAAWZ,iBAAiB1B,aAAek7B,EAChD38C,KAAK+jB,WAAWqV,MAAO,EAEvB,IAAI5tB,EAAMxL,KAAKmW,OAAOjT,OAMtB,IAJKlD,KAAKkW,gBACRlW,KAAKwhD,YAAY7E,GAGdrxC,EAAIE,EAAM,EAAGF,GAAK,EAAGA,GAAK,GACzBtL,KAAKkW,gBAAkBlW,KAAKmzC,SAAS7nC,KACvCtL,KAAKmzC,SAAS7nC,GAAGiW,aAAao7B,EAAM38C,KAAKmW,OAAO7K,GAAGwN,IAIvD,GAAI9Y,KAAK+jB,WAAWqV,KAClB,IAAK9tB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,GACpBtL,KAAKkW,gBAAkBlW,KAAKmzC,SAAS7nC,KACvCtL,KAAKmzC,SAAS7nC,GAAGub,aA9BvB,CAkCF,EAEAm1C,gBAAgBtwD,UAAU0zD,mBAAqB,SAAUruD,EAASsqB,GAChE,IAAI1M,EAAa5d,EAAQmwC,iBAEzB,GAAKvyB,EAAL,CAOA,IAHA,IACI6wC,EADAl0D,EAAI,EAGDA,EAAI+vB,GACLr7B,KAAKmzC,SAAS7nC,KAA2B,IAArBtL,KAAKmzC,SAAS7nC,IAAetL,KAAKmzC,SAAS7nC,GAAG41C,mBACpEse,EAAcx/D,KAAKmzC,SAAS7nC,GAAG41C,kBAGjC51C,GAAK,EAGHk0D,EACFx/D,KAAK2gD,aAAa8e,aAAa9wC,EAAY6wC,GAE3Cx/D,KAAK2gD,aAAav2C,YAAYukB,EAhBhC,CAkBF,EAEAqtC,gBAAgBtwD,UAAUwd,KAAO,WAC/BlpB,KAAK2gD,aAAa3vC,MAAME,QAAU,MACpC,EAEA8qD,gBAAgBtwD,UAAUyd,KAAO,WAC/BnpB,KAAK2gD,aAAa3vC,MAAME,QAAU,OACpC,EAIA/F,gBAAgB,CAACozC,YAAagF,iBAAkBwE,iBAAkBvJ,aAAcwJ,sBAAuBiU,cAEvGA,aAAavwD,UAAUw8C,YAAc,SAAUx+C,EAAMqa,EAAYzM,GAC/DtX,KAAKg0B,YACLh0B,KAAK2+C,aAAaj1C,EAAMqa,EAAYzM,GACpCtX,KAAK+kD,cAAcr7C,EAAMqa,EAAYzM,GACrCtX,KAAKk8C,iBACLl8C,KAAKmqD,gBACLnqD,KAAKsoD,sBACLtoD,KAAKuoD,0BACLvoD,KAAKupD,8BAEDvpD,KAAK0J,KAAK8X,IAAOuC,EAAWw+B,iBAC9BviD,KAAKqiD,gBAGPriD,KAAKkpB,MACP,EAcA+yC,aAAavwD,UAAU6V,aAAe,SAAUo7B,GAK9C,GAJA38C,KAAKo5B,MAAO,EACZp5B,KAAK08C,uBAAuBC,GAC5B38C,KAAK+gD,kBAAkBpE,EAAK38C,KAAKm8C,WAE5Bn8C,KAAKm8C,WAAcn8C,KAAK0J,KAAK8X,GAAlC,CAIA,GAAKxhB,KAAK4gB,GAAGs+B,aASXl/C,KAAK64B,cAAgB8jB,EAAM38C,KAAK0J,KAAKqP,OATZ,CACzB,IAAIsoC,EAAerhD,KAAK4gB,GAAG5N,EAEvBquC,IAAiBrhD,KAAK0J,KAAKmP,KAC7BwoC,EAAerhD,KAAK0J,KAAKmP,GAAK,GAGhC7Y,KAAK64B,cAAgBwoB,CACvB,CAIA,IAAI/1C,EACAE,EAAMxL,KAAKmzC,SAASjwC,OAOxB,IALKlD,KAAKkW,gBACRlW,KAAKwhD,YAAYxhD,KAAK64B,eAInBvtB,EAAIE,EAAM,EAAGF,GAAK,EAAGA,GAAK,GACzBtL,KAAKkW,gBAAkBlW,KAAKmzC,SAAS7nC,MACvCtL,KAAKmzC,SAAS7nC,GAAGiW,aAAavhB,KAAK64B,cAAgB74B,KAAKmW,OAAO7K,GAAGwN,IAE9D9Y,KAAKmzC,SAAS7nC,GAAG8tB,OACnBp5B,KAAKo5B,MAAO,GA3BlB,CA+BF,EAEA6iC,aAAavwD,UAAU4+C,mBAAqB,WAC1C,IAAIh/C,EACAE,EAAMxL,KAAKmW,OAAOjT,OAEtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,GACpBtL,KAAKkW,gBAAkBlW,KAAKmzC,SAAS7nC,KACvCtL,KAAKmzC,SAAS7nC,GAAGub,aAGvB,EAEAo1C,aAAavwD,UAAUg0D,YAAc,SAAUxrB,GAC7Cl0C,KAAKmzC,SAAWe,CAClB,EAEA+nB,aAAavwD,UAAUi0D,YAAc,WACnC,OAAO3/D,KAAKmzC,QACd,EAEA8oB,aAAavwD,UAAUk0D,gBAAkB,WACvC,IAAIt0D,EACAE,EAAMxL,KAAKmW,OAAOjT,OAEtB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBtL,KAAKmzC,SAAS7nC,IAChBtL,KAAKmzC,SAAS7nC,GAAGuT,SAGvB,EAEAo9C,aAAavwD,UAAUmT,QAAU,WAC/B7e,KAAK4/D,kBACL5/D,KAAKspD,oBACP,EAcAn+C,gBAAgB,CAAC6wD,gBAAiBC,aAAcnU,gBAAiBoU,gBAEjEA,eAAexwD,UAAUo2C,WAAa,SAAUp4C,GAC9C,OAAO,IAAIwyD,eAAexyD,EAAM1J,KAAK+jB,WAAY/jB,KACnD,EAqEAmL,gBAAgB,CAAC6wD,iBAAkBI,aAEnCA,YAAY1wD,UAAUo2C,WAAa,SAAUp4C,GAC3C,OAAO,IAAIwyD,eAAexyD,EAAM1J,KAAK+jB,WAAY/jB,KACnD,EAQAu9D,sBAAsB7xD,UAAY,CAChCm0D,qBAAsB,SAA8B3Z,GAClD,IAAI56C,EACAE,EAAM06C,EAAWhjD,OACjB+D,EAAM,IAEV,IAAKqE,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBrE,GAAOi/C,EAAW56C,GAAGw2B,UAAU76B,IAAM,IAGvC,IAAI64D,EAAW9/D,KAAKw9D,UAAUv2D,GAY9B,OAVK64D,IACHA,EAAW,CACT5Z,WAAY,GAAGr7B,OAAOq7B,GACtBpJ,eAAgB,IAAI1c,OACpBhH,MAAM,GAERp5B,KAAKw9D,UAAUv2D,GAAO64D,EACtB9/D,KAAKy9D,aAAa7wD,KAAKkzD,IAGlBA,CACT,EACAC,gBAAiB,SAAyBD,EAAUxZ,GAKlD,IAJA,IAAIh7C,EAAI,EACJE,EAAMs0D,EAAS5Z,WAAWhjD,OAC1Bk2B,EAAOktB,EAEJh7C,EAAIE,IAAQ86C,GAAc,CAC/B,GAAIwZ,EAAS5Z,WAAW56C,GAAGw2B,UAAU4S,OAAOtb,KAAM,CAChDA,GAAO,EACP,KACF,CAEA9tB,GAAK,CACP,CAEA,GAAI8tB,EAGF,IAFA0mC,EAAShjB,eAAeh7C,QAEnBwJ,EAAIE,EAAM,EAAGF,GAAK,EAAGA,GAAK,EAC7Bw0D,EAAShjB,eAAejZ,SAASi8B,EAAS5Z,WAAW56C,GAAGw2B,UAAU4S,OAAO1hC,GAI7E8sD,EAAS1mC,KAAOA,CAClB,EACA4mC,iBAAkB,SAA0B1Z,GAC1C,IAAIh7C,EACAE,EAAMxL,KAAKy9D,aAAav6D,OAE5B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAK+/D,gBAAgB//D,KAAKy9D,aAAanyD,GAAIg7C,EAE/C,EACA2Z,UAAW,WAET,OADAjgE,KAAK09D,qBAAuB,EACrB,IAAM19D,KAAK09D,mBACpB,GAGF,IAAIwC,WAAa,WACf,IAAIx3D,EAAK,+BACLy3D,EAAa,KACbC,EAAgB,KAChBC,EAAM,KA4CV,SAASC,IAtBT,IACMC,EAEAzZ,EACAhjB,EAmBCq8B,IAtBDI,EAAO1rD,SAAS,OAEhBiyC,EAAMjyC,SAAS,UACfivB,EAASjvB,SAAS,iBACtBiyC,EAAI38C,aAAa,KAAMzB,GACvBo7B,EAAO35B,aAAa,OAAQ,UAC5B25B,EAAO35B,aAAa,8BAA+B,QACnD25B,EAAO35B,aAAa,SAAU,sFAC9B28C,EAAI18C,YAAY05B,GAEhBy8B,EAAKn2D,YAAY08C,GAEjByZ,EAAKp2D,aAAa,KAAMzB,EAAK,QAEzBs+C,eAAeC,gBACjBsZ,EAAKvvD,MAAME,QAAU,QAQrBmvD,EALKE,EAMLt/D,SAASC,KAAKkJ,YAAYi2D,GAC1BF,EAAal1D,UAAU,WACvBm1D,EAAgBD,EAAW3jD,WAAW,OAExBtT,OAAS,QAAUR,EAAK,IACtC03D,EAAc3jD,UAAY,gBAC1B2jD,EAAc1jD,SAAS,EAAG,EAAG,EAAG,GAEpC,CAcA,MAAO,CACLlC,KAAM8lD,EACN3zC,IAdF,SAAiBvQ,GASf,OARK+jD,GACHG,IAGFH,EAAW9jD,MAAQD,EAAOC,MAC1B8jD,EAAW7jD,OAASF,EAAOE,OAE3B8jD,EAAcl3D,OAAS,QAAUR,EAAK,IAC/By3D,CACT,EAMF,EAEA,SAASK,aAAankD,EAAOC,GAC3B,GAAI0qC,eAAeE,gBACjB,OAAO,IAAI1O,gBAAgBn8B,EAAOC,GAGpC,IAAIF,EAASnR,UAAU,UAGvB,OAFAmR,EAAOC,MAAQA,EACfD,EAAOE,OAASA,EACTF,CACT,CAEA,IAAIpC,YACK,CACLymD,eAAgBP,WAAW1lD,KAC3BkmD,cAAeR,WAAWvzC,IAC1B6zC,cAIAG,kBAAoB,CAAC,EAEzB,SAASC,UAAUz2C,GACjB,IAAI7e,EAGAg8C,EAFA97C,EAAM2e,EAAKzgB,KAAKy0C,GAAKh0B,EAAKzgB,KAAKy0C,GAAGj7C,OAAS,EAI/C,IAHAlD,KAAKynD,QAAU,GAGVn8C,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAC3Bg8C,EAAgB,KAChB,IAAIp9C,EAAOigB,EAAKzgB,KAAKy0C,GAAG7yC,GAAG0L,GAEvB2pD,kBAAkBz2D,KAEpBo9C,EAAgB,IAAII,EADPiZ,kBAAkBz2D,GAAMy9C,QACVx9B,EAAK02B,eAAezC,eAAe9yC,GAAI6e,IAGhEm9B,GACFtnD,KAAKynD,QAAQ76C,KAAK06C,EAEtB,CAEItnD,KAAKynD,QAAQvkD,QACfinB,EAAKoyB,uBAAuBv8C,KAEhC,CAyBA,SAAS6gE,eAAen4D,EAAIi/C,GAC1BgZ,kBAAkBj4D,GAAM,CACtBi/C,OAAQA,EAEZ,CAEA,SAASmZ,cAAcp3D,EAAMqH,GAK3B,IAAIzF,EAJJtL,KAAK0J,KAAOA,EACZ1J,KAAK+Q,QAAUA,EACf/Q,KAAK6W,gBAAkB7W,KAAK0J,KAAKmN,iBAAmB,GACpD7W,KAAK0jD,SAAWp1C,iBAAiBtO,KAAK6W,gBAAgB3T,QAEtD,IAAIsI,EAAMxL,KAAK6W,gBAAgB3T,OAC3B69D,GAAW,EAEf,IAAKz1D,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACa,MAAjCtL,KAAK6W,gBAAgBvL,GAAGkyC,OAC1BujB,GAAW,GAGb/gE,KAAK0jD,SAASp4C,GAAKuxB,qBAAqBsnB,aAAankD,KAAK+Q,QAAS/Q,KAAK6W,gBAAgBvL,GAAI,GAG9FtL,KAAK+gE,SAAWA,EAEZA,GACF/gE,KAAK+Q,QAAQwrC,uBAAuBv8C,KAExC,CAoDA,SAASghE,gBAAiB,CAvG1BJ,UAAUl1D,UAAUmb,YAAc,SAAU4S,GAC1C,IAAInuB,EACAE,EAAMxL,KAAKynD,QAAQvkD,OAEvB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKynD,QAAQn8C,GAAGub,YAAY4S,EAEhC,EAEAmnC,UAAUl1D,UAAUs6C,WAAa,SAAU97C,GACzC,IAAIoB,EACAE,EAAMxL,KAAKynD,QAAQvkD,OACnBg7C,EAAU,GAEd,IAAK5yC,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBtL,KAAKynD,QAAQn8C,GAAGpB,OAASA,GAC3Bg0C,EAAQtxC,KAAK5M,KAAKynD,QAAQn8C,IAI9B,OAAO4yC,CACT,EAgCA4iB,cAAcp1D,UAAUmb,YAAc,WACpC,GAAK7mB,KAAK+gE,SAAV,CAIA,IAEIz1D,EAEAwL,EACAkuB,EACAt7B,EANAo4B,EAAY9hC,KAAK+Q,QAAQ+rC,eAAe9R,IACxCzuB,EAAMvc,KAAK+Q,QAAQkwD,cAEnBz1D,EAAMxL,KAAK6W,gBAAgB3T,OAM/B,IAFAqZ,EAAI2kD,YAEC51D,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,GAAqC,MAAjCtL,KAAK6W,gBAAgBvL,GAAGkyC,KAAc,CAYxC,IAAIlnC,EAXAtW,KAAK6W,gBAAgBvL,GAAGonC,MAC1Bn2B,EAAI4kD,OAAO,EAAG,GACd5kD,EAAI6kD,OAAOphE,KAAK+Q,QAAQgT,WAAWq/B,SAAS3M,EAAG,GAC/Cl6B,EAAI6kD,OAAOphE,KAAK+Q,QAAQgT,WAAWq/B,SAAS3M,EAAGz2C,KAAK+Q,QAAQgT,WAAWq/B,SAAStwC,GAChFyJ,EAAI6kD,OAAO,EAAGphE,KAAK+Q,QAAQgT,WAAWq/B,SAAStwC,GAC/CyJ,EAAI6kD,OAAO,EAAG,IAGhB13D,EAAO1J,KAAK0jD,SAASp4C,GAAG0H,EACxB8D,EAAKgrB,EAAUgD,kBAAkBp7B,EAAKsJ,EAAE,GAAG,GAAItJ,EAAKsJ,EAAE,GAAG,GAAI,GAC7DuJ,EAAI4kD,OAAOrqD,EAAG,GAAIA,EAAG,IAErB,IAAIP,EAAO7M,EAAK8kB,QAEhB,IAAKlY,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB0uB,EAAMlD,EAAUoD,oBAAoBx7B,EAAKkO,EAAEtB,EAAI,GAAI5M,EAAK4B,EAAEgL,GAAI5M,EAAKsJ,EAAEsD,IACrEiG,EAAI8kD,cAAcr8B,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGhEA,EAAMlD,EAAUoD,oBAAoBx7B,EAAKkO,EAAEtB,EAAI,GAAI5M,EAAK4B,EAAE,GAAI5B,EAAKsJ,EAAE,IACrEuJ,EAAI8kD,cAAcr8B,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAChE,CAGFhlC,KAAK+Q,QAAQgT,WAAWpB,SAAS2+C,MAAK,GACtC/kD,EAAIglD,MAtCJ,CAuCF,EAEAT,cAAcp1D,UAAU26C,gBAAkB7C,YAAY93C,UAAU26C,gBAEhEya,cAAcp1D,UAAUmT,QAAU,WAChC7e,KAAK+Q,QAAU,IACjB,EAIA,IAAIywD,cAAgB,CAClB,EAAG,YACH,EAAG,aACH,EAAG,YACH,EAAG,cA4JL,SAASC,YAAY1wD,EAASrH,EAAMmoC,EAAQ6vB,GAC1C1hE,KAAK2hE,aAAe,GACpB3hE,KAAKkyC,GAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1B,IAWI5mC,EAXA0L,EAAK,EAEO,OAAZtN,EAAKsN,GACPA,EAAK,EACgB,OAAZtN,EAAKsN,GACdA,EAAK,EACgB,OAAZtN,EAAKsN,KACdA,EAAK,GAGPhX,KAAKs2B,GAAKuG,qBAAqBsnB,aAAapzC,EAASrH,EAAMsN,EAAIjG,GAE/D,IACI6wD,EADAp2D,EAAMqmC,EAAO3uC,OAGjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACnBumC,EAAOvmC,GAAGoO,SACbkoD,EAAc,CACZ1b,WAAYwb,EAAkB7B,qBAAqBhuB,EAAOvmC,GAAG46C,YAC7D2b,QAAS,IAEX7hE,KAAK2hE,aAAa/0D,KAAKg1D,GACvB/vB,EAAOvmC,GAAG6nC,SAASvmC,KAAKg1D,GAG9B,CAIA,SAASE,eAAep4D,EAAMqa,EAAYzM,GACxCtX,KAAKoX,OAAS,GACdpX,KAAKogD,WAAa12C,EAAK0N,OACvBpX,KAAKiwD,WAAa,GAClBjwD,KAAKqgD,UAAY,GACjBrgD,KAAKitD,aAAe,GACpBjtD,KAAK2qD,eAAiB,GACtB3qD,KAAKgrD,kBAAoB,GACzBhrD,KAAK0hE,kBAAoB,IAAInE,sBAC7Bv9D,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,EACrC,CA4hBA,SAASyqD,cAAcr4D,EAAMqa,EAAYzM,GACvCtX,KAAK67D,UAAY,GACjB77D,KAAKuxD,QAAU,EACfvxD,KAAKoxD,eAAgB,EACrBpxD,KAAKqxD,iBAAkB,EACvBrxD,KAAKsxD,iBAAkB,EACvBtxD,KAAKgiE,QAAS,EACdhiE,KAAKiiE,MAAO,EACZjiE,KAAK+wD,cAAgB,EACrB/wD,KAAKkiE,cAAgB,KACrBliE,KAAKg4D,WAAa,SAClBh4D,KAAKo4B,OAAS,CACZ6pC,KAAM,gBACND,OAAQ,gBACRG,OAAQ,EACRC,OAAQ,IAEVpiE,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,EACrC,CAsOA,SAAS+qD,eAAe34D,EAAMqa,EAAYzM,GACxCtX,KAAKmd,UAAY4G,EAAWkF,aAAavf,EAAKwN,OAC9ClX,KAAKyd,IAAMsG,EAAW26B,YAAY5/B,SAAS9e,KAAKmd,WAChDnd,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,EACrC,CAyCA,SAASgrD,eAAe54D,EAAMqa,EAAYzM,GACxCtX,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,EACrC,CAcA,SAASirD,qBAAsB,CAmU/B,SAASC,gBACPxiE,KAAK4lD,SAAW,EAChB5lD,KAAK8hC,UAAY9zB,iBAAiB,UAAW,IAC7ChO,KAAKyc,UAAY,GACjBzc,KAAKyiE,YAAc,GACnBziE,KAAK40D,UAAY,GACjB50D,KAAK0iE,QAAU,GACf1iE,KAAKwwC,SAAW,GAChBxwC,KAAKywC,WAAa,GAClBzwC,KAAK0I,GAAK4G,KAAKa,QACjB,CAEA,SAASwyD,gBAIP,IAAIr3D,EAGJ,IANAtL,KAAK4iE,MAAQ,GACb5iE,KAAK6iE,QAAU,EACf7iE,KAAK8iE,IAAM,IAAI1iC,OAIV90B,EAAI,EAAGA,EAFF,GAEWA,GAAK,EAAG,CAC3B,IAAI21D,EAAgB,IAAIuB,cACxBxiE,KAAK4iE,MAAMt3D,GAAK21D,CAClB,CAEAjhE,KAAKwuB,QAPK,GAQVxuB,KAAK+iE,cAAgB,KACrB/iE,KAAKgjE,aAAe,IAAI5iC,OACxBpgC,KAAKijE,eAAiB,EAEtBjjE,KAAKkjE,iBAAmB,GACxBljE,KAAKmjE,iBAAmB,GAExBnjE,KAAKojE,mBAAqB,GAC1BpjE,KAAKqjE,mBAAqB,GAE1BrjE,KAAKsjE,iBAAmB,GACxBtjE,KAAKujE,iBAAmB,GAExBvjE,KAAKwjE,eAAiB,GACtBxjE,KAAKyjE,eAAiB,GAEtBzjE,KAAK0jE,gBAAkB,GACvB1jE,KAAK2jE,gBAAkB,GAEvB3jE,KAAK4jE,kBAAoB,GACzB5jE,KAAK6jE,kBAAoB,EAC3B,CAiNA,SAASC,cAAcp6D,EAAMqa,EAAYzM,GACvCtX,KAAKkW,gBAAiB,EACtBlW,KAAKmW,OAASzM,EAAKyM,OACnBnW,KAAK8iD,gBAAkB,GACvB9iD,KAAKmzC,SAAW7kC,iBAAiBtO,KAAKmW,OAAOjT,QAC7ClD,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,GACnCtX,KAAK4gB,GAAKlX,EAAKkX,GAAK0Z,gBAAgBC,QAAQv6B,KAAM0J,EAAKkX,GAAI,EAAGmD,EAAW5B,UAAWniB,MAAQ,CAC1Fk/C,cAAc,EAElB,CAyCA,SAAS6kB,eAAe5gB,EAAekZ,GACrCr8D,KAAKmjD,cAAgBA,EACrBnjD,KAAKg9C,aAAe,CAClBgnB,aAAa3H,QAAiCn4C,IAAvBm4C,EAAO2H,aAA4B3H,EAAO2H,YACjEC,QAAS5H,GAAUA,EAAO4H,SAAW,KACrC1hB,gBAAiB8Z,GAAUA,EAAO9Z,kBAAmB,EACrDua,oBAAqBT,GAAUA,EAAOS,qBAAuB,gBAC7DrS,yBAA0B4R,GAAUA,EAAO5R,0BAA4B,iBACvEsS,kBAAmBV,GAAUA,EAAOU,mBAAqB,UACzDG,UAAWb,GAAUA,EAAOa,WAAa,GACzCx0D,GAAI2zD,GAAUA,EAAO3zD,IAAM,GAC3B20D,gBAAiBhB,QAAoCn4C,IAA1Bm4C,EAAOgB,gBAAgChB,EAAOgB,gBAE3Er9D,KAAKg9C,aAAaknB,IAAM7H,GAAUA,EAAO6H,KAAO,EAE5ClkE,KAAKmjD,cAAcx/B,UACrB3jB,KAAKg9C,aAAaknB,IAAM7H,GAAUA,EAAO6H,KAAOthE,OAAOuhE,kBAAoB,GAG7EnkE,KAAK64B,eAAiB,EACtB74B,KAAK+jB,WAAa,CAChBoQ,UAAW,EACXiF,MAAM,EACN4jB,aAAch9C,KAAKg9C,aACnBonB,oBAAqB,GAEvBpkE,KAAKqkE,YAAc,IAAI1B,cACvB3iE,KAAKmzC,SAAW,GAChBnzC,KAAK8iD,gBAAkB,GACvB9iD,KAAKgjE,aAAe,IAAI5iC,OACxBpgC,KAAKkW,gBAAiB,EACtBlW,KAAKqmB,aAAe,SAEhBrmB,KAAKg9C,aAAagnB,cACpBhkE,KAAKskE,aAAetkE,KAAKqkE,YAAYviC,UAAU/jB,KAAK/d,KAAKqkE,aACzDrkE,KAAKukE,WAAavkE,KAAKqkE,YAAYze,QAAQ7nC,KAAK/d,KAAKqkE,aACrDrkE,KAAKwkE,aAAexkE,KAAKqkE,YAAY5nD,UAAUsB,KAAK/d,KAAKqkE,aACzDrkE,KAAKykE,eAAiBzkE,KAAKqkE,YAAY5B,YAAY1kD,KAAK/d,KAAKqkE,aAC7DrkE,KAAK0kE,aAAe1kE,KAAKqkE,YAAYzP,UAAU72C,KAAK/d,KAAKqkE,aACzDrkE,KAAK2kE,WAAa3kE,KAAKqkE,YAAY3B,QAAQ3kD,KAAK/d,KAAKqkE,aACrDrkE,KAAK4kE,YAAc5kE,KAAKqkE,YAAY7zB,SAASzyB,KAAK/d,KAAKqkE,aACvDrkE,KAAK6kE,cAAgB7kE,KAAKqkE,YAAY5zB,WAAW1yB,KAAK/d,KAAKqkE,aAC3DrkE,KAAK8kE,QAAU9kE,KAAKqkE,YAAYpC,KAAKlkD,KAAK/d,KAAKqkE,aAC/CrkE,KAAK+kE,YAAc/kE,KAAKqkE,YAAY3nD,SAASqB,KAAK/d,KAAKqkE,aACvDrkE,KAAKglE,UAAYhlE,KAAKqkE,YAAYrC,OAAOjkD,KAAK/d,KAAKqkE,aACnDrkE,KAAKshE,KAAOthE,KAAKqkE,YAAY/C,KAAKvjD,KAAK/d,KAAKqkE,aAEhD,CAQA,SAASY,eAAgB,CAwFzB,SAASC,cAAcx7D,EAAMqa,EAAYzM,GACvCtX,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,EACrC,CAwBA,SAAS6tD,cAAcz7D,EAAMqa,EAAYzM,GAEvCtX,KAAKoX,OAAS,GAEdpX,KAAKogD,WAAa12C,EAAK0N,OAEvBpX,KAAKiwD,WAAa,GAElBjwD,KAAK2qD,eAAiB,GAEtB3qD,KAAKqgD,UAAY,GAEjBrgD,KAAKgrD,kBAAoB,GAEzBhrD,KAAKkwD,iBAAmB,GACxBlwD,KAAKolE,gBAAkBvwD,SAAS,KAChC7U,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,GAGnCtX,KAAKitD,aAAe,GACpBjtD,KAAKqlE,YAAc,CACjBz4C,EAAG,OACH6I,GAAI,OACJ3iB,EAAG,EACH2jC,EAAG,EAEP,CA+NA,SAAS6uB,aAAa57D,EAAMqa,EAAYzM,GACtCtX,KAAK67D,UAAY,GACjB77D,KAAKulE,UAAY,GACjBvlE,KAAKqlE,YAAc,CACjBz4C,EAAG,OACH6I,GAAI,OACJ3iB,EAAG,EACH2jC,EAAG,GAELz2C,KAAKg4D,WAAa,MAClBh4D,KAAKwlE,UAAW,EAChBxlE,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,EACrC,CA0RA,SAASmuD,eAAe/7D,EAAMqa,EAAYzM,GACxCtX,KAAKg0B,YACLh0B,KAAK2+C,aAAaj1C,EAAMqa,EAAYzM,GACpCtX,KAAKmqD,gBACL,IAAI5vB,EAAUD,gBAAgBC,QAe9B,GAdAv6B,KAAK0lE,GAAKnrC,EAAQv6B,KAAM0J,EAAKg8D,GAAI,EAAG,EAAG1lE,MAEnC0J,EAAKgO,GAAGrE,EAAEN,GACZ/S,KAAKwqC,GAAKjQ,EAAQv6B,KAAM0J,EAAKgO,GAAGrE,EAAEuZ,EAAG,EAAG,EAAG5sB,MAC3CA,KAAKyqC,GAAKlQ,EAAQv6B,KAAM0J,EAAKgO,GAAGrE,EAAEoiB,EAAG,EAAG,EAAGz1B,MAC3CA,KAAK0qC,GAAKnQ,EAAQv6B,KAAM0J,EAAKgO,GAAGrE,EAAEixB,EAAG,EAAG,EAAGtkC,OAE3CA,KAAKqT,EAAIknB,EAAQv6B,KAAM0J,EAAKgO,GAAGrE,EAAG,EAAG,EAAGrT,MAGtC0J,EAAKgO,GAAGsB,IACVhZ,KAAKgZ,EAAIuhB,EAAQv6B,KAAM0J,EAAKgO,GAAGsB,EAAG,EAAG,EAAGhZ,OAGtC0J,EAAKgO,GAAGonB,GAAGtoB,EAAEtT,QAAUwG,EAAKgO,GAAGonB,GAAGtoB,EAAE,GAAG4e,GAAI,CAC7C,IAAI9pB,EACAE,EAAM9B,EAAKgO,GAAGonB,GAAGtoB,EAAEtT,OAEvB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB5B,EAAKgO,GAAGonB,GAAGtoB,EAAElL,GAAG8pB,GAAK,KACrB1rB,EAAKgO,GAAGonB,GAAGtoB,EAAElL,GAAG+pB,GAAK,IAEzB,CAEAr1B,KAAK8+B,GAAKvE,EAAQv6B,KAAM0J,EAAKgO,GAAGonB,GAAI,EAAGtuB,UAAWxQ,MAClDA,KAAK8+B,GAAGxI,IAAK,EACbt2B,KAAK2qC,GAAKpQ,EAAQv6B,KAAM0J,EAAKgO,GAAGizB,GAAI,EAAGn6B,UAAWxQ,MAClDA,KAAK4qC,GAAKrQ,EAAQv6B,KAAM0J,EAAKgO,GAAGkzB,GAAI,EAAGp6B,UAAWxQ,MAClDA,KAAK6qC,GAAKtQ,EAAQv6B,KAAM0J,EAAKgO,GAAGmzB,GAAI,EAAGr6B,UAAWxQ,MAClDA,KAAKgrC,IAAM,IAAI5K,OACfpgC,KAAK2lE,SAAW,IAAIvlC,OACpBpgC,KAAKy5B,eAAgB,EAErBz5B,KAAK88C,eAAiB,CACpBC,MAAO/8C,KAEX,CAyIA,SAAS4lE,cAAcl8D,EAAMqa,EAAYzM,GACvCtX,KAAKmd,UAAY4G,EAAWkF,aAAavf,EAAKwN,OAC9ClX,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,EACrC,CA4BA,SAASuuD,mBAAmB1iB,EAAekZ,GACzCr8D,KAAKmjD,cAAgBA,EACrBnjD,KAAKmW,OAAS,KACdnW,KAAK64B,eAAiB,EACtB74B,KAAKg9C,aAAe,CAClBkgB,UAAWb,GAAUA,EAAOa,WAAa,GACzCzS,yBAA0B4R,GAAUA,EAAO5R,0BAA4B,iBACvExN,oBAAqBof,IAAuC,IAA7BA,EAAOpf,mBACtCmgB,WAAY,CACV/gD,MAAOggD,GAAUA,EAAOe,YAAcf,EAAOe,WAAW/gD,OAAS,OACjEC,OAAQ+/C,GAAUA,EAAOe,YAAcf,EAAOe,WAAW9gD,QAAU,OACnEsQ,EAAGyvC,GAAUA,EAAOe,YAAcf,EAAOe,WAAWxwC,GAAK,QACzD6I,EAAG4mC,GAAUA,EAAOe,YAAcf,EAAOe,WAAW3nC,GAAK,UAG7Dz1B,KAAK+jB,WAAa,CAChBqV,MAAM,EACNjF,UAAW,EACX6oB,aAAch9C,KAAKg9C,cAErBh9C,KAAK8iD,gBAAkB,GACvB9iD,KAAKmzC,SAAW,GAChBnzC,KAAK8lE,eAAiB,GACtB9lE,KAAKs9D,WAAY,EACjBt9D,KAAK+lE,OAAS,KACd/lE,KAAKm8D,YAAa,EAClBn8D,KAAKqmB,aAAe,MACtB,CAyUA,SAAS2/C,aAAat8D,EAAMqa,EAAYzM,GACtCtX,KAAKmW,OAASzM,EAAKyM,OACnBnW,KAAKm8D,YAAczyD,EAAKiN,QACxB3W,KAAKkW,gBAAiB,EACtBlW,KAAK8iD,gBAAkB,GACvB9iD,KAAKmzC,SAAWnzC,KAAKmW,OAAS7H,iBAAiBtO,KAAKmW,OAAOjT,QAAU,GACrElD,KAAKkoD,YAAYx+C,EAAMqa,EAAYzM,GACnCtX,KAAK4gB,GAAKlX,EAAKkX,GAAK0Z,gBAAgBC,QAAQv6B,KAAM0J,EAAKkX,GAAI,EAAGmD,EAAW5B,UAAWniB,MAAQ,CAC1Fk/C,cAAc,EAElB,CA6CA,SAAS+mB,eAAe9iB,EAAekZ,GACrCr8D,KAAKmjD,cAAgBA,EACrBnjD,KAAKmW,OAAS,KACdnW,KAAK64B,eAAiB,EACtB74B,KAAKg9C,aAAe,CAClBkgB,UAAWb,GAAUA,EAAOa,WAAa,GACzCzS,yBAA0B4R,GAAUA,EAAO5R,0BAA4B,iBACvExN,oBAAqBof,IAAuC,IAA7BA,EAAOpf,mBACtCmgB,WAAY,CACV/gD,MAAOggD,GAAUA,EAAOe,YAAcf,EAAOe,WAAW/gD,OAAS,OACjEC,OAAQ+/C,GAAUA,EAAOe,YAAcf,EAAOe,WAAW9gD,QAAU,OACnEsQ,EAAGyvC,GAAUA,EAAOe,YAAcf,EAAOe,WAAWxwC,GAAK,QACzD6I,EAAG4mC,GAAUA,EAAOe,YAAcf,EAAOe,WAAW3nC,GAAK,SAE3D4nC,gBAAiBhB,QAAoCn4C,IAA1Bm4C,EAAOgB,gBAAgChB,EAAOgB,gBAE3Er9D,KAAK+jB,WAAa,CAChBqV,MAAM,EACNjF,UAAW,EACX6oB,aAAch9C,KAAKg9C,cAErBh9C,KAAK8iD,gBAAkB,GACvB9iD,KAAKmzC,SAAW,GAChBnzC,KAAK8lE,eAAiB,GACtB9lE,KAAKs9D,WAAY,EACjBt9D,KAAK+lE,OAAS,KACd/lE,KAAKm8D,YAAa,EAClBn8D,KAAKqmB,aAAe,MACtB,CAz9FA26C,cAAct1D,UAAY,CACxBw6D,eAAgB,WAA2B,EAC3C5d,oBAAqB,WAAgC,EACrDC,wBAAyB,WAMvB,GAAIvoD,KAAK0J,KAAKq/C,IAAM,EAAG,CACrB/oD,KAAKmmE,QAAU,GACf,IAAIlF,EAAgBjhE,KAAK+jB,WAAWk9C,cAChCmF,EAAepsD,YAAYwmD,aAAaS,EAAc7kD,OAAOC,MAAO4kD,EAAc7kD,OAAOE,QAC7Ftc,KAAKmmE,QAAQv5D,KAAKw5D,GAClB,IAAIC,EAAgBrsD,YAAYwmD,aAAaS,EAAc7kD,OAAOC,MAAO4kD,EAAc7kD,OAAOE,QAC9Ftc,KAAKmmE,QAAQv5D,KAAKy5D,GAEdrmE,KAAK0J,KAAKq/C,IAAM,IAAM9nD,SAASqlE,UACjCtsD,YAAYymD,gBAEhB,CAEAzgE,KAAKihE,cAAgBjhE,KAAK+jB,WAAWk9C,cACrCjhE,KAAKumE,gBAAkBvmE,KAAK+jB,WAAWwiD,gBACvCvmE,KAAK8lD,yBAA2B,IAAI8a,UAAU5gE,MAC9CA,KAAK6lD,wBACP,EACAwE,cAAe,WAA0B,EACzC9J,aAAc,WACZ,IAAIx8B,EAAa/jB,KAAK+jB,WAEtB,GAAIA,EAAWyiD,YAAcxmE,KAAK0J,KAAK+2C,GAAI,CACzC18B,EAAWyiD,UAAYxmE,KAAK0J,KAAK+2C,GACjC,IAAID,EAAiBlD,aAAat9C,KAAK0J,KAAK+2C,IAC5C18B,EAAWk9C,cAAcwF,yBAA2BjmB,CACtD,CACF,EACA+I,2BAA4B,WAC1BvpD,KAAK8/C,YAAc,IAAIghB,cAAc9gE,KAAK0J,KAAM1J,MAChDA,KAAK+lD,iBAAmB/lD,KAAK8lD,yBAAyBE,WAAW3C,YAAYC,iBAC/E,EACAojB,YAAa,WACN1mE,KAAKo8C,QAAYp8C,KAAKm8C,YAAan8C,KAAKq8C,gBAC3Cr8C,KAAKo8C,QAAS,EAElB,EACAuqB,YAAa,WACP3mE,KAAKm8C,YAAcn8C,KAAKq8C,gBAC1Br8C,KAAKo8C,QAAS,EACdp8C,KAAKy5B,eAAgB,EACrBz5B,KAAK8/C,YAAYrmB,eAAgB,EAErC,EACAuqC,YAAa,SAAqB/C,GAChCA,EAAc2F,UAAU5mE,KAAKumE,gBAAgB3kC,GAAI5hC,KAAKumE,gBAAgBvvD,GAAIhX,KAAKumE,gBAAgB9vB,EAAIz2C,KAAKumE,gBAAgBplC,GAAInhC,KAAKumE,gBAAgBzzD,EAAI9S,KAAKumE,gBAAgB/nC,GAC5K,EACAqoC,aAAc,WACZ,GAAI7mE,KAAK0J,KAAKq/C,IAAM,EAAG,CACrB,IACI+d,EADS9mE,KAAKmmE,QAAQ,GACH3pD,WAAW,MAClCxc,KAAKgkE,YAAY8C,GAEjBA,EAAUC,UAAU/mE,KAAKihE,cAAc7kD,OAAQ,EAAG,GAGlDpc,KAAKgzD,iBAAmBhzD,KAAKihE,cAAc+F,eAC3ChnE,KAAKihE,cAAcz/B,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GAC/CxhC,KAAKgkE,YAAYhkE,KAAKihE,eACtBjhE,KAAKihE,cAAcz/B,aAAaxhC,KAAKgzD,iBACvC,CACF,EACAiU,UAAW,WACT,GAAIjnE,KAAK0J,KAAKq/C,IAAM,EAAG,CACrB,IAAIme,EAASlnE,KAAKmmE,QAAQ,GAItBW,EAAYI,EAAO1qD,WAAW,MAclC,GAbAxc,KAAKgkE,YAAY8C,GACjBA,EAAUC,UAAU/mE,KAAKihE,cAAc7kD,OAAQ,EAAG,GAElDpc,KAAKihE,cAAcz/B,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GAC/CxhC,KAAKgkE,YAAYhkE,KAAKihE,eACtBjhE,KAAKihE,cAAcz/B,aAAaxhC,KAAKgzD,kBAE1BhzD,KAAKsX,KAAKyrC,eAAe,OAAQ/iD,KAAK0J,KAAO1J,KAAK0J,KAAK41D,GAAKt/D,KAAK0J,KAAK4rB,IAAM,GAClFzO,aAAY,GAEjB7mB,KAAKihE,cAAcz/B,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GAG3CxhC,KAAK0J,KAAKq/C,IAAM,IAAM9nD,SAASqlE,SAAU,CAG3C,IAAInG,EAAanmD,YAAY0mD,cAAc1gE,KAAKihE,cAAc7kD,QAC1C+jD,EAAW3jD,WAAW,MAC5BuqD,UAAU/mE,KAAKihE,cAAc7kD,OAAQ,EAAG,GACtDpc,KAAKgkE,YAAYhkE,KAAKihE,eAEtBjhE,KAAKihE,cAAc8F,UAAU5G,EAAY,EAAG,EAC9C,CAEAngE,KAAKihE,cAAcwF,yBAA2BjF,cAAcxhE,KAAK0J,KAAKq/C,IACtE/oD,KAAKihE,cAAc8F,UAAUG,EAAQ,EAAG,GAGxClnE,KAAKihE,cAAcwF,yBAA2B,mBAC9CzmE,KAAKihE,cAAc8F,UAAU/mE,KAAKmmE,QAAQ,GAAI,EAAG,GACjDnmE,KAAKihE,cAAcz/B,aAAaxhC,KAAKgzD,kBAErChzD,KAAKihE,cAAcwF,yBAA2B,aAChD,CACF,EACA5/C,YAAa,SAAqBokB,GAChC,IAAIjrC,KAAKo8C,SAAUp8C,KAAK0J,KAAKu/C,KAIR,IAAjBjpD,KAAK0J,KAAKk/C,IAAa3d,GAA3B,CAIAjrC,KAAKslD,kBACLtlD,KAAKk9C,mBACLl9C,KAAKwlD,uBACLxlD,KAAKugD,eACL,IAAI4mB,EAAkC,IAAjBnnE,KAAK0J,KAAKsN,GAC/BhX,KAAK6mE,eACL7mE,KAAK+jB,WAAWpB,SAAS2+C,KAAK6F,GAC9BnnE,KAAK+jB,WAAWpB,SAAS2hD,aAAatkE,KAAK88C,eAAeqI,SAASzkB,OACnE1gC,KAAK+jB,WAAWpB,SAAS4hD,WAAWvkE,KAAK88C,eAAesI,cACxDplD,KAAKsqD,qBACLtqD,KAAK+jB,WAAWpB,SAASykD,QAAQD,GACjCnnE,KAAKinE,YAEDjnE,KAAK8/C,YAAYihB,UACnB/gE,KAAK+jB,WAAWpB,SAASykD,SAAQ,GAG/BpnE,KAAKy5B,gBACPz5B,KAAKy5B,eAAgB,EApBvB,CAsBF,EACA5a,QAAS,WACP7e,KAAKihE,cAAgB,KACrBjhE,KAAK0J,KAAO,KACZ1J,KAAK+jB,WAAa,KAClB/jB,KAAK8/C,YAAYjhC,SACnB,EACAunC,QAAS,IAAIhmB,QAEf4gC,cAAct1D,UAAUwd,KAAO83C,cAAct1D,UAAUg7D,YACvD1F,cAAct1D,UAAUyd,KAAO63C,cAAct1D,UAAUi7D,YAgCvDlF,YAAY/1D,UAAUs8B,cAAgBojB,aAAa1/C,UAAUs8B,cAc7D78B,gBAAgB,CAACozC,YAAagF,iBAAkByd,cAAe3Y,cAAeN,iBAAkBvJ,aAAczC,mBAAoB+lB,gBAClIA,eAAep2D,UAAUw8C,YAAcF,qBAAqBt8C,UAAUw8C,YACtE4Z,eAAep2D,UAAU27D,gBAAkB,CACzCzhB,QAAS,EACTV,QAAQ,GAEV4c,eAAep2D,UAAU47D,aAAe,GAExCxF,eAAep2D,UAAU2+C,cAAgB,WACvCrqD,KAAKiyD,aAAajyD,KAAKogD,WAAYpgD,KAAKqgD,UAAWrgD,KAAKitD,cAAc,EAAM,GAC9E,EAEA6U,eAAep2D,UAAU4mD,mBAAqB,SAAU5oD,EAAMw8C,GAC5D,IAAImJ,EAAY,CACd3lD,KAAMA,EACNQ,KAAMR,EAAKsN,GACXuwD,cAAevnE,KAAK0hE,kBAAkB7B,qBAAqB3Z,GAC3DA,WAAY,GACZ/S,SAAU,GACVz5B,QAAoB,IAAZhQ,EAAKu/C,IAEXsJ,EAAc,CAAC,EAsBnB,GApBgB,OAAZ7oD,EAAKsN,IAA2B,OAAZtN,EAAKsN,IAC3Bu7C,EAAYh5C,EAAI+gB,gBAAgBC,QAAQv6B,KAAM0J,EAAK6P,EAAG,EAAG,IAAKvZ,MAEzDuyD,EAAYh5C,EAAE/C,IACjB64C,EAAUmY,GAAK,OAAS93D,QAAQ6iD,EAAYh5C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQ6iD,EAAYh5C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQ6iD,EAAYh5C,EAAEvG,EAAE,IAAM,MAE3G,OAAZtJ,EAAKsN,IAA2B,OAAZtN,EAAKsN,KAClCu7C,EAAYx/C,EAAIunB,gBAAgBC,QAAQv6B,KAAM0J,EAAKqJ,EAAG,EAAG,KAAM/S,MAC/DuyD,EAAYhyD,EAAI+5B,gBAAgBC,QAAQv6B,KAAM0J,EAAKnJ,EAAG,EAAG,KAAMP,MAC/DuyD,EAAYz/C,EAAIwnB,gBAAgBC,QAAQv6B,KAAM0J,EAAKoJ,GAAK,CACtD0D,EAAG,GACF,EAAG,IAAMxW,MACZuyD,EAAYv5C,EAAIshB,gBAAgBC,QAAQv6B,KAAM0J,EAAKsP,GAAK,CACtDxC,EAAG,GACF,EAAGhG,UAAWxQ,MACjBuyD,EAAYr/C,EAAI,IAAIo5C,iBAAiBtsD,KAAM0J,EAAKwJ,EAAGlT,OAGrDuyD,EAAY36C,EAAI0iB,gBAAgBC,QAAQv6B,KAAM0J,EAAKkO,EAAG,EAAG,IAAM5X,MAE/C,OAAZ0J,EAAKsN,IAA2B,OAAZtN,EAAKsN,IAe3B,GAdAq4C,EAAUrB,GAAK9C,YAAYxhD,EAAKskD,IAAM,GACtCqB,EAAUnZ,GAAKiV,aAAazhD,EAAKwsC,IAAM,GAExB,GAAXxsC,EAAKwsC,KAEPmZ,EAAUpZ,GAAKvsC,EAAKusC,IAGtBsc,EAAY9b,EAAInc,gBAAgBC,QAAQv6B,KAAM0J,EAAK+sC,EAAG,EAAG,KAAMz2C,MAE1DuyD,EAAY9b,EAAEjgC,IACjB64C,EAAUoY,GAAKlV,EAAY9b,EAAEzjC,GAG3BtJ,EAAK+J,EAAG,CACV,IAAIA,EAAI,IAAIo4C,aAAa7rD,KAAM0J,EAAK+J,EAAG,SAAUzT,MACjDuyD,EAAY9+C,EAAIA,EAEX8+C,EAAY9+C,EAAE+C,IACjB64C,EAAUqY,GAAKnV,EAAY9+C,EAAEu4C,UAC7BqD,EAAc,GAAIkD,EAAY9+C,EAAEw4C,WAAW,GAE/C,OAEAoD,EAAUp8C,EAAe,IAAXvJ,EAAKuJ,EAAU,UAAY,UAK3C,OAFAjT,KAAKiwD,WAAWrjD,KAAKyiD,GACrBkD,EAAYvhD,MAAQq+C,EACbkD,CACT,EAEAuP,eAAep2D,UAAU+mD,mBAAqB,WAK5C,MAJkB,CAChB96C,GAAI,GACJs1C,aAAc,GAGlB,EAEA6U,eAAep2D,UAAUgnD,uBAAyB,SAAUhpD,GAU1D,MATkB,CAChBo4B,UAAW,CACT8jB,QAAS,EACTV,QAAQ,EACRj+C,IAAKjH,KAAK0hE,kBAAkBzB,YAC5BpnD,GAAIyhB,gBAAgBC,QAAQv6B,KAAM0J,EAAKkO,EAAG,EAAG,IAAM5X,MACnD00C,OAAQvK,yBAAyBqB,qBAAqBxrC,KAAM0J,EAAM1J,OAIxE,EAEA8hE,eAAep2D,UAAUknD,mBAAqB,SAAUlpD,GACtD,IAAI6oD,EAAc,IAAIkP,YAAYzhE,KAAM0J,EAAM1J,KAAKiwD,WAAYjwD,KAAK0hE,mBAGpE,OAFA1hE,KAAKoX,OAAOxK,KAAK2lD,GACjBvyD,KAAK0qD,oBAAoB6H,GAClBA,CACT,EAEAuP,eAAep2D,UAAUuoC,aAAe,WAEtC,IAAI3oC,EADJtL,KAAKy5B,eAAgB,EAErB,IAAIjuB,EAAMxL,KAAKqgD,UAAUn9C,OAEzB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKitD,aAAa3hD,GAAKtL,KAAKqgD,UAAU/0C,GAMxC,IAHAtL,KAAKiyD,aAAajyD,KAAKogD,WAAYpgD,KAAKqgD,UAAWrgD,KAAKitD,cAAc,EAAM,IAC5EzhD,EAAMxL,KAAK26B,kBAAkBz3B,OAExBoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAK26B,kBAAkBrvB,GAAG2uB,WAG5Bj6B,KAAK8qD,kBACL9qD,KAAK0hE,kBAAkB1B,iBAAiBhgE,KAAKy5B,cAC/C,EAEAqoC,eAAep2D,UAAUi8D,wBAA0B,SAAU7lC,GAC3D,IAAIx2B,EACAE,EAAMxL,KAAKiwD,WAAW/sD,OAE1B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACnBtL,KAAKiwD,WAAW3kD,GAAGoO,QACtB1Z,KAAKiwD,WAAW3kD,GAAG46C,WAAWt5C,KAAKk1B,EAGzC,EAEAggC,eAAep2D,UAAUk8D,6BAA+B,WACtD,IAAIt8D,EACAE,EAAMxL,KAAKiwD,WAAW/sD,OAE1B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACnBtL,KAAKiwD,WAAW3kD,GAAGoO,QACtB1Z,KAAKiwD,WAAW3kD,GAAG46C,WAAW7c,KAGpC,EAEAy4B,eAAep2D,UAAUm8D,YAAc,SAAUh2B,GAC/C,IAAIvmC,EACAE,EAAMqmC,EAAO3uC,OAEjB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBumC,EAAOvmC,GAAGoO,QAAS,CAEvB,EAEAooD,eAAep2D,UAAUumD,aAAe,SAAU/jD,EAAKmyC,EAAW4M,EAAc6a,EAAc5hB,GAC5F,IAAI56C,EAEAgL,EACAC,EAGA28C,EACAD,EACAD,EAPAxnD,EAAM0C,EAAIhL,OAAS,EAGnBiwD,EAAY,GACZC,EAAe,GAIf2U,EAAgB,GAAGl9C,OAAOq7B,GAE9B,IAAK56C,EAAIE,EAAKF,GAAK,EAAGA,GAAK,EAAG,CAS5B,IARA4nD,EAAelzD,KAAK+qD,uBAAuB78C,EAAI5C,KAK7C+0C,EAAU/0C,GAAK2hD,EAAaiG,EAAe,GAF3ChlD,EAAI5C,GAAG08D,cAAgBF,EAKP,OAAd55D,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,GACtEk8C,EAGH7S,EAAU/0C,GAAG0F,MAAM0I,QAAS,EAF5B2mC,EAAU/0C,GAAKtL,KAAKsyD,mBAAmBpkD,EAAI5C,GAAIy8D,GAKjD5U,EAAUvmD,KAAKyzC,EAAU/0C,GAAG0F,YACvB,GAAkB,OAAd9C,EAAI5C,GAAG0L,GAAa,CAC7B,GAAKk8C,EAKH,IAFA38C,EAAO8pC,EAAU/0C,GAAGqM,GAAGzU,OAElBoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB+pC,EAAU/0C,GAAG2hD,aAAa32C,GAAK+pC,EAAU/0C,GAAGqM,GAAGrB,QALjD+pC,EAAU/0C,GAAKtL,KAAKyyD,mBAAmBvkD,EAAI5C,IAS7CtL,KAAKiyD,aAAa/jD,EAAI5C,GAAGqM,GAAI0oC,EAAU/0C,GAAGqM,GAAI0oC,EAAU/0C,GAAG2hD,aAAc6a,EAAcC,EACzF,KAAyB,OAAd75D,EAAI5C,GAAG0L,IACXk8C,IACHF,EAAmBhzD,KAAK0yD,uBAAuBxkD,EAAI5C,IACnD+0C,EAAU/0C,GAAK0nD,GAGjB+U,EAAcn7D,KAAKyzC,EAAU/0C,IAC7BtL,KAAK2nE,wBAAwBtnB,EAAU/0C,KAChB,OAAd4C,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,GAC7Ek8C,IACH7S,EAAU/0C,GAAKtL,KAAK4yD,mBAAmB1kD,EAAI5C,KAEtB,OAAd4C,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IAA6B,OAAd9I,EAAI5C,GAAG0L,IACnGk8C,GAMHD,EAAW5S,EAAU/0C,IACZoO,QAAS,IANlBu5C,EAAW1rB,eAAeG,YAAYx5B,EAAI5C,GAAG0L,KACpCqR,KAAKroB,KAAMkO,EAAI5C,IACxB+0C,EAAU/0C,GAAK2nD,EACfjzD,KAAK2qD,eAAe/9C,KAAKqmD,IAM3BG,EAAaxmD,KAAKqmD,IACK,OAAd/kD,EAAI5C,GAAG0L,KACXk8C,GAOHD,EAAW5S,EAAU/0C,IACZoO,QAAS,GAPlBu5C,EAAW1rB,eAAeG,YAAYx5B,EAAI5C,GAAG0L,IAC7CqpC,EAAU/0C,GAAK2nD,EACfA,EAAS5qC,KAAKroB,KAAMkO,EAAK5C,EAAG+0C,GAC5BrgD,KAAK2qD,eAAe/9C,KAAKqmD,GACzB6U,GAAe,GAMjB1U,EAAaxmD,KAAKqmD,IAGpBjzD,KAAKirD,oBAAoB/8C,EAAI5C,GAAIA,EAAI,EACvC,CAMA,IAJAtL,KAAK4nE,+BACL5nE,KAAK6nE,YAAY1U,GACjB3nD,EAAM4nD,EAAalwD,OAEdoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB8nD,EAAa9nD,GAAGoO,QAAS,CAE7B,EAEAooD,eAAep2D,UAAU4+C,mBAAqB,WAC5CtqD,KAAKqnE,gBAAgBzhB,QAAU,EAC/B5lD,KAAKqnE,gBAAgBniB,QAAS,EAC9BllD,KAAK8qD,kBACL9qD,KAAK0hE,kBAAkB1B,iBAAiBhgE,KAAKy5B,eAC7Cz5B,KAAKqzD,YAAYrzD,KAAKqnE,gBAAiBrnE,KAAKogD,WAAYpgD,KAAKqgD,WAAW,EAC1E,EAEAyhB,eAAep2D,UAAUu8D,qBAAuB,SAAUC,EAAiBC,IACrED,EAAgBhjB,QAAUijB,EAAetvD,GAAGugB,MAAQp5B,KAAKy5B,iBAC3D0uC,EAAeviB,QAAUsiB,EAAgBtiB,QACzCuiB,EAAeviB,SAAWuiB,EAAetvD,GAAG7F,EAC5Cm1D,EAAejjB,QAAS,EAE5B,EAEA4c,eAAep2D,UAAU08D,UAAY,WACnC,IAAI98D,EAEAgL,EACAC,EACAC,EACAC,EACAy9B,EACAm0B,EAGAn+D,EACAo+D,EAVA98D,EAAMxL,KAAKiwD,WAAW/sD,OAOtByf,EAAW3iB,KAAK+jB,WAAWpB,SAC3BpG,EAAMvc,KAAK+jB,WAAWk9C,cAI1B,IAAK31D,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAQxB,IAAgB,QANhBpB,GADAo+D,EAAetoE,KAAKiwD,WAAW3kD,IACXpB,OAMa,OAATA,GAAsC,IAApBo+D,EAAab,KAAaa,EAAa5+D,KAAKs+D,eAAuC,IAAtBM,EAAaC,MAAqD,IAAvCvoE,KAAK+jB,WAAWqgD,mBAA2B,CA2B3K,IA1BAzhD,EAAS2+C,OACTptB,EAAQo0B,EAAan1B,SAER,OAATjpC,GAA0B,OAATA,GACnByY,EAAS8hD,eAAwB,OAATv6D,EAAgBo+D,EAAad,GAAKc,EAAaE,KAEvE7lD,EAAS+hD,aAAa4D,EAAab,IAEnC9kD,EAASgiD,WAAW2D,EAAata,IAEjCrrC,EAASiiD,YAAY0D,EAAapyB,IAElCvzB,EAASkiD,cAAcyD,EAAaryB,IAAM,IAE1CtzB,EAAS6hD,aAAsB,OAATt6D,EAAgBo+D,EAAad,GAAKc,EAAaE,KAGvE7lD,EAAS4hD,WAAW+D,EAAaC,MAEpB,OAATr+D,GAA0B,OAATA,GACnBqS,EAAI2kD,YAGNv+C,EAAS2hD,aAAagE,EAAaf,cAAczqB,eAAepc,OAChEnqB,EAAO29B,EAAMhxC,OAERoT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAAG,CAa5B,IAZa,OAATpM,GAA0B,OAATA,IACnBqS,EAAI2kD,YAEAoH,EAAaZ,KACfnrD,EAAIksD,YAAYH,EAAaZ,IAC7BnrD,EAAImsD,eAAiBJ,EAAiB,KAK1C7xD,GADA4xD,EAAQn0B,EAAM59B,GAAGurD,SACJ3+D,OAERsT,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACN,MAAf6xD,EAAM7xD,GAAGjD,EACXgJ,EAAI4kD,OAAOkH,EAAM7xD,GAAGnD,EAAE,GAAIg1D,EAAM7xD,GAAGnD,EAAE,IACb,MAAfg1D,EAAM7xD,GAAGjD,EAClBgJ,EAAI8kD,cAAcgH,EAAM7xD,GAAGwuB,IAAI,GAAIqjC,EAAM7xD,GAAGwuB,IAAI,GAAIqjC,EAAM7xD,GAAGwuB,IAAI,GAAIqjC,EAAM7xD,GAAGwuB,IAAI,GAAIqjC,EAAM7xD,GAAGwuB,IAAI,GAAIqjC,EAAM7xD,GAAGwuB,IAAI,IAEpHzoB,EAAIosD,YAIK,OAATz+D,GAA0B,OAATA,IAEnByY,EAASqiD,YAELsD,EAAaZ,IACfnrD,EAAIksD,YAAYzoE,KAAKsnE,cAG3B,CAEa,OAATp9D,GAA0B,OAATA,GAEnBlK,KAAK+jB,WAAWpB,SAASmiD,QAAQwD,EAAar1D,GAGhD0P,EAASykD,SACX,CAEJ,EAEAtF,eAAep2D,UAAU2nD,YAAc,SAAU6U,EAAiBv+D,EAAOD,EAAMk/D,GAC7E,IAAIt9D,EAEA68D,EAGJ,IAFAA,EAAiBD,EAEZ58D,EAJK3B,EAAMzG,OAAS,EAIXoI,GAAK,EAAGA,GAAK,EACL,OAAhB3B,EAAM2B,GAAG0L,IACXmxD,EAAiBz+D,EAAK4B,GAAGw2B,UACzB9hC,KAAKioE,qBAAqBC,EAAiBC,IAClB,OAAhBx+D,EAAM2B,GAAG0L,IAA+B,OAAhBrN,EAAM2B,GAAG0L,IAA+B,OAAhBrN,EAAM2B,GAAG0L,IAA+B,OAAhBrN,EAAM2B,GAAG0L,GAC1FhX,KAAK+uD,WAAWplD,EAAM2B,GAAI5B,EAAK4B,IACN,OAAhB3B,EAAM2B,GAAG0L,GAClBhX,KAAKovD,WAAWzlD,EAAM2B,GAAI5B,EAAK4B,GAAI68D,GACV,OAAhBx+D,EAAM2B,GAAG0L,GAClBhX,KAAKwvD,aAAa7lD,EAAM2B,GAAI5B,EAAK4B,GAAI68D,GACZ,OAAhBx+D,EAAM2B,GAAG0L,IAA+B,OAAhBrN,EAAM2B,GAAG0L,GAC1ChX,KAAK6oE,mBAAmBl/D,EAAM2B,GAAI5B,EAAK4B,GAAI68D,GAClB,OAAhBx+D,EAAM2B,GAAG0L,GAClBhX,KAAKqzD,YAAY8U,EAAgBx+D,EAAM2B,GAAGqM,GAAIjO,EAAK4B,GAAGqM,IAC7ChO,EAAM2B,GAAG0L,GAIlB4xD,GACF5oE,KAAKooE,WAET,EAEAtG,eAAep2D,UAAUo9D,kBAAoB,SAAUlH,EAAavlC,GAClE,GAAIr8B,KAAKy5B,eAAiB4C,EAAMjD,MAAQwoC,EAAY1b,WAAW9sB,KAAM,CACnE,IAEI9tB,EACAE,EACA8K,EAJAyyD,EAAanH,EAAYC,QACzBvkC,EAAQjB,EAAMiB,MAId/mB,EAAO+mB,EAAM9O,QACjBu6C,EAAW7lE,OAAS,EACpB,IAAI8lE,EAAoBpH,EAAY1b,WAAWpJ,eAE/C,IAAKxmC,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAAG,CAC5B,IAAIkwC,EAAYlpB,EAAMlmB,OAAOd,GAE7B,GAAIkwC,GAAaA,EAAUxzC,EAAG,CAG5B,IAFAxH,EAAMg7C,EAAUh4B,QAEXljB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACd,IAANA,GACFy9D,EAAWn8D,KAAK,CACd2G,EAAG,IACHF,EAAG21D,EAAkBlkC,kBAAkB0hB,EAAUxzC,EAAE,GAAG,GAAIwzC,EAAUxzC,EAAE,GAAG,GAAI,KAIjF+1D,EAAWn8D,KAAK,CACd2G,EAAG,IACHyxB,IAAKgkC,EAAkB9jC,oBAAoBshB,EAAU5uC,EAAEtM,EAAI,GAAIk7C,EAAUl7C,EAAEA,GAAIk7C,EAAUxzC,EAAE1H,MAInF,IAARE,GACFu9D,EAAWn8D,KAAK,CACd2G,EAAG,IACHF,EAAG21D,EAAkBlkC,kBAAkB0hB,EAAUxzC,EAAE,GAAG,GAAIwzC,EAAUxzC,EAAE,GAAG,GAAI,KAI7EwzC,EAAUjtC,GAAK/N,IACjBu9D,EAAWn8D,KAAK,CACd2G,EAAG,IACHyxB,IAAKgkC,EAAkB9jC,oBAAoBshB,EAAU5uC,EAAEtM,EAAI,GAAIk7C,EAAUl7C,EAAE,GAAIk7C,EAAUxzC,EAAE,MAE7F+1D,EAAWn8D,KAAK,CACd2G,EAAG,MAGT,CACF,CAEAquD,EAAYC,QAAUkH,CACxB,CACF,EAEAjH,eAAep2D,UAAUqjD,WAAa,SAAU31C,EAAUy1C,GACxD,IAAoB,IAAhBz1C,EAAS6vC,IAAe7vC,EAAS4uD,cAAe,CAClD,IAAI18D,EACAE,EAAMqjD,EAAS8S,aAAaz+D,OAEhC,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAK8oE,kBAAkBja,EAAS8S,aAAar2D,GAAIujD,EAASv4B,GAE9D,CACF,EAEAwrC,eAAep2D,UAAU0jD,WAAa,SAAUR,EAAWC,EAAUsZ,GACnE,IAAI9Y,EAAYR,EAAS79C,OAErB69C,EAASt1C,EAAE6f,MAAQp5B,KAAKy5B,iBAC1B41B,EAAUmY,GAAK,OAAS93D,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,MAGnH67C,EAASj3C,EAAEwhB,MAAQ+uC,EAAejjB,QAAUllD,KAAKy5B,iBACnD41B,EAAUkZ,KAAO1Z,EAASj3C,EAAE5E,EAAIm1D,EAAeviB,QAEnD,EAEAkc,eAAep2D,UAAUm9D,mBAAqB,SAAUja,EAAWC,EAAUsZ,GAC3E,IACIK,EADAnZ,EAAYR,EAAS79C,MAGzB,IAAKq+C,EAAUmZ,KAAO3Z,EAAS37C,EAAEkmB,MAAQy1B,EAAS97C,EAAEqmB,MAAQy1B,EAAStuD,EAAE64B,MAAwB,IAAhBw1B,EAAUr7C,IAAYs7C,EAAS/7C,EAAEsmB,MAAQy1B,EAAS71C,EAAEogB,MAAO,CACxI,IAuBI9tB,EAvBAiR,EAAMvc,KAAK+jB,WAAWk9C,cACtBnxC,EAAM++B,EAAS97C,EAAEC,EACjB+c,EAAM8+B,EAAStuD,EAAEyS,EAErB,GAAoB,IAAhB47C,EAAUr7C,EACZi1D,EAAMjsD,EAAI0sD,qBAAqBn5C,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,QACtD,CACL,IAAIiP,EAAM1vB,KAAKG,KAAKH,KAAKC,IAAIugB,EAAI,GAAKC,EAAI,GAAI,GAAKzgB,KAAKC,IAAIugB,EAAI,GAAKC,EAAI,GAAI,IACzE+/B,EAAMxgD,KAAK0oB,MAAMjI,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,IAC/CwD,EAAUu7B,EAAS/7C,EAAEE,EAErBsgB,GAAW,EACbA,EAAU,IACDA,IAAY,IACrBA,GAAW,KAGb,IAAIuc,EAAO7Q,EAAM1L,EACb1G,EAAItd,KAAKgpB,IAAIw3B,EAAMjB,EAAS71C,EAAEhG,GAAK68B,EAAO/f,EAAI,GAC9C2F,EAAInmB,KAAKmoB,IAAIq4B,EAAMjB,EAAS71C,EAAEhG,GAAK68B,EAAO/f,EAAI,GAClD04C,EAAMjsD,EAAI2sD,qBAAqBt8C,EAAG6I,EAAG,EAAG3F,EAAI,GAAIA,EAAI,GAAIkP,EAC1D,CAGA,IAAIxzB,EAAMojD,EAAU17C,EAAEG,EAClBu8C,EAAUf,EAAS37C,EAAEqG,EACrBqsC,EAAU,EAEd,IAAKt6C,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBujD,EAAS37C,EAAE05C,aAAeiC,EAAS37C,EAAEw5C,eACvC9G,EAAUiJ,EAAS37C,EAAE0E,EAAM,EAAJtM,EAAQ,IAGjCk9D,EAAIW,aAAavZ,EAAY,EAAJtkD,GAAS,IAAK,QAAUskD,EAAY,EAAJtkD,EAAQ,GAAK,IAAMskD,EAAY,EAAJtkD,EAAQ,GAAK,IAAMskD,EAAY,EAAJtkD,EAAQ,GAAK,IAAMs6C,EAAU,KAG9IyJ,EAAUmZ,IAAMA,CAClB,CAEAnZ,EAAUkZ,KAAO1Z,EAASj3C,EAAE5E,EAAIm1D,EAAeviB,OACjD,EAEAkc,eAAep2D,UAAU8jD,aAAe,SAAUZ,EAAWC,EAAUsZ,GACrE,IAAI9Y,EAAYR,EAAS79C,MACrByC,EAAIo7C,EAASp7C,EAEbA,IAAMA,EAAE2lB,MAAQp5B,KAAKy5B,iBACvB41B,EAAUqY,GAAKj0D,EAAEu4C,UACjBqD,EAAc,GAAI57C,EAAEw4C,WAAW,KAG7B4C,EAASt1C,EAAE6f,MAAQp5B,KAAKy5B,iBAC1B41B,EAAUmY,GAAK,OAAS93D,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,IAAMtD,QAAQm/C,EAASt1C,EAAEvG,EAAE,IAAM,MAGnH67C,EAASj3C,EAAEwhB,MAAQ+uC,EAAejjB,QAAUllD,KAAKy5B,iBACnD41B,EAAUkZ,KAAO1Z,EAASj3C,EAAE5E,EAAIm1D,EAAeviB,UAG7CiJ,EAASpY,EAAErd,MAAQp5B,KAAKy5B,iBAC1B41B,EAAUoY,GAAK5Y,EAASpY,EAAEzjC,EAE9B,EAEA8uD,eAAep2D,UAAUmT,QAAU,WACjC7e,KAAKogD,WAAa,KAClBpgD,KAAK+jB,WAAa,KAClB/jB,KAAKihE,cAAgB,KACrBjhE,KAAKiwD,WAAW/sD,OAAS,EACzBlD,KAAKqgD,UAAUn9C,OAAS,CAC1B,EAsBAiI,gBAAgB,CAACozC,YAAagF,iBAAkByd,cAAejZ,iBAAkBvJ,aAAczC,kBAAmB4c,cAAeoJ,eACjIA,cAAcr2D,UAAUysC,QAAUltC,UAAU,UAAUuR,WAAW,MAEjEulD,cAAcr2D,UAAUgwD,aAAe,WACrC,IAAIpjD,EAAetY,KAAKo3D,aAAazG,YACrC3wD,KAAKy4D,gBAAkBnqD,iBAAiBgK,EAAampB,EAAInpB,EAAampB,EAAEv+B,OAAS,GACjF,IAAIkmE,GAAU,EAEV9wD,EAAa+3C,IACf+Y,GAAU,EACVppE,KAAKo4B,OAAO6pC,KAAOjiE,KAAKs7D,WAAWhjD,EAAa+3C,KAEhDrwD,KAAKo4B,OAAO6pC,KAAO,gBAGrBjiE,KAAKiiE,KAAOmH,EACZ,IAAIC,GAAY,EAEZ/wD,EAAa2iC,KACfouB,GAAY,EACZrpE,KAAKo4B,OAAO4pC,OAAShiE,KAAKs7D,WAAWhjD,EAAa2iC,IAClDj7C,KAAKo4B,OAAO+pC,OAAS7pD,EAAa83C,IAGpC,IACI9kD,EACAE,EAOAmN,EACA8Y,EACAjb,EACAC,EACAW,EACAd,EACAC,EACAiwC,EACA8iB,EACAC,EAlBA33B,EAAW5xC,KAAK+jB,WAAWoB,YAAYk2B,cAAc/iC,EAAalF,GAGlEmhD,EAAUj8C,EAAampB,EACvB63B,EAAet5D,KAAKomD,QACxBpmD,KAAKgiE,OAASqH,EACdrpE,KAAKo4B,OAAOgqC,OAAS9pD,EAAak5C,UAAY,MAAQxxD,KAAK+jB,WAAWoB,YAAYk2B,cAAc/iC,EAAalF,GAAGglC,QAChH5sC,EAAM8M,EAAam5C,UAAUvuD,OAY7B,IAAIy6D,EAAc39D,KAAK0J,KAAKi0D,YACxB7I,EAAmC,KAAlBx8C,EAAa45B,GAAa55B,EAAak5C,UACxDsH,EAAO,EACPC,EAAO,EACPa,GAAY,EACZ19B,EAAM,EAEV,IAAK5wB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAE3BmmB,GADA9Y,EAAW3Y,KAAK+jB,WAAWoB,YAAY+1B,YAAY5iC,EAAam5C,UAAUnmD,GAAIsmC,EAASE,OAAQ9xC,KAAK+jB,WAAWoB,YAAYk2B,cAAc/iC,EAAalF,GAAGglC,WACjIz/B,EAASjP,MAAQ,CAAC,EAC1C4vD,EAAax3D,QAET67D,GAAepJ,EAAQjpD,GAAGoqB,IAC5BojC,GAAQhE,EACRiE,GAAQzgD,EAAai5C,QACrBwH,GAAQa,EAAY,EAAI,EACxBA,GAAY,GAIdrjD,GADAa,EAASqa,EAAUra,OAASqa,EAAUra,OAAO,GAAGO,GAAK,IACvCzU,OACdo2D,EAAah4B,MAAMhpB,EAAak5C,UAAY,IAAKl5C,EAAak5C,UAAY,KAEtEmM,GACF39D,KAAKo7D,4BAA4B9iD,EAAcghD,EAAc/E,EAAQjpD,GAAG2U,KAAM64C,EAAMC,GAGtFuQ,EAAWh7D,iBAAiBiI,EAAO,GACnC,IAAIizD,EAAkB,EAEtB,IAAKlzD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzB,GAAqB,OAAjBc,EAAOd,GAAGU,GAAa,CAKzB,IAJAP,EAAOW,EAAOd,GAAGoB,GAAGlB,EAAElL,EAAEpI,OACxBsjD,EAAYpvC,EAAOd,GAAGoB,GAAGlB,EACzB+yD,EAAU,GAEL/yD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACf,IAANA,GACF+yD,EAAQ38D,KAAK0sD,EAAa/0B,SAASiiB,EAAUxzC,EAAE,GAAG,GAAIwzC,EAAUxzC,EAAE,GAAG,GAAI,GAAIsmD,EAAa90B,SAASgiB,EAAUxzC,EAAE,GAAG,GAAIwzC,EAAUxzC,EAAE,GAAG,GAAI,IAG3Iu2D,EAAQ38D,KAAK0sD,EAAa/0B,SAASiiB,EAAU5uC,EAAEpB,EAAI,GAAG,GAAIgwC,EAAU5uC,EAAEpB,EAAI,GAAG,GAAI,GAAI8iD,EAAa90B,SAASgiB,EAAU5uC,EAAEpB,EAAI,GAAG,GAAIgwC,EAAU5uC,EAAEpB,EAAI,GAAG,GAAI,GAAI8iD,EAAa/0B,SAASiiB,EAAUl7C,EAAEkL,GAAG,GAAIgwC,EAAUl7C,EAAEkL,GAAG,GAAI,GAAI8iD,EAAa90B,SAASgiB,EAAUl7C,EAAEkL,GAAG,GAAIgwC,EAAUl7C,EAAEkL,GAAG,GAAI,GAAI8iD,EAAa/0B,SAASiiB,EAAUxzC,EAAEwD,GAAG,GAAIgwC,EAAUxzC,EAAEwD,GAAG,GAAI,GAAI8iD,EAAa90B,SAASgiB,EAAUxzC,EAAEwD,GAAG,GAAIgwC,EAAUxzC,EAAEwD,GAAG,GAAI,IAG3Z+yD,EAAQ38D,KAAK0sD,EAAa/0B,SAASiiB,EAAU5uC,EAAEpB,EAAI,GAAG,GAAIgwC,EAAU5uC,EAAEpB,EAAI,GAAG,GAAI,GAAI8iD,EAAa90B,SAASgiB,EAAU5uC,EAAEpB,EAAI,GAAG,GAAIgwC,EAAU5uC,EAAEpB,EAAI,GAAG,GAAI,GAAI8iD,EAAa/0B,SAASiiB,EAAUl7C,EAAE,GAAG,GAAIk7C,EAAUl7C,EAAE,GAAG,GAAI,GAAIguD,EAAa90B,SAASgiB,EAAUl7C,EAAE,GAAG,GAAIk7C,EAAUl7C,EAAE,GAAG,GAAI,GAAIguD,EAAa/0B,SAASiiB,EAAUxzC,EAAE,GAAG,GAAIwzC,EAAUxzC,EAAE,GAAG,GAAI,GAAIsmD,EAAa90B,SAASgiB,EAAUxzC,EAAE,GAAG,GAAIwzC,EAAUxzC,EAAE,GAAG,GAAI,IACzZs2D,EAASE,GAAmBD,EAC5BC,GAAmB,CACrB,CAGE7L,IACF7E,GAAQvE,EAAQjpD,GAAGm2B,EACnBq3B,GAAQhE,GAGN90D,KAAK67D,UAAU3/B,GACjBl8B,KAAK67D,UAAU3/B,GAAK/R,KAAOm/C,EAE3BtpE,KAAK67D,UAAU3/B,GAAO,CACpB/R,KAAMm/C,GAIVptC,GAAO,CACT,CACF,EAEA6lC,cAAcr2D,UAAU4+C,mBAAqB,WAE3C,IAYIh/C,EACAE,EACA8K,EACAC,EACAC,EACAC,EAlBJzW,KAAKy7D,eACKz7D,KAAKihE,cACXjqB,KAAOh3C,KAAKo4B,OAAOgqC,OACvBpiE,KAAK+jB,WAAWpB,SAASgiD,WAAW,QAEpC3kE,KAAK+jB,WAAWpB,SAASiiD,YAAY,SAErC5kE,KAAK+jB,WAAWpB,SAASkiD,cAAc,GAElC7kE,KAAK0J,KAAKi0D,aACb39D,KAAKg7D,aAAanC,YAAY74D,KAAKo3D,aAAazG,YAAa3wD,KAAK04D,oBASpE,IAGIuG,EAHAxG,EAAkBz4D,KAAKg7D,aAAavC,gBACpClE,EAAUv0D,KAAKo3D,aAAazG,YAAYlvB,EAC5Cj2B,EAAM+oD,EAAQrxD,OAEd,IAGIomE,EACAC,EAJAE,EAAW,KACXC,EAAa,KACbC,EAAc,KAGdhnD,EAAW3iB,KAAK+jB,WAAWpB,SAE/B,IAAKrX,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,IAAKipD,EAAQjpD,GAAGoqB,EAAG,CASjB,IARAupC,EAAiBxG,EAAgBntD,MAG/BqX,EAAS2+C,OACT3+C,EAAS2hD,aAAarF,EAAe5rD,GACrCsP,EAAS4hD,WAAWtF,EAAernD,IAGjC5X,KAAKiiE,KAAM,CAeb,IAdIhD,GAAkBA,EAAe5O,GAC/BoZ,IAAaxK,EAAe5O,KAC9B1tC,EAAS6hD,aAAavF,EAAe5O,IACrCoZ,EAAWxK,EAAe5O,IAEnBoZ,IAAazpE,KAAKo4B,OAAO6pC,OAClCwH,EAAWzpE,KAAKo4B,OAAO6pC,KACvBt/C,EAAS6hD,aAAaxkE,KAAKo4B,OAAO6pC,OAIpC1rD,GADA+yD,EAAWtpE,KAAK67D,UAAUvwD,GAAG6e,MACbjnB,OAChBlD,KAAK+jB,WAAWk9C,cAAcC,YAEzB5qD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAKzB,IAHAG,GADA8yD,EAAUD,EAAShzD,IACJpT,OACflD,KAAK+jB,WAAWk9C,cAAcE,OAAOoI,EAAQ,GAAIA,EAAQ,IAEpD/yD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzBxW,KAAK+jB,WAAWk9C,cAAcI,cAAckI,EAAQ/yD,GAAI+yD,EAAQ/yD,EAAI,GAAI+yD,EAAQ/yD,EAAI,GAAI+yD,EAAQ/yD,EAAI,GAAI+yD,EAAQ/yD,EAAI,GAAI+yD,EAAQ/yD,EAAI,IAIxIxW,KAAK+jB,WAAWk9C,cAAc0H,YAC9BhmD,EAASmiD,SAEX,CAEA,GAAI9kE,KAAKgiE,OAAQ,CAyBf,IAxBI/C,GAAkBA,EAAe7O,GAC/BuZ,IAAgB1K,EAAe7O,KACjCuZ,EAAc1K,EAAe7O,GAC7BztC,EAAS+hD,aAAazF,EAAe7O,KAE9BuZ,IAAgB3pE,KAAKo4B,OAAO+pC,SACrCwH,EAAc3pE,KAAKo4B,OAAO+pC,OAC1Bx/C,EAAS+hD,aAAa1kE,KAAKo4B,OAAO+pC,SAGhClD,GAAkBA,EAAehkB,GAC/ByuB,IAAezK,EAAehkB,KAChCyuB,EAAazK,EAAehkB,GAC5Bt4B,EAAS8hD,eAAexF,EAAehkB,KAEhCyuB,IAAe1pE,KAAKo4B,OAAO4pC,SACpC0H,EAAa1pE,KAAKo4B,OAAO4pC,OACzBr/C,EAAS8hD,eAAezkE,KAAKo4B,OAAO4pC,SAItCzrD,GADA+yD,EAAWtpE,KAAK67D,UAAUvwD,GAAG6e,MACbjnB,OAChBlD,KAAK+jB,WAAWk9C,cAAcC,YAEzB5qD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EAKzB,IAHAG,GADA8yD,EAAUD,EAAShzD,IACJpT,OACflD,KAAK+jB,WAAWk9C,cAAcE,OAAOoI,EAAQ,GAAIA,EAAQ,IAEpD/yD,EAAI,EAAGA,EAAIC,EAAMD,GAAK,EACzBxW,KAAK+jB,WAAWk9C,cAAcI,cAAckI,EAAQ/yD,GAAI+yD,EAAQ/yD,EAAI,GAAI+yD,EAAQ/yD,EAAI,GAAI+yD,EAAQ/yD,EAAI,GAAI+yD,EAAQ/yD,EAAI,GAAI+yD,EAAQ/yD,EAAI,IAIxIxW,KAAK+jB,WAAWk9C,cAAc0H,YAC9BhmD,EAASqiD,WAEX,CAEI/F,GACFj/D,KAAK+jB,WAAWpB,SAASykD,SAE7B,CAEJ,EAQAj8D,gBAAgB,CAACozC,YAAagF,iBAAkByd,cAAejZ,iBAAkBvJ,aAAczC,mBAAoBsmB,gBACnHA,eAAe32D,UAAUw8C,YAAc8H,gBAAgBtkD,UAAUw8C,YACjEma,eAAe32D,UAAU6V,aAAe0mC,cAAcv8C,UAAU6V,aAEhE8gD,eAAe32D,UAAU2+C,cAAgB,WACvC,GAAIrqD,KAAKyd,IAAIpB,QAAUrc,KAAKmd,UAAUs5B,IAAMz2C,KAAKyd,IAAIpB,OAASrc,KAAKmd,UAAUrK,IAAM9S,KAAKyd,IAAInB,QAAS,CACnG,IAAIF,EAASnR,UAAU,UACvBmR,EAAOC,MAAQrc,KAAKmd,UAAUs5B,EAC9Br6B,EAAOE,OAAStc,KAAKmd,UAAUrK,EAC/B,IAKI82D,EACAC,EANAttD,EAAMH,EAAOI,WAAW,MACxBstD,EAAO9pE,KAAKyd,IAAIpB,MAChB0tD,EAAO/pE,KAAKyd,IAAInB,OAChB0tD,EAASF,EAAOC,EAChBE,EAAYjqE,KAAKmd,UAAUs5B,EAAIz2C,KAAKmd,UAAUrK,EAG9Co3D,EAAMlqE,KAAKmd,UAAUqtC,IAAMxqD,KAAK+jB,WAAWi5B,aAAayN,yBAExDuf,EAASC,GAAqB,mBAARC,GAA4BF,EAASC,GAAqB,mBAARC,EAE1EN,GADAC,EAAaE,GACYE,EAGzBJ,GADAD,EAAYE,GACaG,EAG3B1tD,EAAIwqD,UAAU/mE,KAAKyd,KAAMqsD,EAAOF,GAAa,GAAIG,EAAOF,GAAc,EAAGD,EAAWC,EAAY,EAAG,EAAG7pE,KAAKmd,UAAUs5B,EAAGz2C,KAAKmd,UAAUrK,GACvI9S,KAAKyd,IAAMrB,CACb,CACF,EAEAimD,eAAe32D,UAAU4+C,mBAAqB,WAC5CtqD,KAAKihE,cAAc8F,UAAU/mE,KAAKyd,IAAK,EAAG,EAC5C,EAEA4kD,eAAe32D,UAAUmT,QAAU,WACjC7e,KAAKyd,IAAM,IACb,EAMAtS,gBAAgB,CAACozC,YAAagF,iBAAkByd,cAAejZ,iBAAkBvJ,aAAczC,mBAAoBumB,gBACnHA,eAAe52D,UAAUw8C,YAAc8H,gBAAgBtkD,UAAUw8C,YACjEoa,eAAe52D,UAAU6V,aAAe0mC,cAAcv8C,UAAU6V,aAEhE+gD,eAAe52D,UAAU4+C,mBAAqB,WAE5CtqD,KAAK+jB,WAAWpB,SAAS6hD,aAAaxkE,KAAK0J,KAAKuxC,IAEhDj7C,KAAK+jB,WAAWpB,SAASoiD,YAAY,EAAG,EAAG/kE,KAAK0J,KAAK0mD,GAAIpwD,KAAK0J,KAAK4sB,GAErE,EAIAnrB,gBAAgB,CAACk0C,cAAekjB,oBAEhCA,mBAAmB72D,UAAUu2C,YAAc,SAAUv4C,GACnD,OAAO,IAAIo4D,eAAep4D,EAAM1J,KAAK+jB,WAAY/jB,KACnD,EAEAuiE,mBAAmB72D,UAAUw2C,WAAa,SAAUx4C,GAClD,OAAO,IAAIq4D,cAAcr4D,EAAM1J,KAAK+jB,WAAY/jB,KAClD,EAEAuiE,mBAAmB72D,UAAUm2C,YAAc,SAAUn4C,GACnD,OAAO,IAAI24D,eAAe34D,EAAM1J,KAAK+jB,WAAY/jB,KACnD,EAEAuiE,mBAAmB72D,UAAUq2C,YAAc,SAAUr4C,GACnD,OAAO,IAAI44D,eAAe54D,EAAM1J,KAAK+jB,WAAY/jB,KACnD,EAEAuiE,mBAAmB72D,UAAUs2C,WAAaoa,YAAY1wD,UAAUs2C,WAEhEugB,mBAAmB72D,UAAU44D,aAAe,SAAU5jC,GACnC,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAA0B,IAAdA,EAAM,KAA2B,IAAdA,EAAM,KAIrG1gC,KAAKihE,cAAcn/B,UAAUpB,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAAKA,EAAM,IACxF,EAEA6hC,mBAAmB72D,UAAU64D,WAAa,SAAU1rD,GAClD7Y,KAAKihE,cAAckJ,aAAetxD,EAAK,EAAI,EAAIA,CACjD,EAEA0pD,mBAAmB72D,UAAU84D,aAAe,SAAUj7D,GACpDvJ,KAAKihE,cAAcxkD,UAAYlT,CACjC,EAEAg5D,mBAAmB72D,UAAU+4D,eAAiB,SAAUl7D,GACtDvJ,KAAKihE,cAAcwB,YAAcl5D,CACnC,EAEAg5D,mBAAmB72D,UAAUg5D,aAAe,SAAUn7D,GACpDvJ,KAAKihE,cAAcrM,UAAYrrD,CACjC,EAEAg5D,mBAAmB72D,UAAUi5D,WAAa,SAAUp7D,GAClDvJ,KAAKihE,cAAcyB,QAAUn5D,CAC/B,EAEAg5D,mBAAmB72D,UAAUk5D,YAAc,SAAUr7D,GACnDvJ,KAAKihE,cAAczwB,SAAWjnC,CAChC,EAEAg5D,mBAAmB72D,UAAUm5D,cAAgB,SAAUt7D,GACrDvJ,KAAKihE,cAAcxwB,WAAalnC,CAClC,EAEAg5D,mBAAmB72D,UAAUo5D,QAAU,SAAUsF,GAC/CpqE,KAAKihE,cAAcgB,KAAKmI,EAC1B,EAEA7H,mBAAmB72D,UAAUq5D,YAAc,SAAUn4C,EAAG6I,EAAGghB,EAAG3jC,GAC5D9S,KAAKihE,cAAcvkD,SAASkQ,EAAG6I,EAAGghB,EAAG3jC,EACvC,EAEAyvD,mBAAmB72D,UAAUs5D,UAAY,WACvChlE,KAAKihE,cAAce,QACrB,EAEAO,mBAAmB72D,UAAU5J,MAAQ,WAC9B9B,KAAKg9C,aAAagnB,YAKvBhkE,KAAKqkE,YAAYviE,QAJf9B,KAAKihE,cAAcmG,SAKvB,EAEA7E,mBAAmB72D,UAAU41D,KAAO,WAClCthE,KAAKihE,cAAcK,MACrB,EAEAiB,mBAAmB72D,UAAU07D,QAAU,SAAUiD,GAC1CrqE,KAAKg9C,aAAagnB,aAKnBqG,IACFrqE,KAAK+jB,WAAWyiD,UAAY,eAG9BxmE,KAAKqkE,YAAY+C,QAAQiD,IARvBrqE,KAAKihE,cAAcmG,SASvB,EAEA7E,mBAAmB72D,UAAU4X,gBAAkB,SAAUyC,GACvD,GAAI/lB,KAAKmjD,cAAcx/B,QAAS,CAC9B3jB,KAAKmjD,cAAc58C,UAAY0E,UAAU,UACzC,IAAIq/D,EAAiBtqE,KAAKmjD,cAAc58C,UAAUyK,MAClDs5D,EAAejuD,MAAQ,OACvBiuD,EAAehuD,OAAS,OACxB,IAAIT,EAAS,cACbyuD,EAAen5D,gBAAkB0K,EACjCyuD,EAAeC,mBAAqB1uD,EACpCyuD,EAAel5D,sBAAwByK,EACvCyuD,EAAe,qBAAuBzuD,EACtCyuD,EAAevN,kBAAoB/8D,KAAKg9C,aAAa+f,kBACrD/8D,KAAKmjD,cAAcx/B,QAAQvZ,YAAYpK,KAAKmjD,cAAc58C,WAC1DvG,KAAKihE,cAAgBjhE,KAAKmjD,cAAc58C,UAAUiW,WAAW,MAEzDxc,KAAKg9C,aAAakgB,WACpBl9D,KAAKmjD,cAAc58C,UAAU4D,aAAa,QAASnK,KAAKg9C,aAAakgB,WAGnEl9D,KAAKg9C,aAAat0C,IACpB1I,KAAKmjD,cAAc58C,UAAU4D,aAAa,KAAMnK,KAAKg9C,aAAat0C,GAEtE,MACE1I,KAAKihE,cAAgBjhE,KAAKg9C,aAAainB,QAGzCjkE,KAAKqkE,YAAYmG,WAAWxqE,KAAKihE,eACjCjhE,KAAK0J,KAAOqc,EACZ/lB,KAAKmW,OAAS4P,EAAS5P,OACvBnW,KAAKumE,gBAAkB,CACrB9vB,EAAG1wB,EAAS0wB,EACZ3jC,EAAGiT,EAASjT,EACZquB,GAAI,EACJ3C,GAAI,EACJoD,GAAI,EACJ5qB,GAAI,GAENhX,KAAKijD,gBAAgBl9B,EAAU9kB,SAASC,MACxClB,KAAK+jB,WAAWk9C,cAAgBjhE,KAAKihE,cACrCjhE,KAAK+jB,WAAWpB,SAAW3iB,KAC3BA,KAAK+jB,WAAW0mD,UAAW,EAC3BzqE,KAAK+jB,WAAWw+B,gBAAkBviD,KAAKg9C,aAAauF,gBACpDviD,KAAK+jB,WAAWwiD,gBAAkBvmE,KAAKumE,gBACvCvmE,KAAKmzC,SAAW7kC,iBAAiByX,EAAS5P,OAAOjT,QACjDlD,KAAK2mB,qBACP,EAEA47C,mBAAmB72D,UAAUib,oBAAsB,SAAUtK,EAAOC,GAElE,IAAIouD,EACAC,EAoBAC,EACAC,EAEJ,GAzBA7qE,KAAK8B,QAIDua,GACFquD,EAAeruD,EACfsuD,EAAgBruD,EAChBtc,KAAKihE,cAAc7kD,OAAOC,MAAQquD,EAClC1qE,KAAKihE,cAAc7kD,OAAOE,OAASquD,IAE/B3qE,KAAKmjD,cAAcx/B,SAAW3jB,KAAKmjD,cAAc58C,WACnDmkE,EAAe1qE,KAAKmjD,cAAcx/B,QAAQlc,YAC1CkjE,EAAgB3qE,KAAKmjD,cAAcx/B,QAAQmnD,eAE3CJ,EAAe1qE,KAAKihE,cAAc7kD,OAAOC,MACzCsuD,EAAgB3qE,KAAKihE,cAAc7kD,OAAOE,QAG5Ctc,KAAKihE,cAAc7kD,OAAOC,MAAQquD,EAAe1qE,KAAKg9C,aAAaknB,IACnElkE,KAAKihE,cAAc7kD,OAAOE,OAASquD,EAAgB3qE,KAAKg9C,aAAaknB,MAMR,IAA3DlkE,KAAKg9C,aAAa8f,oBAAoBxiD,QAAQ,UAA8E,IAA5Dta,KAAKg9C,aAAa8f,oBAAoBxiD,QAAQ,SAAiB,CACjI,IAAI4vD,EAAMlqE,KAAKg9C,aAAa8f,oBAAoB7kD,MAAM,KAClD8yD,EAAWb,EAAI,IAAM,OACrB7uC,EAAM6uC,EAAI,IAAM,WAChBpR,EAAOz9B,EAAI7W,OAAO,EAAG,GACrBu0C,EAAO19B,EAAI7W,OAAO,GACtBomD,EAAaF,EAAeC,GAC5BE,EAAe7qE,KAAKumE,gBAAgB9vB,EAAIz2C,KAAKumE,gBAAgBzzD,GAE1C83D,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,GACnF/qE,KAAKumE,gBAAgBplC,GAAKupC,GAAgB1qE,KAAKumE,gBAAgB9vB,EAAIz2C,KAAKg9C,aAAaknB,KACrFlkE,KAAKumE,gBAAgB/nC,GAAKksC,GAAgB1qE,KAAKumE,gBAAgB9vB,EAAIz2C,KAAKg9C,aAAaknB,OAErFlkE,KAAKumE,gBAAgBplC,GAAKwpC,GAAiB3qE,KAAKumE,gBAAgBzzD,EAAI9S,KAAKg9C,aAAaknB,KACtFlkE,KAAKumE,gBAAgB/nC,GAAKmsC,GAAiB3qE,KAAKumE,gBAAgBzzD,EAAI9S,KAAKg9C,aAAaknB,MAItFlkE,KAAKumE,gBAAgB3kC,GADV,SAATk3B,IAAoB+R,EAAeD,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,IAC5EL,EAAe1qE,KAAKumE,gBAAgB9vB,GAAKk0B,EAAgB3qE,KAAKumE,gBAAgBzzD,IAAM,EAAI9S,KAAKg9C,aAAaknB,IACnH,SAATpL,IAAoB+R,EAAeD,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,IACnFL,EAAe1qE,KAAKumE,gBAAgB9vB,GAAKk0B,EAAgB3qE,KAAKumE,gBAAgBzzD,IAAM9S,KAAKg9C,aAAaknB,IAEvG,EAI1BlkE,KAAKumE,gBAAgBvvD,GADV,SAAT+hD,IAAoB8R,EAAeD,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,IAC5EJ,EAAgB3qE,KAAKumE,gBAAgBzzD,GAAK43D,EAAe1qE,KAAKumE,gBAAgB9vB,IAAM,EAAIz2C,KAAKg9C,aAAaknB,IACnH,SAATnL,IAAoB8R,EAAeD,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,IACnFJ,EAAgB3qE,KAAKumE,gBAAgBzzD,GAAK43D,EAAe1qE,KAAKumE,gBAAgB9vB,IAAMz2C,KAAKg9C,aAAaknB,IAEvG,CAE9B,KAAqD,SAA1ClkE,KAAKg9C,aAAa8f,qBAC3B98D,KAAKumE,gBAAgBplC,GAAKupC,GAAgB1qE,KAAKumE,gBAAgB9vB,EAAIz2C,KAAKg9C,aAAaknB,KACrFlkE,KAAKumE,gBAAgB/nC,GAAKmsC,GAAiB3qE,KAAKumE,gBAAgBzzD,EAAI9S,KAAKg9C,aAAaknB,KACtFlkE,KAAKumE,gBAAgB3kC,GAAK,EAC1B5hC,KAAKumE,gBAAgBvvD,GAAK,IAE1BhX,KAAKumE,gBAAgBplC,GAAKnhC,KAAKg9C,aAAaknB,IAC5ClkE,KAAKumE,gBAAgB/nC,GAAKx+B,KAAKg9C,aAAaknB,IAC5ClkE,KAAKumE,gBAAgB3kC,GAAK,EAC1B5hC,KAAKumE,gBAAgBvvD,GAAK,GAG5BhX,KAAKumE,gBAAgB7lC,MAAQ,CAAC1gC,KAAKumE,gBAAgBplC,GAAI,EAAG,EAAG,EAAG,EAAGnhC,KAAKumE,gBAAgB/nC,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGx+B,KAAKumE,gBAAgB3kC,GAAI5hC,KAAKumE,gBAAgBvvD,GAAI,EAAG,GAQnKhX,KAAKskE,aAAatkE,KAAKumE,gBAAgB7lC,OACvC1gC,KAAKihE,cAAcC,YACnBlhE,KAAKihE,cAAcrd,KAAK,EAAG,EAAG5jD,KAAKumE,gBAAgB9vB,EAAGz2C,KAAKumE,gBAAgBzzD,GAC3E9S,KAAKihE,cAAc0H,YACnB3oE,KAAKihE,cAAcM,OACnBvhE,KAAK6mB,YAAY7mB,KAAK64B,eAAe,EACvC,EAEA0pC,mBAAmB72D,UAAUmT,QAAU,WAKrC,IAAIvT,EAGJ,IAPItL,KAAKg9C,aAAagnB,aAAehkE,KAAKmjD,cAAcx/B,UACtD3jB,KAAKmjD,cAAcx/B,QAAQ5Z,UAAY,IAMpCuB,GAFKtL,KAAKmW,OAASnW,KAAKmW,OAAOjT,OAAS,GAE9B,EAAGoI,GAAK,EAAGA,GAAK,EACzBtL,KAAKmzC,SAAS7nC,IAAMtL,KAAKmzC,SAAS7nC,GAAGuT,SACvC7e,KAAKmzC,SAAS7nC,GAAGuT,UAIrB7e,KAAKmzC,SAASjwC,OAAS,EACvBlD,KAAK+jB,WAAWk9C,cAAgB,KAChCjhE,KAAKmjD,cAAc58C,UAAY,KAC/BvG,KAAKs9D,WAAY,CACnB,EAEAiF,mBAAmB72D,UAAUmb,YAAc,SAAU81B,EAAK1R,GACxD,IAAIjrC,KAAK64B,gBAAkB8jB,IAAyC,IAAlC38C,KAAKg9C,aAAagnB,aAAyB/4B,KAAejrC,KAAKs9D,YAAsB,IAAT3gB,EAA9G,CAWA,IAAIrxC,EAPJtL,KAAK64B,cAAgB8jB,EACrB38C,KAAK+jB,WAAWoQ,SAAWwoB,EAAM38C,KAAKmjD,cAAc1pB,cACpDz5B,KAAK+jB,WAAWuV,SAAW,EAC3Bt5B,KAAK+jB,WAAWqV,MAAQp5B,KAAKg9C,aAAagnB,aAAe/4B,EACzDjrC,KAAK+jB,WAAWZ,iBAAiB1B,aAAek7B,EAIhD,IAAInxC,EAAMxL,KAAKmW,OAAOjT,OAMtB,IAJKlD,KAAKkW,gBACRlW,KAAKwhD,YAAY7E,GAGdrxC,EAAIE,EAAM,EAAGF,GAAK,EAAGA,GAAK,GACzBtL,KAAKkW,gBAAkBlW,KAAKmzC,SAAS7nC,KACvCtL,KAAKmzC,SAAS7nC,GAAGiW,aAAao7B,EAAM38C,KAAKmW,OAAO7K,GAAGwN,IAIvD,GAAI9Y,KAAK+jB,WAAWqV,KAAM,CAOxB,KANsC,IAAlCp5B,KAAKg9C,aAAagnB,YACpBhkE,KAAKihE,cAAc2F,UAAU,EAAG,EAAG5mE,KAAKumE,gBAAgB9vB,EAAGz2C,KAAKumE,gBAAgBzzD,GAEhF9S,KAAKshE,OAGFh2D,EAAIE,EAAM,EAAGF,GAAK,EAAGA,GAAK,GACzBtL,KAAKkW,gBAAkBlW,KAAKmzC,SAAS7nC,KACvCtL,KAAKmzC,SAAS7nC,GAAGub,eAIiB,IAAlC7mB,KAAKg9C,aAAagnB,aACpBhkE,KAAKonE,SAET,CAtCA,CAuCF,EAEA7E,mBAAmB72D,UAAU+1C,UAAY,SAAUpmB,GACjD,IAAI8X,EAAWnzC,KAAKmzC,SAEpB,IAAIA,EAAS9X,IAAgC,KAAxBr7B,KAAKmW,OAAOklB,GAAKrkB,GAAtC,CAIA,IAAIjG,EAAU/Q,KAAK2hD,WAAW3hD,KAAKmW,OAAOklB,GAAMr7B,KAAMA,KAAK+jB,YAC3DovB,EAAS9X,GAAOtqB,EAChBA,EAAQuU,iBAJR,CAQF,EAEAi9C,mBAAmB72D,UAAUg2C,qBAAuB,WAClD,KAAO1hD,KAAK8iD,gBAAgB5/C,QACZlD,KAAK8iD,gBAAgBzZ,MAC3B+gB,gBAEZ,EAEAmY,mBAAmB72D,UAAUwd,KAAO,WAClClpB,KAAKmjD,cAAc58C,UAAUyK,MAAME,QAAU,MAC/C,EAEAqxD,mBAAmB72D,UAAUyd,KAAO,WAClCnpB,KAAKmjD,cAAc58C,UAAUyK,MAAME,QAAU,OAC/C,EAkDAyxD,cAAcj3D,UAAUs/D,UAAY,WAClC,IAAIC,EAA2B,EAAfjrE,KAAKwuB,QACjBljB,EAAI,EAER,IAAKA,EAAItL,KAAKwuB,QAASljB,EAAI2/D,EAAW3/D,GAAK,EACzCtL,KAAK4iE,MAAMt3D,GAAK,IAAIk3D,cAGtBxiE,KAAKwuB,QAAUy8C,CACjB,EAEAtI,cAAcj3D,UAAU5J,MAAQ,WAC9B9B,KAAK6iE,QAAU,EACf7iE,KAAK8iE,IAAIhhE,QACT9B,KAAK4iE,MAAM5iE,KAAK6iE,SAASjd,QAAU,CACrC,EAEA+c,cAAcj3D,UAAU07D,QAAU,SAAU8D,GAC1ClrE,KAAK6iE,SAAW,EAChB,IAEIv3D,EAFA6/D,EAAiBnrE,KAAK4iE,MAAM5iE,KAAK6iE,SACjC/gC,EAAYqpC,EAAerpC,UAE3B5zB,EAAMlO,KAAK8iE,IAAIpiC,MAEnB,IAAKp1B,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvB4C,EAAI5C,GAAKw2B,EAAUx2B,GAGrB,GAAI4/D,EAAc,CAChBlrE,KAAK+iE,cAAcqE,UACnB,IAAIgE,EAAYprE,KAAK4iE,MAAM5iE,KAAK6iE,QAAU,GAC1C7iE,KAAKmjE,iBAAmBiI,EAAU3uD,UAClCzc,KAAKqjE,mBAAqB+H,EAAU3I,YACpCziE,KAAKujE,iBAAmB6H,EAAUxW,UAClC50D,KAAKyjE,eAAiB2H,EAAU1I,QAChC1iE,KAAK2jE,gBAAkByH,EAAU56B,SACjCxwC,KAAK4jE,kBAAoBwH,EAAU36B,UACrC,CAEAzwC,KAAK+iE,cAAcvhC,aAAaM,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,IAAKA,EAAU,MAE7GopC,IAA4C,IAA5BC,EAAevlB,SAAkB5lD,KAAKijE,iBAAmBkI,EAAevlB,WAC1F5lD,KAAK+iE,cAAcoH,YAAcgB,EAAevlB,QAChD5lD,KAAKijE,eAAiBkI,EAAevlB,SAGvC5lD,KAAKkjE,iBAAmBiI,EAAe1uD,UACvCzc,KAAKojE,mBAAqB+H,EAAe1I,YACzCziE,KAAKsjE,iBAAmB6H,EAAevW,UACvC50D,KAAKwjE,eAAiB2H,EAAezI,QACrC1iE,KAAK0jE,gBAAkByH,EAAe36B,SACtCxwC,KAAK6jE,kBAAoBsH,EAAe16B,UAC1C,EAEAkyB,cAAcj3D,UAAU41D,KAAO,SAAU+J,GACnCA,GACFrrE,KAAK+iE,cAAczB,OAGrB,IAAI5gC,EAAQ1gC,KAAK8iE,IAAIpiC,MAEjB1gC,KAAKwuB,SAAWxuB,KAAK6iE,SACvB7iE,KAAKgrE,YAGP,IACI1/D,EADAggE,EAAetrE,KAAK4iE,MAAM5iE,KAAK6iE,SAGnC,IAAKv3D,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvBggE,EAAaxpC,UAAUx2B,GAAKo1B,EAAMp1B,GAGpCtL,KAAK6iE,SAAW,EAChB,IAAI0I,EAAWvrE,KAAK4iE,MAAM5iE,KAAK6iE,SAC/B0I,EAAS3lB,QAAU0lB,EAAa1lB,QAChC2lB,EAAS9uD,UAAY6uD,EAAa7uD,UAClC8uD,EAAS9I,YAAc6I,EAAa7I,YACpC8I,EAAS3W,UAAY0W,EAAa1W,UAClC2W,EAAS7I,QAAU4I,EAAa5I,QAChC6I,EAAS/6B,SAAW86B,EAAa96B,SACjC+6B,EAAS96B,WAAa66B,EAAa76B,UACrC,EAEAkyB,cAAcj3D,UAAU8/D,WAAa,SAAUjiE,GAC7CvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASjd,QAAUr8C,CACrC,EAEAo5D,cAAcj3D,UAAU8+D,WAAa,SAAUjhE,GAC7CvJ,KAAK+iE,cAAgBx5D,CACvB,EAEAo5D,cAAcj3D,UAAU+Q,UAAY,SAAUlT,GACxCvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASpmD,YAAclT,IACzCvJ,KAAKkjE,iBAAmB35D,EACxBvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASpmD,UAAYlT,EAEzC,EAEAo5D,cAAcj3D,UAAU+2D,YAAc,SAAUl5D,GAC1CvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASJ,cAAgBl5D,IAC3CvJ,KAAKojE,mBAAqB75D,EAC1BvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASJ,YAAcl5D,EAE3C,EAEAo5D,cAAcj3D,UAAUkpD,UAAY,SAAUrrD,GACxCvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASjO,YAAcrrD,IACzCvJ,KAAKsjE,iBAAmB/5D,EACxBvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASjO,UAAYrrD,EAEzC,EAEAo5D,cAAcj3D,UAAUg3D,QAAU,SAAUn5D,GACtCvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASH,UAAYn5D,IACvCvJ,KAAKwjE,eAAiBj6D,EACtBvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASH,QAAUn5D,EAEvC,EAEAo5D,cAAcj3D,UAAU8kC,SAAW,SAAUjnC,GACvCvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASryB,WAAajnC,IACxCvJ,KAAK0jE,gBAAkBn6D,EACvBvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASryB,SAAWjnC,EAExC,EAEAo5D,cAAcj3D,UAAU+kC,WAAa,SAAUlnC,GACzCvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASpyB,aAAelnC,IAC1CvJ,KAAK6jE,kBAAoBt6D,EACzBvJ,KAAK4iE,MAAM5iE,KAAK6iE,SAASpyB,WAAalnC,EAE1C,EAEAo5D,cAAcj3D,UAAUo2B,UAAY,SAAUpB,GAC5C1gC,KAAKgjE,aAAa5+B,eAAe1D,GAEjC,IAAIsyB,EAAmBhzD,KAAK8iE,IAE5B9iE,KAAKgjE,aAAan/B,SAASmvB,GAE3BA,EAAiB5uB,eAAepkC,KAAKgjE,aAAatiC,OAClD,IAAI+qC,EAAUzY,EAAiBtyB,MAE/B1gC,KAAK+iE,cAAcvhC,aAAaiqC,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,IAAKA,EAAQ,IACvG,EAEA9I,cAAcj3D,UAAUk6C,QAAU,SAAU/sC,GAC1C,IAAIoqD,EAAiBjjE,KAAK4iE,MAAM5iE,KAAK6iE,SAASjd,QAC9Cqd,GAAkBpqD,EAAK,EAAI,EAAIA,EAE3B7Y,KAAK4iE,MAAM5iE,KAAK6iE,SAASjd,UAAYqd,IACnCjjE,KAAKijE,iBAAmBpqD,IAC1B7Y,KAAK+iE,cAAcoH,YAActxD,EACjC7Y,KAAKijE,eAAiBpqD,GAGxB7Y,KAAK4iE,MAAM5iE,KAAK6iE,SAASjd,QAAUqd,EAEvC,EAEAN,cAAcj3D,UAAUu2D,KAAO,SAAUmI,GACnCpqE,KAAKmjE,mBAAqBnjE,KAAKkjE,mBACjCljE,KAAKmjE,iBAAmBnjE,KAAKkjE,iBAC7BljE,KAAK+iE,cAActmD,UAAYzc,KAAKmjE,kBAGtCnjE,KAAK+iE,cAAcd,KAAKmI,EAC1B,EAEAzH,cAAcj3D,UAAUgR,SAAW,SAAUkQ,EAAG6I,EAAGghB,EAAG3jC,GAChD9S,KAAKmjE,mBAAqBnjE,KAAKkjE,mBACjCljE,KAAKmjE,iBAAmBnjE,KAAKkjE,iBAC7BljE,KAAK+iE,cAActmD,UAAYzc,KAAKmjE,kBAGtCnjE,KAAK+iE,cAAcrmD,SAASkQ,EAAG6I,EAAGghB,EAAG3jC,EACvC,EAEA6vD,cAAcj3D,UAAUs2D,OAAS,WAC3BhiE,KAAKqjE,qBAAuBrjE,KAAKojE,qBACnCpjE,KAAKqjE,mBAAqBrjE,KAAKojE,mBAC/BpjE,KAAK+iE,cAAcN,YAAcziE,KAAKqjE,oBAGpCrjE,KAAKujE,mBAAqBvjE,KAAKsjE,mBACjCtjE,KAAKujE,iBAAmBvjE,KAAKsjE,iBAC7BtjE,KAAK+iE,cAAcnO,UAAY50D,KAAKujE,kBAGlCvjE,KAAKyjE,iBAAmBzjE,KAAKwjE,iBAC/BxjE,KAAKyjE,eAAiBzjE,KAAKwjE,eAC3BxjE,KAAK+iE,cAAcL,QAAU1iE,KAAKyjE,gBAGhCzjE,KAAK2jE,kBAAoB3jE,KAAK0jE,kBAChC1jE,KAAK2jE,gBAAkB3jE,KAAK0jE,gBAC5B1jE,KAAK+iE,cAAcvyB,SAAWxwC,KAAK2jE,iBAGjC3jE,KAAK4jE,oBAAsB5jE,KAAK6jE,oBAClC7jE,KAAK4jE,kBAAoB5jE,KAAK6jE,kBAC9B7jE,KAAK+iE,cAActyB,WAAazwC,KAAK4jE,mBAGvC5jE,KAAK+iE,cAAcf,QACrB,EAaA72D,gBAAgB,CAACo3D,mBAAoBtG,aAAc+E,eAAgB8C,eAEnEA,cAAcp4D,UAAU4+C,mBAAqB,WAC3C,IAQIh/C,EARAiR,EAAMvc,KAAKihE,cAWf,IAVA1kD,EAAI2kD,YACJ3kD,EAAI4kD,OAAO,EAAG,GACd5kD,EAAI6kD,OAAOphE,KAAK0J,KAAK+sC,EAAG,GACxBl6B,EAAI6kD,OAAOphE,KAAK0J,KAAK+sC,EAAGz2C,KAAK0J,KAAKoJ,GAClCyJ,EAAI6kD,OAAO,EAAGphE,KAAK0J,KAAKoJ,GACxByJ,EAAI6kD,OAAO,EAAG,GACd7kD,EAAIglD,OAICj2D,EAFKtL,KAAKmW,OAAOjT,OAEP,EAAGoI,GAAK,EAAGA,GAAK,GACzBtL,KAAKkW,gBAAkBlW,KAAKmzC,SAAS7nC,KACvCtL,KAAKmzC,SAAS7nC,GAAGub,aAGvB,EAEAi9C,cAAcp4D,UAAUmT,QAAU,WAChC,IAAIvT,EAGJ,IAAKA,EAFKtL,KAAKmW,OAAOjT,OAEP,EAAGoI,GAAK,EAAGA,GAAK,EACzBtL,KAAKmzC,SAAS7nC,IAChBtL,KAAKmzC,SAAS7nC,GAAGuT,UAIrB7e,KAAKmW,OAAS,KACdnW,KAAKmzC,SAAW,IAClB,EAEA2wB,cAAcp4D,UAAUo2C,WAAa,SAAUp4C,GAC7C,OAAO,IAAIo6D,cAAcp6D,EAAM1J,KAAK+jB,WAAY/jB,KAClD,EAmDAmL,gBAAgB,CAACo3D,oBAAqBwB,gBAEtCA,eAAer4D,UAAUo2C,WAAa,SAAUp4C,GAC9C,OAAO,IAAIo6D,cAAcp6D,EAAM1J,KAAK+jB,WAAY/jB,KAClD,EAIAilE,aAAav5D,UAAY,CACvBggE,eAAgB,WAA2B,EAC3CpjB,oBAAqB,WACnBtoD,KAAK0gD,YAAcz1C,UAAUjL,KAAK0J,KAAKiiE,IAAM,OAEzC3rE,KAAK0J,KAAKiN,SACZ3W,KAAKs8D,WAAaznD,SAAS,OAC3B7U,KAAK2gD,aAAe9rC,SAAS,KAC7B7U,KAAK8kD,cAAgB9kD,KAAK2gD,aAC1B3gD,KAAKs8D,WAAWlyD,YAAYpK,KAAK2gD,cACjC3gD,KAAK0gD,YAAYt2C,YAAYpK,KAAKs8D,aAElCt8D,KAAK2gD,aAAe3gD,KAAK0gD,YAG3B5vC,SAAS9Q,KAAK0gD,YAChB,EACA6H,wBAAyB,WACvBvoD,KAAK8lD,yBAA2B,IAAI8a,UAAU5gE,MAC9CA,KAAKyoD,mBAAqBzoD,KAAK0gD,YAC/B1gD,KAAK8kD,cAAgB9kD,KAAK2gD,aAEtB3gD,KAAK0J,KAAKs/C,IACZhpD,KAAK2gD,aAAax2C,aAAa,KAAMnK,KAAK0J,KAAKs/C,IAG7ChpD,KAAK0J,KAAKiQ,IACZ3Z,KAAK2gD,aAAax2C,aAAa,QAASnK,KAAK0J,KAAKiQ,IAG/B,IAAjB3Z,KAAK0J,KAAK+2C,IACZzgD,KAAKugD,cAET,EACA8I,cAAe,WACb,IAAIuiB,EAA0B5rE,KAAKyoD,mBAAqBzoD,KAAKyoD,mBAAmBz3C,MAAQ,CAAC,EAEzF,GAAIhR,KAAK88C,eAAekI,QAAS,CAC/B,IAAI6mB,EAAc7rE,KAAK88C,eAAe9R,IAAIxF,QAC1ComC,EAAwB9pC,UAAY+pC,EACpCD,EAAwBE,gBAAkBD,CAC5C,CAEI7rE,KAAK88C,eAAeoI,SACtB0mB,EAAwBhmB,QAAU5lD,KAAK88C,eAAeC,MAAMnlC,EAAE5E,EAElE,EACA6T,YAAa,WAGP7mB,KAAK0J,KAAKu/C,IAAMjpD,KAAKo8C,SAIzBp8C,KAAKslD,kBACLtlD,KAAKk9C,mBACLl9C,KAAKqpD,gBACLrpD,KAAKsqD,qBAEDtqD,KAAKy5B,gBACPz5B,KAAKy5B,eAAgB,GAEzB,EACA5a,QAAS,WACP7e,KAAK2gD,aAAe,KACpB3gD,KAAKyoD,mBAAqB,KAEtBzoD,KAAKwoD,eACPxoD,KAAKwoD,aAAe,MAGlBxoD,KAAK8/C,cACP9/C,KAAK8/C,YAAYjhC,UACjB7e,KAAK8/C,YAAc,KAEvB,EACAyJ,2BAA4B,WAC1BvpD,KAAK8/C,YAAc,IAAI0D,YAAYxjD,KAAK0J,KAAM1J,KAAMA,KAAK+jB,WAC3D,EACAgoD,WAAY,WAAuB,EACnC7hB,SAAU,WAAqB,GAEjC+a,aAAav5D,UAAUw1C,eAAiB4G,eAAep8C,UAAUw1C,eACjE+jB,aAAav5D,UAAU49C,mBAAqB2b,aAAav5D,UAAUmT,QACnEomD,aAAav5D,UAAU82C,sBAAwBnD,aAAa3zC,UAAU82C,sBAMtEr3C,gBAAgB,CAACozC,YAAagF,iBAAkB0hB,aAAcld,iBAAkBvJ,aAAcwJ,sBAAuBkd,eAErHA,cAAcx5D,UAAU2+C,cAAgB,WACtC,IAAIzG,EAEA5jD,KAAK0J,KAAKiN,UACZitC,EAAO/uC,SAAS,SACX1K,aAAa,QAASnK,KAAK0J,KAAK0mD,IACrCxM,EAAKz5C,aAAa,SAAUnK,KAAK0J,KAAK4sB,IACtCstB,EAAKz5C,aAAa,OAAQnK,KAAK0J,KAAKuxC,IACpCj7C,KAAKs8D,WAAWnyD,aAAa,QAASnK,KAAK0J,KAAK0mD,IAChDpwD,KAAKs8D,WAAWnyD,aAAa,SAAUnK,KAAK0J,KAAK4sB,OAEjDstB,EAAO34C,UAAU,QACZ+F,MAAMqL,MAAQrc,KAAK0J,KAAK0mD,GAAK,KAClCxM,EAAK5yC,MAAMsL,OAAStc,KAAK0J,KAAK4sB,GAAK,KACnCstB,EAAK5yC,MAAMg7D,gBAAkBhsE,KAAK0J,KAAKuxC,IAGzCj7C,KAAK2gD,aAAav2C,YAAYw5C,EAChC,EA8BAz4C,gBAAgB,CAACozC,YAAagF,iBAAkB2hB,cAAelV,gBAAiBiV,aAAcld,iBAAkBvJ,aAAczC,mBAAoBopB,eAClJA,cAAcz5D,UAAUugE,kBAAoB9G,cAAcz5D,UAAU4+C,mBAEpE6a,cAAcz5D,UAAU2+C,cAAgB,WACtC,IAAI1W,EAGJ,GAFA3zC,KAAK0gD,YAAY1vC,MAAMqmC,SAAW,EAE9Br3C,KAAK0J,KAAKiN,QACZ3W,KAAK2gD,aAAav2C,YAAYpK,KAAKolE,iBACnCzxB,EAAO3zC,KAAKs8D,eACP,CACL3oB,EAAO9+B,SAAS,OAChB,IAAIxP,EAAOrF,KAAKsX,KAAK5N,KAAO1J,KAAKsX,KAAK5N,KAAO1J,KAAK+jB,WAAWq/B,SAC7DzP,EAAKxpC,aAAa,QAAS9E,EAAKoxC,GAChC9C,EAAKxpC,aAAa,SAAU9E,EAAKyN,GACjC6gC,EAAKvpC,YAAYpK,KAAKolE,iBACtBplE,KAAK2gD,aAAav2C,YAAYupC,EAChC,CAEA3zC,KAAKiyD,aAAajyD,KAAKogD,WAAYpgD,KAAKqgD,UAAWrgD,KAAKitD,aAAcjtD,KAAKolE,gBAAiB,EAAG,IAAI,GACnGplE,KAAKkyD,qBACLlyD,KAAKksE,UAAYv4B,CACnB,EAEAwxB,cAAcz5D,UAAUygE,oBAAsB,SAAU9gB,EAAc/6B,GACpE,IAAIhlB,EACAE,EAAM6/C,EAAanoD,OAEvB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBglB,EAAQ+6B,EAAa//C,GAAGopC,OAAO1hC,EAAE8xB,kBAAkBxU,EAAM,GAAIA,EAAM,GAAI,GAGzE,OAAOA,CACT,EAEA60C,cAAcz5D,UAAU0gE,0BAA4B,SAAUxiE,EAAMkjC,GAClE,IAEIxhC,EAEA+gE,EACAC,EACAC,EACAC,EAPAnwC,EAAQzyB,EAAK0sB,GAAGtjB,EAChBq4C,EAAezhD,EAAKyhD,aAEpB7/C,EAAM6wB,EAAM7N,QAMhB,KAAIhjB,GAAO,GAAX,CAIA,IAAKF,EAAI,EAAGA,EAAIE,EAAM,EAAGF,GAAK,EAC5B+gE,EAASrsE,KAAKmsE,oBAAoB9gB,EAAchvB,EAAMrpB,EAAE1H,IACxDghE,EAAStsE,KAAKmsE,oBAAoB9gB,EAAchvB,EAAMzkB,EAAEtM,IACxDihE,EAAavsE,KAAKmsE,oBAAoB9gB,EAAchvB,EAAM/wB,EAAEA,EAAI,IAChEkhE,EAAaxsE,KAAKmsE,oBAAoB9gB,EAAchvB,EAAMrpB,EAAE1H,EAAI,IAChEtL,KAAKysE,YAAYJ,EAAQC,EAAQC,EAAYC,EAAY1/B,GAGvDzQ,EAAM9iB,IACR8yD,EAASrsE,KAAKmsE,oBAAoB9gB,EAAchvB,EAAMrpB,EAAE1H,IACxDghE,EAAStsE,KAAKmsE,oBAAoB9gB,EAAchvB,EAAMzkB,EAAEtM,IACxDihE,EAAavsE,KAAKmsE,oBAAoB9gB,EAAchvB,EAAM/wB,EAAE,IAC5DkhE,EAAaxsE,KAAKmsE,oBAAoB9gB,EAAchvB,EAAMrpB,EAAE,IAC5DhT,KAAKysE,YAAYJ,EAAQC,EAAQC,EAAYC,EAAY1/B,GAf3D,CAiBF,EAEAq4B,cAAcz5D,UAAU+gE,YAAc,SAAUJ,EAAQC,EAAQC,EAAYC,EAAY1/B,GACtF9sC,KAAK0sE,iBAAiBL,EAAQC,EAAQC,EAAYC,GAClD,IAAI72B,EAAS31C,KAAK2sE,iBAClB7/B,EAAYlgB,EAAI9c,MAAM6lC,EAAOhuC,KAAMmlC,EAAYlgB,GAC/CkgB,EAAY8/B,KAAOh9D,MAAM+lC,EAAOrE,MAAOxE,EAAY8/B,MACnD9/B,EAAYrX,EAAI3lB,MAAM6lC,EAAO/tC,IAAKklC,EAAYrX,GAC9CqX,EAAY+/B,KAAOj9D,MAAM+lC,EAAOC,OAAQ9I,EAAY+/B,KACtD,EAEA1H,cAAcz5D,UAAUihE,iBAAmB,CACzChlE,KAAM,EACN2pC,MAAO,EACP1pC,IAAK,EACLguC,OAAQ,GAEVuvB,cAAcz5D,UAAUohE,gBAAkB,CACxClgD,EAAG,EACHggD,KAAM,EACNn3C,EAAG,EACHo3C,KAAM,EACNxwD,MAAO,EACPC,OAAQ,GAGV6oD,cAAcz5D,UAAUghE,iBAAmB,SAAUzuC,EAAIC,EAAI2E,EAAIsJ,GAG/D,IAFA,IAESnzB,EAAG7F,EAAGoG,EAAGhG,EAAGw5D,EAAM76C,EAAI0a,EAF3B+I,EAAS,CAAC,CAAC1X,EAAG,GAAIkO,EAAG,IAAK,CAAClO,EAAG,GAAIkO,EAAG,KAEN7gC,EAAI,EAAGA,EAAI,IAAKA,EAEjD6H,EAAI,EAAI8qB,EAAG3yB,GAAK,GAAK4yB,EAAG5yB,GAAK,EAAIu3B,EAAGv3B,GACpC0N,GAAK,EAAIilB,EAAG3yB,GAAK,EAAI4yB,EAAG5yB,GAAK,EAAIu3B,EAAGv3B,GAAK,EAAI6gC,EAAG7gC,GAChDiO,EAAI,EAAI2kB,EAAG5yB,GAAK,EAAI2yB,EAAG3yB,GACvB6H,GAAK,EAILoG,GAAK,EAEK,IAJVP,GAAK,IAIgB,IAAN7F,IACE,IAAN6F,GACTzF,GAAKgG,EAAIpG,GAED,GAAKI,EAAI,GACfoiC,EAAOrqC,GAAGsB,KAAK5M,KAAKgtE,WAAWz5D,EAAG0qB,EAAIC,EAAI2E,EAAIsJ,EAAI7gC,KAGpDyhE,EAAO55D,EAAIA,EAAI,EAAIoG,EAAIP,IAEX,KACVkZ,IAAO/e,EAAI3D,OAAOu9D,KAAU,EAAI/zD,IACvB,GAAKkZ,EAAK,GAAGyjB,EAAOrqC,GAAGsB,KAAK5M,KAAKgtE,WAAW96C,EAAI+L,EAAIC,EAAI2E,EAAIsJ,EAAI7gC,KACzEshC,IAAOz5B,EAAI3D,OAAOu9D,KAAU,EAAI/zD,IACvB,GAAK4zB,EAAK,GAAG+I,EAAOrqC,GAAGsB,KAAK5M,KAAKgtE,WAAWpgC,EAAI3O,EAAIC,EAAI2E,EAAIsJ,EAAI7gC,MAK/EtL,KAAK2sE,iBAAiBhlE,KAAOmI,MAAMtB,MAAM,KAAMmnC,EAAO,IACtD31C,KAAK2sE,iBAAiB/kE,IAAMkI,MAAMtB,MAAM,KAAMmnC,EAAO,IACrD31C,KAAK2sE,iBAAiBr7B,MAAQ1hC,MAAMpB,MAAM,KAAMmnC,EAAO,IACvD31C,KAAK2sE,iBAAiB/2B,OAAShmC,MAAMpB,MAAM,KAAMmnC,EAAO,GAC1D,EAEAwvB,cAAcz5D,UAAUshE,WAAa,SAAUz5D,EAAG0qB,EAAIC,EAAI2E,EAAIsJ,EAAI7gC,GAChE,OAAO+D,MAAM,EAAIkE,EAAG,GAAK0qB,EAAG3yB,GAAK,EAAI+D,MAAM,EAAIkE,EAAG,GAAKA,EAAI2qB,EAAG5yB,GAAK,GAAK,EAAIiI,GAAKlE,MAAMkE,EAAG,GAAKsvB,EAAGv3B,GAAK+D,MAAMkE,EAAG,GAAK44B,EAAG7gC,EAC1H,EAEA65D,cAAcz5D,UAAUuhE,qBAAuB,SAAU5sB,EAAWvT,GAClE,IAAIxhC,EACAE,EAAM60C,EAAUn9C,OAEpB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpB+0C,EAAU/0C,IAAM+0C,EAAU/0C,GAAGgrB,GAC/Bt2B,KAAKosE,0BAA0B/rB,EAAU/0C,GAAIwhC,GACpCuT,EAAU/0C,IAAM+0C,EAAU/0C,GAAGqM,GACtC3X,KAAKitE,qBAAqB5sB,EAAU/0C,GAAGqM,GAAIm1B,GAClCuT,EAAU/0C,IAAM+0C,EAAU/0C,GAAG0F,OAASqvC,EAAU/0C,GAAGmrC,GAC5Dz2C,KAAKktE,wBAAwB7sB,EAAU/0C,GAAGmrC,EAAG3J,EAGnD,EAEAq4B,cAAcz5D,UAAUwhE,wBAA0B,SAAUC,EAAergC,GACzE,IAAIzwB,EAAQ,EAEZ,GAAI8wD,EAAcp4C,UAAW,CAC3B,IAAK,IAAIzpB,EAAI,EAAGA,EAAI6hE,EAAcp4C,UAAU7xB,OAAQoI,GAAK,EAAG,CAC1D,IAAI8hE,EAAMD,EAAcp4C,UAAUzpB,GAAGyH,EAEjCq6D,EAAM/wD,IACRA,EAAQ+wD,EAEZ,CAEA/wD,GAAS8wD,EAAch0C,IACzB,MACE9c,EAAQ8wD,EAAcn6D,EAAIm6D,EAAch0C,KAG1C2T,EAAYlgB,GAAKvQ,EACjBywB,EAAY8/B,MAAQvwD,EACpBywB,EAAYrX,GAAKpZ,EACjBywB,EAAY+/B,MAAQxwD,CACtB,EAEA8oD,cAAcz5D,UAAU2hE,mBAAqB,SAAUxgC,GACrD,OAAO7sC,KAAKqlE,YAAYz4C,GAAKigB,EAAIjgB,GAAK5sB,KAAKqlE,YAAY5vC,GAAKoX,EAAIpX,GAAKz1B,KAAKqlE,YAAYhpD,MAAQrc,KAAKqlE,YAAYz4C,GAAKigB,EAAIjgB,EAAIigB,EAAIxwB,OAASrc,KAAKqlE,YAAY/oD,OAAStc,KAAKqlE,YAAY5vC,GAAKoX,EAAIpX,EAAIoX,EAAIvwB,MACvM,EAEA6oD,cAAcz5D,UAAU4+C,mBAAqB,WAG3C,GAFAtqD,KAAKisE,qBAEAjsE,KAAKo8C,SAAWp8C,KAAKy5B,eAAiBz5B,KAAKo5B,MAAO,CACrD,IAAI0zC,EAAkB9sE,KAAK8sE,gBACvBj9D,EAAM,OASV,GARAi9D,EAAgBlgD,EAAI/c,EACpBi9D,EAAgBF,MAAQ/8D,EACxBi9D,EAAgBr3C,EAAI5lB,EACpBi9D,EAAgBD,MAAQh9D,EACxB7P,KAAKitE,qBAAqBjtE,KAAKqgD,UAAWysB,GAC1CA,EAAgBzwD,MAAQywD,EAAgBF,KAAOE,EAAgBlgD,EAAI,EAAIkgD,EAAgBF,KAAOE,EAAgBlgD,EAC9GkgD,EAAgBxwD,OAASwwD,EAAgBD,KAAOC,EAAgBr3C,EAAI,EAAIq3C,EAAgBD,KAAOC,EAAgBr3C,EAE3Gz1B,KAAKqtE,mBAAmBP,GAC1B,OAGF,IAAIQ,GAAU,EAcd,GAZIttE,KAAKqlE,YAAY5uB,IAAMq2B,EAAgBzwD,QACzCrc,KAAKqlE,YAAY5uB,EAAIq2B,EAAgBzwD,MACrCrc,KAAKksE,UAAU/hE,aAAa,QAAS2iE,EAAgBzwD,OACrDixD,GAAU,GAGRttE,KAAKqlE,YAAYvyD,IAAMg6D,EAAgBxwD,SACzCtc,KAAKqlE,YAAYvyD,EAAIg6D,EAAgBxwD,OACrCtc,KAAKksE,UAAU/hE,aAAa,SAAU2iE,EAAgBxwD,QACtDgxD,GAAU,GAGRA,GAAWttE,KAAKqlE,YAAYz4C,IAAMkgD,EAAgBlgD,GAAK5sB,KAAKqlE,YAAY5vC,IAAMq3C,EAAgBr3C,EAAG,CACnGz1B,KAAKqlE,YAAY5uB,EAAIq2B,EAAgBzwD,MACrCrc,KAAKqlE,YAAYvyD,EAAIg6D,EAAgBxwD,OACrCtc,KAAKqlE,YAAYz4C,EAAIkgD,EAAgBlgD,EACrC5sB,KAAKqlE,YAAY5vC,EAAIq3C,EAAgBr3C,EACrCz1B,KAAKksE,UAAU/hE,aAAa,UAAWnK,KAAKqlE,YAAYz4C,EAAI,IAAM5sB,KAAKqlE,YAAY5vC,EAAI,IAAMz1B,KAAKqlE,YAAY5uB,EAAI,IAAMz2C,KAAKqlE,YAAYvyD,GACzI,IAAIy6D,EAAavtE,KAAKksE,UAAUl7D,MAC5Bw8D,EAAiB,aAAextE,KAAKqlE,YAAYz4C,EAAI,MAAQ5sB,KAAKqlE,YAAY5vC,EAAI,MACtF83C,EAAWzrC,UAAY0rC,EACvBD,EAAWzB,gBAAkB0B,CAC/B,CACF,CACF,EAgBAriE,gBAAgB,CAACozC,YAAagF,iBAAkB0hB,aAAcld,iBAAkBvJ,aAAcwJ,qBAAsB2Q,cAAe2M,cAEnIA,aAAa55D,UAAU2+C,cAAgB,WAGrC,GAFArqD,KAAKwlE,SAAWxlE,KAAKu/C,aAEjBv/C,KAAKwlE,SAAU,CACjBxlE,KAAKg4D,WAAa,MAClBh4D,KAAKytE,MAAQztE,KAAKsX,KAAK5N,KAAK+sC,EAC5Bz2C,KAAK0tE,MAAQ1tE,KAAKsX,KAAK5N,KAAKoJ,EAC5B9S,KAAKs8D,WAAWnyD,aAAa,QAASnK,KAAKytE,OAC3CztE,KAAKs8D,WAAWnyD,aAAa,SAAUnK,KAAK0tE,OAC5C,IAAIx6D,EAAI2B,SAAS,KACjB7U,KAAK8kD,cAAc16C,YAAY8I,GAC/BlT,KAAKuqD,UAAYr3C,CACnB,MACElT,KAAKg4D,WAAa,OAClBh4D,KAAKuqD,UAAYvqD,KAAK2gD,aAGxB3gD,KAAKoqD,gBACP,EAEAkb,aAAa55D,UAAUgwD,aAAe,WACpC,IAAIpjD,EAAetY,KAAKo3D,aAAazG,YACrC3wD,KAAKy4D,gBAAkBnqD,iBAAiBgK,EAAampB,EAAInpB,EAAampB,EAAEv+B,OAAS,GACjF,IAAIyqE,EAAiB3tE,KAAKuqD,UAAUv5C,MAChC48D,EAAYt1D,EAAa+3C,GAAKrwD,KAAKs7D,WAAWhjD,EAAa+3C,IAAM,gBACrEsd,EAAe1L,KAAO2L,EACtBD,EAAeh6D,MAAQi6D,EAEnBt1D,EAAa2iC,KACf0yB,EAAe3L,OAAShiE,KAAKs7D,WAAWhjD,EAAa2iC,IACrD0yB,EAAeE,YAAcv1D,EAAa83C,GAAK,MAGjD,IAiBI9kD,EACAE,EAlBAomC,EAAW5xC,KAAK+jB,WAAWoB,YAAYk2B,cAAc/iC,EAAalF,GAEtE,IAAKpT,KAAK+jB,WAAWoB,YAAYzM,MAI/B,GAHAi1D,EAAet2B,SAAW/+B,EAAak5C,UAAY,KACnDmc,EAAeG,WAAax1D,EAAak5C,UAAY,KAEjD5f,EAAS0G,OACXt4C,KAAKuqD,UAAU2S,UAAYtrB,EAAS0G,WAC/B,CACLq1B,EAAex2B,WAAavF,EAASwG,QACrC,IAAIrG,EAAUz5B,EAAay5B,QACvBD,EAASx5B,EAAaw5B,OAC1B67B,EAAep2B,UAAYzF,EAC3B67B,EAAen2B,WAAazF,CAC9B,CAKF,IAEIssB,EACA0P,EACAC,EAJAzZ,EAAUj8C,EAAampB,EAC3Bj2B,EAAM+oD,EAAQrxD,OAId,IACIkU,EADAkiD,EAAet5D,KAAKomD,QAEpB8U,EAAW,GACXh/B,EAAM,EAEV,IAAK5wB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAuC3B,GAtCItL,KAAK+jB,WAAWoB,YAAYzM,OACzB1Y,KAAKulE,UAAUrpC,GAMlBmiC,EAAQr+D,KAAKulE,UAAUrpC,KALvBmiC,EAAQxpD,SAAS,SACX1K,aAAa,iBAAkB+gD,YAAY,IACjDmT,EAAMl0D,aAAa,kBAAmBghD,aAAa,IACnDkT,EAAMl0D,aAAa,oBAAqB,MAKrCnK,KAAKwlE,WACJxlE,KAAK67D,UAAU3/B,GAEjB8xC,GADAD,EAAU/tE,KAAK67D,UAAU3/B,IACT+xC,SAAS,KAEzBF,EAAU9iE,UAAU,QACZ+F,MAAM88D,WAAa,GAC3BE,EAAQn5D,SAAS,QACXzK,YAAYi0D,GAClBvtD,SAASi9D,MAGH/tE,KAAKwlE,SAYfnH,EAAQr+D,KAAKulE,UAAUrpC,GAAOl8B,KAAKulE,UAAUrpC,GAAOrnB,SAAS,QAXzD7U,KAAK67D,UAAU3/B,IACjB6xC,EAAU/tE,KAAK67D,UAAU3/B,GACzBmiC,EAAQr+D,KAAKulE,UAAUrpC,KAGvBprB,SADAi9D,EAAU9iE,UAAU,SAGpB6F,SADAutD,EAAQpzD,UAAU,SAElB8iE,EAAQ3jE,YAAYi0D,IAOpBr+D,KAAK+jB,WAAWoB,YAAYzM,MAAO,CACrC,IACI+Y,EADA9Y,EAAW3Y,KAAK+jB,WAAWoB,YAAY+1B,YAAY5iC,EAAam5C,UAAUnmD,GAAIsmC,EAASE,OAAQ9xC,KAAK+jB,WAAWoB,YAAYk2B,cAAc/iC,EAAalF,GAAGglC,SAkB7J,GAdE3mB,EADE9Y,EACUA,EAASjP,KAET,KAGd4vD,EAAax3D,QAET2vB,GAAaA,EAAUra,QAAUqa,EAAUra,OAAOlU,SACpDkU,EAASqa,EAAUra,OAAO,GAAGO,GAC7B2hD,EAAah4B,MAAMhpB,EAAak5C,UAAY,IAAKl5C,EAAak5C,UAAY,KAC1E0J,EAAWl7D,KAAKi7D,gBAAgB3B,EAAcliD,GAC9CinD,EAAMl0D,aAAa,IAAK+wD,IAGrBl7D,KAAKwlE,SAsBRxlE,KAAKuqD,UAAUngD,YAAYi0D,OAtBT,CAGlB,GAFAr+D,KAAKuqD,UAAUngD,YAAY2jE,GAEvBt8C,GAAaA,EAAUra,OAAQ,CAEjCnW,SAASC,KAAKkJ,YAAY4jE,GAC1B,IAAIlhC,EAAckhC,EAAMpwD,UACxBowD,EAAM7jE,aAAa,QAAS2iC,EAAYzwB,MAAQ,GAChD2xD,EAAM7jE,aAAa,SAAU2iC,EAAYxwB,OAAS,GAClD0xD,EAAM7jE,aAAa,UAAW2iC,EAAYlgB,EAAI,EAAI,KAAOkgB,EAAYrX,EAAI,GAAK,KAAOqX,EAAYzwB,MAAQ,GAAK,KAAOywB,EAAYxwB,OAAS,IAC1I,IAAI4xD,EAAaF,EAAMh9D,MACnBm9D,EAAmB,cAAgBrhC,EAAYlgB,EAAI,GAAK,OAASkgB,EAAYrX,EAAI,GAAK,MAC1Fy4C,EAAWpsC,UAAYqsC,EACvBD,EAAWpC,gBAAkBqC,EAC7B5Z,EAAQjpD,GAAGimD,QAAUzkB,EAAYrX,EAAI,CACvC,MACEu4C,EAAM7jE,aAAa,QAAS,GAC5B6jE,EAAM7jE,aAAa,SAAU,GAG/B4jE,EAAQ3jE,YAAY4jE,EACtB,CAGF,MAIE,GAHA3P,EAAMhmB,YAAckc,EAAQjpD,GAAG+E,IAC/BguD,EAAMn/C,eAAe,uCAAwC,YAAa,YAErElf,KAAKwlE,SAQRxlE,KAAKuqD,UAAUngD,YAAYi0D,OART,CAClBr+D,KAAKuqD,UAAUngD,YAAY2jE,GAE3B,IAAIK,EAAS/P,EAAMrtD,MACfq9D,EAAmB,kBAAoB/1D,EAAak5C,UAAY,IAAM,QAC1E4c,EAAOtsC,UAAYusC,EACnBD,EAAOtC,gBAAkBuC,CAC3B,CAMGruE,KAAKwlE,SAGRxlE,KAAK67D,UAAU3/B,GAAOmiC,EAFtBr+D,KAAK67D,UAAU3/B,GAAO6xC,EAKxB/tE,KAAK67D,UAAU3/B,GAAKlrB,MAAME,QAAU,QACpClR,KAAKulE,UAAUrpC,GAAOmiC,EACtBniC,GAAO,CACT,CAEA,KAAOA,EAAMl8B,KAAK67D,UAAU34D,QAC1BlD,KAAK67D,UAAU3/B,GAAKlrB,MAAME,QAAU,OACpCgrB,GAAO,CAEX,EAEAopC,aAAa55D,UAAU4+C,mBAAqB,WAE1C,IAAIgkB,EAEJ,GAHAtuE,KAAKy7D,eAGDz7D,KAAK0J,KAAKi0D,YAAa,CACzB,IAAK39D,KAAKy5B,gBAAkBz5B,KAAK04D,mBAC/B,OAGF,GAAI14D,KAAKwlE,UAAYxlE,KAAK88C,eAAekI,QAAS,CAEhDhlD,KAAKs8D,WAAWnyD,aAAa,WAAYnK,KAAK88C,eAAeC,MAAM1pC,EAAEL,EAAE,GAAK,KAAOhT,KAAK88C,eAAeC,MAAM1pC,EAAEL,EAAE,GAAK,IAAMhT,KAAKytE,MAAQ,IAAMztE,KAAK0tE,OACpJY,EAAWtuE,KAAKs8D,WAAWtrD,MAC3B,IAAIu9D,EAAc,cAAgBvuE,KAAK88C,eAAeC,MAAM1pC,EAAEL,EAAE,GAAK,OAAShT,KAAK88C,eAAeC,MAAM1pC,EAAEL,EAAE,GAAK,MACjHs7D,EAASxsC,UAAYysC,EACrBD,EAASxC,gBAAkByC,CAC7B,CACF,CAIA,GAFAvuE,KAAKg7D,aAAanC,YAAY74D,KAAKo3D,aAAazG,YAAa3wD,KAAK04D,oBAE7D14D,KAAK04D,oBAAuB14D,KAAKg7D,aAAatC,mBAAnD,CAIA,IAAIptD,EACAE,EAKAyzD,EACAC,EACAsP,EANAx4B,EAAQ,EACRyiB,EAAkBz4D,KAAKg7D,aAAavC,gBACpClE,EAAUv0D,KAAKo3D,aAAazG,YAAYlvB,EAM5C,IALAj2B,EAAM+oD,EAAQrxD,OAKToI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBipD,EAAQjpD,GAAGoqB,EACbsgB,GAAS,GAETkpB,EAAWl/D,KAAK67D,UAAUvwD,GAC1BkjE,EAAWxuE,KAAKulE,UAAUj6D,GAC1B2zD,EAAiBxG,EAAgBziB,GACjCA,GAAS,EAELipB,EAAe7lC,KAAKsI,IACjB1hC,KAAKwlE,SAIRtG,EAAS/0D,aAAa,YAAa80D,EAAev9B,IAHlDw9B,EAASluD,MAAM86D,gBAAkB7M,EAAev9B,EAChDw9B,EAASluD,MAAM8wB,UAAYm9B,EAAev9B,IAO9Cw9B,EAASluD,MAAM40C,QAAUqZ,EAAernD,EAEpCqnD,EAAe7O,IAAM6O,EAAe7lC,KAAKg3B,IAC3Coe,EAASrkE,aAAa,eAAgB80D,EAAe7O,IAGnD6O,EAAehkB,IAAMgkB,EAAe7lC,KAAK6hB,IAC3CuzB,EAASrkE,aAAa,SAAU80D,EAAehkB,IAG7CgkB,EAAe5O,IAAM4O,EAAe7lC,KAAKi3B,KAC3Cme,EAASrkE,aAAa,OAAQ80D,EAAe5O,IAC7Cme,EAASx9D,MAAM2C,MAAQsrD,EAAe5O,KAK5C,GAAIrwD,KAAKuqD,UAAU3sC,UAAY5d,KAAKo8C,SAAWp8C,KAAKy5B,eAAiBz5B,KAAKo5B,MAAO,CAC/E,IAAI0T,EAAc9sC,KAAKuqD,UAAU3sC,UAcjC,GAZI5d,KAAKqlE,YAAY5uB,IAAM3J,EAAYzwB,QACrCrc,KAAKqlE,YAAY5uB,EAAI3J,EAAYzwB,MACjCrc,KAAKs8D,WAAWnyD,aAAa,QAAS2iC,EAAYzwB,QAGhDrc,KAAKqlE,YAAYvyD,IAAMg6B,EAAYxwB,SACrCtc,KAAKqlE,YAAYvyD,EAAIg6B,EAAYxwB,OACjCtc,KAAKs8D,WAAWnyD,aAAa,SAAU2iC,EAAYxwB,SAKjDtc,KAAKqlE,YAAY5uB,IAAM3J,EAAYzwB,MAAQoyD,GAAczuE,KAAKqlE,YAAYvyD,IAAMg6B,EAAYxwB,OAASmyD,GAAczuE,KAAKqlE,YAAYz4C,IAAMkgB,EAAYlgB,EAF7I,GAE2J5sB,KAAKqlE,YAAY5vC,IAAMqX,EAAYrX,EAF9L,EAE0M,CACrNz1B,KAAKqlE,YAAY5uB,EAAI3J,EAAYzwB,MAAQoyD,EACzCzuE,KAAKqlE,YAAYvyD,EAAIg6B,EAAYxwB,OAASmyD,EAC1CzuE,KAAKqlE,YAAYz4C,EAAIkgB,EAAYlgB,EALtB,EAMX5sB,KAAKqlE,YAAY5vC,EAAIqX,EAAYrX,EANtB,EAOXz1B,KAAKs8D,WAAWnyD,aAAa,UAAWnK,KAAKqlE,YAAYz4C,EAAI,IAAM5sB,KAAKqlE,YAAY5vC,EAAI,IAAMz1B,KAAKqlE,YAAY5uB,EAAI,IAAMz2C,KAAKqlE,YAAYvyD,GAC1Iw7D,EAAWtuE,KAAKs8D,WAAWtrD,MAC3B,IAAI09D,EAAe,aAAe1uE,KAAKqlE,YAAYz4C,EAAI,MAAQ5sB,KAAKqlE,YAAY5vC,EAAI,MACpF64C,EAASxsC,UAAY4sC,EACrBJ,EAASxC,gBAAkB4C,CAC7B,CACF,CA1EA,CA2EF,EA6CAvjE,gBAAgB,CAACozC,YAAaC,aAAcuJ,kBAAmB0d,gBAE/DA,eAAe/5D,UAAUijE,MAAQ,WAC/B,IAAIrjE,EAEAgM,EACAs3D,EACAtE,EAHA9+D,EAAMxL,KAAKsX,KAAKwuD,eAAe5iE,OAKnC,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAIxB,GAAkB,QAFlBgM,EAAOtX,KAAKsX,KAAKwuD,eAAex6D,IAEvBpB,KAAe,CACtB0kE,EAAmBt3D,EAAKu3D,gBAAgB79D,MACxCs5D,EAAiBhzD,EAAK/Q,UAAUyK,MAChC,IAAI89D,EAAc9uE,KAAK0lE,GAAG1yD,EAAI,KAC1B6I,EAAS,cACTioB,EAAS,4CACb8qC,EAAiBE,YAAcA,EAC/BF,EAAiBG,kBAAoBD,EACrCxE,EAAen5D,gBAAkB0K,EACjCyuD,EAAeC,mBAAqB1uD,EACpCyuD,EAAel5D,sBAAwByK,EACvC+yD,EAAiB9sC,UAAYgC,EAC7B8qC,EAAiB9C,gBAAkBhoC,CACrC,CAEJ,EAEA2hC,eAAe/5D,UAAUw6D,eAAiB,WAAa,EAEvDT,eAAe/5D,UAAUwd,KAAO,WAAa,EAE7Cu8C,eAAe/5D,UAAUmb,YAAc,WACrC,IACIvb,EACAE,EAFA4tB,EAAOp5B,KAAKy5B,cAIhB,GAAIz5B,KAAK0iD,UAGP,IAFAl3C,EAAMxL,KAAK0iD,UAAUx/C,OAEhBoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB8tB,EAAOp5B,KAAK0iD,UAAUp3C,GAAGwxC,eAAeC,MAAM3jB,MAAQA,EAI1D,GAAIA,GAAQp5B,KAAK0lE,GAAGtsC,MAAQp5B,KAAKqT,GAAKrT,KAAKqT,EAAE+lB,MAAQp5B,KAAKwqC,KAAOxqC,KAAKwqC,GAAGpR,MAAQp5B,KAAKyqC,GAAGrR,MAAQp5B,KAAK0qC,GAAGtR,OAASp5B,KAAK2qC,GAAGvR,MAAQp5B,KAAK4qC,GAAGxR,MAAQp5B,KAAK6qC,GAAGzR,MAAQp5B,KAAK8+B,GAAG1F,MAAQp5B,KAAKgZ,GAAKhZ,KAAKgZ,EAAEogB,KAAM,CAGvM,GAFAp5B,KAAKgrC,IAAIlpC,QAEL9B,KAAK0iD,UAGP,IAAKp3C,EAFLE,EAAMxL,KAAK0iD,UAAUx/C,OAAS,EAEhBoI,GAAK,EAAGA,GAAK,EAAG,CAC5B,IAAI0jE,EAAUhvE,KAAK0iD,UAAUp3C,GAAGwxC,eAAeC,MAC/C/8C,KAAKgrC,IAAIrJ,WAAWqtC,EAAQ37D,EAAEL,EAAE,IAAKg8D,EAAQ37D,EAAEL,EAAE,GAAIg8D,EAAQ37D,EAAEL,EAAE,IACjEhT,KAAKgrC,IAAIjK,SAASiuC,EAAQlwC,GAAG9rB,EAAE,IAAIguB,SAASguC,EAAQlwC,GAAG9rB,EAAE,IAAIiuB,QAAQ+tC,EAAQlwC,GAAG9rB,EAAE,IAClFhT,KAAKgrC,IAAIjK,SAASiuC,EAAQrkC,GAAG33B,GAAGguB,SAASguC,EAAQpkC,GAAG53B,GAAGiuB,QAAQ+tC,EAAQnkC,GAAG73B,GAC1EhT,KAAKgrC,IAAI1J,MAAM,EAAI0tC,EAAQj8D,EAAEC,EAAE,GAAI,EAAIg8D,EAAQj8D,EAAEC,EAAE,GAAI,EAAIg8D,EAAQj8D,EAAEC,EAAE,IACvEhT,KAAKgrC,IAAIrJ,UAAUqtC,EAAQh2D,EAAEhG,EAAE,GAAIg8D,EAAQh2D,EAAEhG,EAAE,GAAIg8D,EAAQh2D,EAAEhG,EAAE,GACjE,CASF,GANIhT,KAAKqT,EACPrT,KAAKgrC,IAAIrJ,WAAW3hC,KAAKqT,EAAEL,EAAE,IAAKhT,KAAKqT,EAAEL,EAAE,GAAIhT,KAAKqT,EAAEL,EAAE,IAExDhT,KAAKgrC,IAAIrJ,WAAW3hC,KAAKwqC,GAAGx3B,GAAIhT,KAAKyqC,GAAGz3B,EAAGhT,KAAK0qC,GAAG13B,GAGjDhT,KAAKgZ,EAAG,CACV,IAAIi2D,EAGFA,EADEjvE,KAAKqT,EACM,CAACrT,KAAKqT,EAAEL,EAAE,GAAKhT,KAAKgZ,EAAEhG,EAAE,GAAIhT,KAAKqT,EAAEL,EAAE,GAAKhT,KAAKgZ,EAAEhG,EAAE,GAAIhT,KAAKqT,EAAEL,EAAE,GAAKhT,KAAKgZ,EAAEhG,EAAE,IAE9E,CAAChT,KAAKwqC,GAAGx3B,EAAIhT,KAAKgZ,EAAEhG,EAAE,GAAIhT,KAAKyqC,GAAGz3B,EAAIhT,KAAKgZ,EAAEhG,EAAE,GAAIhT,KAAK0qC,GAAG13B,EAAIhT,KAAKgZ,EAAEhG,EAAE,IAGvF,IAAIk8D,EAAM5/D,KAAKG,KAAKH,KAAKC,IAAI0/D,EAAW,GAAI,GAAK3/D,KAAKC,IAAI0/D,EAAW,GAAI,GAAK3/D,KAAKC,IAAI0/D,EAAW,GAAI,IAElGE,EAAU,CAACF,EAAW,GAAKC,EAAKD,EAAW,GAAKC,EAAKD,EAAW,GAAKC,GACrEE,EAAiB9/D,KAAKG,KAAK0/D,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAC1EE,EAAa//D,KAAK0oB,MAAMm3C,EAAQ,GAAIC,GACpCE,EAAahgE,KAAK0oB,MAAMm3C,EAAQ,IAAKA,EAAQ,IACjDnvE,KAAKgrC,IAAIhK,QAAQsuC,GAAYvuC,SAASsuC,EACxC,CAEArvE,KAAKgrC,IAAIjK,SAAS/gC,KAAK2qC,GAAG33B,GAAGguB,SAAShhC,KAAK4qC,GAAG53B,GAAGiuB,QAAQjhC,KAAK6qC,GAAG73B,GACjEhT,KAAKgrC,IAAIjK,SAAS/gC,KAAK8+B,GAAG9rB,EAAE,IAAIguB,SAAShhC,KAAK8+B,GAAG9rB,EAAE,IAAIiuB,QAAQjhC,KAAK8+B,GAAG9rB,EAAE,IACzEhT,KAAKgrC,IAAIrJ,UAAU3hC,KAAK+jB,WAAWq/B,SAAS3M,EAAI,EAAGz2C,KAAK+jB,WAAWq/B,SAAStwC,EAAI,EAAG,GACnF9S,KAAKgrC,IAAIrJ,UAAU,EAAG,EAAG3hC,KAAK0lE,GAAG1yD,GACjC,IAAIu8D,GAAoBvvE,KAAK2lE,SAASzhC,OAAOlkC,KAAKgrC,KAElD,IAAKukC,GAAoBvvE,KAAK0lE,GAAGtsC,OAASp5B,KAAKsX,KAAKwuD,eAAgB,CAElE,IAAIxuD,EACAs3D,EACAtE,EAEJ,IALA9+D,EAAMxL,KAAKsX,KAAKwuD,eAAe5iE,OAK1BoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAGxB,GAAkB,QAFlBgM,EAAOtX,KAAKsX,KAAKwuD,eAAex6D,IAEvBpB,KAAe,CACtB,GAAIqlE,EAAkB,CACpB,IAAIC,EAAWxvE,KAAKgrC,IAAIxF,SACxB8kC,EAAiBhzD,EAAK/Q,UAAUyK,OACjB8wB,UAAY0tC,EAC3BlF,EAAewB,gBAAkB0D,CACnC,CAEIxvE,KAAK0lE,GAAGtsC,QACVw1C,EAAmBt3D,EAAKu3D,gBAAgB79D,OACvB89D,YAAc9uE,KAAK0lE,GAAG1yD,EAAI,KAC3C47D,EAAiBG,kBAAoB/uE,KAAK0lE,GAAG1yD,EAAI,KAErD,CAGFhT,KAAKgrC,IAAInhC,MAAM7J,KAAK2lE,SACtB,CACF,CAEA3lE,KAAKy5B,eAAgB,CACvB,EAEAgsC,eAAe/5D,UAAU6V,aAAe,SAAUo7B,GAChD38C,KAAK+gD,kBAAkBpE,GAAK,EAC9B,EAEA8oB,eAAe/5D,UAAUmT,QAAU,WAAa,EAEhD4mD,eAAe/5D,UAAUw1C,eAAiB,WACxC,OAAO,IACT,EAOA/1C,gBAAgB,CAACozC,YAAagF,iBAAkB0hB,aAAcC,cAAend,iBAAkBvJ,aAAczC,mBAAoB6pB,eAEjIA,cAAcl6D,UAAU2+C,cAAgB,WACtC,IAAIn9C,EAAYlN,KAAK+jB,WAAW7G,cAAcld,KAAKmd,WAC/CM,EAAM,IAAIgyD,MAEVzvE,KAAK0J,KAAKiN,SACZ3W,KAAK0vE,UAAY76D,SAAS,SAC1B7U,KAAK0vE,UAAUvlE,aAAa,QAASnK,KAAKmd,UAAUs5B,EAAI,MACxDz2C,KAAK0vE,UAAUvlE,aAAa,SAAUnK,KAAKmd,UAAUrK,EAAI,MACzD9S,KAAK0vE,UAAUxwD,eAAe,+BAAgC,OAAQhS,GACtElN,KAAK2gD,aAAav2C,YAAYpK,KAAK0vE,WACnC1vE,KAAK0gD,YAAYv2C,aAAa,QAASnK,KAAKmd,UAAUs5B,GACtDz2C,KAAK0gD,YAAYv2C,aAAa,SAAUnK,KAAKmd,UAAUrK,IAEvD9S,KAAK2gD,aAAav2C,YAAYqT,GAGhCA,EAAIuB,YAAc,YAClBvB,EAAI3W,IAAMoG,EAENlN,KAAK0J,KAAKs/C,IACZhpD,KAAK0gD,YAAYv2C,aAAa,KAAMnK,KAAK0J,KAAKs/C,GAElD,EA+BA79C,gBAAgB,CAACk0C,cAAewmB,oBAChCA,mBAAmBn6D,UAAU+1C,UAAY2a,YAAY1wD,UAAU+1C,UAE/DokB,mBAAmBn6D,UAAUg2C,qBAAuB,WAClD,KAAO1hD,KAAK8iD,gBAAgB5/C,QACZlD,KAAK8iD,gBAAgBzZ,MAC3B+gB,gBAEZ,EAEAyb,mBAAmBn6D,UAAU0zD,mBAAqB,SAAUruD,EAASsqB,GACnE,IAAIs0C,EAAgB5+D,EAAQmwC,iBAE5B,GAAKyuB,EAAL,CAIA,IAAI/tB,EAAQ5hD,KAAKmW,OAAOklB,GAExB,GAAKumB,EAAMguB,KAAQ5vE,KAAKm8D,WA4BtBn8D,KAAK6vE,iBAAiBF,EAAet0C,QA3BrC,GAAIr7B,KAAK8lE,eACP9lE,KAAK6vE,iBAAiBF,EAAet0C,OAChC,CAML,IALA,IACIy0C,EACAC,EAFAzkE,EAAI,EAKDA,EAAI+vB,GACLr7B,KAAKmzC,SAAS7nC,KAA2B,IAArBtL,KAAKmzC,SAAS7nC,IAAetL,KAAKmzC,SAAS7nC,GAAG41C,iBACpE6uB,EAAY/vE,KAAKmzC,SAAS7nC,GAE1BwkE,GADgB9vE,KAAKmW,OAAO7K,GAAGskE,IAAM5vE,KAAKgwE,wBAAwB1kE,GAAKykE,EAAU7uB,mBAC/C4uB,GAGpCxkE,GAAK,EAGHwkE,EACGluB,EAAMguB,KAAQ5vE,KAAKm8D,YACtBn8D,KAAK2gD,aAAa8e,aAAakQ,EAAeG,GAEtCluB,EAAMguB,KAAQ5vE,KAAKm8D,YAC7Bn8D,KAAK2gD,aAAav2C,YAAYulE,EAElC,CA9BF,CAkCF,EAEA9J,mBAAmBn6D,UAAUu2C,YAAc,SAAUv4C,GACnD,OAAK1J,KAAKm8D,WAIH,IAAIgJ,cAAcz7D,EAAM1J,KAAK+jB,WAAY/jB,MAHvC,IAAIgwD,gBAAgBtmD,EAAM1J,KAAK+jB,WAAY/jB,KAItD,EAEA6lE,mBAAmBn6D,UAAUw2C,WAAa,SAAUx4C,GAClD,OAAK1J,KAAKm8D,WAIH,IAAImJ,aAAa57D,EAAM1J,KAAK+jB,WAAY/jB,MAHtC,IAAI47D,qBAAqBlyD,EAAM1J,KAAK+jB,WAAY/jB,KAI3D,EAEA6lE,mBAAmBn6D,UAAUy2C,aAAe,SAAUz4C,GAEpD,OADA1J,KAAK+lE,OAAS,IAAIN,eAAe/7D,EAAM1J,KAAK+jB,WAAY/jB,MACjDA,KAAK+lE,MACd,EAEAF,mBAAmBn6D,UAAUm2C,YAAc,SAAUn4C,GACnD,OAAK1J,KAAKm8D,WAIH,IAAIyJ,cAAcl8D,EAAM1J,KAAK+jB,WAAY/jB,MAHvC,IAAIioD,cAAcv+C,EAAM1J,KAAK+jB,WAAY/jB,KAIpD,EAEA6lE,mBAAmBn6D,UAAUq2C,YAAc,SAAUr4C,GACnD,OAAK1J,KAAKm8D,WAIH,IAAI+I,cAAcx7D,EAAM1J,KAAK+jB,WAAY/jB,MAHvC,IAAI87D,cAAcpyD,EAAM1J,KAAK+jB,WAAY/jB,KAIpD,EAEA6lE,mBAAmBn6D,UAAUs2C,WAAaoa,YAAY1wD,UAAUs2C,WAEhE6jB,mBAAmBn6D,UAAUskE,wBAA0B,SAAU30C,GAI/D,IAHA,IAAI/vB,EAAI,EACJE,EAAMxL,KAAK8lE,eAAe5iE,OAEvBoI,EAAIE,GAAK,CACd,GAAIxL,KAAK8lE,eAAex6D,GAAG2kE,UAAY50C,GAAOr7B,KAAK8lE,eAAex6D,GAAG4kE,QAAU70C,EAC7E,OAAOr7B,KAAK8lE,eAAex6D,GAAGujE,gBAGhCvjE,GAAK,CACP,CAEA,OAAO,IACT,EAEAu6D,mBAAmBn6D,UAAUykE,sBAAwB,SAAU90C,EAAKnxB,GAClE,IACI8G,EACAs5D,EAFAuE,EAAkB5jE,UAAU,OAGhC6F,SAAS+9D,GACT,IAAItoE,EAAY0E,UAAU,OAG1B,GAFA6F,SAASvK,GAEI,OAAT2D,EAAe,EACjB8G,EAAQ69D,EAAgB79D,OAClBqL,MAAQrc,KAAK+jB,WAAWq/B,SAAS3M,EAAI,KAC3CzlC,EAAMsL,OAAStc,KAAK+jB,WAAWq/B,SAAStwC,EAAI,KAC5C,IAAI3O,EAAS,UACb6M,EAAMI,sBAAwBjN,EAC9B6M,EAAMu5D,mBAAqBpmE,EAC3B6M,EAAMG,gBAAkBhN,EAExB,IAAI2/B,EAAS,6CADbwmC,EAAiB/jE,EAAUyK,OAEZ8wB,UAAYgC,EAC3BwmC,EAAewB,gBAAkBhoC,CACnC,CAEA+qC,EAAgBzkE,YAAY7D,GAE5B,IAAI6pE,EAAsB,CACxB7pE,UAAWA,EACXsoE,gBAAiBA,EACjBoB,SAAU50C,EACV60C,OAAQ70C,EACRnxB,KAAMA,GAGR,OADAlK,KAAK8lE,eAAel5D,KAAKwjE,GAClBA,CACT,EAEAvK,mBAAmBn6D,UAAU2kE,kBAAoB,WAC/C,IAAI/kE,EAEAglE,EADA9kE,EAAMxL,KAAKmW,OAAOjT,OAElBqtE,EAAmB,GAEvB,IAAKjlE,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBtL,KAAKmW,OAAO7K,GAAGskE,KAA6B,IAAtB5vE,KAAKmW,OAAO7K,GAAG0L,IACd,OAArBu5D,IACFA,EAAmB,KACnBD,EAA0BtwE,KAAKmwE,sBAAsB7kE,EAAG,OAG1DglE,EAAwBJ,OAAS5gE,KAAKO,IAAIygE,EAAwBJ,OAAQ5kE,KAEjD,OAArBilE,IACFA,EAAmB,KACnBD,EAA0BtwE,KAAKmwE,sBAAsB7kE,EAAG,OAG1DglE,EAAwBJ,OAAS5gE,KAAKO,IAAIygE,EAAwBJ,OAAQ5kE,IAM9E,IAAKA,GAFLE,EAAMxL,KAAK8lE,eAAe5iE,QAEX,EAAGoI,GAAK,EAAGA,GAAK,EAC7BtL,KAAKwwE,YAAYpmE,YAAYpK,KAAK8lE,eAAex6D,GAAGujE,gBAExD,EAEAhJ,mBAAmBn6D,UAAUmkE,iBAAmB,SAAU1lD,EAAMkR,GAI9D,IAHA,IAAI/vB,EAAI,EACJE,EAAMxL,KAAK8lE,eAAe5iE,OAEvBoI,EAAIE,GAAK,CACd,GAAI6vB,GAAOr7B,KAAK8lE,eAAex6D,GAAG4kE,OAAQ,CAIxC,IAHA,IACI1Q,EADAlpD,EAAItW,KAAK8lE,eAAex6D,GAAG2kE,SAGxB35D,EAAI+kB,GACLr7B,KAAKmzC,SAAS78B,IAAMtW,KAAKmzC,SAAS78B,GAAG4qC,iBACvCse,EAAcx/D,KAAKmzC,SAAS78B,GAAG4qC,kBAGjC5qC,GAAK,EAGHkpD,EACFx/D,KAAK8lE,eAAex6D,GAAG/E,UAAUk5D,aAAat1C,EAAMq1C,GAEpDx/D,KAAK8lE,eAAex6D,GAAG/E,UAAU6D,YAAY+f,GAG/C,KACF,CAEA7e,GAAK,CACP,CACF,EAEAu6D,mBAAmBn6D,UAAU4X,gBAAkB,SAAUyC,GACvD,IAAIyqD,EAAcvlE,UAAU,OACxB0Y,EAAU3jB,KAAKmjD,cAAcx/B,QAC7B3S,EAAQw/D,EAAYx/D,MACxBA,EAAMqL,MAAQ0J,EAAS0wB,EAAI,KAC3BzlC,EAAMsL,OAASyJ,EAASjT,EAAI,KAC5B9S,KAAKwwE,YAAcA,EACnB1/D,SAAS0/D,GACTx/D,EAAMO,eAAiB,OACvBP,EAAMS,kBAAoB,OAC1BT,EAAMQ,qBAAuB,OAEzBxR,KAAKg9C,aAAakgB,WACpBsT,EAAYrmE,aAAa,QAASnK,KAAKg9C,aAAakgB,WAGtDv5C,EAAQvZ,YAAYomE,GACpBx/D,EAAMy/D,SAAW,SACjB,IAAIpQ,EAAMxrD,SAAS,OACnBwrD,EAAIl2D,aAAa,QAAS,KAC1Bk2D,EAAIl2D,aAAa,SAAU,KAC3B2G,SAASuvD,GACTrgE,KAAKwwE,YAAYpmE,YAAYi2D,GAC7B,IAAIr8C,EAAOnP,SAAS,QACpBwrD,EAAIj2D,YAAY4Z,GAChBhkB,KAAK0J,KAAOqc,EAEZ/lB,KAAKijD,gBAAgBl9B,EAAUs6C,GAC/BrgE,KAAK+jB,WAAWC,KAAOA,EACvBhkB,KAAKmW,OAAS4P,EAAS5P,OACvBnW,KAAK2gD,aAAe3gD,KAAKwwE,YACzBxwE,KAAKqwE,oBACLrwE,KAAK2mB,qBACP,EAEAk/C,mBAAmBn6D,UAAUmT,QAAU,WAOrC,IAAIvT,EANAtL,KAAKmjD,cAAcx/B,UACrB3jB,KAAKmjD,cAAcx/B,QAAQ5Z,UAAY,IAGzC/J,KAAKmjD,cAAc58C,UAAY,KAC/BvG,KAAK+jB,WAAWC,KAAO,KAEvB,IAAIxY,EAAMxL,KAAKmW,OAASnW,KAAKmW,OAAOjT,OAAS,EAE7C,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACpBtL,KAAKmzC,SAAS7nC,IAAMtL,KAAKmzC,SAAS7nC,GAAGuT,SACvC7e,KAAKmzC,SAAS7nC,GAAGuT,UAIrB7e,KAAKmzC,SAASjwC,OAAS,EACvBlD,KAAKs9D,WAAY,EACjBt9D,KAAKmjD,cAAgB,IACvB,EAEA0iB,mBAAmBn6D,UAAUib,oBAAsB,WACjD,IAIIwa,EACA3C,EACAoD,EACA5qB,EAPA0zD,EAAe1qE,KAAKmjD,cAAcx/B,QAAQlc,YAC1CkjE,EAAgB3qE,KAAKmjD,cAAcx/B,QAAQmnD,aAC3CF,EAAaF,EAAeC,EACb3qE,KAAK+jB,WAAWq/B,SAAS3M,EAAIz2C,KAAK+jB,WAAWq/B,SAAStwC,EAMtD83D,GACjBzpC,EAAKupC,EAAe1qE,KAAK+jB,WAAWq/B,SAAS3M,EAC7CjY,EAAKksC,EAAe1qE,KAAK+jB,WAAWq/B,SAAS3M,EAC7C7U,EAAK,EACL5qB,GAAM2zD,EAAgB3qE,KAAK+jB,WAAWq/B,SAAStwC,GAAK43D,EAAe1qE,KAAK+jB,WAAWq/B,SAAS3M,IAAM,IAElGtV,EAAKwpC,EAAgB3qE,KAAK+jB,WAAWq/B,SAAStwC,EAC9C0rB,EAAKmsC,EAAgB3qE,KAAK+jB,WAAWq/B,SAAStwC,EAC9C8uB,GAAM8oC,EAAe1qE,KAAK+jB,WAAWq/B,SAAS3M,GAAKk0B,EAAgB3qE,KAAK+jB,WAAWq/B,SAAStwC,IAAM,EAClGkE,EAAK,GAGP,IAAIhG,EAAQhR,KAAKwwE,YAAYx/D,MAC7BA,EAAM86D,gBAAkB,YAAc3qC,EAAK,YAAc3C,EAAK,gBAAkBoD,EAAK,IAAM5qB,EAAK,QAChGhG,EAAM8wB,UAAY9wB,EAAM86D,eAC1B,EAEAjG,mBAAmBn6D,UAAUmb,YAAcu1C,YAAY1wD,UAAUmb,YAEjEg/C,mBAAmBn6D,UAAUwd,KAAO,WAClClpB,KAAKwwE,YAAYx/D,MAAME,QAAU,MACnC,EAEA20D,mBAAmBn6D,UAAUyd,KAAO,WAClCnpB,KAAKwwE,YAAYx/D,MAAME,QAAU,OACnC,EAEA20D,mBAAmBn6D,UAAU4a,UAAY,WAGvC,GAFAtmB,KAAKqiD,gBAEDriD,KAAK+lE,OACP/lE,KAAK+lE,OAAO4I,YACP,CACL,IAEIrjE,EAFAolE,EAAS1wE,KAAK+jB,WAAWq/B,SAAS3M,EAClCk6B,EAAU3wE,KAAK+jB,WAAWq/B,SAAStwC,EAEnCtH,EAAMxL,KAAK8lE,eAAe5iE,OAE9B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAAG,CAC3B,IAAI0F,EAAQhR,KAAK8lE,eAAex6D,GAAGujE,gBAAgB79D,MACnDA,EAAM+9D,kBAAoBz/D,KAAKG,KAAKH,KAAKC,IAAImhE,EAAQ,GAAKphE,KAAKC,IAAIohE,EAAS,IAAM,KAClF3/D,EAAM89D,YAAc99D,EAAM+9D,iBAC5B,CACF,CACF,EAEAlJ,mBAAmBn6D,UAAUua,wBAA0B,SAAUzN,GAC/D,IAAIlN,EACAE,EAAMgN,EAAOtV,OACb0tE,EAAoB3lE,UAAU,OAElC,IAAKK,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,GAAIkN,EAAOlN,GAAGkW,GAAI,CAChB,IAAIlK,EAAOtX,KAAK8hD,WAAWtpC,EAAOlN,GAAIslE,EAAmB5wE,KAAK+jB,WAAWzM,KAAM,MAC/EA,EAAKgO,kBACLtlB,KAAK+jB,WAAWZ,iBAAiBhC,oBAAoB7J,EACvD,CAEJ,EAcAnM,gBAAgB,CAAC06D,mBAAoB5J,aAAcgJ,cAAee,cAClEA,aAAat6D,UAAUmlE,6BAA+B7K,aAAat6D,UAAU68C,wBAE7Eyd,aAAat6D,UAAU68C,wBAA0B,WAC/CvoD,KAAK6wE,+BAGD7wE,KAAK0J,KAAKiN,SACZ3W,KAAKs8D,WAAWnyD,aAAa,QAASnK,KAAK0J,KAAK+sC,GAChDz2C,KAAKs8D,WAAWnyD,aAAa,SAAUnK,KAAK0J,KAAKoJ,GACjD9S,KAAKyoD,mBAAqBzoD,KAAK0gD,aAE/B1gD,KAAKyoD,mBAAqBzoD,KAAK2gD,YAEnC,EAEAqlB,aAAat6D,UAAUmkE,iBAAmB,SAAU1lD,EAAMkR,GAIxD,IAHA,IACImkC,EADAlpD,EAAI,EAGDA,EAAI+kB,GACLr7B,KAAKmzC,SAAS78B,IAAMtW,KAAKmzC,SAAS78B,GAAG4qC,iBACvCse,EAAcx/D,KAAKmzC,SAAS78B,GAAG4qC,kBAGjC5qC,GAAK,EAGHkpD,EACFx/D,KAAK2gD,aAAa8e,aAAat1C,EAAMq1C,GAErCx/D,KAAK2gD,aAAav2C,YAAY+f,EAElC,EAEA67C,aAAat6D,UAAUo2C,WAAa,SAAUp4C,GAC5C,OAAK1J,KAAKm8D,WAIH,IAAI6J,aAAat8D,EAAM1J,KAAK+jB,WAAY/jB,MAHtC,IAAIk8D,eAAexyD,EAAM1J,KAAK+jB,WAAY/jB,KAIrD,EAgCAmL,gBAAgB,CAAC06D,oBAAqBI,gBAEtCA,eAAev6D,UAAUo2C,WAAa,SAAUp4C,GAC9C,OAAK1J,KAAKm8D,WAIH,IAAI6J,aAAat8D,EAAM1J,KAAK+jB,WAAY/jB,MAHtC,IAAIk8D,eAAexyD,EAAM1J,KAAK+jB,WAAY/jB,KAIrD,EAEA,IAAI4/C,wBACK,SAAUtoC,GACf,SAASw5D,EAAmB7mE,GAI1B,IAHA,IAAIqB,EAAI,EACJE,EAAM8L,EAAKnB,OAAOjT,OAEfoI,EAAIE,GAAK,CACd,GAAI8L,EAAKnB,OAAO7K,GAAGgW,KAAOrX,GAAQqN,EAAKnB,OAAO7K,GAAGgqB,MAAQrrB,EACvD,OAAOqN,EAAK67B,SAAS7nC,GAAGu0C,eAG1Bv0C,GAAK,CACP,CAEA,OAAO,IACT,CAaA,OAXAK,OAAOolE,eAAeD,EAAoB,QAAS,CACjDvnE,MAAO+N,EAAK5N,KAAK4X,KAEnBwvD,EAAmBlvB,MAAQkvB,EAC3BA,EAAmBE,YAAc,EACjCF,EAAmBx0D,OAAShF,EAAK5N,KAAKoJ,GAAKwE,EAAKyM,WAAWq/B,SAAStwC,EACpEg+D,EAAmBz0D,MAAQ/E,EAAK5N,KAAK+sC,GAAKn/B,EAAKyM,WAAWq/B,SAAS3M,EACnEq6B,EAAmBE,YAAc,EACjCF,EAAmBG,cAAgB,EAAI35D,EAAKyM,WAAW5B,UACvD2uD,EAAmBI,iBAAmB,EACtCJ,EAAmBK,UAAY75D,EAAKnB,OAAOjT,OACpC4tE,CACT,EAGF,SAASM,UAAU1iE,GAAuV,OAA1O0iE,UAArD,mBAAXziE,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBF,GAAO,cAAcA,CAAK,EAAwB,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAI5O,cAAgB6O,QAAUD,IAAQC,OAAOjD,UAAY,gBAAkBgD,CAAK,EAAY0iE,UAAU1iE,EAAM,CA2BjY,SAAS2iE,WAAW3iD,EAAMU,GAIxB,IAaIkiD,EAbAC,EAASvxE,KACTqc,EAAQ,IAMZm1D,EAAU,SAEVC,EAAariD,EAAK7f,IAAI8M,EANb,GAOLq1D,EAAetiD,EAAK7f,IAAI,EALnB,IAMLkhE,EAA0B,EAAfiB,EACXhtB,EAAOroC,EAAQ,EA6FnB,SAASs1D,EAAK1qE,GACZ,IAAIsM,EACAq+D,EAAS3qE,EAAI/D,OACb2uE,EAAK7xE,KACLsL,EAAI,EACJgL,EAAIu7D,EAAGvmE,EAAIumE,EAAGv7D,EAAI,EAClBvD,EAAI8+D,EAAGC,EAAI,GAOf,IALKF,IACH3qE,EAAM,CAAC2qE,MAIFtmE,EAAI+Q,GACTtJ,EAAEzH,GAAKA,IAGT,IAAKA,EAAI,EAAGA,EAAI+Q,EAAO/Q,IACrByH,EAAEzH,GAAKyH,EAAEuD,EAAIouC,EAAOpuC,EAAIrP,EAAIqE,EAAIsmE,IAAWr+D,EAAIR,EAAEzH,KACjDyH,EAAEuD,GAAK/C,EAITs+D,EAAG3+D,EAAI,SAAU8iC,GAQf,IANA,IAAIziC,EACAN,EAAI,EACJ3H,EAAIumE,EAAGvmE,EACPgL,EAAIu7D,EAAGv7D,EACPvD,EAAI8+D,EAAGC,EAEJ97B,KACLziC,EAAIR,EAAEzH,EAAIo5C,EAAOp5C,EAAI,GACrB2H,EAAIA,EAAIoJ,EAAQtJ,EAAE2xC,GAAQ3xC,EAAEzH,GAAKyH,EAAEuD,EAAIouC,EAAOpuC,EAAI/C,KAAOR,EAAEuD,GAAK/C,IAKlE,OAFAs+D,EAAGvmE,EAAIA,EACPumE,EAAGv7D,EAAIA,EACArD,CAGT,CACF,CAMA,SAAS8+D,EAAK3+D,EAAGG,GAIf,OAHAA,EAAEjI,EAAI8H,EAAE9H,EACRiI,EAAE+C,EAAIlD,EAAEkD,EACR/C,EAAEu+D,EAAI1+D,EAAE0+D,EAAEhnD,QACHvX,CACT,CAMA,SAASy+D,EAAQtjE,EAAK0+B,GACpB,IAEIphC,EAFAimE,EAAS,GACTC,EAAMd,UAAU1iE,GAGpB,GAAI0+B,GAAgB,UAAP8kC,EACX,IAAKlmE,KAAQ0C,EACX,IACEujE,EAAOrlE,KAAKolE,EAAQtjE,EAAI1C,GAAOohC,EAAQ,GACzC,CAAE,MAAO7sC,GAAI,CAIjB,OAAO0xE,EAAO/uE,OAAS+uE,EAAgB,UAAPC,EAAkBxjE,EAAMA,EAAM,IAChE,CAOA,SAASyjE,EAAOC,EAAMnrE,GAKpB,IAJA,IACIorE,EADAC,EAAaF,EAAO,GAEpB97D,EAAI,EAEDA,EAAIg8D,EAAWpvE,QACpB+D,EAAIy9C,EAAOpuC,GAAKouC,GAAQ2tB,GAAyB,GAAhBprE,EAAIy9C,EAAOpuC,IAAWg8D,EAAWz5B,WAAWviC,KAG/E,OAAOi8D,EAAStrE,EAClB,CA2BA,SAASsrE,EAASv5D,GAChB,OAAOilD,OAAOC,aAAa1vD,MAAM,EAAGwK,EACtC,CAlIAoW,EAAK,OAASoiD,GA3Ed,SAAoBY,EAAMI,EAAS93D,GACjC,IAAIzT,EAAM,GAKNwrE,EAAYN,EAAOH,GAJvBQ,GAAsB,IAAZA,EAAmB,CAC3BE,SAAS,GACPF,GAAW,CAAC,GAEuBE,QAAU,CAACN,EAAMG,EAAS7jD,IAAkB,OAAT0jD,EAiL5E,WACE,IACE,GAAId,EACF,OAAOiB,EAASjB,EAAWqB,YAAYt2D,IAGzC,IAAI0a,EAAM,IAAI67C,WAAWv2D,GAEzB,OADCk1D,EAAOsB,QAAUtB,EAAOuB,UAAUC,gBAAgBh8C,GAC5Cw7C,EAASx7C,EAClB,CAAE,MAAOx2B,GACP,IAAIyyE,EAAUzB,EAAOhnE,UACjB0oE,EAAUD,GAAWA,EAAQC,QACjC,MAAO,EAAE,IAAI5vE,KAAQkuE,EAAQ0B,EAAS1B,EAAO2B,OAAQX,EAAS7jD,GAChE,CACF,CA/L4FykD,GAAaf,EAAM,GAAInrE,GAE7GmsE,EAAO,IAAIzB,EAAK1qE,GAGhBosE,EAAO,WAOT,IANA,IAAI39C,EAAI09C,EAAKlgE,EA5BR,GA8BLO,EAAIg+D,EAEJ7kD,EAAI,EAEG8I,EAAIg8C,GAETh8C,GAAKA,EAAI9I,GAAKvQ,EAEd5I,GAAK4I,EAELuQ,EAAIwmD,EAAKlgE,EAAE,GAGb,KAAOwiB,GAAK+6C,GAEV/6C,GAAK,EAELjiB,GAAK,EAELmZ,KAAO,EAGT,OAAQ8I,EAAI9I,GAAKnZ,CACnB,EAcA,OAZA4/D,EAAKC,MAAQ,WACX,OAAmB,EAAZF,EAAKlgE,EAAE,EAChB,EAEAmgE,EAAKE,MAAQ,WACX,OAAOH,EAAKlgE,EAAE,GAAK,UACrB,EAEAmgE,EAAa,OAAIA,EAEjBlB,EAAOI,EAASa,EAAKtB,GAAIpjD,IAEjB8jD,EAAQgB,MAAQ94D,GAAY,SAAU24D,EAAMjB,EAAMqB,EAAcC,GAetE,OAdIA,IAEEA,EAAM5B,GACRC,EAAK2B,EAAON,GAIdC,EAAKK,MAAQ,WACX,OAAO3B,EAAKqB,EAAM,CAAC,EACrB,GAKEK,GACFrkD,EAAKoiD,GAAW6B,EACTjB,GAGGiB,CACd,GAAGA,EAAMZ,EAAW,WAAYD,EAAUA,EAAQjB,OAASvxE,MAAQovB,EAAMojD,EAAQkB,MACnF,EA6IAvB,EAAO/iD,EAAKjf,SAAUue,EAKxB,CAIA,SAASilD,aAAa3jE,GACpBqhE,WAAW,GAAIrhE,EACjB,CAEA,IAAI4jE,UAAY,CACdC,MAAO,SAGT,SAASC,UAAUplE,GAAuV,OAA1OolE,UAArD,mBAAXnlE,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBF,GAAO,cAAcA,CAAK,EAAwB,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAI5O,cAAgB6O,QAAUD,IAAQC,OAAOjD,UAAY,gBAAkBgD,CAAK,EAAYolE,UAAUplE,EAAM,CAEjY,IAAIqlE,kBAAoB,WAGtB,IAAI91D,GAAK,CAAC,EACN3O,KAAOU,OACPpN,OAAS,KACT3B,SAAW,KACX2Z,eAAiB,KACjB/Z,MAAQ,KACRmzE,OAAS,KACTC,cAAgB,CAAC,EAGrB,SAASntD,aACPmtD,cAAgB,CAAC,CACnB,CAEA,SAASC,sBAAsBhmE,GAC7B,OAAOA,EAAIpO,cAAgByO,OAASL,EAAIpO,cAAgBsO,YAC1D,CAEA,SAAS+lE,YAAYC,EAAMphE,GACzB,MAAgB,WAATohE,GAAqBphE,aAAawU,QAAmB,YAAT4sD,GAA+B,WAATA,CAC3E,CAEA,SAASC,QAAQr7D,GACf,IAAIs7D,EAAOR,UAAU96D,GAErB,GAAa,WAATs7D,GAAqBt7D,aAAawO,QAAmB,YAAT8sD,EAC9C,OAAQt7D,EAGV,GAAIk7D,sBAAsBl7D,GAAI,CAC5B,IAAI1N,EACAipE,EAAOv7D,EAAE9V,OACTsxE,EAAS,GAEb,IAAKlpE,EAAI,EAAGA,EAAIipE,EAAMjpE,GAAK,EACzBkpE,EAAOlpE,IAAM0N,EAAE1N,GAGjB,OAAOkpE,CACT,CAEA,OAAIx7D,EAAEub,SACGvb,EAAEhG,GAGHgG,CACV,CAtCA26D,aAAa3jE,QAwCb,IAAIykE,UAAYlpD,cAAciK,gBAAgB,KAAO,EAAG,KAAO,KAAO,UAAU7I,IAC5E+nD,WAAanpD,cAAciK,gBAAgB,KAAO,KAAO,KAAO,EAAG,WAAW7I,IAC9EgoD,aAAeppD,cAAciK,gBAAgB,IAAM,EAAG,KAAO,EAAG,aAAa7I,IAEjF,SAASgtB,IAAI3gC,EAAG7F,GACd,IAAImhE,EAAOR,UAAU96D,GAEjB47D,EAAOd,UAAU3gE,GAErB,GAAIghE,YAAYG,EAAMt7D,IAAMm7D,YAAYS,EAAMzhE,IAAe,WAATmhE,GAA8B,WAATM,EACvE,OAAO57D,EAAI7F,EAGb,GAAI+gE,sBAAsBl7D,IAAMm7D,YAAYS,EAAMzhE,GAGhD,OAFA6F,EAAIA,EAAE8R,MAAM,IACV,IAAM3X,EACD6F,EAGT,GAAIm7D,YAAYG,EAAMt7D,IAAMk7D,sBAAsB/gE,GAGhD,OAFAA,EAAIA,EAAE2X,MAAM,IACV,GAAK9R,EAAI7F,EAAE,GACNA,EAGT,GAAI+gE,sBAAsBl7D,IAAMk7D,sBAAsB/gE,GAAI,CAMxD,IALA,IAAI7H,EAAI,EACJipE,EAAOv7D,EAAE9V,OACT2xE,EAAO1hE,EAAEjQ,OACTsxE,EAAS,GAENlpE,EAAIipE,GAAQjpE,EAAIupE,IACA,iBAAT77D,EAAE1N,IAAmB0N,EAAE1N,aAAckc,UAA4B,iBAATrU,EAAE7H,IAAmB6H,EAAE7H,aAAckc,QACvGgtD,EAAOlpE,GAAK0N,EAAE1N,GAAK6H,EAAE7H,GAErBkpE,EAAOlpE,QAAc4Y,IAAT/Q,EAAE7H,GAAmB0N,EAAE1N,GAAK0N,EAAE1N,IAAM6H,EAAE7H,GAGpDA,GAAK,EAGP,OAAOkpE,CACT,CAEA,OAAO,CACT,CAEA,IAAIlzE,IAAMq4C,IAEV,SAAS12C,IAAI+V,EAAG7F,GACd,IAAImhE,EAAOR,UAAU96D,GAEjB47D,EAAOd,UAAU3gE,GAErB,GAAIghE,YAAYG,EAAMt7D,IAAMm7D,YAAYS,EAAMzhE,GAS5C,MARa,WAATmhE,IACFt7D,EAAImL,SAASnL,EAAG,KAGL,WAAT47D,IACFzhE,EAAIgR,SAAShR,EAAG,KAGX6F,EAAI7F,EAGb,GAAI+gE,sBAAsBl7D,IAAMm7D,YAAYS,EAAMzhE,GAGhD,OAFA6F,EAAIA,EAAE8R,MAAM,IACV,IAAM3X,EACD6F,EAGT,GAAIm7D,YAAYG,EAAMt7D,IAAMk7D,sBAAsB/gE,GAGhD,OAFAA,EAAIA,EAAE2X,MAAM,IACV,GAAK9R,EAAI7F,EAAE,GACNA,EAGT,GAAI+gE,sBAAsBl7D,IAAMk7D,sBAAsB/gE,GAAI,CAMxD,IALA,IAAI7H,EAAI,EACJipE,EAAOv7D,EAAE9V,OACT2xE,EAAO1hE,EAAEjQ,OACTsxE,EAAS,GAENlpE,EAAIipE,GAAQjpE,EAAIupE,IACA,iBAAT77D,EAAE1N,IAAmB0N,EAAE1N,aAAckc,UAA4B,iBAATrU,EAAE7H,IAAmB6H,EAAE7H,aAAckc,QACvGgtD,EAAOlpE,GAAK0N,EAAE1N,GAAK6H,EAAE7H,GAErBkpE,EAAOlpE,QAAc4Y,IAAT/Q,EAAE7H,GAAmB0N,EAAE1N,GAAK0N,EAAE1N,IAAM6H,EAAE7H,GAGpDA,GAAK,EAGP,OAAOkpE,CACT,CAEA,OAAO,CACT,CAEA,SAASM,IAAI97D,EAAG7F,GACd,IAIIjF,EAMA5C,EACAE,EAXA8oE,EAAOR,UAAU96D,GAEjB47D,EAAOd,UAAU3gE,GAIrB,GAAIghE,YAAYG,EAAMt7D,IAAMm7D,YAAYS,EAAMzhE,GAC5C,OAAO6F,EAAI7F,EAMb,GAAI+gE,sBAAsBl7D,IAAMm7D,YAAYS,EAAMzhE,GAAI,CAIpD,IAHA3H,EAAMwN,EAAE9V,OACRgL,EAAMF,iBAAiB,UAAWxC,GAE7BF,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB4C,EAAI5C,GAAK0N,EAAE1N,GAAK6H,EAGlB,OAAOjF,CACT,CAEA,GAAIimE,YAAYG,EAAMt7D,IAAMk7D,sBAAsB/gE,GAAI,CAIpD,IAHA3H,EAAM2H,EAAEjQ,OACRgL,EAAMF,iBAAiB,UAAWxC,GAE7BF,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB4C,EAAI5C,GAAK0N,EAAI7F,EAAE7H,GAGjB,OAAO4C,CACT,CAEA,OAAO,CACT,CAEA,SAASgd,IAAIlS,EAAG7F,GACd,IAIIjF,EAMA5C,EACAE,EAXA8oE,EAAOR,UAAU96D,GAEjB47D,EAAOd,UAAU3gE,GAIrB,GAAIghE,YAAYG,EAAMt7D,IAAMm7D,YAAYS,EAAMzhE,GAC5C,OAAO6F,EAAI7F,EAMb,GAAI+gE,sBAAsBl7D,IAAMm7D,YAAYS,EAAMzhE,GAAI,CAIpD,IAHA3H,EAAMwN,EAAE9V,OACRgL,EAAMF,iBAAiB,UAAWxC,GAE7BF,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB4C,EAAI5C,GAAK0N,EAAE1N,GAAK6H,EAGlB,OAAOjF,CACT,CAEA,GAAIimE,YAAYG,EAAMt7D,IAAMk7D,sBAAsB/gE,GAAI,CAIpD,IAHA3H,EAAM2H,EAAEjQ,OACRgL,EAAMF,iBAAiB,UAAWxC,GAE7BF,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB4C,EAAI5C,GAAK0N,EAAI7F,EAAE7H,GAGjB,OAAO4C,CACT,CAEA,OAAO,CACT,CAEA,SAAS6mE,IAAI/7D,EAAG7F,GASd,MARiB,iBAAN6F,IACTA,EAAImL,SAASnL,EAAG,KAGD,iBAAN7F,IACTA,EAAIgR,SAAShR,EAAG,KAGX6F,EAAI7F,CACb,CAEA,IAAI6hE,QAAUr7B,IACVs7B,QAAUhyE,IACViyE,QAAUJ,IACVK,QAAUjqD,IACVkqD,QAAUL,IAEd,SAASM,MAAM14B,EAAK5sC,EAAKF,GACvB,GAAIE,EAAMF,EAAK,CACb,IAAIylE,EAAKzlE,EACTA,EAAME,EACNA,EAAMulE,CACR,CAEA,OAAOhmE,KAAKS,IAAIT,KAAKO,IAAI8sC,EAAK5sC,GAAMF,EACtC,CAEA,SAAS0lE,iBAAiBllE,GACxB,OAAOA,EAAMG,SACf,CAEA,IAAIglE,mBAAqBD,iBAEzB,SAASE,iBAAiBplE,GACxB,OAAOA,EAAMG,SACf,CAEA,IAAIklE,mBAAqBH,iBACrBI,kBAAoB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAExC,SAASzyE,OAAO0yE,EAAMC,GACpB,GAAoB,iBAATD,GAAqBA,aAAgBpuD,OAE9C,OADAquD,EAAOA,GAAQ,EACRvmE,KAAKc,IAAIwlE,EAAOC,GAOzB,IAAIvqE,EAJCuqE,IACHA,EAAOF,mBAIT,IAAInqE,EAAM8D,KAAKS,IAAI6lE,EAAK1yE,OAAQ2yE,EAAK3yE,QACjC4rB,EAAc,EAElB,IAAKxjB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBwjB,GAAexf,KAAKC,IAAIsmE,EAAKvqE,GAAKsqE,EAAKtqE,GAAI,GAG7C,OAAOgE,KAAKG,KAAKqf,EACnB,CAEA,SAASgnD,UAAUC,GACjB,OAAO7qD,IAAI6qD,EAAK7yE,OAAO6yE,GACzB,CAEA,SAASC,SAAS3lE,GAChB,IAKIyC,EACAC,EANAE,EAAI5C,EAAI,GACR6C,EAAI7C,EAAI,GACR8C,EAAI9C,EAAI,GACRR,EAAMP,KAAKO,IAAIoD,EAAGC,EAAGC,GACrBpD,EAAMT,KAAKS,IAAIkD,EAAGC,EAAGC,GAGrBsuB,GAAK5xB,EAAME,GAAO,EAEtB,GAAIF,IAAQE,EACV+C,EAAI,EAEJC,EAAI,MACC,CACL,IAAIU,EAAI5D,EAAME,EAGd,OAFAgD,EAAI0uB,EAAI,GAAMhuB,GAAK,EAAI5D,EAAME,GAAO0D,GAAK5D,EAAME,GAEvCF,GACN,KAAKoD,EACHH,GAAKI,EAAIC,GAAKM,GAAKP,EAAIC,EAAI,EAAI,GAC/B,MAEF,KAAKD,EACHJ,GAAKK,EAAIF,GAAKQ,EAAI,EAClB,MAEF,KAAKN,EACHL,GAAKG,EAAIC,GAAKO,EAAI,EAOtBX,GAAK,CACP,CAEA,MAAO,CAACA,EAAGC,EAAG0uB,EAAGpxB,EAAI,GACvB,CAEA,SAAS4lE,QAAQ5iE,EAAGC,EAAGC,GAGrB,OAFIA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAI,EAAUF,EAAc,GAATC,EAAID,GAASE,EACpCA,EAAI,GAAcD,EAClBC,EAAI,EAAI,EAAUF,GAAKC,EAAID,IAAM,EAAI,EAAIE,GAAK,EAC3CF,CACT,CAEA,SAAS6iE,SAAS7lE,GAChB,IAGI4C,EACAC,EACAC,EALAL,EAAIzC,EAAI,GACR0C,EAAI1C,EAAI,GACRoxB,EAAIpxB,EAAI,GAKZ,GAAU,IAAN0C,EACFE,EAAIwuB,EAEJtuB,EAAIsuB,EAEJvuB,EAAIuuB,MACC,CACL,IAAInuB,EAAImuB,EAAI,GAAMA,GAAK,EAAI1uB,GAAK0uB,EAAI1uB,EAAI0uB,EAAI1uB,EACxCM,EAAI,EAAIouB,EAAInuB,EAChBL,EAAIgjE,QAAQ5iE,EAAGC,EAAGR,EAAI,EAAI,GAC1BI,EAAI+iE,QAAQ5iE,EAAGC,EAAGR,GAClBK,EAAI8iE,QAAQ5iE,EAAGC,EAAGR,EAAI,EAAI,EAC5B,CAEA,MAAO,CAACG,EAAGC,EAAGC,EAAG9C,EAAI,GACvB,CAEA,SAAS8lE,OAAO5iE,EAAG6iE,EAAMC,EAAMC,EAAQC,GAQrC,QAPeryD,IAAXoyD,QAAmCpyD,IAAXqyD,IAC1BD,EAASF,EACTG,EAASF,EACTD,EAAO,EACPC,EAAO,GAGLA,EAAOD,EAAM,CACf,IAAII,EAAQH,EACZA,EAAOD,EACPA,EAAOI,CACT,CAEA,GAAIjjE,GAAK6iE,EACP,OAAOE,EAGT,GAAI/iE,GAAK8iE,EACP,OAAOE,EAGT,IAMIjrE,EANA6kB,EAAOkmD,IAASD,EAAO,GAAK7iE,EAAI6iE,IAASC,EAAOD,GAEpD,IAAKE,EAAOpzE,OACV,OAAOozE,GAAUC,EAASD,GAAUnmD,EAItC,IAAI3kB,EAAM8qE,EAAOpzE,OACbgL,EAAMF,iBAAiB,UAAWxC,GAEtC,IAAKF,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB4C,EAAI5C,GAAKgrE,EAAOhrE,IAAMirE,EAAOjrE,GAAKgrE,EAAOhrE,IAAM6kB,EAGjD,OAAOjiB,CACT,CAEA,SAASiC,OAAOJ,EAAKF,GAWnB,QAVYqU,IAARrU,SACUqU,IAARnU,GACFA,EAAM,EACNF,EAAM,IAENA,EAAME,EACNA,OAAMmU,IAINrU,EAAI3M,OAAQ,CACd,IAAIoI,EACAE,EAAMqE,EAAI3M,OAET6M,IACHA,EAAM/B,iBAAiB,UAAWxC,IAGpC,IAAI0C,EAAMF,iBAAiB,UAAWxC,GAClCirE,EAAMzmE,OAAOG,SAEjB,IAAK7E,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB4C,EAAI5C,GAAKyE,EAAIzE,GAAKmrE,GAAO5mE,EAAIvE,GAAKyE,EAAIzE,IAGxC,OAAO4C,CACT,CAOA,YALYgW,IAARnU,IACFA,EAAM,GAIDA,EADIC,OAAOG,UACGN,EAAME,EAC7B,CAEA,SAAS2mE,WAAWnqD,EAAQoqD,EAAYC,EAAal9D,GACnD,IAAIpO,EACAE,EAAM+gB,EAAOrpB,OACbsS,EAAO2mB,UAAUxN,aACrBnZ,EAAKylB,cAAcvhB,EAAQlO,GAC3B,IACIqrE,EACAC,EAFAC,EAAiB,CAAC,EAAG,GAIzB,IAAKzrE,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBurE,EAAgBF,GAAcA,EAAWrrE,GAAKqrE,EAAWrrE,GAAKyrE,EAC9DD,EAAiBF,GAAeA,EAAYtrE,GAAKsrE,EAAYtrE,GAAKyrE,EAClEvhE,EAAK8lB,YAAY/O,EAAOjhB,GAAG,GAAIihB,EAAOjhB,GAAG,GAAIwrE,EAAe,GAAKvqD,EAAOjhB,GAAG,GAAIwrE,EAAe,GAAKvqD,EAAOjhB,GAAG,GAAIurE,EAAc,GAAKtqD,EAAOjhB,GAAG,GAAIurE,EAAc,GAAKtqD,EAAOjhB,GAAG,GAAIA,GAAG,GAGxL,OAAOkK,CACT,CAEA,SAASwhE,mBAAmB7sD,KAAMzgB,KAAMutE,UAEtC,SAASC,KAAKC,GACZ,OAAOA,CACT,CAEA,IAAKhtD,KAAKpG,WAAWi5B,aAAaqgB,eAChC,OAAO6Z,KAGT,IAAI7mE,IAAM3G,KAAKkjB,EACXwqD,cAAgB,qBAAqBloE,KAAKmB,KAE1CgnE,cAA0C,IAA3BhnE,IAAIiK,QAAQ,UAE3Bg9D,SAAWntD,KAAKzgB,KAAKsN,GACrB8qB,UACAy1C,cACAltE,QACAs9C,OACA6vB,aAAeP,SACnBO,aAAaC,YAAcD,aAAansC,eACxC1/B,OAAOolE,eAAeyG,aAAc,QAAS,CAC3C7qD,IAAK,WACH,OAAO6qD,aAAaxkE,CACtB,IAEFmX,KAAK7S,KAAK25D,cAAgB,EAAI9mD,KAAK7S,KAAKyM,WAAW5B,UACnDgI,KAAK7S,KAAK45D,iBAAmB,EAC7B,IAAIwG,QAAUvtD,KAAKzgB,KAAKkP,GAAKuR,KAAK7S,KAAKyM,WAAW5B,UAC9Cw1D,SAAWxtD,KAAKzgB,KAAKmP,GAAKsR,KAAK7S,KAAKyM,WAAW5B,UAC/C9F,MAAQ8N,KAAKzgB,KAAK0mD,GAAKjmC,KAAKzgB,KAAK0mD,GAAK,EACtC9zC,OAAS6N,KAAKzgB,KAAK4sB,GAAKnM,KAAKzgB,KAAK4sB,GAAK,EACvCrsB,KAAOkgB,KAAKzgB,KAAK4X,GACjBs2D,OACAC,QACAC,QACAC,SACAC,OACAC,QACAC,UACAC,SACAC,OACAC,kBACApnE,SACAqnE,SACAC,YACAj3C,MACAk3C,UACAC,SACA/zB,KACA+yB,YACAiB,eACAC,aAEAC,oBAAsBC,KAAK,oCAAsCxoE,IAAM,0BAA0B,GAEjGyoE,QAAU7B,SAASt9C,GAAKjwB,KAAK8M,EAAEtT,OAAS,EACxC61E,QAAU/4E,KAAK0J,OAAyB,IAAjB1J,KAAK0J,KAAKu/C,GAEjC+vB,OAAS,SAAgBC,EAAMC,GACjC,IAAIC,EACA7iE,EACA8iE,EAAYp5E,KAAKw0B,GAAGtxB,OAASlD,KAAKw0B,GAAGtxB,OAAS,EAC9Cm2E,EAAYrrE,iBAAiB,UAAWorE,GAExClqB,EAAa5/C,KAAKK,MADf,EACqBgR,MAI5B,IAHAw4D,EAAU,EACV7iE,EAAI,EAEG6iE,EAAUjqB,GAAY,CAE3B,IAAK54C,EAAI,EAAGA,EAAI8iE,EAAW9iE,GAAK,EAC9B+iE,EAAU/iE,KAAO4iE,EAAY,EAANA,EAAUlpE,OAAOG,SAG1CgpE,GAAW,CACb,CAGA,IAAIG,EAfG,EAeO34D,KACVwP,EAAOmpD,EAAUhqE,KAAKK,MAAM2pE,GAC5BprE,EAAMF,iBAAiB,UAAWorE,GAEtC,GAAIA,EAAY,EAAG,CACjB,IAAK9iE,EAAI,EAAGA,EAAI8iE,EAAW9iE,GAAK,EAC9BpI,EAAIoI,GAAKtW,KAAKw0B,GAAGle,GAAK+iE,EAAU/iE,KAAO4iE,EAAY,EAANA,EAAUlpE,OAAOG,UAAYggB,EAI5E,OAAOjiB,CACT,CAEA,OAAOlO,KAAKw0B,GAAK6kD,EAAU,KAAOH,EAAY,EAANA,EAAUlpE,OAAOG,UAAYggB,CACvE,EAAEpS,KAAK/d,MAgBP,SAASu5E,eAAervE,EAAM2W,GAC5B,OAAO+2D,OAAO1tE,EAAM2W,GAAU,EAChC,CAEA,SAAS24D,gBAAgBtvE,EAAM2W,GAC7B,OAAOi3D,QAAQ5tE,EAAM2W,GAAU,EACjC,CApBI22D,aAAaI,SACfA,OAASJ,aAAaI,OAAO75D,KAAKy5D,cAClCK,QAAUD,QAGRJ,aAAaM,UACfA,QAAUN,aAAaM,QAAQ/5D,KAAKy5D,cACpCO,SAAWD,SAGTN,aAAaQ,SACfA,OAASR,aAAaQ,OAAOj6D,KAAKy5D,eAWhCx3E,KAAKqrC,iBACPosC,YAAcz3E,KAAKqrC,eAAettB,KAAK/d,OAGrCA,KAAKy5E,oBACPf,eAAiB14E,KAAKy5E,kBAAkB17D,KAAK/d,OAG/C,IAAIsX,KAAO6S,KAAK7S,KAAKyM,WAAWZ,iBAAiBpF,KAAKoM,KAAK7S,KAAKyM,WAAWZ,kBAsLvExC,KACA+4D,SACAnwE,MACAxH,KACA43E,UACAC,UACAC,cA1LJ,SAASC,OAAOC,EAAOC,GACrB,IAAIC,EAAO,CAACD,EAAM,GAAKD,EAAM,GAAIC,EAAM,GAAKD,EAAM,GAAIC,EAAM,GAAKD,EAAM,IACnEG,EAAQ5qE,KAAK0oB,MAAMiiD,EAAK,GAAI3qE,KAAKG,KAAKwqE,EAAK,GAAKA,EAAK,GAAKA,EAAK,GAAKA,EAAK,KAAOzpE,UAEpF,MAAO,EADIlB,KAAK0oB,MAAMiiD,EAAK,GAAIA,EAAK,IAAMzpE,UAC7B0pE,EAAO,EACtB,CAEA,SAASC,QAAQ5mE,EAAG6iE,EAAMC,EAAM+D,EAAMC,GACpC,OAAOC,UAAU5F,WAAYnhE,EAAG6iE,EAAMC,EAAM+D,EAAMC,EACpD,CAEA,SAASE,OAAOhnE,EAAG6iE,EAAMC,EAAM+D,EAAMC,GACnC,OAAOC,UAAU7F,UAAWlhE,EAAG6iE,EAAMC,EAAM+D,EAAMC,EACnD,CAEA,SAASG,KAAKjnE,EAAG6iE,EAAMC,EAAM+D,EAAMC,GACjC,OAAOC,UAAU3F,aAAcphE,EAAG6iE,EAAMC,EAAM+D,EAAMC,EACtD,CAEA,SAASC,UAAU3kE,EAAIpC,EAAG6iE,EAAMC,EAAM+D,EAAMC,QAC7Bn2D,IAATk2D,GACFA,EAAOhE,EACPiE,EAAOhE,GAEP9iE,GAAKA,EAAI6iE,IAASC,EAAOD,GAGvB7iE,EAAI,EACNA,EAAI,EACKA,EAAI,IACbA,EAAI,GAGN,IAAI4lB,EAAOxjB,EAAGpC,GAEd,GAAI2gE,sBAAsBkG,GAAO,CAC/B,IAAIK,EACAC,EAASN,EAAKl3E,OACdgL,EAAMF,iBAAiB,UAAW0sE,GAEtC,IAAKD,EAAO,EAAGA,EAAOC,EAAQD,GAAQ,EACpCvsE,EAAIusE,IAASJ,EAAKI,GAAQL,EAAKK,IAASthD,EAAOihD,EAAKK,GAGtD,OAAOvsE,CACT,CAEA,OAAQmsE,EAAOD,GAAQjhD,EAAOihD,CAChC,CAEA,SAASO,WAAWh6D,GAClB,IAAI85D,EAEAnxD,EACA6L,EAFAulD,EAAShxE,KAAK8M,EAAEtT,OAIpB,GAAKwG,KAAK8M,EAAEtT,QAA+B,iBAAdwG,KAAK8M,EAAE,GAOlC,GAHA8S,GAAS,GACT3I,GAAQwJ,KAAK7S,KAAKyM,WAAW5B,WAElBzY,KAAK8M,EAAE,GAAGjD,EACnB+V,EAAQ,EACR6L,EAAUzrB,KAAK8M,EAAE,GAAGjD,MACf,CACL,IAAKknE,EAAO,EAAGA,EAAOC,EAAS,EAAGD,GAAQ,EAAG,CAC3C,GAAI95D,IAASjX,KAAK8M,EAAEikE,GAAMlnE,EAAG,CAC3B+V,EAAQmxD,EAAO,EACftlD,EAAUzrB,KAAK8M,EAAEikE,GAAMlnE,EACvB,KACF,CAAO,GAAIoN,EAAOjX,KAAK8M,EAAEikE,GAAMlnE,GAAKoN,EAAOjX,KAAK8M,EAAEikE,EAAO,GAAGlnE,EAAG,CACzDoN,EAAOjX,KAAK8M,EAAEikE,GAAMlnE,EAAI7J,KAAK8M,EAAEikE,EAAO,GAAGlnE,EAAIoN,GAC/C2I,EAAQmxD,EAAO,EACftlD,EAAUzrB,KAAK8M,EAAEikE,EAAO,GAAGlnE,IAE3B+V,EAAQmxD,EAAO,EACftlD,EAAUzrB,KAAK8M,EAAEikE,GAAMlnE,GAGzB,KACF,CACF,EAEe,IAAX+V,IACFA,EAAQmxD,EAAO,EACftlD,EAAUzrB,KAAK8M,EAAEikE,GAAMlnE,EAE3B,MAhCA+V,EAAQ,EACR6L,EAAU,EAkCZ,IAAIylD,EAAQ,CAAC,EAGb,OAFAA,EAAMtxD,MAAQA,EACdsxD,EAAMj6D,KAAOwU,EAAUhL,KAAK7S,KAAKyM,WAAW5B,UACrCy4D,CACT,CAEA,SAAS3zE,IAAIquB,GACX,IAAIslD,EACAH,EACAC,EAEJ,IAAKhxE,KAAK8M,EAAEtT,QAA+B,iBAAdwG,KAAK8M,EAAE,GAClC,MAAM,IAAI8J,MAAM,yCAA2CgV,GAG7DA,GAAO,EACPslD,EAAQ,CACNj6D,KAAMjX,KAAK8M,EAAE8e,GAAK/hB,EAAI4W,KAAK7S,KAAKyM,WAAW5B,UAC3C5Y,MAAO,IAET,IAAI2E,EAAMvC,OAAOD,UAAUE,eAAeC,KAAKnC,KAAK8M,EAAE8e,GAAM,KAAO5rB,KAAK8M,EAAE8e,GAAKviB,EAAIrJ,KAAK8M,EAAE8e,EAAM,GAAG/0B,EAGnG,IAFAm6E,EAASxsE,EAAIhL,OAERu3E,EAAO,EAAGA,EAAOC,EAAQD,GAAQ,EACpCG,EAAMH,GAAQvsE,EAAIusE,GAClBG,EAAMrxE,MAAMkxE,GAAQvsE,EAAIusE,GAG1B,OAAOG,CACT,CAEA,SAASC,aAAa70D,EAAI80D,GAKxB,OAJKA,IACHA,EAAM3wD,KAAK7S,KAAKyM,WAAW5B,WAGtB6D,EAAK80D,CACd,CAEA,SAASC,aAAaxnE,EAAGunE,GASvB,OARKvnE,GAAW,IAANA,IACRA,EAAIoN,MAGDm6D,IACHA,EAAM3wD,KAAK7S,KAAKyM,WAAW5B,WAGtB5O,EAAIunE,CACb,CAEA,SAASzJ,WAAWe,GAClBpiE,OAAOgrE,WAAWC,SAAW7I,EAC/B,CAEA,SAASj1B,mBACP,OAAOhzB,KAAKgzB,kBACd,CAEA,SAAS+9B,UAAU7yD,EAAMC,GACvB,MAAqB,iBAAV/e,WACG2a,IAARoE,EACK/e,MAAM2xE,UAAU7yD,GAGlB9e,MAAM2xE,UAAU7yD,EAAMC,GAGxB,EACT,CAEA,SAAS9D,OAAO6D,EAAMC,GACpB,MAAqB,iBAAV/e,WACG2a,IAARoE,EACK/e,MAAMib,OAAO6D,GAGf9e,MAAMib,OAAO6D,EAAMC,GAGrB,EACT,CAEA,SAAS6yD,cAAcC,GACrBz6D,KAA2B,IAApBy6D,EAAwB,EAAI9rE,KAAKK,MAAMgR,KAAOy6D,GAAmBA,EACxE7xE,MAAQkuE,YAAY92D,KACtB,CASA,IAAI2I,MAAQa,KAAKzgB,KAAK4rB,IAClB+lD,aAAelxD,KAAKu4B,YAAav4B,KAAKu4B,UAAUx/C,QAChD20C,OACAojC,SAAW3rE,KAAKK,MAAsB,IAAhBL,KAAKa,UAC3B4T,WAAaoG,KAAKpG,WAEtB,SAASu3D,kBAAkBnE,GAIzB,OAFA5tE,MAAQ4tE,EAEJn3E,KAAKu7E,oBAAsBpxD,KAAKpG,WAAWuV,SAA6B,iBAAlBt5B,KAAKu0B,SACtDhrB,OAGa,iBAAlBvJ,KAAKu0B,WACPolD,UAAY35E,KAAK25E,UACjBC,UAAY55E,KAAK45E,UACjBC,cAAgB75E,KAAK65E,eAGlBrB,YACHz2E,KAAOooB,KAAK01B,eAAe99C,KAC3By2E,UAAYruD,KAAK01B,eACjB44B,SAAWtuD,KAAK7S,KAAKoK,cACrBu2D,QAAUO,UAAUP,QAAQl6D,KAAKy6D,WACjCN,UAAYM,UAAUN,UAAUn6D,KAAKy6D,WACrCL,SAAWK,UAAUL,SAASp6D,KAAKy6D,WACnCJ,OAASI,UAAUJ,OAAOr6D,KAAKy6D,WAC/B9zB,KAAO8zB,UAAU9zB,KAAO8zB,UAAU9zB,KAAK3mC,KAAKy6D,WAAa,KACzDH,kBAAoBF,UAGjBr2C,YACHA,UAAY3X,KAAK01B,eAAe,wBAChC03B,cAAgBz1C,UAEZA,YACFy2C,YAAcz2C,UAAUy2C,cAOX,IAAbjB,UAAmBjtE,UACrBA,QAAUmuE,UAAU,4BAGjB7wB,SACHA,OAAS6wB,UAAU,KAGrB6C,aAAelxD,KAAKu4B,YAAav4B,KAAKu4B,UAAUx/C,WAE9B20C,SAChBA,OAAS1tB,KAAKu4B,UAAU,GAAG7C,gBAG7Bl/B,KAAO3gB,KAAKsX,KAAKuhB,cAAgB74B,KAAKsX,KAAKyM,WAAW5B,UAElDk1D,cACFhG,WAAW4J,SAAWt6D,MAGpBy2D,gBACFsC,SAAWhB,eAAe/3D,OAG5Bi4D,sBACA54E,KAAKu7E,kBAAoBpxD,KAAKpG,WAAWuV,QAGzCq/C,aAAeA,aAAapkD,WAAaq/C,UAAUC,MAAQ8E,aAAa3lE,EAAI2lE,aAE9E,CAIA,OADA2C,kBAAkBE,yBAA2B,CAACjE,cAAegB,YAAa53D,KAAM+4D,SAAUhC,QAASC,SAAUt7D,MAAOC,OAAQrS,KAAM4tE,QAASE,SAAUC,OAAQI,OAAQC,kBAAmBJ,QAASC,UAAWxzB,KAAMzzC,SAAUqnE,SAAUh3C,MAAOm3C,SAAUK,QAASC,OAAQC,OAAQO,eAAgBC,gBAAiBliE,KAAMwiE,OAAQK,QAASI,OAAQC,KAAMG,WAAY1zE,IAAKlF,KAAM43E,UAAWC,UAAWC,cAAegB,aAAcE,aAAc59B,iBAAkB+9B,UAAW12D,OAAQ22D,cAAe7xD,MAAOvF,YACleu3D,iBACT,CAKA,OAHAr9D,GAAG+4D,mBAAqBA,mBACxB/4D,GAAGu9D,yBAA2B,CAAC54E,OAAQ3B,SAAU2Z,eAAgB/Z,MAAOmzE,OAAQK,QAAS/yE,IAAK0zE,QAASC,QAASC,QAASC,QAASC,QAASC,MAAOG,mBAAoBC,iBAAkBC,mBAAoBI,UAAWE,SAAUE,SAAUC,OAAQhmE,OAAQumE,WAAYzC,eACvQh2D,GAAG6I,WAAaA,WACT7I,EACT,CAh2BwB,GAk2BpBw9D,YAAc,WAChB,IAAIx9D,EAAK,CACTA,gBAGA,SAAyB5C,GACvB,IAAIqgE,EAAa,EACbC,EAAY,GA+BhBtgE,EAAUsH,SAASjB,cAAgBk+B,wBAAwBvkC,EAAUsH,UACrEtH,EAAUsH,SAASoB,WAAWZ,iBAAiBhC,oBAAoB9F,EAAUsH,UAC7EtH,EAAUsH,SAASoB,WAAW63D,eA/B9B,WACEF,GAAc,CAChB,EA8BArgE,EAAUsH,SAASoB,WAAW83D,cA5B9B,WAGqB,IAFnBH,GAAc,IAahB,WACE,IAAIpwE,EACAE,EAAMmwE,EAAUz4E,OAEpB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBqwE,EAAUrwE,GAAGsjB,UAGf+sD,EAAUz4E,OAAS,CACrB,CAnBI44E,EAEJ,EAuBAzgE,EAAUsH,SAASoB,WAAWg4D,2BArB9B,SAAoCC,IACK,IAAnCL,EAAUrhE,QAAQ0hE,IACpBL,EAAU/uE,KAAKovE,EAEnB,CAkBF,GAEA,OA1CA/9D,EAAG6I,WAAaitD,kBAAkBjtD,WA0C3B7I,CACT,CA9CkB,GAgDdg+D,qBAAuB,WACzB,SAASC,EAAcx3B,EAAMh7C,GAC3B1J,KAAKm8E,MAAQz3B,EACb1kD,KAAKo8E,MAAQ1yE,CACf,CAgDA,OA9CAiC,OAAOolE,eAAemL,EAAcxwE,UAAW,WAAY,CACzDihB,IAAK,WAKH,OAJI3sB,KAAKm8E,MAAMnwE,KAAKwK,GAClBxW,KAAKm8E,MAAMnwE,KAAKiuB,WAGXj6B,KAAKm8E,MAAMnwE,IACpB,IAEFL,OAAOolE,eAAemL,EAAcxwE,UAAW,cAAe,CAC5DihB,IAAK,WAKH,OAJI3sB,KAAKm8E,MAAMtjE,GAAGrC,GAChBxW,KAAKm8E,MAAMtjE,GAAGohB,WAGS,IAAlBj6B,KAAKm8E,MAAMtjE,GAAG7F,CACvB,IAGgB,SAAqB8sC,GACrC,IAEIx0C,EAFA+wE,EAAmB/tE,iBAAiBwxC,EAAY4D,SAASxgD,QAGzDsI,EAAMs0C,EAAY4D,SAASxgD,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB+wE,EAAiB/wE,GAAK,IAAI4wE,EAAcp8B,EAAY4D,SAASp4C,GAAIw0C,EAAYjpC,gBAAgBvL,IAiB/F,OAdmB,SAAsBrB,GAGvC,IAFAqB,EAAI,EAEGA,EAAIE,GAAK,CACd,GAAIs0C,EAAYjpC,gBAAgBvL,GAAGgW,KAAOrX,EACxC,OAAOoyE,EAAiB/wE,GAG1BA,GAAK,CACP,CAEA,OAAO,IACT,CAGF,CAGF,CArD2B,GAuDvBgxE,4BAA8B,WAChC,IAAIC,EAA6B,CAC/B/nD,GAAI,EACJxhB,EAAG,EACHmmB,KAAM,GAEJqjD,EAA+B,CACjChoD,GAAI,CAAC,EAAG,EAAG,GACXxhB,EAAG,CAAC,EAAG,EAAG,GACVmmB,KAAM,GAGR,SAASsjD,EAAiBC,EAAiBzF,EAAU/sE,GACnDyB,OAAOolE,eAAe2L,EAAiB,WAAY,CACjD/vD,IAAK,WACH,OAAOsqD,EAASwC,kBAAkBxC,EAAS3/D,KAAKmK,aAClD,IAEFi7D,EAAgB5D,QAAU7B,EAASliD,UAAYkiD,EAASliD,UAAU7xB,OAAS,EAE3Ew5E,EAAgBz1E,IAAM,SAAUo0B,GAC9B,IAAKqhD,EAAgB5D,QACnB,OAAO,EAGT,IAAIvvE,EAAQ,GAGVA,EADE,MAAO0tE,EAASliD,UAAUsG,EAAM,GAC1B47C,EAASliD,UAAUsG,EAAM,GAAGtoB,EAC3B,MAAOkkE,EAASliD,UAAUsG,EAAM,GACjC47C,EAASliD,UAAUsG,EAAM,GAAG96B,EAE5B02E,EAASliD,UAAUsG,EAAM,GAAGtoB,EAGtC,IAAI4pE,EAAqB,mBAATzyE,EAA4B,IAAIsd,OAAOje,GAASoC,OAAOswC,OAAO,CAAC,EAAG1yC,GAIlF,OAFAozE,EAAUh8D,KAAOs2D,EAASliD,UAAUsG,EAAM,GAAG9nB,EAAI0jE,EAAS9sD,KAAK7S,KAAKyM,WAAW5B,UAC/Ew6D,EAAUpzE,MAAiB,mBAATW,EAA4BX,EAAM,GAAKA,EAClDozE,CACT,EAEAD,EAAgBjF,YAAcR,EAAS5rC,eACvCqxC,EAAgBE,YAAc3F,EAAS4F,eACvCH,EAAgBhE,eAAiBzB,EAASwC,kBAC1CiD,EAAgBI,cAAgB7F,EAAS6F,aAC3C,CAyDA,SAASC,IACP,OAAOR,CACT,CAEA,OAAO,SAAUtF,GACf,OAAKA,EAIqB,mBAAtBA,EAAS1iD,SAhEf,SAAyC0iD,GAClCA,GAAc,OAAQA,IACzBA,EAAWsF,GAGb,IAAIpjD,EAAO,EAAI89C,EAAS99C,KACpB9oB,EAAM4mE,EAASziD,GAAK2E,EACpBujD,EAAkB,IAAIl1D,OAAOnX,GAIjC,OAFAqsE,EAAgBnzE,MAAQ8G,EACxBosE,EAAiBC,EAAiBzF,EAAU,kBACrC,WAcL,OAbIA,EAASzgE,GACXygE,EAASh9C,WAGX5pB,EAAM4mE,EAASjkE,EAAImmB,EAEfujD,EAAgBnzE,QAAU8G,KAC5BqsE,EAAkB,IAAIl1D,OAAOnX,IAEb9G,MAAQ8G,EACxBosE,EAAiBC,EAAiBzF,EAAU,mBAGvCyF,CACT,CACF,CAsCWM,CAAgC/F,GApC3C,SAA2CA,GACpCA,GAAc,OAAQA,IACzBA,EAAWuF,GAGb,IAAIrjD,EAAO,EAAI89C,EAAS99C,KACpB3tB,EAAMyrE,EAASvtE,MAAQutE,EAASvtE,KAAK+3B,GAAKw1C,EAASziD,GAAGtxB,OACtDw5E,EAAkB1uE,iBAAiB,UAAWxC,GAC9CyxE,EAAWjvE,iBAAiB,UAAWxC,GAG3C,OAFAkxE,EAAgBnzE,MAAQ0zE,EACxBR,EAAiBC,EAAiBzF,EAAU,oBACrC,WACDA,EAASzgE,GACXygE,EAASh9C,WAGX,IAAK,IAAI3uB,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAC5B2xE,EAAS3xE,GAAK2rE,EAASjkE,EAAE1H,GAAK6tB,EAC9BujD,EAAgBpxE,GAAK2xE,EAAS3xE,GAGhC,OAAOoxE,CACT,CACF,CAgBSQ,CAAkCjG,GAPhC8F,CAQX,CACF,CAtHkC,GAwH9BI,6BACK,SAAUr7C,GACf,SAASs7C,EAAcnzE,GACrB,OAAQA,GACN,IAAK,QACL,IAAK,QACL,IAAK,aACL,KAAK,EACH,OAAOmzE,EAAc97C,MAEvB,IAAK,WACL,IAAK,WACL,IAAK,gBACL,IAAK,gBACL,KAAK,GACH,OAAO87C,EAAc9E,SAEvB,IAAK,gBACH,OAAO8E,EAAcC,UAEvB,IAAK,gBACH,OAAOD,EAAcE,UAEvB,IAAK,WACL,IAAK,WACL,IAAK,gBACL,KAAK,EACH,OAAOF,EAAcnsE,SAEvB,IAAK,kBACH,OAAOmsE,EAAcG,UAEvB,IAAK,kBACH,OAAOH,EAAcI,UAEvB,IAAK,kBACH,OAAOJ,EAAcK,UAEvB,IAAK,cACL,IAAK,cACL,IAAK,eACL,IAAK,mBACL,KAAK,EACH,OAAOL,EAAc7E,YAEvB,IAAK,UACL,IAAK,UACL,KAAK,GACH,OAAO6E,EAAcx3B,QAEvB,QACE,OAAO,KAEb,CAkBA,IAAI83B,EAEAC,EAEAC,EAEAC,EA8CJ,OApEAlyE,OAAOolE,eAAeqM,EAAe,WAAY,CAC/CzwD,IAAK2vD,4BAA4Bx6C,EAAU7uB,GAAK6uB,EAAU+I,MAE5Dl/B,OAAOolE,eAAeqM,EAAe,YAAa,CAChDzwD,IAAK2vD,4BAA4Bx6C,EAAU+I,IAAM/I,EAAU7uB,KAE7DtH,OAAOolE,eAAeqM,EAAe,YAAa,CAChDzwD,IAAK2vD,4BAA4Bx6C,EAAU6I,MAE7Ch/B,OAAOolE,eAAeqM,EAAe,YAAa,CAChDzwD,IAAK2vD,4BAA4Bx6C,EAAU8I,MAE7Cj/B,OAAOolE,eAAeqM,EAAe,QAAS,CAC5CzwD,IAAK2vD,4BAA4Bx6C,EAAU/uB,KAWzC+uB,EAAUzuB,EACZwqE,EAAoBvB,4BAA4Bx6C,EAAUzuB,IAE1DqqE,EAAMpB,4BAA4Bx6C,EAAU0I,IAC5CmzC,EAAMrB,4BAA4Bx6C,EAAU2I,IAExC3I,EAAU4I,KACZkzC,EAAMtB,4BAA4Bx6C,EAAU4I,MAIhD/+B,OAAOolE,eAAeqM,EAAe,WAAY,CAC/CzwD,IAAK,WACH,OAAImV,EAAUzuB,EACLwqE,IAGF,CAACH,IAAOC,IAAOC,EAAMA,IAAQ,EACtC,IAEFjyE,OAAOolE,eAAeqM,EAAe,YAAa,CAChDzwD,IAAK2vD,4BAA4Bx6C,EAAU0I,MAE7C7+B,OAAOolE,eAAeqM,EAAe,YAAa,CAChDzwD,IAAK2vD,4BAA4Bx6C,EAAU2I,MAE7C9+B,OAAOolE,eAAeqM,EAAe,YAAa,CAChDzwD,IAAK2vD,4BAA4Bx6C,EAAU4I,MAE7C/+B,OAAOolE,eAAeqM,EAAe,cAAe,CAClDzwD,IAAK2vD,4BAA4Bx6C,EAAU9oB,KAE7CrN,OAAOolE,eAAeqM,EAAe,UAAW,CAC9CzwD,IAAK2vD,4BAA4Bx6C,EAAUlqB,KAE7CjM,OAAOolE,eAAeqM,EAAe,OAAQ,CAC3CzwD,IAAK2vD,4BAA4Bx6C,EAAU7oB,MAE7CtN,OAAOolE,eAAeqM,EAAe,WAAY,CAC/CzwD,IAAK2vD,4BAA4Bx6C,EAAU5oB,MAE7CvN,OAAOolE,eAAeqM,EAAe,cAAe,CAClDzwD,IAAK2vD,4BAA4Bx6C,EAAUhD,MAEtCs+C,CACT,EAGE59B,yBAA2B,WAC7B,SAASs+B,EAAUn9D,GACjB,IAAIo9D,EAAa,IAAI39C,OAWrB,YATalc,IAATvD,EACe3gB,KAAKo4D,MAAMtb,eAAeC,MAAM1R,eAAe1qB,GAErD9W,MAAMk0E,GAEE/9E,KAAKo4D,MAAMtb,eAAeC,MAChChS,cAAcgzC,GAGtBA,CACT,CAEA,SAASC,EAAW9vE,EAAKyS,GACvB,IAAIo9D,EAAa/9E,KAAK89E,UAAUn9D,GAIhC,OAHAo9D,EAAWr9C,MAAM,IAAM,EACvBq9C,EAAWr9C,MAAM,IAAM,EACvBq9C,EAAWr9C,MAAM,IAAM,EAChB1gC,KAAKi+E,WAAWF,EAAY7vE,EACrC,CAEA,SAAS+pE,EAAQ/pE,EAAKyS,GACpB,IAAIo9D,EAAa/9E,KAAK89E,UAAUn9D,GAChC,OAAO3gB,KAAKi+E,WAAWF,EAAY7vE,EACrC,CAEA,SAASgwE,EAAahwE,EAAKyS,GACzB,IAAIo9D,EAAa/9E,KAAK89E,UAAUn9D,GAIhC,OAHAo9D,EAAWr9C,MAAM,IAAM,EACvBq9C,EAAWr9C,MAAM,IAAM,EACvBq9C,EAAWr9C,MAAM,IAAM,EAChB1gC,KAAKm+E,YAAYJ,EAAY7vE,EACtC,CAEA,SAASgqE,EAAUhqE,EAAKyS,GACtB,IAAIo9D,EAAa/9E,KAAK89E,UAAUn9D,GAChC,OAAO3gB,KAAKm+E,YAAYJ,EAAY7vE,EACtC,CAEA,SAAS+vE,EAAWn6C,EAAQ51B,GAC1B,GAAIlO,KAAKo4D,MAAM1V,WAAa1iD,KAAKo4D,MAAM1V,UAAUx/C,OAAQ,CACvD,IAAIoI,EACAE,EAAMxL,KAAKo4D,MAAM1V,UAAUx/C,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKo4D,MAAM1V,UAAUp3C,GAAGwxC,eAAeC,MAAMhS,cAAcjH,EAE/D,CAEA,OAAOA,EAAOgB,kBAAkB52B,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAAM,EAC5D,CAEA,SAASiwE,EAAYr6C,EAAQ51B,GAC3B,GAAIlO,KAAKo4D,MAAM1V,WAAa1iD,KAAKo4D,MAAM1V,UAAUx/C,OAAQ,CACvD,IAAIoI,EACAE,EAAMxL,KAAKo4D,MAAM1V,UAAUx/C,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKo4D,MAAM1V,UAAUp3C,GAAGwxC,eAAeC,MAAMhS,cAAcjH,EAE/D,CAEA,OAAOA,EAAOe,aAAa32B,EAC7B,CAEA,SAASiqE,EAASjqE,GAChB,IAAI6vE,EAAa,IAAI39C,OAKrB,GAJA29C,EAAWj8E,QAEX9B,KAAKo4D,MAAMtb,eAAeC,MAAMhS,cAAcgzC,GAE1C/9E,KAAKo4D,MAAM1V,WAAa1iD,KAAKo4D,MAAM1V,UAAUx/C,OAAQ,CACvD,IAAIoI,EACAE,EAAMxL,KAAKo4D,MAAM1V,UAAUx/C,OAE/B,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxBtL,KAAKo4D,MAAM1V,UAAUp3C,GAAGwxC,eAAeC,MAAMhS,cAAcgzC,GAG7D,OAAOA,EAAWl5C,aAAa32B,EACjC,CAEA,OAAO6vE,EAAWl5C,aAAa32B,EACjC,CAEA,SAASkwE,IACP,MAAO,CAAC,EAAG,EAAG,EAAG,EACnB,CAEA,OAAO,SAAUj0D,GACf,IAAIk0D,EAUJ,SAASvN,EAAmB7mE,GAC1B,OAAQA,GACN,IAAK,0BACL,IAAK,WACL,KAAK,EACH,OAAO6mE,EAAmB3wB,eAE5B,KAAK,EACL,KAAK,EACL,IAAK,YACL,IAAK,YACL,IAAK,uBACH,OAAOk+B,EAET,KAAK,EACL,IAAK,qBACL,IAAK,UACL,IAAK,UACH,OAAOvN,EAAmBnpB,OAE5B,IAAK,uBACH,OAAOmpB,EAAmBxwB,cAE5B,QACE,OAAO,KAEb,CAEAwwB,EAAmBgN,UAAYA,EAC/BhN,EAAmBqN,YAAcA,EACjCrN,EAAmBmN,WAAaA,EAChCnN,EAAmBmH,QAAUA,EAC7BnH,EAAmBkN,WAAaA,EAChClN,EAAmBoH,UAAYA,EAC/BpH,EAAmBoN,aAAeA,EAClCpN,EAAmBsH,OAASH,EAC5BnH,EAAmBqH,SAAWA,EAC9BrH,EAAmBsN,YAAcA,EACjCtN,EAAmB3zB,iBAAmBhzB,EAAKgzB,iBAAiBp/B,KAAKoM,GACjE2mD,EAAmB1Y,MAAQjuC,EAE3B,IAAIm0D,EAAwBxyE,cAD5BuyE,EAAqBlB,6BAA6BhzD,EAAK2yB,eAAeC,OACR,eAuC9D,OAtCApxC,OAAO4yE,iBAAiBzN,EAAoB,CAC1CuK,UAAW,CACT1uD,IAAK,WACH,OAAOxC,EAAKu4B,UAAUx/C,MACxB,GAEF20C,OAAQ,CACNlrB,IAAK,WACH,OAAOxC,EAAKu4B,UAAU,GAAG7C,cAC3B,GAEFy4B,SAAUxsE,cAAcuyE,EAAoB,YAC5C/8C,MAAOx1B,cAAcuyE,EAAoB,SACzCptE,SAAUnF,cAAcuyE,EAAoB,YAC5Cz4B,QAAS95C,cAAcuyE,EAAoB,WAC3C9F,YAAa+F,EACbE,aAAcF,EACdx8C,UAAW,CACTnV,IAAK,WACH,OAAO0xD,CACT,GAEFtF,OAAQ,CACNpsD,IAAK,WACH,OAAOxC,EAAKgyB,SACd,KAGJ20B,EAAmB2N,UAAYt0D,EAAKzgB,KAAKoP,GACzCg4D,EAAmBxnD,MAAQa,EAAKzgB,KAAK4rB,IACrCw7C,EAAmBvpB,OAASp9B,EAAKzgB,KAAKwN,MACtC45D,EAAmBx0D,OAA0B,IAAjB6N,EAAKzgB,KAAKsN,GAAWmT,EAAKzgB,KAAKoJ,EAAI,IAC/Dg+D,EAAmBz0D,MAAyB,IAAjB8N,EAAKzgB,KAAKsN,GAAWmT,EAAKzgB,KAAK+sC,EAAI,IAC9Dq6B,EAAmB4G,QAAUvtD,EAAKzgB,KAAKkP,GAAKuR,EAAK7S,KAAKyM,WAAW5B,UACjE2uD,EAAmB6G,SAAWxtD,EAAKzgB,KAAKmP,GAAKsR,EAAK7S,KAAKyM,WAAW5B,UAClE2uD,EAAmB4N,MAAQv0D,EAAKzgB,KAAK4X,GACrCwvD,EAAmB/wB,sBAtFnB,SAAgCD,GAC9BgxB,EAAmBpsB,KAAO,IAAIu3B,qBAAqBn8B,EAAa31B,EAClE,EAqFA2mD,EAAmB5wB,yBAnFnB,SAAmChC,GACjC4yB,EAAmBnpB,OAASzJ,CAC9B,EAkFO4yB,CACT,CACF,CAzL+B,GA2L3B6N,qBACK,SAAUC,EAAmBC,GAClC,OAAO,SAAUxuE,GAGf,OAFAA,OAAc6T,IAAR7T,EAAoB,EAAIA,IAEnB,EACFuuE,EAGFC,EAAoBxuE,EAAM,EACnC,CACF,EAGEyuE,kBACK,SAAUC,EAAcjC,GAC7B,IAAI8B,EAAoB,CACtBF,MAAOK,GAaT,OAVA,SAAwB1uE,GAGtB,OAFAA,OAAc6T,IAAR7T,EAAoB,EAAIA,IAEnB,EACFuuE,EAGF9B,EAAczsE,EAAM,EAC7B,CAGF,EAGEovC,2BAA6B,WA4C/B,SAASu/B,EAAqBt1E,EAAMypC,EAAU2pC,EAAe3yD,GAC3D,SAAS80D,EAAeh1E,GAKtB,IAJA,IAAIi0C,EAAUx0C,EAAKy0C,GACf7yC,EAAI,EACJE,EAAM0yC,EAAQh7C,OAEXoI,EAAIE,GAAK,CACd,GAAIvB,IAASi0C,EAAQ5yC,GAAGgW,IAAMrX,IAASi0C,EAAQ5yC,GAAG4zE,IAAMj1E,IAASi0C,EAAQ5yC,GAAG0oC,GAC1E,OAAsB,IAAlBkK,EAAQ5yC,GAAG0L,GACNonC,EAAe9yC,GAGjB8yC,EAAe9yC,KAGxBA,GAAK,CACP,CAEA,MAAM,IAAIgV,KACZ,CAEA,IAGIhV,EAHA6zE,EAAiBR,qBAAqBM,EAAgBnC,GAEtD1+B,EAAiB,GAEjB5yC,EAAM9B,EAAKy0C,GAAGj7C,OAElB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACF,IAAlB5B,EAAKy0C,GAAG7yC,GAAG0L,GACbonC,EAAexxC,KAAKoyE,EAAqBt1E,EAAKy0C,GAAG7yC,GAAI6nC,EAASiL,eAAe9yC,GAAI6nC,EAASiL,eAAe9yC,GAAGwxE,cAAe3yD,IAE3Hi0B,EAAexxC,KAAKwyE,EAAqBjsC,EAASiL,eAAe9yC,GAAI5B,EAAKy0C,GAAG7yC,GAAG0L,GAAImT,EAAMg1D,IA2B9F,MAvBgB,uBAAZz1E,EAAKw1E,IACPvzE,OAAOolE,eAAekO,EAAgB,QAAS,CAC7CtyD,IAAK,WACH,OAAOyxB,EAAe,IACxB,IAIJzyC,OAAO4yE,iBAAiBU,EAAgB,CACtCI,cAAe,CACb1yD,IAAK,WACH,OAAOjjB,EAAK41E,EACd,GAEFZ,MAAO,CACLn1E,MAAOG,EAAK4X,IAEdw7D,cAAe,CACbvzE,MAAO41E,KAGXF,EAAeM,QAAsB,IAAZ71E,EAAK81E,GAC9BP,EAAelG,OAASkG,EAAeM,QAChCN,CACT,CAEA,SAASG,EAAqBruE,EAAS7G,EAAMigB,EAAM2yD,GACjD,IAAI2C,EAAqBnD,4BAA4BvrE,EAAQsC,GAc7D,OAJItC,EAAQsC,EAAEqsE,kBACZ3uE,EAAQsC,EAAEqsE,iBAAiBZ,kBAAkB,GAAIhC,IATnD,WACE,OAAa,KAAT5yE,EACKigB,EAAK7S,KAAKoK,cAAc3Q,EAAQsC,EAAEL,GAGpCysE,GACT,CAOF,CAEA,MA1HS,CACPx/B,uBAGF,SAAgC91B,EAAM2yD,GACpC,GAAI3yD,EAAK02B,eAAgB,CACvB,IAEIv1C,EAFA8yC,EAAiB,GACjBuhC,EAAcx1D,EAAKzgB,KAAKy0C,GAExB3yC,EAAM2e,EAAK02B,eAAezC,eAAel7C,OAE7C,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB8yC,EAAexxC,KAAKoyE,EAAqBW,EAAYr0E,GAAI6e,EAAK02B,eAAezC,eAAe9yC,GAAIwxE,EAAe3yD,IAGjH,IAAI+zB,EAAU/zB,EAAKzgB,KAAKy0C,IAAM,GAE1B8gC,EAAiB,SAAwBh1E,GAI3C,IAHAqB,EAAI,EACJE,EAAM0yC,EAAQh7C,OAEPoI,EAAIE,GAAK,CACd,GAAIvB,IAASi0C,EAAQ5yC,GAAGgW,IAAMrX,IAASi0C,EAAQ5yC,GAAG4zE,IAAMj1E,IAASi0C,EAAQ5yC,GAAG0oC,GAC1E,OAAOoK,EAAe9yC,GAGxBA,GAAK,CACP,CAEA,OAAO,IACT,EAOA,OALAK,OAAOolE,eAAekO,EAAgB,gBAAiB,CACrDtyD,IAAK,WACH,OAAOuxB,EAAQh7C,MACjB,IAEK+7E,CACT,CAEA,OAAO,IACT,EAkFF,CA5HiC,GA8H7BW,mBACK,SAA8BvjD,EAAOwjD,EAAM/C,GAChD,IAAI9wE,EAAO6zE,EAAKvpD,GAEhB,SAASsoD,EAAkBvuE,GACzB,MAAY,UAARA,GAA2B,UAARA,GAA2B,SAARA,GAA0B,SAARA,GAA0B,sBAARA,GAAuC,IAARA,EACpGuuE,EAAkBppE,KAGpB,IACT,CAEA,IAAI2pE,EAAiBR,qBAAqBC,EAAmB9B,GAsC7D,OApCA9wE,EAAK0zE,iBAAiBZ,kBAAkB,OAAQK,IAChDxzE,OAAO4yE,iBAAiBK,EAAmB,CACzCppE,KAAM,CACJmX,IAAK,WAKH,OAJI3gB,EAAKwK,GACPxK,EAAKiuB,WAGAjuB,CACT,GAEFqwB,MAAO,CACL1P,IAAK,WAKH,OAJI3gB,EAAKwK,GACPxK,EAAKiuB,WAGAjuB,CACT,GAEF0yE,MAAO,CACLn1E,MAAO8yB,EAAM/a,IAEf0yB,GAAI,CACFzqC,MAAO8yB,EAAM2X,IAEf8rC,cAAe,CACbv2E,MAAO8yB,EAAM2X,IAEfkrC,GAAI,CACF31E,MAAO8yB,EAAM6iD,IAEfpC,cAAe,CACbvzE,MAAOuzE,KAGJ8B,CACT,EAGEl/B,yBAA2B,WAC7B,SAASqgC,EAAgB3oE,EAAQyoE,EAAM/C,GACrC,IACIxxE,EADA4C,EAAM,GAEN1C,EAAM4L,EAASA,EAAOlU,OAAS,EAEnC,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACH,OAAjB8L,EAAO9L,GAAG0L,GACZ9I,EAAItB,KAAKozE,EAAsB5oE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IACzB,OAAjB1lE,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAKqzE,EAAqB7oE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IACxB,OAAjB1lE,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAKszE,EAAuB9oE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IAC1B,OAAjB1lE,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAKuzE,EAAqB/oE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IACxB,OAAjB1lE,EAAO9L,GAAG0L,KACO,OAAjBI,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAKwzE,EAAwBhpE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IAC3B,OAAjB1lE,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAKyzE,EAAqBjpE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IACxB,OAAjB1lE,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAKgzE,mBAAmBxoE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IACtB,OAAjB1lE,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAK0zE,EAAqBlpE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IACxB,OAAjB1lE,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAK2zE,EAAwBnpE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IAC3B,OAAjB1lE,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAK4zE,EAAyBppE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IAC5B,OAAjB1lE,EAAO9L,GAAG0L,GACnB9I,EAAItB,KAAK6zE,EAA6BrpE,EAAO9L,GAAIu0E,EAAKv0E,GAAIwxE,IAE1D5uE,EAAItB,MAA6BwK,EAAO9L,GAAIu0E,EAAKv0E,GAuJrD,WACE,OAAO,IACT,KArJA,OAAO4C,CACT,CAkCA,SAAS8xE,EAAsB3jD,EAAOwjD,EAAM/C,GAC1C,IAAI8B,EAAoB,SAA4Br1E,GAClD,OAAQA,GACN,IAAK,qBACL,IAAK,WACL,KAAK,EACH,OAAOq1E,EAAkBv0E,QAK3B,QACE,OAAOu0E,EAAkB98C,UAE/B,EAEA88C,EAAkB9B,cAAgB6B,qBAAqBC,EAAmB9B,GAC1E,IAAIzyE,EAjDN,SAAkCgyB,EAAOwjD,EAAM/C,GAC7C,IAAI4D,EAEA9B,EAAoB,SAA4Br1E,GAIlD,IAHA,IAAI+B,EAAI,EACJE,EAAMk1E,EAAWx9E,OAEdoI,EAAIE,GAAK,CACd,GAAIk1E,EAAWp1E,GAAGozE,QAAUn1E,GAASm3E,EAAWp1E,GAAG4zE,KAAO31E,GAASm3E,EAAWp1E,GAAGw0E,gBAAkBv2E,GAASm3E,EAAWp1E,GAAG0oC,KAAOzqC,GAASm3E,EAAWp1E,GAAGgqB,MAAQ/rB,EAC9J,OAAOm3E,EAAWp1E,GAGpBA,GAAK,CACP,CAEA,MAAqB,iBAAV/B,EACFm3E,EAAWn3E,EAAQ,GAGrB,IACT,EAEAq1E,EAAkB9B,cAAgB6B,qBAAqBC,EAAmB9B,GAC1E4D,EAAaX,EAAgB1jD,EAAM1kB,GAAIkoE,EAAKloE,GAAIinE,EAAkB9B,eAClE8B,EAAkBS,cAAgBqB,EAAWx9E,OAC7C,IAAIm7E,EAAqBsC,EAA0BtkD,EAAM1kB,GAAG0kB,EAAM1kB,GAAGzU,OAAS,GAAI28E,EAAKloE,GAAGkoE,EAAKloE,GAAGzU,OAAS,GAAI07E,EAAkB9B,eAIjI,OAHA8B,EAAkB98C,UAAYu8C,EAC9BO,EAAkBkB,cAAgBzjD,EAAMukD,IACxChC,EAAkBF,MAAQriD,EAAM/a,GACzBs9D,CACT,CAmBgBiC,CAAyBxkD,EAAOwjD,EAAMjB,EAAkB9B,eAClEuB,EAAqBsC,EAA0BtkD,EAAM1kB,GAAG0kB,EAAM1kB,GAAGzU,OAAS,GAAI28E,EAAKloE,GAAGkoE,EAAKloE,GAAGzU,OAAS,GAAI07E,EAAkB9B,eAajI,OAZA8B,EAAkBv0E,QAAUA,EAC5Bu0E,EAAkB98C,UAAYu8C,EAC9B1yE,OAAOolE,eAAe6N,EAAmB,QAAS,CAChDjyD,IAAK,WACH,OAAO0P,EAAM/a,EACf,IAGFs9D,EAAkBS,cAAgBhjD,EAAMijD,GACxCV,EAAkBkB,cAAgBzjD,EAAM2X,GACxC4qC,EAAkBt9D,GAAK+a,EAAM/a,GAC7Bs9D,EAAkBM,GAAK7iD,EAAM6iD,GACtBN,CACT,CAEA,SAASqB,EAAqB5jD,EAAOwjD,EAAM/C,GACzC,SAAS8B,EAAkBvuE,GACzB,MAAY,UAARA,GAA2B,UAARA,EACduuE,EAAkBjrE,MAGf,YAARtD,GAA6B,YAARA,EAChBuuE,EAAkBh5B,QAGpB,IACT,CAkBA,OAhBAj6C,OAAO4yE,iBAAiBK,EAAmB,CACzCjrE,MAAO,CACLgZ,IAAK2vD,4BAA4BuD,EAAKtmE,IAExCqsC,QAAS,CACPj5B,IAAK2vD,4BAA4BuD,EAAKjoE,IAExC8mE,MAAO,CACLn1E,MAAO8yB,EAAM/a,IAEf49D,GAAI,CACF31E,MAAO8yB,EAAM6iD,MAGjBW,EAAKtmE,EAAEmmE,iBAAiBZ,kBAAkB,QAAShC,IACnD+C,EAAKjoE,EAAE8nE,iBAAiBZ,kBAAkB,UAAWhC,IAC9C8B,CACT,CAEA,SAAS6B,EAA6BpkD,EAAOwjD,EAAM/C,GACjD,SAAS8B,EAAkBvuE,GACzB,MAAY,gBAARA,GAAiC,gBAARA,EACpBuuE,EAAkBkC,WAGf,cAARzwE,GAA+B,cAARA,EAClBuuE,EAAkBmC,SAGf,YAAR1wE,GAA6B,YAARA,EAChBuuE,EAAkBh5B,QAGpB,IACT,CA2BA,OAzBAj6C,OAAO4yE,iBAAiBK,EAAmB,CACzCkC,WAAY,CACVn0D,IAAK2vD,4BAA4BuD,EAAK9sE,IAExCguE,SAAU,CACRp0D,IAAK2vD,4BAA4BuD,EAAKt/E,IAExCqlD,QAAS,CACPj5B,IAAK2vD,4BAA4BuD,EAAKjoE,IAExC1N,KAAM,CACJyiB,IAAK,WACH,MAAO,GACT,GAEF+xD,MAAO,CACLn1E,MAAO8yB,EAAM/a,IAEf49D,GAAI,CACF31E,MAAO8yB,EAAM6iD,MAGjBW,EAAK9sE,EAAE2sE,iBAAiBZ,kBAAkB,cAAehC,IACzD+C,EAAKt/E,EAAEm/E,iBAAiBZ,kBAAkB,YAAahC,IACvD+C,EAAKjoE,EAAE8nE,iBAAiBZ,kBAAkB,UAAWhC,IAC9C8B,CACT,CAUA,SAASsB,EAAuB7jD,EAAOwjD,EAAM/C,GAC3C,IAUIxxE,EAVA6zE,EAAiBR,qBAAqBC,EAAmB9B,GAEzDkE,EAAqBrC,qBAAqBsC,EAAQ9B,GAEtD,SAAS+B,EAAoB51E,GAC3BK,OAAOolE,eAAekQ,EAAQ5kD,EAAM5oB,EAAEnI,GAAGgW,GAAI,CAC3CqL,IAAK2vD,4BAA4BuD,EAAKpsE,EAAEq4C,UAAUxgD,GAAG+H,IAEzD,CAGA,IAAI7H,EAAM6wB,EAAM5oB,EAAI4oB,EAAM5oB,EAAEvQ,OAAS,EACjC+9E,EAAS,CAAC,EAEd,IAAK31E,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB41E,EAAoB51E,GACpBu0E,EAAKpsE,EAAEq4C,UAAUxgD,GAAG+H,EAAEqsE,iBAAiBsB,GAGzC,SAASpC,EAAkBvuE,GACzB,MAAY,UAARA,GAA2B,UAARA,EACduuE,EAAkBjrE,MAGf,YAARtD,GAA6B,YAARA,EAChBuuE,EAAkBh5B,QAGf,iBAARv1C,GAAkC,iBAARA,EACrBuuE,EAAkB/Q,YAGpB,IACT,CA2BA,OAzBAliE,OAAO4yE,iBAAiBK,EAAmB,CACzCjrE,MAAO,CACLgZ,IAAK2vD,4BAA4BuD,EAAKtmE,IAExCqsC,QAAS,CACPj5B,IAAK2vD,4BAA4BuD,EAAKjoE,IAExCi2D,YAAa,CACXlhD,IAAK2vD,4BAA4BuD,EAAKppC,IAExC0qC,KAAM,CACJx0D,IAAK,WACH,OAAOs0D,CACT,GAEFvC,MAAO,CACLn1E,MAAO8yB,EAAM/a,IAEf49D,GAAI,CACF31E,MAAO8yB,EAAM6iD,MAGjBW,EAAKtmE,EAAEmmE,iBAAiBZ,kBAAkB,QAASK,IACnDU,EAAKjoE,EAAE8nE,iBAAiBZ,kBAAkB,UAAWK,IACrDU,EAAKppC,EAAEipC,iBAAiBZ,kBAAkB,eAAgBK,IACnDP,CACT,CAEA,SAASuB,EAAqB9jD,EAAOwjD,EAAM/C,GACzC,SAAS8B,EAAkBvuE,GACzB,OAAIA,IAAQgsB,EAAM97B,EAAEyzC,IAAc,QAAR3jC,GAAyB,QAARA,EAClCuuE,EAAkBt2D,IAGvBjY,IAAQgsB,EAAMtpB,EAAEihC,GACX4qC,EAAkBr6E,MAGvB8L,IAAQgsB,EAAMzkB,EAAEo8B,GACX4qC,EAAkBr5E,OAGpB,IACT,CAEA,IAAI45E,EAAiBR,qBAAqBC,EAAmB9B,GAuB7D,OArBA8B,EAAkBkB,cAAgBzjD,EAAM2X,GACxC6rC,EAAK9sE,EAAE2sE,iBAAiBZ,kBAAkB,QAASK,IACnDU,EAAKt/E,EAAEm/E,iBAAiBZ,kBAAkB,MAAOK,IACjDU,EAAKjoE,EAAE8nE,iBAAiBZ,kBAAkB,SAAUK,IACpDP,EAAkBkB,cAAgBzjD,EAAM2X,GACxC4qC,EAAkB9B,cAAgBA,EAClCnxE,OAAO4yE,iBAAiBK,EAAmB,CACzCr6E,MAAO,CACLooB,IAAK2vD,4BAA4BuD,EAAK9sE,IAExCuV,IAAK,CACHqE,IAAK2vD,4BAA4BuD,EAAKt/E,IAExCgF,OAAQ,CACNonB,IAAK2vD,4BAA4BuD,EAAKjoE,IAExC8mE,MAAO,CACLn1E,MAAO8yB,EAAM/a,MAGjBs9D,EAAkBM,GAAK7iD,EAAM6iD,GACtBN,CACT,CAEA,SAAS+B,EAA0BtkD,EAAOwjD,EAAM/C,GAC9C,SAAS8B,EAAkBr1E,GACzB,OAAI8yB,EAAMrjB,EAAEg7B,KAAOzqC,GAAmB,iBAAVA,EACnBq1E,EAAkBrG,YAGvBl8C,EAAMzkB,EAAEo8B,KAAOzqC,GAAmB,YAAVA,EACnBq1E,EAAkBh5B,QAGvBvpB,EAAMhpB,EAAE2gC,KAAOzqC,GAAmB,aAAVA,EACnBq1E,EAAkB3tE,SAGvBorB,EAAMppB,EAAE+gC,KAAOzqC,GAAmB,aAAVA,GAAkC,yBAAVA,EAC3Cq1E,EAAkBtG,SAGvBj8C,EAAMtpB,EAAEihC,KAAOzqC,GAAmB,UAAVA,EACnBq1E,EAAkBt9C,MAGvBjF,EAAMpjB,IAAMojB,EAAMpjB,GAAG+6B,KAAOzqC,GAAmB,SAAVA,EAChCq1E,EAAkBx9C,KAGvB/E,EAAMnjB,IAAMmjB,EAAMnjB,GAAG86B,KAAOzqC,GAAmB,cAAVA,EAChCq1E,EAAkBwC,SAGpB,IACT,CAEA,IAAIjC,EAAiBR,qBAAqBC,EAAmB9B,GA2C7D,OAzCA+C,EAAK/9C,UAAU4S,OAAO98B,EAAE8nE,iBAAiBZ,kBAAkB,UAAWK,IACtEU,EAAK/9C,UAAU4S,OAAOrhC,EAAEqsE,iBAAiBZ,kBAAkB,WAAYK,IACvEU,EAAK/9C,UAAU4S,OAAO17B,EAAE0mE,iBAAiBZ,kBAAkB,eAAgBK,IAC3EU,EAAK/9C,UAAU4S,OAAO3hC,EAAE2sE,iBAAiBZ,kBAAkB,QAASK,IACpEU,EAAK/9C,UAAU4S,OAAOzhC,EAAEysE,iBAAiBZ,kBAAkB,WAAYK,IAEnEU,EAAK/9C,UAAU4S,OAAOz7B,KACxB4mE,EAAK/9C,UAAU4S,OAAOz7B,GAAGymE,iBAAiBZ,kBAAkB,OAAQK,IACpEU,EAAK/9C,UAAU4S,OAAOx7B,GAAGwmE,iBAAiBZ,kBAAkB,aAAcK,KAG5EU,EAAK/9C,UAAUjpB,GAAG6mE,iBAAiBZ,kBAAkB,UAAWK,IAChExzE,OAAO4yE,iBAAiBK,EAAmB,CACzCh5B,QAAS,CACPj5B,IAAK2vD,4BAA4BuD,EAAK/9C,UAAU4S,OAAO98B,IAEzD3G,SAAU,CACR0b,IAAK2vD,4BAA4BuD,EAAK/9C,UAAU4S,OAAOrhC,IAEzDklE,YAAa,CACX5rD,IAAK2vD,4BAA4BuD,EAAK/9C,UAAU4S,OAAO17B,IAEzDsoB,MAAO,CACL3U,IAAK2vD,4BAA4BuD,EAAK/9C,UAAU4S,OAAO3hC,IAEzDulE,SAAU,CACR3rD,IAAK2vD,4BAA4BuD,EAAK/9C,UAAU4S,OAAOzhC,IAEzDmuB,KAAM,CACJzU,IAAK2vD,4BAA4BuD,EAAK/9C,UAAU4S,OAAOz7B,KAEzDmoE,SAAU,CACRz0D,IAAK2vD,4BAA4BuD,EAAK/9C,UAAU4S,OAAOx7B,KAEzDwlE,MAAO,CACLn1E,MAAO8yB,EAAM/a,MAGjBs9D,EAAkB5nE,GAAK,KACvB4nE,EAAkBM,GAAK7iD,EAAM6iD,GAC7BN,EAAkB9B,cAAgBA,EAC3B8B,CACT,CAEA,SAASwB,EAAwB/jD,EAAOwjD,EAAM/C,GAC5C,SAAS8B,EAAkBr1E,GACzB,OAAI8yB,EAAMhpB,EAAE2gC,KAAOzqC,EACVq1E,EAAkB3tE,SAGvBorB,EAAMtpB,EAAEihC,KAAOzqC,EACVq1E,EAAkBv5E,KAGpB,IACT,CAEA,IAAI85E,EAAiBR,qBAAqBC,EAAmB9B,GAE7D8B,EAAkBkB,cAAgBzjD,EAAM2X,GACxC,IAAIhoC,EAAsB,OAAf6zE,EAAKvpD,GAAGtf,GAAc6oE,EAAKvpD,GAAGtqB,KAAO6zE,EAAKvpD,GAerD,OAdAtqB,EAAK+G,EAAE2sE,iBAAiBZ,kBAAkB,OAAQK,IAClDnzE,EAAKqH,EAAEqsE,iBAAiBZ,kBAAkB,WAAYK,IACtDxzE,OAAO4yE,iBAAiBK,EAAmB,CACzCv5E,KAAM,CACJsnB,IAAK2vD,4BAA4BtwE,EAAK+G,IAExC9B,SAAU,CACR0b,IAAK2vD,4BAA4BtwE,EAAKqH,IAExCqrE,MAAO,CACLn1E,MAAO8yB,EAAM/a,MAGjBs9D,EAAkBM,GAAK7iD,EAAM6iD,GACtBN,CACT,CAEA,SAASyB,EAAqBhkD,EAAOwjD,EAAM/C,GACzC,SAAS8B,EAAkBr1E,GACzB,OAAI8yB,EAAMhpB,EAAE2gC,KAAOzqC,EACVq1E,EAAkB3tE,SAGvBorB,EAAMppB,EAAE+gC,KAAOzqC,EACVq1E,EAAkBtG,SAGvBj8C,EAAMvlB,GAAGk9B,KAAOzqC,EACXq1E,EAAkBryD,OAGvB8P,EAAMyC,GAAGkV,KAAOzqC,GAAmB,kCAAVA,EACpBq1E,EAAkByC,YAGvBhlD,EAAM0C,GAAGiV,KAAOzqC,EACXq1E,EAAkB0C,gBAGvBjlD,EAAMoC,IAAOpC,EAAMoC,GAAGuV,KAAOzqC,GAAmB,kCAAVA,EAItC8yB,EAAMqC,IAAMrC,EAAMqC,GAAGsV,KAAOzqC,EACvBq1E,EAAkB2C,eAGpB,KAPE3C,EAAkB4C,WAQ7B,CAEA,IAAIrC,EAAiBR,qBAAqBC,EAAmB9B,GAEzD9wE,EAAsB,OAAf6zE,EAAKvpD,GAAGtf,GAAc6oE,EAAKvpD,GAAGtqB,KAAO6zE,EAAKvpD,GAwCrD,OAvCAsoD,EAAkBkB,cAAgBzjD,EAAM2X,GACxChoC,EAAK8yB,GAAG4gD,iBAAiBZ,kBAAkB,eAAgBK,IAC3DnzE,EAAK+yB,GAAG2gD,iBAAiBZ,kBAAkB,kBAAmBK,IAC9DnzE,EAAK8K,GAAG4oE,iBAAiBZ,kBAAkB,SAAUK,IACrDnzE,EAAKqH,EAAEqsE,iBAAiBZ,kBAAkB,WAAYK,IACtDnzE,EAAKiH,EAAEysE,iBAAiBZ,kBAAkB,WAAYK,IAElD9iD,EAAMoC,KACRzyB,EAAKyyB,GAAGihD,iBAAiBZ,kBAAkB,eAAgBK,IAC3DnzE,EAAK0yB,GAAGghD,iBAAiBZ,kBAAkB,kBAAmBK,KAGhExzE,OAAO4yE,iBAAiBK,EAAmB,CACzC3tE,SAAU,CACR0b,IAAK2vD,4BAA4BtwE,EAAKqH,IAExCilE,SAAU,CACR3rD,IAAK2vD,4BAA4BtwE,EAAKiH,IAExCsZ,OAAQ,CACNI,IAAK2vD,4BAA4BtwE,EAAK8K,KAExCuqE,YAAa,CACX10D,IAAK2vD,4BAA4BtwE,EAAK8yB,KAExCwiD,eAAgB,CACd30D,IAAK2vD,4BAA4BtwE,EAAK+yB,KAExCyiD,YAAa,CACX70D,IAAK2vD,4BAA4BtwE,EAAKyyB,KAExC8iD,eAAgB,CACd50D,IAAK2vD,4BAA4BtwE,EAAK0yB,KAExCggD,MAAO,CACLn1E,MAAO8yB,EAAM/a,MAGjBs9D,EAAkBM,GAAK7iD,EAAM6iD,GACtBN,CACT,CAEA,SAAS0B,EAAqBjkD,EAAOwjD,EAAM/C,GACzC,SAAS8B,EAAkBr1E,GACzB,OAAI8yB,EAAMhpB,EAAE2gC,KAAOzqC,EACVq1E,EAAkB3tE,SAGvBorB,EAAMppB,EAAE+gC,KAAOzqC,EACVq1E,EAAkB3/C,UAGvB5C,EAAMtpB,EAAEihC,KAAOzqC,GAAmB,SAAVA,GAA8B,0BAAVA,EACvCq1E,EAAkBv5E,KAGpB,IACT,CAEA,IAAI85E,EAAiBR,qBAAqBC,EAAmB9B,GAEzD9wE,EAAsB,OAAf6zE,EAAKvpD,GAAGtf,GAAc6oE,EAAKvpD,GAAGtqB,KAAO6zE,EAAKvpD,GAoBrD,OAnBAsoD,EAAkBkB,cAAgBzjD,EAAM2X,GACxChoC,EAAKqH,EAAEqsE,iBAAiBZ,kBAAkB,WAAYK,IACtDnzE,EAAK+G,EAAE2sE,iBAAiBZ,kBAAkB,OAAQK,IAClDnzE,EAAKiH,EAAEysE,iBAAiBZ,kBAAkB,WAAYK,IACtDxzE,OAAO4yE,iBAAiBK,EAAmB,CACzC3tE,SAAU,CACR0b,IAAK2vD,4BAA4BtwE,EAAKqH,IAExC4rB,UAAW,CACTtS,IAAK2vD,4BAA4BtwE,EAAKiH,IAExC5N,KAAM,CACJsnB,IAAK2vD,4BAA4BtwE,EAAK+G,IAExC2rE,MAAO,CACLn1E,MAAO8yB,EAAM/a,MAGjBs9D,EAAkBM,GAAK7iD,EAAM6iD,GACtBN,CACT,CAEA,SAAS2B,EAAwBlkD,EAAOwjD,EAAM/C,GAC5C,SAAS8B,EAAkBr1E,GACzB,OAAI8yB,EAAMppB,EAAE+gC,KAAOzqC,GAAmB,oBAAVA,EACnBq1E,EAAkB/tC,OAGpB,IACT,CAEA,IAAIsuC,EAAiBR,qBAAqBC,EAAmB9B,GAEzD9wE,EAAO6zE,EAYX,OAXAjB,EAAkBkB,cAAgBzjD,EAAM2X,GACxChoC,EAAK2oC,GAAG+qC,iBAAiBZ,kBAAkB,SAAUK,IACrDxzE,OAAO4yE,iBAAiBK,EAAmB,CACzC/tC,OAAQ,CACNlkB,IAAK2vD,4BAA4BtwE,EAAK2oC,KAExC+pC,MAAO,CACLn1E,MAAO8yB,EAAM/a,MAGjBs9D,EAAkBM,GAAK7iD,EAAM6iD,GACtBN,CACT,CAEA,SAAS4B,EAAyBnkD,EAAOwjD,EAAM/C,GAC7C,SAAS8B,EAAkBr1E,GACzB,OAAI8yB,EAAM9iB,EAAEy6B,KAAOzqC,GAAmB,WAAVA,EACnBq1E,EAAkB/qC,OAGvBxX,EAAMzkB,EAAEo8B,KAAOzqC,GAAmB,WAAVA,EACnBq1E,EAAkBr5E,OAGpB,IACT,CAEA,IAAI45E,EAAiBR,qBAAqBC,EAAmB9B,GAEzD9wE,EAAO6zE,EAgBX,OAfAjB,EAAkBkB,cAAgBzjD,EAAM2X,GACxChoC,EAAKuN,EAAEmmE,iBAAiBZ,kBAAkB,SAAUK,IACpDnzE,EAAK4L,EAAE8nE,iBAAiBZ,kBAAkB,SAAUK,IACpDxzE,OAAO4yE,iBAAiBK,EAAmB,CACzC/qC,OAAQ,CACNlnB,IAAK2vD,4BAA4BtwE,EAAKuN,IAExChU,OAAQ,CACNonB,IAAK2vD,4BAA4BtwE,EAAK4L,IAExC8mE,MAAO,CACLn1E,MAAO8yB,EAAM/a,MAGjBs9D,EAAkBM,GAAK7iD,EAAM6iD,GACtBN,CACT,CAEA,OAAO,SAAUxnE,EAAQyoE,EAAM/C,GAC7B,IAAI4D,EAEJ,SAASe,EAAmBl4E,GAC1B,GAAqB,iBAAVA,EAGT,OAAc,KAFdA,OAAkB2a,IAAV3a,EAAsB,EAAIA,GAGzBuzE,EAGF4D,EAAWn3E,EAAQ,GAM5B,IAHA,IAAI+B,EAAI,EACJE,EAAMk1E,EAAWx9E,OAEdoI,EAAIE,GAAK,CACd,GAAIk1E,EAAWp1E,GAAGozE,QAAUn1E,EAC1B,OAAOm3E,EAAWp1E,GAGpBA,GAAK,CACP,CAEA,OAAO,IACT,CAUA,OAJAm2E,EAAmB3E,cAAgB6B,qBAAqB8C,GAJxD,WACE,OAAO3E,CACT,IAGA4D,EAAaX,EAAgB3oE,EAAQyoE,EAAM4B,EAAmB3E,eAC9D2E,EAAmBpC,cAAgBqB,EAAWx9E,OAC9Cu+E,EAAmB/C,MAAQ,WACpB+C,CACT,CACF,CAnnB+B,GAqnB3B9hC,wBACK,SAAUx1B,GACf,IAAIu3D,EAEJ,SAAS5Q,EAAmB7mE,GAC1B,MACO,uBADCA,EAEG6mE,EAAmB6Q,WAGnB,IAEb,CAyBA,OAvBAh2E,OAAOolE,eAAeD,EAAoB,aAAc,CACtDnkD,IAAK,WACHxC,EAAKitC,aAAan9B,WAClB,IAAI2nD,EAAcz3D,EAAKitC,aAAazG,YAAYp9C,EAiBhD,OAfKmuE,GAAeE,IAAgBF,EAAYn4E,SAC9Cm4E,EAAc,IAAIzjB,OAAO2jB,IAGbr4E,MAAQq4E,GAAe,IAAI3jB,OAAO2jB,GAE9Cj2E,OAAOolE,eAAe2Q,EAAa,QAAS,CAC1C/0D,IAAK,WACH,MAAO,CACLk1D,UAAW13D,EAAKitC,aAAazG,YAAYN,GAE7C,KAIGqxB,CACT,IAEK5Q,CACT,EAGF,SAASgR,QAAQpzE,GAAmV,OAAtOozE,QAArD,mBAAXnzE,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBF,GAAO,cAAcA,CAAK,EAAsB,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAI5O,cAAgB6O,QAAUD,IAAQC,OAAOjD,UAAY,gBAAkBgD,CAAK,EAAYozE,QAAQpzE,EAAM,CAEzX,IAAIyyC,kBA0CE4gC,qBAAuB,SAA8B53D,GACvD,SAASy0D,EAAkBr1E,GACzB,MAAc,YAAVA,EACKq1E,EAAkBoD,mBAGpB,IACT,CAIA,OAFApD,EAAkBF,MAAQ,UAC1BE,EAAkBoD,iBAnDU,SAAiC73D,GAC7D,IAAI83D,EAAsB,GACtBC,EAAkB/3D,EAAKi3B,iBAQ3B,SAASwQ,EAAeroD,GACtB,GAAI24E,EAAgB34E,GAIlB,OAHA04E,EAAsB14E,EAGW,WAA7Bu4E,QAFJI,EAAkBA,EAAgB34E,IAGzBqoD,EAGFswB,EAGT,IAAIC,EAAoB54E,EAAM+Q,QAAQ2nE,GAEtC,IAA2B,IAAvBE,EAA0B,CAC5B,IAAI74D,EAAQnF,SAAS5a,EAAMib,OAAO29D,EAAoBF,EAAoB/+E,QAAS,IAGnF,MAAiC,WAA7B4+E,QAFJI,EAAkBA,EAAgB54D,IAGzBsoC,EAGFswB,CACT,CAEA,MAAO,EACT,CAEA,OAlCA,WAGE,OAFAD,EAAsB,GACtBC,EAAkB/3D,EAAKi3B,iBAChBwQ,CACT,CA+BF,CAYuCwwB,CAAwBj4D,GACtDy0D,CACT,EAEO,SAAUz0D,GACf,SAASs3D,EAAmBl4E,GAC1B,MAAc,SAAVA,EACKk4E,EAAmBY,cAGrB,IACT,CAIA,OAFAZ,EAAmB/C,MAAQ,OAC3B+C,EAAmBY,cAAgBN,qBAAqB53D,GACjDs3D,CACT,GA1BIM,qBA6BFrB,WAAa,CACf9+B,MAAOpC,yBACPtB,QAASuB,2BACTnoC,KAAMsoC,wBACNvjB,MAAOqjB,yBACP39C,KAAM49C,wBACN2iC,QAASnhC,kBAGX,SAASohC,aAAar4E,GACpB,OAAOw2E,WAAWx2E,IAAS,IAC7B,CAEA,IAAIs4E,kBAgFK,CACLC,kBAhFF,SAA2Bt4D,EAAMzgB,EAAMsC,GACjCtC,EAAKkjB,IACP5gB,EAAKwK,GAAI,EACTxK,EAAK4gB,GAAI,EACT5gB,EAAKgrE,mBAAqBjD,kBAAkBiD,mBAC5ChrE,EAAKutB,gBAAgB3sB,KAAKZ,EAAKgrE,mBAAmB7sD,EAAMzgB,EAAMsC,GAAM+R,KAAK/R,IAE7E,EA0EE6wE,eA3DF,SAAwB1oD,GACtB,IACIgM,EAAKngC,KAAKqrC,eAAelX,GACzBiX,EAAKprC,KAAKqrC,eAAelX,GAFhB,KAGTuuD,EAAQ,EAEZ,GAAIviD,EAAGj9B,OAAQ,CACb,IAAIoI,EAEJ,IAAKA,EAAI,EAAGA,EAAI60B,EAAGj9B,OAAQoI,GAAK,EAC9Bo3E,GAASpzE,KAAKC,IAAI67B,EAAG9/B,GAAK60B,EAAG70B,GAAI,GAGnCo3E,EAA2B,IAAnBpzE,KAAKG,KAAKizE,EACpB,MACEA,EAAQ,EAGV,OAAOA,CACT,EAyCEjJ,kBAvCF,SAA2BtlD,GACzB,QAAiBjQ,IAAblkB,KAAKg6B,IACP,OAAOh6B,KAAKg6B,IAGd,IAII0/C,EAIEpuE,EARF2gC,GAAS,KAET9L,EAAKngC,KAAKqrC,eAAelX,GACzBiX,EAAKprC,KAAKqrC,eAAelX,EAAW8X,GAGxC,GAAI9L,EAAGj9B,OAIL,IAHAw2E,EAAW1rE,iBAAiB,UAAWmyB,EAAGj9B,QAGrCoI,EAAI,EAAGA,EAAI60B,EAAGj9B,OAAQoI,GAAK,EAI9BouE,EAASpuE,IAAM8/B,EAAG9/B,GAAK60B,EAAG70B,IAAM2gC,OAGlCytC,GAAYtuC,EAAKjL,GAAM8L,EAGzB,OAAOytC,CACT,EAcEruC,eA1EF,SAAwBlX,GAUtB,OATAA,GAAYn0B,KAAKmqB,KAAKpG,WAAW5B,WACjCgS,GAAYn0B,KAAKs0B,cAEAt0B,KAAK2iF,eAAe9sD,YACnC71B,KAAK2iF,eAAe7tD,UAAY90B,KAAK2iF,eAAe9sD,UAAY1B,EAAWn0B,KAAK2iF,eAAe7tD,UAAY,EAC3G90B,KAAK2iF,eAAep5E,MAAQvJ,KAAKk0B,iBAAiBC,EAAUn0B,KAAK2iF,gBACjE3iF,KAAK2iF,eAAe9sD,UAAY1B,GAG3Bn0B,KAAK2iF,eAAep5E,KAC7B,EAgEEq5E,qBAbF,WACE,OAAO5iF,KAAKw0B,EACd,EAYEkrD,iBAVF,SAA0B5C,GACxB98E,KAAK88E,cAAgBA,CACvB,GAYF,SAAS+F,uBACP,SAAS/K,EAAQ5tE,EAAM2W,EAAUiiE,GAC/B,IAAK9iF,KAAKwW,IAAMxW,KAAK+0B,UACnB,OAAO/0B,KAAKw0B,GAGdtqB,EAAOA,EAAOA,EAAK8nC,cAAgB,GACnC,IAQI+wC,EACAC,EAmBA13E,EACAE,EACAy3E,EA9BAxhE,EAAezhB,KAAKsX,KAAKuhB,cACzB9D,EAAY/0B,KAAK+0B,UACjBmuD,EAAenuD,EAAUA,EAAU7xB,OAAS,GAAGqQ,EAEnD,GAAIkO,GAAgByhE,EAClB,OAAOljF,KAAKw0B,GA2Bd,GArBKsuD,EAcHE,EAAgBE,GAHdH,EAHGliE,EAGavR,KAAKc,IAAI8yE,EAAeljF,KAAKmqB,KAAK7S,KAAKyM,WAAW5B,UAAYtB,GAF9DvR,KAAKO,IAAI,EAAGqzE,EAAeljF,KAAKmqB,KAAKzgB,KAAKkP,QARvDiI,GAAYA,EAAWkU,EAAU7xB,OAAS,KAC7C2d,EAAWkU,EAAU7xB,OAAS,GAIhC6/E,EAAgBG,GADhBF,EAAgBjuD,EAAUA,EAAU7xB,OAAS,EAAI2d,GAAUtN,IAgBhD,aAATrJ,GAGF,GAFiBoF,KAAKK,OAAO8R,EAAeuhE,GAAiBD,GAE5C,GAAM,EACrB,OAAO/iF,KAAKqrC,gBAAgB03C,GAAiBthE,EAAeuhE,GAAiBD,EAAgBC,GAAiBhjF,KAAKsX,KAAKyM,WAAW5B,UAAW,OAE3I,IAAa,WAATjY,EAAmB,CAC5B,IAAIi5E,EAAQnjF,KAAKqrC,eAAe23C,EAAgBhjF,KAAKsX,KAAKyM,WAAW5B,UAAW,GAC5EihE,EAAOpjF,KAAKqrC,eAAe63C,EAAeljF,KAAKsX,KAAKyM,WAAW5B,UAAW,GAC1EkhE,EAAUrjF,KAAKqrC,iBAAiB5pB,EAAeuhE,GAAiBD,EAAgBC,GAAiBhjF,KAAKsX,KAAKyM,WAAW5B,UAAW,GAEjImhE,EAAUh0E,KAAKK,OAAO8R,EAAeuhE,GAAiBD,GAE1D,GAAI/iF,KAAKw0B,GAAGtxB,OAAQ,CAIlB,IAFAsI,GADAy3E,EAAM,IAAI10E,MAAM40E,EAAMjgF,SACZA,OAELoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB23E,EAAI33E,IAAM83E,EAAK93E,GAAK63E,EAAM73E,IAAMg4E,EAAUD,EAAQ/3E,GAGpD,OAAO23E,CACT,CAEA,OAAQG,EAAOD,GAASG,EAAUD,CACpC,CAAO,GAAa,aAATn5E,EAAqB,CAC9B,IAAIq5E,EAAYvjF,KAAKqrC,eAAe63C,EAAeljF,KAAKsX,KAAKyM,WAAW5B,UAAW,GAC/EqhE,EAAgBxjF,KAAKqrC,gBAAgB63C,EAAe,MAASljF,KAAKsX,KAAKyM,WAAW5B,UAAW,GAEjG,GAAIniB,KAAKw0B,GAAGtxB,OAAQ,CAIlB,IAFAsI,GADAy3E,EAAM,IAAI10E,MAAMg1E,EAAUrgF,SAChBA,OAELoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB23E,EAAI33E,GAAKi4E,EAAUj4E,IAAMi4E,EAAUj4E,GAAKk4E,EAAcl4E,MAAQmW,EAAeyhE,GAAgBljF,KAAKsX,KAAKyM,WAAW5B,WAAa,KAGjI,OAAO8gE,CACT,CAEA,OAAOM,GAA4C9hE,EAAeyhE,GAAgB,MAA9DK,EAAYC,EAClC,EAEA,OAAOxjF,KAAKqrC,iBAAiB5pB,EAAeuhE,GAAiBD,EAAgBC,GAAiBhjF,KAAKsX,KAAKyM,WAAW5B,UAAW,EAChI,CAEA,SAASy1D,EAAO1tE,EAAM2W,EAAUiiE,GAC9B,IAAK9iF,KAAKwW,EACR,OAAOxW,KAAKw0B,GAGdtqB,EAAOA,EAAOA,EAAK8nC,cAAgB,GACnC,IAQI+wC,EACAG,EAmBA53E,EACAE,EACAy3E,EA9BAxhE,EAAezhB,KAAKsX,KAAKuhB,cACzB9D,EAAY/0B,KAAK+0B,UACjBiuD,EAAgBjuD,EAAU,GAAGxhB,EAEjC,GAAIkO,GAAgBuhE,EAClB,OAAOhjF,KAAKw0B,GA2Bd,GArBKsuD,EAcHI,EAAeF,GAHbD,EAHGliE,EAGavR,KAAKc,IAAIpQ,KAAKmqB,KAAK7S,KAAKyM,WAAW5B,UAAYtB,GAF/CvR,KAAKO,IAAI,EAAG7P,KAAKmqB,KAAKzgB,KAAKmP,GAAKmqE,OAR7CniE,GAAYA,EAAWkU,EAAU7xB,OAAS,KAC7C2d,EAAWkU,EAAU7xB,OAAS,GAIhC6/E,GADAG,EAAenuD,EAAUlU,GAAUtN,GACJyvE,GAepB,aAAT94E,GAGF,GAFiBoF,KAAKK,OAAOqzE,EAAgBvhE,GAAgBshE,GAE5C,GAAM,EACrB,OAAO/iF,KAAKqrC,iBAAiB23C,EAAgBvhE,GAAgBshE,EAAgBC,GAAiBhjF,KAAKsX,KAAKyM,WAAW5B,UAAW,OAE3H,IAAa,WAATjY,EAAmB,CAC5B,IAAIi5E,EAAQnjF,KAAKqrC,eAAe23C,EAAgBhjF,KAAKsX,KAAKyM,WAAW5B,UAAW,GAC5EihE,EAAOpjF,KAAKqrC,eAAe63C,EAAeljF,KAAKsX,KAAKyM,WAAW5B,UAAW,GAC1EkhE,EAAUrjF,KAAKqrC,gBAAgB03C,GAAiBC,EAAgBvhE,GAAgBshE,EAAgBC,GAAiBhjF,KAAKsX,KAAKyM,WAAW5B,UAAW,GACjJmhE,EAAUh0E,KAAKK,OAAOqzE,EAAgBvhE,GAAgBshE,GAAiB,EAE3E,GAAI/iF,KAAKw0B,GAAGtxB,OAAQ,CAIlB,IAFAsI,GADAy3E,EAAM,IAAI10E,MAAM40E,EAAMjgF,SACZA,OAELoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB23E,EAAI33E,GAAK+3E,EAAQ/3E,IAAM83E,EAAK93E,GAAK63E,EAAM73E,IAAMg4E,EAG/C,OAAOL,CACT,CAEA,OAAOI,GAAWD,EAAOD,GAASG,CACpC,CAAO,GAAa,aAATp5E,EAAqB,CAC9B,IAAIu5E,EAAazjF,KAAKqrC,eAAe23C,EAAgBhjF,KAAKsX,KAAKyM,WAAW5B,UAAW,GACjFuhE,EAAiB1jF,KAAKqrC,gBAAgB23C,EAAgB,MAAShjF,KAAKsX,KAAKyM,WAAW5B,UAAW,GAEnG,GAAIniB,KAAKw0B,GAAGtxB,OAAQ,CAIlB,IAFAsI,GADAy3E,EAAM,IAAI10E,MAAMk1E,EAAWvgF,SACjBA,OAELoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB23E,EAAI33E,GAAKm4E,EAAWn4E,IAAMm4E,EAAWn4E,GAAKo4E,EAAep4E,KAAO03E,EAAgBvhE,GAAgB,KAGlG,OAAOwhE,CACT,CAEA,OAAOQ,GAAcA,EAAaC,IAAmBV,EAAgBvhE,GAAgB,IACvF,EAEA,OAAOzhB,KAAKqrC,gBAAgB03C,IAAkBC,EAAgBvhE,GAAgBshE,EAAgBC,IAAkBhjF,KAAKsX,KAAKyM,WAAW5B,UAAW,EAClJ,CAEA,SAAS61D,EAAO37D,EAAOsnE,GACrB,IAAK3jF,KAAKwW,EACR,OAAOxW,KAAKw0B,GAMd,GAHAnY,EAAyB,IAAhBA,GAAS,KAClBsnE,EAAUr0E,KAAKK,MAAMg0E,GAAW,KAEjB,EACb,OAAO3jF,KAAKw0B,GAGd,IAMIjrB,EAQAq6E,EAdAjyE,EAAc3R,KAAKsX,KAAKuhB,cAAgB74B,KAAKsX,KAAKyM,WAAW5B,UAC7D6R,EAAYriB,EAAc0K,EAE1BwnE,EAAkBF,EAAU,GADjBhyE,EAAc0K,EACmB2X,IAAc2vD,EAAU,GAAK,EACzEr4E,EAAI,EACJgL,EAAI,EAWR,IAPE/M,EADEvJ,KAAKw0B,GAAGtxB,OACF8K,iBAAiB,UAAWhO,KAAKw0B,GAAGtxB,QAEpC,EAKHoI,EAAIq4E,GAAS,CAGlB,GAFAC,EAAc5jF,KAAKqrC,eAAerX,EAAY1oB,EAAIu4E,GAE9C7jF,KAAKw0B,GAAGtxB,OACV,IAAKoT,EAAI,EAAGA,EAAItW,KAAKw0B,GAAGtxB,OAAQoT,GAAK,EACnC/M,EAAM+M,IAAMstE,EAAYttE,QAG1B/M,GAASq6E,EAGXt4E,GAAK,CACP,CAEA,GAAItL,KAAKw0B,GAAGtxB,OACV,IAAKoT,EAAI,EAAGA,EAAItW,KAAKw0B,GAAGtxB,OAAQoT,GAAK,EACnC/M,EAAM+M,IAAMqtE,OAGdp6E,GAASo6E,EAGX,OAAOp6E,CACT,CAEA,SAASu6E,EAAwBnjE,GAC1B3gB,KAAK+jF,0BACR/jF,KAAK+jF,wBAA0B,CAC7B/wE,EAAG,IAAIotB,SAKX,IAAI0D,EAAS9jC,KAAK+jF,wBAAwB/wE,EAG1C,GAFA8wB,EAAOM,eAAepkC,KAAKsqC,IAAI5J,OAE3B1gC,KAAKuqC,uBAAyB,EAAG,CACnC,IAAIxiC,EAAS/H,KAAKgZ,EAAEqyB,eAAe1qB,GACnCmjB,EAAOnC,WAAW55B,EAAO,GAAK/H,KAAKgZ,EAAEmgB,MAAOpxB,EAAO,GAAK/H,KAAKgZ,EAAEmgB,KAAMpxB,EAAO,GAAK/H,KAAKgZ,EAAEmgB,KAC1F,CAEA,GAAIn5B,KAAKuqC,uBAAyB,EAAG,CACnC,IAAIjJ,EAAQthC,KAAK+S,EAAEs4B,eAAe1qB,GAClCmjB,EAAOxC,MAAMA,EAAM,GAAKthC,KAAK+S,EAAEomB,KAAMmI,EAAM,GAAKthC,KAAK+S,EAAEomB,KAAMmI,EAAM,GAAKthC,KAAK+S,EAAEomB,KACjF,CAEA,GAAIn5B,KAAKiZ,IAAMjZ,KAAKuqC,uBAAyB,EAAG,CAC9C,IAAInJ,EAAOphC,KAAKiZ,GAAGoyB,eAAe1qB,GAC9BygE,EAAWphF,KAAKkZ,GAAGmyB,eAAe1qB,GACtCmjB,EAAOzC,cAAcD,EAAOphC,KAAKiZ,GAAGkgB,KAAMioD,EAAWphF,KAAKkZ,GAAGigB,KAC/D,CAEA,GAAIn5B,KAAKiT,GAAKjT,KAAKuqC,uBAAyB,EAAG,CAC7C,IAAI+tC,EAAWt4E,KAAKiT,EAAEo4B,eAAe1qB,GACrCmjB,EAAOnD,QAAQ23C,EAAWt4E,KAAKiT,EAAEkmB,KACnC,MAAO,IAAKn5B,KAAKiT,GAAKjT,KAAKuqC,uBAAyB,EAAG,CACrD,IAAIy5C,EAAYhkF,KAAK6qC,GAAGQ,eAAe1qB,GACnCsjE,EAAYjkF,KAAK4qC,GAAGS,eAAe1qB,GACnCujE,EAAYlkF,KAAK2qC,GAAGU,eAAe1qB,GACnCwjE,EAAcnkF,KAAK8+B,GAAGuM,eAAe1qB,GACzCmjB,EAAO7C,SAAS+iD,EAAYhkF,KAAK6qC,GAAG1R,MAAM6H,QAAQijD,EAAYjkF,KAAK4qC,GAAGzR,MAAM4H,QAAQmjD,EAAYlkF,KAAK2qC,GAAGxR,MAAM8H,SAASkjD,EAAY,GAAKnkF,KAAK8+B,GAAG3F,MAAM6H,QAAQmjD,EAAY,GAAKnkF,KAAK8+B,GAAG3F,MAAM4H,QAAQojD,EAAY,GAAKnkF,KAAK8+B,GAAG3F,KAChO,CAEA,GAAIn5B,KAAK0J,KAAK2J,GAAKrT,KAAK0J,KAAK2J,EAAEN,EAAG,CAChC,IAAIqxE,EAAYpkF,KAAKwqC,GAAGa,eAAe1qB,GACnC0jE,EAAYrkF,KAAKyqC,GAAGY,eAAe1qB,GAEvC,GAAI3gB,KAAK0J,KAAK2J,EAAEixB,EAAG,CACjB,IAAIggD,EAAYtkF,KAAK0qC,GAAGW,eAAe1qB,GACvCmjB,EAAOnC,UAAUyiD,EAAYpkF,KAAKwqC,GAAGrR,KAAMkrD,EAAYrkF,KAAKyqC,GAAGtR,MAAOmrD,EAAYtkF,KAAK0qC,GAAGvR,KAC5F,MACE2K,EAAOnC,UAAUyiD,EAAYpkF,KAAKwqC,GAAGrR,KAAMkrD,EAAYrkF,KAAKyqC,GAAGtR,KAAM,EAEzE,KAAO,CACL,IAAIloB,EAAWjR,KAAKqT,EAAEg4B,eAAe1qB,GACrCmjB,EAAOnC,UAAU1wB,EAAS,GAAKjR,KAAKqT,EAAE8lB,KAAMloB,EAAS,GAAKjR,KAAKqT,EAAE8lB,MAAOloB,EAAS,GAAKjR,KAAKqT,EAAE8lB,KAC/F,CAEA,OAAO2K,CACT,CAEA,SAASygD,IACP,OAAOvkF,KAAKgT,EAAEnJ,MAAM,IAAIu2B,OAC1B,CAEA,IAAIoL,EAAuBrB,yBAAyBqB,qBAEpDrB,yBAAyBqB,qBAAuB,SAAUrhB,EAAMzgB,EAAMnD,GACpE,IAAIyF,EAAOw/B,EAAqBrhB,EAAMzgB,EAAMnD,GAS5C,OAPIyF,EAAK2uB,kBAAkBz3B,OACzB8I,EAAKq/B,eAAiBy4C,EAAwB/lE,KAAK/R,GAEnDA,EAAKq/B,eAAiBk5C,EAA8BxmE,KAAK/R,GAG3DA,EAAK0zE,iBAAmB8C,kBAAkB9C,iBACnC1zE,CACT,EAEA,IAAIw4E,EAAkBlqD,gBAAgBC,QAEtCD,gBAAgBC,QAAU,SAAUpQ,EAAMzgB,EAAMQ,EAAMivB,EAAM5yB,GAC1D,IAAIyF,EAAOw4E,EAAgBr6D,EAAMzgB,EAAMQ,EAAMivB,EAAM5yB,GAI/CyF,EAAK2tB,GACP3tB,EAAKq/B,eAAiBm3C,kBAAkBn3C,eAAettB,KAAK/R,GAE5DA,EAAKq/B,eAAiBm3C,kBAAkBI,qBAAqB7kE,KAAK/R,GAGpEA,EAAK0zE,iBAAmB8C,kBAAkB9C,iBAC1C1zE,EAAK8rE,QAAUA,EACf9rE,EAAK4rE,OAASA,EACd5rE,EAAKgsE,OAASA,EACdhsE,EAAKytE,kBAAoB+I,kBAAkB/I,kBAAkB17D,KAAK/R,GAClEA,EAAK6wE,eAAiB2F,kBAAkB3F,eAAe9+D,KAAK/R,GAC5DA,EAAK8sE,QAAqB,IAAXpvE,EAAKsP,EAAUtP,EAAK8M,EAAEtT,OAAS,EAC9C8I,EAAK8zE,cAAgBp2E,EAAKsqC,GAC1B,IAAIzqC,EAAQ,EAiBZ,OAfa,IAATW,IACFX,EAAQyE,iBAAiB,UAAsB,IAAXtE,EAAKsP,EAAUtP,EAAK8M,EAAE,GAAGzD,EAAE7P,OAASwG,EAAK8M,EAAEtT,SAGjF8I,EAAK22E,eAAiB,CACpB9sD,UAAWlrB,oBACXmqB,UAAW,EACXvrB,MAAOA,GAETi5E,kBAAkBC,kBAAkBt4D,EAAMzgB,EAAMsC,GAE5CA,EAAKwK,GACPjQ,EAAUuzB,mBAAmB9tB,GAGxBA,CACT,EAwBA,IAAIy4E,EAAmC5nD,qBAAqB6nD,yBACxDC,EAA4C9nD,qBAAqB+nD,kCAErE,SAASC,IAAoB,CAE7BA,EAAiBn5E,UAAY,CAC3BqwB,SAAU,SAAkB/vB,EAAM2U,GAC5B3gB,KAAKwW,GACPxW,KAAKi6B,WAGP,IAMI3uB,EANA8wB,EAAYp8B,KAAKgT,OAERkR,IAATvD,IACFyb,EAAYp8B,KAAKqrC,eAAe1qB,EAAM,IAIxC,IAAInV,EAAM4wB,EAAU5N,QAChBuN,EAAWK,EAAUpwB,GACrBugB,EAAS6P,EAAUppB,EACnB9E,EAAMI,iBAAiB9C,GAE3B,IAAKF,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EAEtB4C,EAAI5C,GADO,MAATU,GAAyB,MAATA,EACT,CAAC+vB,EAASzwB,GAAG,GAAKihB,EAAOjhB,GAAG,GAAIywB,EAASzwB,GAAG,GAAKihB,EAAOjhB,GAAG,IAE3D,CAACywB,EAASzwB,GAAG,GAAIywB,EAASzwB,GAAG,IAI1C,OAAO4C,CACT,EACAqe,OAAQ,SAAgB5L,GACtB,OAAO3gB,KAAK+7B,SAAS,IAAKpb,EAC5B,EACAg2D,WAAY,SAAoBh2D,GAC9B,OAAO3gB,KAAK+7B,SAAS,IAAKpb,EAC5B,EACAi2D,YAAa,SAAqBj2D,GAChC,OAAO3gB,KAAK+7B,SAAS,IAAKpb,EAC5B,EACAmkE,SAAU,WACR,OAAO9kF,KAAKgT,EAAEuG,CAChB,EACAwrE,YAAa,SAAqB50D,EAAMxP,GACtC,IAAIyb,EAAYp8B,KAAKgT,OAERkR,IAATvD,IACFyb,EAAYp8B,KAAKqrC,eAAe1qB,EAAM,IAGnC3gB,KAAKglF,kBACRhlF,KAAKglF,gBAAkBjxD,IAAIvC,kBAAkB4K,IAW/C,IARA,IAMItlB,EANA4a,EAAiB1xB,KAAKglF,gBACtBh2D,EAAU0C,EAAe1C,QACzBoC,EAAYM,EAAexC,YAAciB,EACzC7kB,EAAI,EACJE,EAAMwjB,EAAQ9rB,OACd+hF,EAAoB,EAGjB35E,EAAIE,GAAK,CACd,GAAIy5E,EAAoBj2D,EAAQ1jB,GAAGwjB,YAAcsC,EAAW,CAC1D,IAAI8zD,EAAY55E,EACZ65E,EAAW/oD,EAAU7iB,GAAKjO,IAAME,EAAM,EAAI,EAAIF,EAAI,EAClDqqB,GAAevE,EAAY6zD,GAAqBj2D,EAAQ1jB,GAAGwjB,YAC/DhY,EAAKid,IAAIV,kBAAkB+I,EAAUppB,EAAEkyE,GAAY9oD,EAAUppB,EAAEmyE,GAAW/oD,EAAUxkB,EAAEstE,GAAY9oD,EAAU9wB,EAAE65E,GAAWxvD,EAAa3G,EAAQ1jB,IAC9I,KACF,CACE25E,GAAqBj2D,EAAQ1jB,GAAGwjB,YAGlCxjB,GAAK,CACP,CAMA,OAJKwL,IACHA,EAAKslB,EAAU7iB,EAAI,CAAC6iB,EAAUppB,EAAE,GAAG,GAAIopB,EAAUppB,EAAE,GAAG,IAAM,CAACopB,EAAUppB,EAAEopB,EAAU5N,QAAU,GAAG,GAAI4N,EAAUppB,EAAEopB,EAAU5N,QAAU,GAAG,KAGlI1X,CACT,EACAsuE,aAAc,SAAsBj1D,EAAMxP,EAAM0kE,GAElC,GAARl1D,EAEFA,EAAOnwB,KAAKgT,EAAEuG,EACG,GAAR4W,IAETA,EAAO,MAGT,IAAIL,EAAM9vB,KAAK+kF,YAAY50D,EAAMxP,GAC7BoP,EAAM/vB,KAAK+kF,YAAY50D,EAAO,KAAOxP,GACrC2kE,EAAUv1D,EAAI,GAAKD,EAAI,GACvBy1D,EAAUx1D,EAAI,GAAKD,EAAI,GACvB01D,EAAYl2E,KAAKG,KAAKH,KAAKC,IAAI+1E,EAAS,GAAKh2E,KAAKC,IAAIg2E,EAAS,IAEnE,OAAkB,IAAdC,EACK,CAAC,EAAG,GAGmB,YAAfH,EAA2B,CAACC,EAAUE,EAAWD,EAAUC,GAAa,EAAED,EAAUC,EAAWF,EAAUE,EAE5H,EACAC,cAAe,SAAuBt1D,EAAMxP,GAC1C,OAAO3gB,KAAKolF,aAAaj1D,EAAMxP,EAAM,UACvC,EACA+kE,aAAc,SAAsBv1D,EAAMxP,GACxC,OAAO3gB,KAAKolF,aAAaj1D,EAAMxP,EAAM,SACvC,EACA++D,iBAAkB8C,kBAAkB9C,iBACpCr0C,eAAgBm3C,kBAAkBI,sBAEpCz3E,gBAAgB,CAAC05E,GAAmBJ,GACpCt5E,gBAAgB,CAAC05E,GAAmBF,GACpCA,EAA0Cj5E,UAAU2/B,eA5IpD,SAA6BlX,GAmB3B,OAjBKn0B,KAAK2iF,iBACR3iF,KAAK2iF,eAAiB,CACpBgD,WAAYxpD,UAAUtyB,MAAM7J,KAAKw0B,IACjCM,UAAW,EACX8wD,SAAUj7E,sBAIdwpB,GAAYn0B,KAAKmqB,KAAKpG,WAAW5B,WACjCgS,GAAYn0B,KAAKs0B,cAEAt0B,KAAK2iF,eAAeiD,WACnC5lF,KAAK2iF,eAAe7tD,UAAY90B,KAAK2iF,eAAeiD,SAAWzxD,EAAWn0B,KAAK+4B,SAASjE,UAAY,EACpG90B,KAAK2iF,eAAeiD,SAAWzxD,EAC/Bn0B,KAAK88B,iBAAiB3I,EAAUn0B,KAAK2iF,eAAegD,WAAY3lF,KAAK2iF,iBAGhE3iF,KAAK2iF,eAAegD,UAC7B,EAyHAhB,EAA0Cj5E,UAAUsrE,mBAAqBjD,kBAAkBiD,mBAC3F,IAAI6O,EAAuBhpD,qBAAqBsnB,aAEhDtnB,qBAAqBsnB,aAAe,SAAUh6B,EAAMzgB,EAAMQ,EAAMgE,EAAK43E,GACnE,IAAI95E,EAAO65E,EAAqB17D,EAAMzgB,EAAMQ,EAAMgE,EAAK43E,GAcvD,OAbA95E,EAAK8zE,cAAgBp2E,EAAKsqC,GAC1BhoC,EAAKwtB,MAAO,EAEC,IAATtvB,EACFs4E,kBAAkBC,kBAAkBt4D,EAAMzgB,EAAKoN,GAAI9K,GACjC,IAAT9B,GACTs4E,kBAAkBC,kBAAkBt4D,EAAMzgB,EAAKgO,GAAI1L,GAGjDA,EAAKwK,GACP2T,EAAK2P,mBAAmB9tB,GAGnBA,CACT,CACF,CAEA,SAAS+5E,eACPlD,sBACF,CAEA,SAASmD,eAWP11B,aAAa5kD,UAAUu6E,mBAAqB,SAAUpyB,EAAc9xD,GAClE,IAAIsyB,EAAWr0B,KAAKkmF,oBAAoBnkF,GAExC,GAAI8xD,EAAatgD,IAAM8gB,EAAU,CAC/B,IAAI+hC,EAAU,CAAC,EAIf,OAHAp2D,KAAK2xD,SAASyE,EAASvC,GACvBuC,EAAQ7iD,EAAI8gB,EAASngB,WACrBkiD,EAAQv8C,YAAa,EACdu8C,CACT,CAEA,OAAOvC,CACT,EAEAvD,aAAa5kD,UAAUkmD,eAAiB,WACtC,IAAIu0B,EAAcnmF,KAAK0zD,kBACnB0yB,EAAiBpmF,KAAKyiF,oBAE1B,OADAziF,KAAK25B,GAAKwsD,GAAeC,EAClBpmF,KAAK25B,EACd,EAEA22B,aAAa5kD,UAAU+2E,kBA/BvB,WACE,OAAIziF,KAAK0J,KAAK+J,EAAEmZ,GACd5sB,KAAKkmF,oBAAsBnS,kBAAkBiD,mBAAmBj5D,KAAK/d,KAA1C+zE,CAAgD/zE,KAAKmqB,KAAMnqB,KAAK0J,KAAK+J,EAAGzT,MACnGA,KAAK45B,UAAU55B,KAAKimF,mBAAmBloE,KAAK/d,QACrC,GAGF,IACT,CAwBF,CAEA,SAASqmF,aACPL,cACF,CAEA,SAASM,sBAAuB,CAEhCA,oBAAoB56E,UAAY,CAC9B66E,gBAAiB,SAAyBC,EAAUC,GAClD,IAEIC,EACAp7E,EAHAq7E,EAAU9xE,SAAS,WAKvB,IAJA8xE,EAAQx8E,aAAa,SAAUq8E,GAI1Bl7E,EAAI,EAAGA,EAAIm7E,EAAIvjF,OAAQoI,GAAK,GAC/Bo7E,EAAc7xE,SAAS,gBACX1K,aAAa,KAAMs8E,EAAIn7E,IACnCq7E,EAAQv8E,YAAYs8E,GACpBC,EAAQv8E,YAAYs8E,GAGtB,OAAOC,CACT,GAGF,IAAIC,kBAAoB,mFAExB,SAASC,cAAc39E,EAAQo+C,EAAen9B,EAAMzhB,EAAI6+C,GACtDvnD,KAAKsnD,cAAgBA,EACrB,IAAIP,EAAgBlyC,SAAS,iBAC7BkyC,EAAc58C,aAAa,OAAQ,UACnC48C,EAAc58C,aAAa,8BAA+B,aAC1D48C,EAAc58C,aAAa,SAAUy8E,kBAAoB,QACzD5mF,KAAK8mF,aAAe//B,EACpBA,EAAc58C,aAAa,SAAUzB,EAAK,WAC1CQ,EAAOkB,YAAY28C,IACnBA,EAAgBlyC,SAAS,kBACX1K,aAAa,OAAQ,UACnC48C,EAAc58C,aAAa,8BAA+B,QAC1D48C,EAAc58C,aAAa,SAAU,2CACrC48C,EAAc58C,aAAa,SAAUzB,EAAK,WAC1CQ,EAAOkB,YAAY28C,GACnB/mD,KAAK+mF,aAAehgC,EACpB,IAAI4/B,EAAU3mF,KAAKumF,gBAAgB79E,EAAI,CAAC6+C,EAAQ7+C,EAAK,UAAWA,EAAK,YACrEQ,EAAOkB,YAAYu8E,EACrB,CAcA,SAASK,cAAc99E,EAAQo+C,EAAen9B,EAAMzhB,GAClD1I,KAAKsnD,cAAgBA,EACrB,IAAIP,EAAgBlyC,SAAS,iBAC7BkyC,EAAc58C,aAAa,OAAQ,UACnC48C,EAAc58C,aAAa,8BAA+B,QAC1D48C,EAAc58C,aAAa,SAAU,2CACrC48C,EAAc58C,aAAa,SAAUzB,GACrCQ,EAAOkB,YAAY28C,GACnB/mD,KAAK+mF,aAAehgC,CACtB,CAUA,SAASkgC,gBAAgBngC,EAAKQ,EAAen9B,GAC3CnqB,KAAKknF,aAAc,EACnBlnF,KAAKsnD,cAAgBA,EACrBtnD,KAAKmqB,KAAOA,EACZnqB,KAAKs9B,MAAQ,EACf,CAgIA,SAAS6pD,iBAAiBj+E,EAAQo+C,EAAen9B,EAAMzhB,GACrD1I,KAAKsnD,cAAgBA,EACrB,IAAIP,EAAgBlyC,SAAS,iBAC7BkyC,EAAc58C,aAAa,OAAQ,UACnC48C,EAAc58C,aAAa,8BAA+B,aAC1D48C,EAAc58C,aAAa,SAAU,wFACrCjB,EAAOkB,YAAY28C,GACnB,IAAIqgC,EAAsBvyE,SAAS,uBACnCuyE,EAAoBj9E,aAAa,8BAA+B,QAChEi9E,EAAoBj9E,aAAa,SAAUzB,GAC3C1I,KAAK+mF,aAAeK,EACpB,IAAIC,EAAUxyE,SAAS,WACvBwyE,EAAQl9E,aAAa,OAAQ,SAC7Bi9E,EAAoBh9E,YAAYi9E,GAChCrnF,KAAKqnF,QAAUA,EACf,IAAIC,EAAUzyE,SAAS,WACvByyE,EAAQn9E,aAAa,OAAQ,SAC7Bi9E,EAAoBh9E,YAAYk9E,GAChCtnF,KAAKsnF,QAAUA,EACf,IAAIC,EAAU1yE,SAAS,WACvB0yE,EAAQp9E,aAAa,OAAQ,SAC7Bi9E,EAAoBh9E,YAAYm9E,GAChCvnF,KAAKunF,QAAUA,EACfr+E,EAAOkB,YAAYg9E,EACrB,CAgBA,SAASI,mBAAmBt+E,EAAQo+C,EAAen9B,EAAMzhB,GACvD1I,KAAKsnD,cAAgBA,EACrB,IAAIlJ,EAAiBp+C,KAAKsnD,cAAclJ,eACpCgpC,EAAsBvyE,SAAS,wBAE/BupC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,KACzRhT,KAAKqnF,QAAUrnF,KAAKynF,aAAa,UAAWL,KAI1ChpC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,KACzRhT,KAAKsnF,QAAUtnF,KAAKynF,aAAa,UAAWL,KAI1ChpC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,KACzRhT,KAAKunF,QAAUvnF,KAAKynF,aAAa,UAAWL,KAI1ChpC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,GAAWorC,EAAe,IAAI/qC,EAAEmD,GAAgC,IAA3B4nC,EAAe,IAAI/qC,EAAEL,KACzRhT,KAAK0nF,QAAU1nF,KAAKynF,aAAa,UAAWL,KAI1CpnF,KAAKqnF,SAAWrnF,KAAKsnF,SAAWtnF,KAAKunF,SAAWvnF,KAAK0nF,WACvDN,EAAoBj9E,aAAa,8BAA+B,QAChEjB,EAAOkB,YAAYg9E,KAGjBhpC,EAAe,GAAG/qC,EAAEmD,GAA+B,IAA1B4nC,EAAe,GAAG/qC,EAAEL,GAAWorC,EAAe,GAAG/qC,EAAEmD,GAA+B,IAA1B4nC,EAAe,GAAG/qC,EAAEL,GAAWorC,EAAe,GAAG/qC,EAAEmD,GAA+B,IAA1B4nC,EAAe,GAAG/qC,EAAEL,GAAWorC,EAAe,GAAG/qC,EAAEmD,GAA+B,IAA1B4nC,EAAe,GAAG/qC,EAAEL,GAAWorC,EAAe,GAAG/qC,EAAEmD,GAA+B,IAA1B4nC,EAAe,GAAG/qC,EAAEL,MAC/Qo0E,EAAsBvyE,SAAS,wBACX1K,aAAa,8BAA+B,QAChEi9E,EAAoBj9E,aAAa,SAAUzB,GAC3CQ,EAAOkB,YAAYg9E,GACnBpnF,KAAK2nF,gBAAkB3nF,KAAKynF,aAAa,UAAWL,GACpDpnF,KAAK4nF,gBAAkB5nF,KAAKynF,aAAa,UAAWL,GACpDpnF,KAAK6nF,gBAAkB7nF,KAAKynF,aAAa,UAAWL,GAExD,CA4EA,SAASU,oBAAoB5+E,EAAQo+C,EAAen9B,EAAMzhB,EAAI6+C,GAC5D,IAAIwgC,EAAmBzgC,EAAc/gD,UAAUwd,WAAWi5B,aAAaogB,WACnEA,EAAa9V,EAAc59C,KAAKosD,IAAMiyB,EAC1C7+E,EAAOiB,aAAa,IAAKizD,EAAWxwC,GAAKm7D,EAAiBn7D,GAC1D1jB,EAAOiB,aAAa,IAAKizD,EAAW3nC,GAAKsyD,EAAiBtyD,GAC1DvsB,EAAOiB,aAAa,QAASizD,EAAW/gD,OAAS0rE,EAAiB1rE,OAClEnT,EAAOiB,aAAa,SAAUizD,EAAW9gD,QAAUyrE,EAAiBzrE,QACpEtc,KAAKsnD,cAAgBA,EACrB,IAAI0gC,EAAiBnzE,SAAS,kBAC9BmzE,EAAe79E,aAAa,KAAM,eAClC69E,EAAe79E,aAAa,SAAUzB,EAAK,kBAC3Cs/E,EAAe79E,aAAa,eAAgB,KAC5CnK,KAAKgoF,eAAiBA,EACtB9+E,EAAOkB,YAAY49E,GACnB,IAAIC,EAAWpzE,SAAS,YACxBozE,EAAS99E,aAAa,KAAM,MAC5B89E,EAAS99E,aAAa,KAAM,KAC5B89E,EAAS99E,aAAa,KAAMzB,EAAK,kBACjCu/E,EAAS99E,aAAa,SAAUzB,EAAK,kBACrC1I,KAAKioF,SAAWA,EAChB/+E,EAAOkB,YAAY69E,GACnB,IAAIC,EAAUrzE,SAAS,WACvBqzE,EAAQ/9E,aAAa,cAAe,WACpC+9E,EAAQ/9E,aAAa,gBAAiB,KACtC+9E,EAAQ/9E,aAAa,SAAUzB,EAAK,kBACpC1I,KAAKkoF,QAAUA,EACfh/E,EAAOkB,YAAY89E,GACnB,IAAIC,EAActzE,SAAS,eAC3BszE,EAAYh+E,aAAa,KAAMzB,EAAK,kBACpCy/E,EAAYh+E,aAAa,MAAOzB,EAAK,kBACrCy/E,EAAYh+E,aAAa,WAAY,MACrCg+E,EAAYh+E,aAAa,SAAUzB,EAAK,kBACxCQ,EAAOkB,YAAY+9E,GACnB,IAAIxB,EAAU3mF,KAAKumF,gBAAgB79E,EAAI,CAACA,EAAK,iBAAkB6+C,IAC/Dr+C,EAAOkB,YAAYu8E,EACrB,CAlWAx7E,gBAAgB,CAACm7E,qBAAsBO,eAEvCA,cAAcn7E,UAAUmb,YAAc,SAAUokB,GAC9C,GAAIA,GAAejrC,KAAKsnD,cAAcluB,KAAM,CAC1C,IAAIgvD,EAAapoF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EACpDq1E,EAAaroF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EACpD4yC,EAAU5lD,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAI,IACzDhT,KAAK8mF,aAAa38E,aAAa,SAAUy8E,kBAAoB,IAAMhhC,EAAU,MAC7E5lD,KAAK+mF,aAAa58E,aAAa,SAAUk+E,EAAW,GAAKD,EAAW,GAAK,UAAYA,EAAW,GAAK,KAAOC,EAAW,GAAKD,EAAW,IAAM,UAAYA,EAAW,GAAK,KAAOC,EAAW,GAAKD,EAAW,IAAM,UAAYA,EAAW,GAAK,aAC/O,CACF,EAaApB,cAAct7E,UAAUmb,YAAc,SAAUokB,GAC9C,GAAIA,GAAejrC,KAAKsnD,cAAcluB,KAAM,CAC1C,IAAIzlB,EAAQ3T,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAC/C4yC,EAAU5lD,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EACrDhT,KAAK+mF,aAAa58E,aAAa,SAAU,WAAawJ,EAAM,GAAK,YAAcA,EAAM,GAAK,YAAcA,EAAM,GAAK,UAAYiyC,EAAU,KAC3I,CACF,EASAqhC,gBAAgBv7E,UAAU26E,WAAa,WACrC,IACI7wE,EACA8yE,EACAh9E,EACAE,EAJA+8E,EAAevoF,KAAKmqB,KAAKw2B,aAAastB,UAAYjuE,KAAKmqB,KAAKw2B,aAAa6nC,WAmB7E,IAbiD,IAA7CxoF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,GACzCxH,EAAMxL,KAAKmqB,KAAK21B,YAAYjpC,gBAAgB3T,OAC5CoI,EAAI,GAGJE,EAAU,GADVF,EAAItL,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAI,IAIjDs1E,EAAYzzE,SAAS,MACX1K,aAAa,OAAQ,QAC/Bm+E,EAAUn+E,aAAa,iBAAkB,SACzCm+E,EAAUn+E,aAAa,oBAAqB,GAEpCmB,EAAIE,EAAKF,GAAK,EACpBkK,EAAOX,SAAS,QAChByzE,EAAUl+E,YAAYoL,GACtBxV,KAAKs9B,MAAM1wB,KAAK,CACdyG,EAAGmC,EACHksB,EAAGp2B,IAIP,GAAkD,IAA9CtL,KAAKsnD,cAAclJ,eAAe,IAAI/qC,EAAEL,EAAS,CACnD,IAAI0xC,EAAO7vC,SAAS,QAChBnM,EAAKiK,kBACT+xC,EAAKv6C,aAAa,KAAMzB,GACxBg8C,EAAKv6C,aAAa,YAAa,SAC/Bu6C,EAAKt6C,YAAYk+E,GACjBtoF,KAAKmqB,KAAKpG,WAAWC,KAAK5Z,YAAYs6C,GACtC,IAAIxxC,EAAI2B,SAAS,KAGjB,IAFA3B,EAAE/I,aAAa,OAAQ,OAASa,kBAAoB,IAAMtC,EAAK,KAExD6/E,EAAa,IAClBr1E,EAAE9I,YAAYm+E,EAAa,IAG7BvoF,KAAKmqB,KAAKw2B,aAAav2C,YAAY8I,GACnClT,KAAK2pD,OAASjF,EACd4jC,EAAUn+E,aAAa,SAAU,OACnC,MAAO,GAAkD,IAA9CnK,KAAKsnD,cAAclJ,eAAe,IAAI/qC,EAAEL,GAAyD,IAA9ChT,KAAKsnD,cAAclJ,eAAe,IAAI/qC,EAAEL,EAAS,CAC7G,GAAkD,IAA9ChT,KAAKsnD,cAAclJ,eAAe,IAAI/qC,EAAEL,EAG1C,IAFAu1E,EAAevoF,KAAKmqB,KAAKw2B,aAAastB,UAAYjuE,KAAKmqB,KAAKw2B,aAAa6nC,WAElED,EAAarlF,QAClBlD,KAAKmqB,KAAKw2B,aAAa/E,YAAY2sC,EAAa,IAIpDvoF,KAAKmqB,KAAKw2B,aAAav2C,YAAYk+E,GACnCtoF,KAAKmqB,KAAKw2B,aAAa8nC,gBAAgB,QACvCH,EAAUn+E,aAAa,SAAU,OACnC,CAEAnK,KAAKknF,aAAc,EACnBlnF,KAAK0oF,WAAaJ,CACpB,EAEArB,gBAAgBv7E,UAAUmb,YAAc,SAAUokB,GAKhD,IAAI3/B,EAJCtL,KAAKknF,aACRlnF,KAAKqmF,aAIP,IACI3hC,EACAlvC,EAFAhK,EAAMxL,KAAKs9B,MAAMp6B,OAIrB,IAAKoI,EAAI,EAAGA,EAAIE,EAAKF,GAAK,EACxB,IAAyB,IAArBtL,KAAKs9B,MAAMhyB,GAAGo2B,IAChBgjB,EAAO1kD,KAAKmqB,KAAK21B,YAAY4D,SAAS1jD,KAAKs9B,MAAMhyB,GAAGo2B,GACpDlsB,EAAOxV,KAAKs9B,MAAMhyB,GAAG+H,GAEjB43B,GAAejrC,KAAKsnD,cAAcluB,MAAQsrB,EAAK14C,KAAKotB,OACtD5jB,EAAKrL,aAAa,IAAKu6C,EAAKN,UAG1BnZ,GAAejrC,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,MAAQp5B,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,MAAQp5B,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,MAAQp5B,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,MAAQsrB,EAAK14C,KAAKotB,MAAM,CAC7N,IAAIuvD,EAEJ,GAAiD,IAA7C3oF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,GAAwD,MAA7ChT,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAW,CACtG,IAAID,EAAmG,IAA/FzD,KAAKS,IAAI/P,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAGhT,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,GAC9FzS,EAAmG,IAA/F+O,KAAKO,IAAI7P,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAGhT,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,GAC9FyuB,EAAIjsB,EAAKozE,iBACbD,EAAiB,SAAWlnD,EAAI1uB,EAAI,IACpC,IAGIuD,EAHAuyE,EAAapnD,GAAKlhC,EAAIwS,GACtByS,EAAU,EAA+C,EAA3CxlB,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAQhT,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAI,IACxG81E,EAAQx5E,KAAKK,MAAMk5E,EAAarjE,GAGpC,IAAKlP,EAAI,EAAGA,EAAIwyE,EAAOxyE,GAAK,EAC1BqyE,GAAkB,KAAkD,EAA3C3oF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAQhT,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAI,IAAO,IAG5H21E,GAAkB,KAAW,GAAJlnD,EAAS,MACpC,MACEknD,EAAiB,KAAkD,EAA3C3oF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAQhT,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAI,IAGpHwC,EAAKrL,aAAa,mBAAoBw+E,EACxC,CAYJ,IARI19C,GAAejrC,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,OACxDp5B,KAAK0oF,WAAWv+E,aAAa,eAA2D,EAA3CnK,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,IAGlFi4B,GAAejrC,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,OACxDp5B,KAAK0oF,WAAWv+E,aAAa,UAAWnK,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,IAG/B,IAA9ChT,KAAKsnD,cAAclJ,eAAe,IAAI/qC,EAAEL,GAAyD,IAA9ChT,KAAKsnD,cAAclJ,eAAe,IAAI/qC,EAAEL,KACzFi4B,GAAejrC,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,MAAM,CAC9D,IAAIzlB,EAAQ3T,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EACnDhT,KAAK0oF,WAAWv+E,aAAa,SAAU,OAASuF,QAAmB,IAAXiE,EAAM,IAAY,IAAMjE,QAAmB,IAAXiE,EAAM,IAAY,IAAMjE,QAAmB,IAAXiE,EAAM,IAAY,IAC5I,CAEJ,EA4BAwzE,iBAAiBz7E,UAAUmb,YAAc,SAAUokB,GACjD,GAAIA,GAAejrC,KAAKsnD,cAAcluB,KAAM,CAC1C,IAAI2vD,EAAS/oF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAChDg2E,EAAShpF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAChDi2E,EAASjpF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAChDk2E,EAASD,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACpDI,EAASF,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACpDK,EAASH,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACxD/oF,KAAKqnF,QAAQl9E,aAAa,cAAe++E,GACzClpF,KAAKsnF,QAAQn9E,aAAa,cAAeg/E,GACzCnpF,KAAKunF,QAAQp9E,aAAa,cAAei/E,EAC3C,CACF,EA2CA5B,mBAAmB97E,UAAU+7E,aAAe,SAAUv9E,EAAMk9E,GAC1D,IAAIp9B,EAASn1C,SAAS3K,GAGtB,OAFA8/C,EAAO7/C,aAAa,OAAQ,SAC5Bi9E,EAAoBh9E,YAAY4/C,GACzBA,CACT,EAEAw9B,mBAAmB97E,UAAU29E,cAAgB,SAAUC,EAAYC,EAAYC,EAAOC,EAAaC,GAcjG,IAbA,IAEIv5D,EAMAw5D,EARAztD,EAAM,EAGNnsB,EAAMT,KAAKS,IAAIu5E,EAAYC,GAC3B15E,EAAMP,KAAKO,IAAIy5E,EAAYC,GAC3BK,EAAQr7E,MAAM1C,KAAK,KAAM,CAC3B3I,OALa,MAQXm4B,EAAM,EACNwuD,EAAcH,EAAcD,EAC5BK,EAAaP,EAAaD,EAEvBptD,GAAO,KAIVytD,GAHFx5D,EAAO+L,EAAM,MAEDnsB,EACG+5E,EAAa,EAAIJ,EAAcD,EACnCt5D,GAAQtgB,EACJi6E,EAAa,EAAIL,EAAcC,EAE/BD,EAAcI,EAAcv6E,KAAKC,KAAK4gB,EAAOm5D,GAAcQ,EAAY,EAAIN,GAG1FI,EAAMvuD,GAAOsuD,EACbtuD,GAAO,EACPa,GAAO,IAAM,IAGf,OAAO0tD,EAAM3uE,KAAK,IACpB,EAEAusE,mBAAmB97E,UAAUmb,YAAc,SAAUokB,GACnD,GAAIA,GAAejrC,KAAKsnD,cAAcluB,KAAM,CAC1C,IAAI/oB,EACA+tC,EAAiBp+C,KAAKsnD,cAAclJ,eAEpCp+C,KAAK2nF,kBAAoB18C,GAAemT,EAAe,GAAG/qC,EAAE+lB,MAAQglB,EAAe,GAAG/qC,EAAE+lB,MAAQglB,EAAe,GAAG/qC,EAAE+lB,MAAQglB,EAAe,GAAG/qC,EAAE+lB,MAAQglB,EAAe,GAAG/qC,EAAE+lB,QAC9K/oB,EAAMrQ,KAAKqpF,cAAcjrC,EAAe,GAAG/qC,EAAEL,EAAGorC,EAAe,GAAG/qC,EAAEL,EAAGorC,EAAe,GAAG/qC,EAAEL,EAAGorC,EAAe,GAAG/qC,EAAEL,EAAGorC,EAAe,GAAG/qC,EAAEL,GACzIhT,KAAK2nF,gBAAgBx9E,aAAa,cAAekG,GACjDrQ,KAAK4nF,gBAAgBz9E,aAAa,cAAekG,GACjDrQ,KAAK6nF,gBAAgB19E,aAAa,cAAekG,IAG/CrQ,KAAKqnF,UAAYp8C,GAAemT,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,QAC3K/oB,EAAMrQ,KAAKqpF,cAAcjrC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,GAC9IhT,KAAKqnF,QAAQl9E,aAAa,cAAekG,IAGvCrQ,KAAKsnF,UAAYr8C,GAAemT,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,QAC3K/oB,EAAMrQ,KAAKqpF,cAAcjrC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,GAC9IhT,KAAKsnF,QAAQn9E,aAAa,cAAekG,IAGvCrQ,KAAKunF,UAAYt8C,GAAemT,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,QAC3K/oB,EAAMrQ,KAAKqpF,cAAcjrC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,GAC9IhT,KAAKunF,QAAQp9E,aAAa,cAAekG,IAGvCrQ,KAAK0nF,UAAYz8C,GAAemT,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,MAAQglB,EAAe,IAAI/qC,EAAE+lB,QAC3K/oB,EAAMrQ,KAAKqpF,cAAcjrC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,EAAGorC,EAAe,IAAI/qC,EAAEL,GAC9IhT,KAAK0nF,QAAQv9E,aAAa,cAAekG,GAE7C,CACF,EAuCAlF,gBAAgB,CAACm7E,qBAAsBwB,qBAEvCA,oBAAoBp8E,UAAUmb,YAAc,SAAUokB,GACpD,GAAIA,GAAejrC,KAAKsnD,cAAcluB,KAAM,CAK1C,IAJI6R,GAAejrC,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,OACxDp5B,KAAKgoF,eAAe79E,aAAa,eAAgBnK,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAI,GAG1Fi4B,GAAejrC,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,KAAM,CAC9D,IAAI2wD,EAAM/pF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EACjDhT,KAAKkoF,QAAQ/9E,aAAa,cAAe4J,SAASzE,KAAKuB,MAAe,IAATk5E,EAAI,IAAWz6E,KAAKuB,MAAe,IAATk5E,EAAI,IAAWz6E,KAAKuB,MAAe,IAATk5E,EAAI,KACvH,CAMA,IAJI9+C,GAAejrC,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,OACxDp5B,KAAKkoF,QAAQ/9E,aAAa,gBAAiBnK,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAI,KAGpFi4B,GAAejrC,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,MAAQp5B,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAE+lB,KAAM,CAC7G,IAAI4b,EAAWh1C,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAClDosB,GAASp/B,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAI,IAAMxC,UAC1Doc,EAAIooB,EAAW1lC,KAAKgpB,IAAI8G,GACxB3J,EAAIuf,EAAW1lC,KAAKmoB,IAAI2H,GAC5Bp/B,KAAKioF,SAAS99E,aAAa,KAAMyiB,GACjC5sB,KAAKioF,SAAS99E,aAAa,KAAMsrB,EACnC,CACF,CACF,EAEA,IAAIu0D,iBAAmB,GAEvB,SAASC,gBAAgBC,EAAY5iC,EAAen9B,GAClDnqB,KAAKknF,aAAc,EACnBlnF,KAAKsnD,cAAgBA,EACrBtnD,KAAKkqF,WAAaA,EAClBlqF,KAAKmqB,KAAOA,EACZA,EAAKq+B,aAAe3zC,SAAS,KAC7BsV,EAAKq+B,aAAap+C,YAAY+f,EAAKw2B,cACnCx2B,EAAKq+B,aAAap+C,YAAY+f,EAAKs+B,oBACnCt+B,EAAKu2B,YAAcv2B,EAAKq+B,YAC1B,CAqGA,SAAS2hC,sBAAsBjhF,EAAQo+C,EAAen9B,EAAMzhB,GAE1DQ,EAAOiB,aAAa,IAAK,SACzBjB,EAAOiB,aAAa,IAAK,SACzBjB,EAAOiB,aAAa,QAAS,QAC7BjB,EAAOiB,aAAa,SAAU,QAC9BnK,KAAKsnD,cAAgBA,EACrB,IAAI0gC,EAAiBnzE,SAAS,kBAC9BmzE,EAAe79E,aAAa,SAAUzB,GACtCQ,EAAOkB,YAAY49E,GACnBhoF,KAAKgoF,eAAiBA,CACxB,CA6BA,SAASoC,kBAAmB,CAwC5B,SAASC,mBAAmBrpE,EAAGsmC,GAC7BtnD,KAAKqoB,KAAKi/B,EACZ,CAIA,SAASgjC,kBAAkBzpC,GACzB7gD,KAAKqoB,KAAKw4B,EACZ,CA+BA,OA1NAopC,gBAAgBv+E,UAAU6+E,WAAa,SAAU7lC,GAI/C,IAHA,IAAIp5C,EAAI,EACJE,EAAMw+E,iBAAiB9mF,OAEpBoI,EAAIE,GAAK,CACd,GAAIw+E,iBAAiB1+E,KAAOo5C,EAC1B,OAAOslC,iBAAiB1+E,GAG1BA,GAAK,CACP,CAEA,OAAO,IACT,EAEA2+E,gBAAgBv+E,UAAU8+E,gBAAkB,SAAU9lC,EAAM+lC,GAC1D,IAAIvzC,EAAawN,EAAK/D,aAAazJ,WAEnC,GAAKA,EAAL,CAQA,IAJA,IAYIwzC,EAZAzc,EAAW/2B,EAAW+2B,SACtB3iE,EAAI,EACJE,EAAMyiE,EAAS/qE,OAEZoI,EAAIE,GACLyiE,EAAS3iE,KAAOo5C,EAAK/D,cAIzBr1C,GAAK,EAKHA,GAAKE,EAAM,IACbk/E,EAAYzc,EAAS3iE,EAAI,IAG3B,IAAIq/E,EAAU91E,SAAS,OACvB81E,EAAQxgF,aAAa,OAAQ,IAAMsgF,GAE/BC,EACFxzC,EAAWuoB,aAAakrB,EAASD,GAEjCxzC,EAAW9sC,YAAYugF,EA1BzB,CA4BF,EAEAV,gBAAgBv+E,UAAUk/E,iBAAmB,SAAUzgE,EAAMu6B,GAC3D,IAAK1kD,KAAKuqF,WAAW7lC,GAAO,CAC1B,IAAI+lC,EAAW93E,kBACXg3C,EAAS90C,SAAS,QACtB80C,EAAOx/C,aAAa,KAAMu6C,EAAK9D,SAC/B+I,EAAOx/C,aAAa,YAAa,SAEjC6/E,iBAAiBp9E,KAAK83C,GAEtB,IAAI1gC,EAAOmG,EAAKpG,WAAWC,KAC3BA,EAAK5Z,YAAYu/C,GACjB,IAAIkhC,EAASh2E,SAAS,UACtBg2E,EAAO1gF,aAAa,KAAMsgF,GAC1BzqF,KAAKwqF,gBAAgB9lC,EAAM+lC,GAC3BI,EAAOzgF,YAAYs6C,EAAK/D,cACxB38B,EAAK5Z,YAAYygF,GACjB,IAAIF,EAAU91E,SAAS,OACvB81E,EAAQxgF,aAAa,OAAQ,IAAMsgF,GACnC9gC,EAAOv/C,YAAYugF,GACnBjmC,EAAKh7C,KAAKu/C,IAAK,EACfvE,EAAKv7B,MACP,CAEAgB,EAAK+/B,SAASxF,EAAK9D,QACrB,EAEAqpC,gBAAgBv+E,UAAU26E,WAAa,WAMrC,IALA,IAAI/wD,EAAMt1B,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAC7CmgC,EAAWnzC,KAAKmqB,KAAK7S,KAAK67B,SAC1B7nC,EAAI,EACJE,EAAM2nC,EAASjwC,OAEZoI,EAAIE,GACL2nC,EAAS7nC,IAAM6nC,EAAS7nC,GAAG5B,KAAK4rB,MAAQA,GAC1Ct1B,KAAK4qF,iBAAiB5qF,KAAKmqB,KAAMgpB,EAAS7nC,IAG5CA,GAAK,EAGPtL,KAAKknF,aAAc,CACrB,EAEA+C,gBAAgBv+E,UAAUmb,YAAc,WACjC7mB,KAAKknF,aACRlnF,KAAKqmF,YAET,EAeA8D,sBAAsBz+E,UAAUmb,YAAc,SAAUokB,GACtD,GAAIA,GAAejrC,KAAKsnD,cAAcluB,KAAM,CAE1C,IACI0xD,EADqB,GACb9qF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAO/C+3E,EAAa/qF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EACpDg4E,EAAuB,GAAdD,EAAkB,EAAID,EAE/BG,EAAuB,GAAdF,EAAkB,EAAID,EAEnC9qF,KAAKgoF,eAAe79E,aAAa,eAAgB6gF,EAAS,IAAMC,GAKhE,IAAIC,EAAuD,GAA5ClrF,KAAKsnD,cAAclJ,eAAe,GAAG/qC,EAAEL,EAAS,OAAS,YAExEhT,KAAKgoF,eAAe79E,aAAa,WAAY+gF,EAC/C,CACF,EAIAd,gBAAgB1+E,UAAU2c,KAAO,SAAUw4B,GACzC7gD,KAAK6gD,eAAiBA,EACtB7gD,KAAKkK,KAAOm5C,YAAYC,iBACxBtjD,KAAK8jC,OAAS,IAAI1D,OAClBpgC,KAAK4lD,SAAW,EAChB5lD,KAAKo5B,MAAO,EACZp5B,KAAKklD,QAAS,CAChB,EAEAklC,gBAAgB1+E,UAAUmb,YAAc,SAAUskE,GAIhD,GAHAnrF,KAAKklD,QAAS,EACdllD,KAAKo5B,MAAO,EAER+xD,GAAcnrF,KAAK6gD,eAAeznB,KAAM,CAC1C,IAAIglB,EAAiBp+C,KAAK6gD,eAAezC,eACrCr2C,EAASq2C,EAAe,GAAG/qC,EAAEL,EAC7B/B,EAAWmtC,EAAe,GAAG/qC,EAAEL,EAC/Bo4E,EAA2C,IAA1BhtC,EAAe,GAAG/qC,EAAEL,EACrCq4E,EAAcjtC,EAAe,GAAG/qC,EAAEL,EAClCs4E,EAAaF,EAAiBC,EAAcjtC,EAAe,GAAG/qC,EAAEL,EAChEouB,EAAOgd,EAAe,GAAG/qC,EAAEL,EAC3BouE,EAAWhjC,EAAe,GAAG/qC,EAAEL,EAC/BslE,EAAWl6B,EAAe,GAAG/qC,EAAEL,EACnChT,KAAK8jC,OAAOhiC,QACZ9B,KAAK8jC,OAAOnC,WAAW55B,EAAO,IAAKA,EAAO,GAAIA,EAAO,IACrD/H,KAAK8jC,OAAOxC,MAAmB,IAAbgqD,EAAiC,IAAdD,EAAoB,GACzDrrF,KAAK8jC,OAAOnD,QAAQ23C,EAAW9nE,WAC/BxQ,KAAK8jC,OAAOzC,cAAcD,EAAO5wB,WAAY4wE,EAAW,IAAM5wE,WAC9DxQ,KAAK8jC,OAAOnC,UAAU1wB,EAAS,GAAIA,EAAS,GAAI,GAChDjR,KAAKo5B,MAAO,EAERp5B,KAAK4lD,UAAYxH,EAAe,GAAG/qC,EAAEL,IACvChT,KAAK4lD,QAAUxH,EAAe,GAAG/qC,EAAEL,EACnChT,KAAKklD,QAAS,EAElB,CACF,EAMA/5C,gBAAgB,CAACi/E,iBAAkBC,oBAMnCl/E,gBAAgB,CAACi/E,iBAAkBE,mBAEnC1oE,iBAAiB,SAAUmiD,gBAC3BniD,iBAAiB,OAAQqkD,gBACzBrkD,iBAAiB,MAAOw6C,aAExB70B,eAAeE,iBAAiB,KAAMG,cACtCL,eAAeE,iBAAiB,KAAMI,wBACtCN,eAAeE,iBAAiB,KAAMgE,kBACtClE,eAAeE,iBAAiB,KAAMiE,sBACtCnE,eAAeE,iBAAiB,KAAM4G,gBACtC9G,eAAeE,iBAAiB,KAAMiK,oBAEtCr9B,qBAAqBonE,aACrBlnE,wBAAwBguE,cACxBwD,eACAM,aAEAx+B,iBAAiB,GAAIg/B,eAAe,GACpCh/B,iBAAiB,GAAIm/B,eAAe,GACpCn/B,iBAAiB,GAAIo/B,iBAAiB,GACtCp/B,iBAAiB,GAAIs/B,kBAAkB,GACvCt/B,iBAAiB,GAAI2/B,oBAAoB,GACzC3/B,iBAAiB,GAAIigC,qBAAqB,GAC1CjgC,iBAAiB,GAAIoiC,iBAAiB,GACtCpiC,iBAAiB,GAAIsiC,uBAAuB,GAC5CtiC,iBAAiB,GAAIwiC,oBAAoB,GACzCxpB,eAAe,GAAIypB,mBAEZzkD,MAER,EA1rnBgE0lD,OAAOjkD,QAAUh9B,gCCDlF,QAkBE,EAQM,WACP,aAEA,IAAIkhF,EAAc,WACjBC,EAAMhqF,IAAI,EAAG,2LACd,EAEA+pF,EAAYrkD,QAAU,QAGE,oBAAb,QACVvkC,OAAOtC,iBAAiB,kBAAc,GAIvC,IAAIorF,EAAuB,8BA4B3BF,EAAYG,WAAa,SAAUnZ,GAMlC,IAsBCoZ,EACAC,EAtBAC,EAAY,yBACZC,EAA2B,UAC3BC,EAA2B,UAC3BC,EAA0B,SAC1BC,EAAkBC,EAAmBC,SAQrCT,EAAa3rF,KACbqsF,EAAWZ,EAAMa,OAAO,CAAC,EAAGJ,EAAiB1Z,GAC7C+Z,EAAgB,GAChBC,GAA2B,EAC3BC,EAAa,EACbC,EAAmBT,EACnBU,GAAc,EACdC,EAAgB,EAChBC,GAAW,EAcRC,EAAY,WACf,IAAK,IAAI7lF,KAAOolF,EACVH,EAAgBtgF,eAAe3E,KACnCxF,EAAI,EAAG,4BAA+BwF,EAAM,YACrColF,EAASplF,IAKlB,GAFAolF,EAAS9lF,UAAYklF,EAAM9+D,IAAIwmB,SAASk5C,EAAS9lF,WAAW,IAEvD8lF,EAAS9lF,UAEb,MADA9E,EAAI,EAAG,yBAA2BqqF,EAAY,wCACxCA,EAAY,iBAEnBa,EAAcN,EAAS9lF,YAAc3D,QAAUypF,EAAS9lF,YAActF,SAASC,OAASD,SAASC,KAAK4B,SAASupF,EAAS9lF,cAGvH8lF,EAAS9lF,UAAY3D,QAGtBgqF,EAAgBG,IAEhBV,EAAS9lF,UAAUjG,iBAAiB,SAAU0sF,GAC9CX,EAAS9lF,UAAUjG,iBAAiB,SAAU0sF,GAE9C,IAAIC,EAAK9oE,SAASkoE,EAASa,gBAAiB,IAC5Cb,EAASa,gBAAkBzB,EAAMvhF,KAAKsd,OAAOylE,GAAMA,EAAKf,EAAgBgB,gBACxEC,IAEA1rF,EAAI,EAAG,aAAeqqF,EAAY,iBAAmBN,EAAYrkD,QAAU,IAC5E,EAMIgmD,EAAkB,WACjBd,EAASa,gBAAkB,IAC9BrB,EAAkBjpF,OAAOc,WAAW0pF,EAASf,EAASa,iBAExD,EAMIG,EAAe,WAClB,OAAOhB,EAASiB,SAAW7B,EAAM9+D,IAAI4gE,UAAUlB,EAAS9lF,WAAaklF,EAAM9+D,IAAInlB,WAAW6kF,EAAS9lF,UACpG,EAMIwmF,EAAkB,WACrB,OAAOV,EAASiB,SAAW7B,EAAM9+D,IAAIrQ,OAAO+vE,EAAS9lF,WAAaklF,EAAM9+D,IAAItQ,MAAMgwE,EAAS9lF,UAC5F,EAOIinF,EAAextF,KAAKytF,cAAgB,SAAUpyD,GAC7CgxD,EAASiB,SACRX,EACH/pF,OAAOoF,SAASyjF,EAAM9+D,IAAInlB,aAAc6zB,GAExCgxD,EAAS9lF,UAAUgnF,UAAYlyD,EAG5BsxD,EACH/pF,OAAOoF,SAASqzB,EAAKowD,EAAM9+D,IAAI4gE,aAE/BlB,EAAS9lF,UAAUiB,WAAa6zB,CAGnC,EAMIqyD,EAAe,WAClB,GAAIb,GAAYL,EAA0B,CAEzC,IAAImB,EAAiBlC,EAAMvhF,KAAKqE,MAAMi+E,GAA4BA,EAA2BD,EAAczhE,MAAM,GAEjH0hE,GAA2B,EAC3B,IAAIoB,EAAenB,EAGfoB,GADJpB,EAAad,EAAWmC,aACOF,EACX,IAAhBC,IACHnB,EAAoBmB,EAAc,EAAK9B,EAA2BC,GAG/DU,IAAqBV,GACxB2B,EAAe9xD,UAGhB8xD,EAAexrF,SAAQ,SAAU4rF,EAAOzkE,GACvC7nB,EAAI,EAAG,mBAAqB6nB,EAAQ,GAAK,IAAMqkE,EAAezqF,OAAS,KAAOqpF,EAAcrpF,OAAS,WACrG6qF,EAAMx6B,QAAO,EACd,IAC8B,IAA1Bo6B,EAAezqF,QAAgBmpF,EAAS2B,UAAY,GACvDvsF,EAAI,EAAG,kDAET,CACD,EAMIwsF,EAAiB,WACpBrC,EAAiBH,EAAMyC,IAAIR,EAC5B,EAMIV,EAAW,SAAUzsF,GACxBkB,EAAI,EAAG,iCAAkClB,EAAE2J,MAC7B,UAAV3J,EAAE2J,OAEL0iF,EAAgBG,IAChBL,EAAmBT,IAGa,IAA7BO,IACHA,GAA2B,EAC3ByB,IAEF,EAEIb,EAAU,WACb,IAAKT,GAEAC,GAAiBG,IAAmB,CACvC,IAAIoB,EACJ,IACCA,EAAc,IAAIC,MAAM,SAAU,CACjCC,SAAS,EACTC,YAAY,GAEd,CAAE,MAAO/tF,IACR4tF,EAAcltF,SAASstF,YAAY,UACvBC,UAAU,UAAU,GAAO,EACxC,CACAnC,EAAS9lF,UAAUkoF,cAAcN,EAClC,CAED5B,EAAcpqF,SAAQ,SAAU4rF,EAAOzkE,GACtCykE,EAAMX,SACP,IACAD,GACD,EAUI1rF,EAAMzB,KAAK0uF,KAAO,SAAUV,EAAUW,GACrCtC,EAAS2B,UAAYA,IACxBz/E,MAAM7C,UAAUoU,OAAOjU,KAAK+iF,UAAW,EAAG,EAAG,IAAM9C,EAAY,QAC/DL,EAAMhqF,IAAI+M,MAAM5L,OAAQgsF,WAE1B,EAEA5uF,KAAKqsF,SAAWA,EAShB,IAAIwC,EAAa,SAAUC,GAC1B,GAAIA,EAAY5rF,QAAU,EACzB,OAAO4rF,EAEP,IAAIC,EAASD,EAAYhkE,MAAM,GAI/B,OAHAikE,EAAOC,MAAK,SAAUh2E,EAAG7F,GACxB,OAAO6F,EAAEi2E,eAAiB97E,EAAE87E,eAAiB,GAAK,CACnD,IACOF,CAET,EA2ZA,OAlYA/uF,KAAKkvF,SAAW,SAAUC,GACzB,GAAI1D,EAAMvhF,KAAKqE,MAAM4gF,GACpBA,EAAShtF,SAAQ,SAAU4rF,EAAOzkE,GACjCqiE,EAAWuD,SAASnB,EACrB,SACM,GAAIoB,aAAoB3D,EAAY4D,OAC1C,GAAID,EAASE,eAAiB1D,EAC7BwD,EAASG,MAAM3D,QACT,GAAIY,EAAcjyE,QAAQ60E,GAAY,EAAG,CAQ/C,IAAK,IAAIloF,KANTslF,EAAc3/E,KAAKuiF,GACnB5C,EAAgBsC,EAAWtC,GAC3B4C,EAASI,GAAG,yBAAyB,WACpChD,EAAgBsC,EAAWtC,EAC5B,IAEgBF,EAASmD,mBACpBL,EAASloF,IACZkoF,EAASloF,GAAK4E,KAAKsjF,EAAU9C,EAASmD,mBAAmBvoF,IAG3DxF,EAAI,EAAG,qBAAuB8qF,EAAcrpF,OAAS,UACtD,OAEAzB,EAAI,EAAG,sDAER,OAAOkqF,CACR,EAgBA3rF,KAAKyvF,YAAc,SAAUL,GAC5B,GAAI3D,EAAMvhF,KAAKqE,MAAM6gF,GACpBA,EAAMjtF,SAAQ,SAAU4rF,EAAOzkE,GAC9BqiE,EAAW8D,YAAY1B,EACxB,QACM,CACN,IAAIzkE,EAAQijE,EAAcjyE,QAAQ80E,GAC9B9lE,GAAS,IACZ8lE,EAAMM,IAAI,yBACVnD,EAAczsE,OAAOwJ,EAAO,GAC5B7nB,EAAI,EAAG,uBAAyB8qF,EAAcrpF,OAAS,UACvDksF,EAAMntF,SAER,CACA,OAAO0pF,CACR,EAwBA3rF,KAAK2vF,YAAc,SAAUP,EAAOQ,GAkBnC,OAjBInE,EAAMvhF,KAAKqE,MAAM6gF,GACpBA,EAAMjtF,SAAQ,SAAU4rF,EAAOzkE,GAC9BqiE,EAAWgE,YAAY5B,EAAO6B,EAC/B,IAEIA,EACHR,EAAM77B,QAAO,IAC0B,IAA7Bi5B,GAAqC4C,aAAiB5D,EAAY4D,SAG5B,IADhD5C,EAA2BA,GAA4B,IAC1BlyE,QAAQ80E,IACpC5C,EAAyB5/E,KAAKwiF,GAE/B5C,EAA2BqC,EAAWrC,GACtCyB,KAGKtC,CACR,EAoBA3rF,KAAKuzD,OAAS,SAAUq8B,GAOvB,OANA5C,EAAS,CACR9iF,KAAM,WAEH0lF,GACHlC,IAEM/B,CACR,EA+DA3rF,KAAKgI,SAAW,SAAU6nF,EAAcC,GACvC,GAAIrE,EAAMvhF,KAAKsd,OAAOqoE,GACrBrC,EAAa3hF,KAAKwgF,EAAS9lF,UAAWspF,EAAcC,QAC9C,GAAID,aAAwBrE,EAAY4D,MAC1CS,EAAaR,eAAiB1D,EACjCA,EAAW3jF,SAAS6nF,EAAaZ,eAAgBa,GAEjDruF,EAAI,EAAG,uFAAwFouF,QAE1F,GAAIpE,EAAMvhF,KAAK6lF,SAASF,GAC9BrC,EAAeqC,MACT,CACN,IAAI1lE,EAAOshE,EAAM9+D,IAAIwmB,SAAS08C,GAAc,GAC5C,GAAI1lE,EAAM,CAET,KAAOA,EAAK+sB,WAAW84C,aAAatE,IACnCvhE,EAAOA,EAAK+sB,WAGb,IACC+4C,EAAQ5D,EAASiB,SAAW,MAAQ,OACpC4C,EAAkBzE,EAAM9+D,IAAIpnB,OAAO8mF,EAAS9lF,WAC5C4pF,EAAgB1E,EAAM9+D,IAAIpnB,OAAO4kB,GAE7BwiE,IACJuD,EAAgBD,IAAUtE,EAAWmC,aAGtCnC,EAAW3jF,SAASmoF,EAAcF,GAASC,EAAgBD,GAAQH,EACpE,MACCruF,EAAI,EAAG,kEAAmEouF,EAE5E,CACA,OAAOlE,CACR,EA+BA3rF,KAAK8tF,UAAY,SAAUsC,GAC1B,OAAKxB,UAAU1rF,QAGVuoF,EAAMvhF,KAAK6lF,SAASK,GACvB/C,EAAe+C,EAEf3uF,EAAI,EAAG,oHAGFkqF,GARC0B,EAAaxhF,KAAK8/E,EAS3B,EAsBA3rF,KAAKqwF,KAAO,SAAUC,GACrB,IAAIl4D,EAAS,CACZ/yB,KAAMunF,EACNU,SAAUjB,EAASiB,SACnBQ,UAAWrB,EACX8D,gBAAiB7D,EACjBnmF,UAAW8lF,EAAS9lF,UACpBiqF,WAAY7D,GAEb,OAAKiC,UAAU1rF,YAEcghB,IAAlBkU,EAAOk4D,GACVl4D,EAAOk4D,QAEd7uF,EAAI,EAAG,kBAAqB6uF,EAAQ,sBAJ7Bl4D,CAOT,EAgBAp4B,KAAKguF,SAAW,SAAUyC,GACzB,OAAK7B,UAAU1rF,QAEJmpF,EAAS2B,UAAYyC,IAC/BpE,EAAS2B,SAAWyC,GAEd9E,GAJCU,EAAS2B,QAKlB,EAiBAhuF,KAAKu/E,QAAU,SAAUmR,GACxB,OAAK9B,UAAU1rF,QAEJ2pF,GAAY6D,IACtB7D,IAAa6D,EACb/E,EAAWgE,YAAYpD,GAAe,IAEhCZ,GALCkB,CAMT,EAgBA7sF,KAAK6e,QAAU,SAAU8xE,GACxB/tF,OAAOguF,aAAa/E,GAEpB,IADA,IAAIvgF,EAAIihF,EAAcrpF,OACfoI,KACNihF,EAAcjhF,GAAGuT,QAAQ8xE,GAM1B,OAJAtE,EAAS9lF,UAAUsZ,oBAAoB,SAAUmtE,GACjDX,EAAS9lF,UAAUsZ,oBAAoB,SAAUmtE,GACjDvB,EAAMoF,IAAIjF,GACVnqF,EAAI,EAAG,aAAeqqF,EAAY,aAAe6E,EAAc,OAAS,SAAW,KAC5E,IACR,EAGA7D,IACOnB,CACR,EAGA,IAAIQ,EAAqB,CACxBC,SAAU,CACT7lF,UAAW3D,OACX0qF,UAAU,EACVkC,mBAAoB,CAAC,EACrBxB,SAAU,EACVd,gBAAiB,MAMnB1B,EAAYG,WAAWmF,UAAY,SAAU7mF,EAAM8mF,GAClD5E,EAAmBC,SAASniF,GAAQ8mF,CACrC,EAEAvF,EAAYG,WAAWW,OAAS,SAAU0E,GACzC,IAAIC,EAAWjxF,KACfwrF,EAAYG,WAAa,WAGxB,OAFAsF,EAASziF,MAAMxO,KAAM4uF,WACrB5uF,KAAKkxF,OAASzF,EAAMa,OAAO,CAAC,EAAGtsF,MACxBgxF,EAAUxiF,MAAMxO,KAAM4uF,YAAc5uF,IAC5C,EACAyrF,EAAMa,OAAOd,EAAYG,WAAYsF,GACrCzF,EAAYG,WAAWjgF,UAAYulF,EAASvlF,UAC5C8/E,EAAYG,WAAWjgF,UAAU5L,YAAc0rF,EAAYG,UAC5D,EAyCAH,EAAY4D,MAAQ,SAAU5c,GAQ7B,IAwBC2e,EACAC,EAxBAtF,EAAY,oBACZuF,EAAqB,SACrBC,EAAqB,SACrBC,EAAoB,QACpBrF,EAAkBsF,EAAcpF,SAShCgD,EAAQpvF,KACRqsF,EAAWZ,EAAMa,OAAO,CAAC,EAAGJ,EAAiB1Z,GAC7Cif,EAASJ,EACTK,EAAY,EACZC,EAAgB,CACfptF,MAAO,EACP+jB,IAAK,GAENspE,EAAc,EACd/E,GAAW,EAQRC,EAAY,WACf,IAAK,IAAI7lF,KAAOolF,EACVH,EAAgBtgF,eAAe3E,KACnCxF,EAAI,EAAG,4BAA+BwF,EAAM,YACrColF,EAASplF,IAIlB,IAAK,IAAI4qF,KAAc3F,EACtB4F,EAAeD,GAGhBE,GACD,EAQIC,EAAa,CAAC,EA6OlBhyF,KAAKuvF,GAAK,SAAU0C,EAAOv3E,GAqB1B,OApBI+wE,EAAMvhF,KAAK6lF,SAASr1E,IACvBu3E,EAAQA,EAAM5xE,OAAOpI,MAAM,MACrB9V,SAAQ,SAAU+vF,GACvB,IACCC,EAAYD,EAASj6E,MAAM,KAC3Bm6E,EAAYD,EAAU,GACtBE,EAAYF,EAAU,GACN,KAAbC,IACEJ,EAAWI,KACfJ,EAAWI,GAAa,IAEzBJ,EAAWI,GAAWxlF,KAAK,CAC1BylF,UAAWA,GAAa,GACxB33E,SAAUA,IAGb,IAEAjZ,EAAI,EAAG,sDAAwDwwF,EAAQ,8BAEjE7C,CACR,EAmBApvF,KAAK0vF,IAAM,SAAUuC,EAAOv3E,GAC3B,OAAKu3E,IAILA,EAAQA,EAAM5xE,OAAOpI,MAAM,MACrB9V,SAAQ,SAAU+vF,EAAUjrF,GACjC,IACCkrF,EAAYD,EAASj6E,MAAM,KAC3Bm6E,EAAYD,EAAU,GACtBE,EAAYF,EAAU,IAAM,IACD,MAAdC,EAAoBzmF,OAAOwU,KAAK6xE,GAAc,CAACI,IAClDjwF,SAAQ,SAAUF,GAI5B,IAHA,IACCgH,EAAO+oF,EAAW/vF,IAAW,GAC7BqJ,EAAIrC,EAAK/F,OACHoI,KAAK,CACX,IAAIgnF,EAAWrpF,EAAKqC,IAChBgnF,GAAaD,IAAcC,EAASD,WAA2B,MAAdA,GAAwB33E,GAAYA,GAAY43E,EAAS53E,UAC7GzR,EAAK6W,OAAOxU,EAAG,EAEjB,CACKrC,EAAK/F,eACF8uF,EAAW/vF,EAEpB,GACD,IACOmtF,IAzBN3tF,EAAI,EAAG,uCACA2tF,EAyBT,EAaApvF,KAAK0kB,QAAU,SAAUza,EAAM28B,GAC9B,GAAI38B,EAAM,CACT,IACCkoF,EAAYloF,EAAKoW,OAAOpI,MAAM,KAC9Bm6E,EAAYD,EAAU,GACtBE,EAAYF,EAAU,GACtBI,EAAYP,EAAWI,GACxB3wF,EAAI,EAAG,eAAgB2wF,EAAWxrD,EAAO,KAAO,GAAIA,GAAQ,IACxD2rD,GACHA,EAAUpwF,SAAQ,SAAUmwF,EAAUrrF,GAChCorF,GAAaA,IAAcC,EAASD,WACxCC,EAAS53E,SAAS7O,KAAKujF,EAAO,IAAI5D,EAAY4C,MAAMgE,EAAWE,EAASD,UAAWjD,EAAOxoD,GAE5F,GAEF,MACCnlC,EAAI,EAAG,uCAER,OAAO2tF,CACR,EAGAA,EACEG,GAAG,mBAAmB,SAAUhvF,GACjB,aAAXA,EAAEiyF,MAAkC,iBAAXjyF,EAAEiyF,OACf,mBAAXjyF,EAAEiyF,KACLC,IACqB,YAAXlyF,EAAEiyF,MACZpD,EAAM77B,SAGT,IACCg8B,GAAG,kBAAkB,SAAUhvF,GAC/BmyF,IACAtD,EAAM77B,QACP,IAUD,IAAI9xD,EAAMzB,KAAK0uF,KAAO,SAAUV,EAAUW,GACrCtC,EAAS2B,UAAYA,IACxBz/E,MAAM7C,UAAUoU,OAAOjU,KAAK+iF,UAAW,EAAG,EAAG,IAAM9C,EAAY,QAC/DL,EAAMhqF,IAAI+M,MAAM5L,OAAQgsF,WAE1B,EAcA5uF,KAAKsvF,MAAQ,SAAUD,GAqBtB,OApBMA,aAAsB7D,EAAYG,WAE7ByF,GAAe/B,IAErB+B,GACHA,EAAY3B,YAAYL,GAEzBgC,EAAc/B,EACd0C,IACAY,GAAe,GACfF,GAA6B,GAC7BC,IACAtB,EAAYf,KAAK,aAAa/vF,iBAAiB,SAAUsyF,GACzDvD,EAAWH,SAASE,GACpBA,EAAM1qE,QAAQ,MAAO,CACpB2qE,WAAY+B,IAEb3vF,EAAI,EAAG,SAAWqqF,EAAY,kBAC9BsD,EAAM77B,UAjBN9xD,EAAI,EAAG,+EAmBD2tF,CACR,EAiBApvF,KAAKu/E,QAAU,SAAUmR,GACxB,OAAK9B,UAAU1rF,QAEJ2pF,GAAY6D,IACtB7D,IAAa6D,EACbtB,EAAM77B,QAAO,IAEP67B,GALCvC,CAMT,EAcA7sF,KAAKiC,OAAS,WACb,GAAImvF,EAAa,CAChBA,EAAYf,KAAK,aAAaxwE,oBAAoB,SAAU+yE,GAC5D,IAAIC,EAAYzB,EAChBA,OAAcltE,EACd2uE,EAAUpD,YAAYL,GACtBA,EAAM1qE,QAAQ,UACdjjB,EAAI,EAAG,WAAaqqF,EAAY,mBACjC,CACA,OAAOsD,CACR,EAeApvF,KAAK6e,QAAU,SAAU/c,GAOxB,OANAstF,EAAM1qE,QAAQ,UAAW,CACxB5iB,MAAOA,IAERstF,EAAMntF,SACNmtF,EAAMM,IAAI,OACVjuF,EAAI,EAAG,aAAeqqF,EAAY,aAAehqF,EAAQ,OAAS,SAAW,KACtE,IACR,EAuBA9B,KAAKuzD,OAAS,SAAUq8B,GACvB,GAAIwB,EACH,GAAIxB,EACH,GAAIwB,EAAY7R,WAAasN,EAAU,CACtC,IAECiG,EADAhF,EAAYsD,EAAYf,KAAK,aAI7ByC,EADGzG,EAASxrE,SAAW,GACRitE,EAAY6D,EAAcptF,QAAUotF,EAAcrpE,IAAMqpE,EAAcptF,OAEvEupF,GAAa6D,EAAcptF,MAAQ,EAAI,EAGtD6qF,EAAM1qE,QAAQ,SAAU,CACvBurD,SAAU0hB,EAAcptF,MACxB2rE,OAAQyhB,EAAcrpE,IACtBwlE,UAAWA,IAGZsB,EAAM2D,SAASD,EAChB,MAAWE,GAAQvB,IAAWH,GAC7B2B,GAAe,QAGhB7B,EAAYzB,YAAYP,GAAO,GAGjC,OAAOA,CACR,EAwBApvF,KAAKotF,QAAU,WAId,OAHAuF,IACAF,IAEOrD,CACR,EAgDApvF,KAAK+yF,SAAW,SAAUA,GACzB,GAAKnE,UAAU1rF,OAER,CACN,IACCgwF,GAAW,EACXC,EAAW1B,EACXlB,EAAkBa,EAAcA,EAAYf,KAAK,mBAAqB,SACtE+C,EAAmB/G,EAASxwD,SAAWk3D,GAAYrB,EAyBpD,GAxB0B,IAAtBrF,EAASxrE,UAEZqyE,EAAWxB,GAAaqB,EAExBtB,EAAuB,IADvBC,EAAYqB,EAAW,GAAKK,EAAmB,EAAI,GACxB/B,EAAqBC,GAG5CyB,EAAW,GAAKtB,IAAWJ,GAAsB+B,GAEpD1B,EAAY,EACZD,EAASJ,EACT6B,GAAW,GACDH,GAAY,GAAKA,EAAW,GAAKK,GAC3C1B,EAAYqB,EACZtB,EAASH,EACT4B,GAAW,GACDH,GAAY,GAAKtB,IAAWF,GACtCG,EAAY,EACZD,EAASF,EACT2B,GAAW,GACDzB,IAAWH,GAAuB8B,GAC5CH,IAGEC,EAAU,CAEb,IACCG,EAAY,CACXN,SAAUrB,EACVhe,MAAO+d,EACPlB,gBAAiBA,GAElB+C,EAAe7B,GAAU0B,EAEtBzuE,EAAU,SAAUjF,GACvB2vE,EAAM1qE,QAAQjF,EAAW4zE,EAC1B,EAEIC,GACCH,IAAa7B,IAChB5sE,EAAQ,SACRA,EAAQyuE,IAAa9B,EAAqB,QAAU,QAGtD3sE,EAAQ,YACJ4uE,GACC7B,IAAWH,IACd5sE,EAAQ+sE,IAAWJ,EAAqB,QAAU,OAClD3sE,EAAQ,SAGX,CAEA,OAAO0qE,CACR,CA7DC,OAAOsC,CA8DT,EAaA,IAyZCsB,EACAO,EA1ZGb,EAAqB,WACxBf,EAAgB,CACfptF,MAAOqtF,EAAcvF,EAAS9mF,QAE3B6rF,GAAe/E,EAASmH,iBAE3B7B,EAAcptF,OAAS6sF,EAAYf,KAAK,QAAUhE,EAASoH,aAE5D9B,EAAcrpE,IAAMqpE,EAAcptF,MAAQ8nF,EAASxrE,QACpD,EAYI8xE,EAAiB,SAAUe,GAE9B,GAAIvC,EAAuB,CAC1B,IAAIwC,EAAU,WACVC,EAAaD,EAASxC,EAAsBtlF,KAAKujF,MAAYsE,IAChEtE,EAAM1qE,QAAQ,SAAU,CACvB8tE,KAAMmB,EACNE,OAAQxH,EAASsH,KAElBvE,EAAM1qE,QAAQ,QAAS,CACtBovE,OAAQH,IAGX,CACD,EAcIlB,EAA+B,SAAUiB,GAC5C,IACCK,EAAa,EACbC,EAAQ3H,EAASmH,eAClB,GAAIpC,IAAgB4C,GAASpC,EAAc,GAAI,CAC9C,GAAIoC,EACH,GAAIA,EAAM98C,WAAY,CAOrB,IANA,IACC+8C,EAAiB7C,EAAYf,OAC7BH,EAAkBzE,EAAM9+D,IAAIpnB,OAAO0uF,EAAe1tF,WAClD0pF,EAAQgE,EAAe3G,SAAW,MAAQ,OAGpC0G,EAAM98C,WAAW84C,aAAatE,IACpCsI,EAAQA,EAAM98C,WAGf,IAAIi5C,EAAgB1E,EAAM9+D,IAAIpnB,OAAOyuF,GAEhCC,EAAezD,aACnBN,EAAgBD,IAAUmB,EAAYtD,aAGvCiG,EAAa5D,EAAcF,GAASC,EAAgBD,EAErD,MACCxuF,EAAI,EAAG,yEAAqEyiB,GAC5EkrE,EAAMoE,oBAAetvE,GAIvB,IAAIopD,EAAUymB,GAAcnC,EAC5BA,EAAcmC,EACVzmB,IAAYomB,GACftE,EAAM1qE,QAAQ,QAAS,CACtBovE,OAAQ,0BAGX,CACD,EAMIlB,EAAoB,SAAUryF,GAC7B8rF,EAASoH,YAAc,GAC1BrE,EAAM1qE,QAAQ,QAAS,CACtBovE,OAAQ,mBAGX,EAGII,EAAYzI,EAAMa,OAAOkF,EAAc2C,SAAU,CAEpDtzE,SAAU,SAAUxQ,GACnB,GAAIo7E,EAAMvhF,KAAK+zD,OAAO5tD,IAAQA,EAAI+jF,MAAM,kBAAmB,CAE1D,IAAIjkE,EAAOkkE,WAAWhkF,GAAO,IAC7BA,EAAM,WACL,OAAO+gF,EAAcA,EAAYf,KAAK,QAAUlgE,EAAO,CACxD,CACD,CACA,GAAIs7D,EAAMvhF,KAAK6lF,SAAS1/E,GAAM,CAE7B8gF,EAAwB9gF,EACxB,IACCA,EAAMgkF,WAAWlD,EAAsBtlF,KAAKujF,GAC7C,CAAE,MAAO7uF,GACR8P,GAAO,CACR,CACD,CAGA,GADAA,EAAMgkF,WAAWhkF,IACZo7E,EAAMvhF,KAAKsd,OAAOnX,IAAQA,EAAM,EACpC,MAAI8gF,GACHA,OAAwBjtE,EAClB,CAAC,mEAAsE7T,IAEvE,CAAC,uCAA0CA,GAGnD,OAAOA,CACR,IAOG0hF,EAAiB,SAAUuC,IAC9BA,EAAQ1F,UAAU1rF,OAAS,CAACoxF,GAAS3oF,OAAOwU,KAAK+zE,IAC3C/xF,SAAQ,SAAU0vF,EAAY5qF,GACnC,IAAIsC,EACJ,GAAI2qF,EAAUrC,GACb,IACCtoF,EAAQ2qF,EAAUrC,GAAYxF,EAASwF,GACxC,CAAE,MAAOtxF,GACRgJ,EAAQ2iF,EAAgB2F,GACxB,IAAI0C,EAAS9I,EAAMvhF,KAAK+zD,OAAO19D,GAAK,CAACA,GAAKA,EACtCkrF,EAAMvhF,KAAKqE,MAAMgmF,IACpBA,EAAO,GAAK,UAAYA,EAAO,GAC/BA,EAAOthD,QAAQ,GACfxxC,EAAI+M,MAAMxO,KAAMu0F,IAEhB9yF,EAAI,EAAG,4DAA8DowF,EAAa,KAAMtxF,EAAEoB,QAE5F,CAAE,QACD0qF,EAASwF,GAActoF,CACxB,CAEF,GACD,EAMIqqF,EAAe,SAAUD,EAASE,GACrC,IACCvmB,GAAU,EACVknB,EAASnI,EAASsH,GAMnB,OALItH,EAASsH,IAAYE,IACxBxH,EAASsH,GAAWE,EACpB9B,EAAe4B,GACfrmB,EAAUknB,GAAUnI,EAASsH,IAEvBrmB,CACR,EAGIwkB,EAAiB,SAAUD,GACzBzC,EAAMyC,KACVzC,EAAMyC,GAAc,SAAU4C,GAC7B,OAAK7F,UAAU1rF,QAGK,aAAf2uF,IACHV,OAAwBjtE,GAErB0vE,EAAa/B,EAAY4C,KAC5BrF,EAAM1qE,QAAQ,SAAU,CACvB8tE,KAAMX,EACNgC,OAAQxH,EAASwF,KAEdL,EAAckD,OAAOp6E,QAAQu3E,IAAe,GAC/CzC,EAAM1qE,QAAQ,QAAS,CACtBovE,OAAQjC,KAKLzC,GAjBC/C,EAASwF,EAkBlB,EAEF,EAgJA7xF,KAAKqvF,WAAa,WACjB,OAAO+B,CACR,EAWApxF,KAAK0zE,MAAQ,WACZ,OAAO+d,CACR,EAeAzxF,KAAKivF,aAAe,WACnB,OAAO0C,EAAcptF,KACtB,EAWAvE,KAAK20F,gBAAkB,WACtB,IAAIt5D,EAAMgxD,EAAS9mF,OAWnB,OAVI6rF,IAEC/E,EAASmH,eAEZn4D,GAAOu2D,EAGPv2D,GAAO+1D,EAAYf,KAAK,QAAUjB,EAAMqE,eAGnCp4D,CACR,EAOA+zD,EACEG,GAAG,kBAAkB,SAAUhvF,GAC/B,IAAIq0F,EAA+B,aAAbr0F,EAAEuzF,QACnBrC,IAAWF,GAAqBqD,GAAqBnD,IAAWH,GAA4C,IAAtBjF,EAASxrE,WAEnGoyE,IAEG2B,GACHC,GAEF,IACCtF,GAAG,qBAAqB,SAAUhvF,GAClC0yF,GACD,IACC1D,GAAG,gBAAgB,SAAUhvF,GAC7Bs0F,GACD,IACCtF,GAAG,oBAAoB,SAAUhvF,GACjC6uF,EAAM0F,UAAUv0F,EAAEuB,MACnB,IAKD,IAAImxF,EAAiB,SAAU8B,GAC9B,GAAI/B,GAAQ5B,EAAa,CACxB,IACC4D,EAAgB5D,EAAYf,OAC5B4E,EAAY1B,EAAY2B,OAAOC,WAEhC,GAAKJ,GAActD,IAAWH,EA0BvB,CAEN,IACC8D,EAAS,CACRnkF,SAAUsiF,EAAY8B,OAAS,WAAa,WAC5CztF,IAAK,EACLD,KAAM,GAEP2tF,EAAS7J,EAAM8J,IAAIN,EAAW,aAAeG,EAAOnkF,SAEhDsiF,EAAYiC,cAENnJ,EAASxrE,SAAW,IAC1B4wE,IAAWF,GAAkF,IAA7D8C,WAAW5I,EAAM8J,IAAIhC,EAAY2B,OAAQ,iBAElEzD,IAAWJ,GAAsF,IAAhEgD,WAAW5I,EAAM8J,IAAIhC,EAAY2B,OAAQ,sBADpFI,GAAS,GAHVF,EAAOJ,EAAc1H,SAAW,MAAQ,QAAUjB,EAASxrE,SAAW6wE,EASvEjG,EAAM8J,IAAIN,EAAWG,GACjBE,GAEHT,GAEF,KAnDkD,CAET,SAApCpJ,EAAM8J,IAAIN,EAAW,cAExBxJ,EAAM8J,IAAIN,EAAW,CACpB,SAAY,UAGbJ,KAGD,IACCY,EAAWhK,EAAM9+D,IAAIpnB,OAAOguF,EAAY2B,QAAQ,GAChDQ,EAAiBrJ,EAASxwD,SAAiC,IAAtBwwD,EAASxrE,SAC9Cm0E,EAAclH,UAAY6D,EAAcptF,MAExC+K,KAAKuB,MAAM6gF,EAAYrF,EAASxrE,SAAW,IAAM,GAGlD40E,EAAST,EAAc1H,SAAW,MAAQ,SAAWoI,EAGrDjK,EAAM8J,IAAIhC,EAAY2B,OAAOC,WAAY,CACxCvtF,IAAK6tF,EAAS7tF,IACdD,KAAM8tF,EAAS9tF,MAEjB,CA0BD,CACD,EAOIktF,EAAsB,WACzB,GAAI7B,GAAQ5B,GAAemC,EAAY8B,OAAQ,CAC9C,IAGCM,EAAUlE,IAAWH,EACrBhE,EAAW8D,EAAYf,KAAK,YAC5B4E,EAAY1B,EAAY2B,OAAOC,WAC/BS,EAAiBnK,EAAMoK,qBAAqBpK,EAAM8J,IAAIhC,EAAY2B,OAAQ,YAC1EK,EAAM,CAAC,EAIJhC,EAAYuC,QAAQz5E,OAASk3E,EAAYuC,QAAQC,cAChDJ,EACHlK,EAAM8J,IAAIvC,EAAM,CACf,MAASvH,EAAM9+D,IAAItQ,MAAMk3E,EAAY2B,UAGtCzJ,EAAM8J,IAAIvC,EAAM,CACf,MAAS,UAKXuC,EAAI,aAAe9J,EAAM9+D,IAAItQ,MAAMixE,EAAW0F,EAAOiC,GAAW,GAAM,GACtEM,EAAIl5E,MAAQs5E,EAASJ,EAAI,aAAe,QAErChC,EAAYuC,QAAQx5E,OACnBq5E,EAEHlK,EAAM8J,IAAIvC,EAAM,CACf,OAAUvH,EAAM9+D,IAAIrQ,OAAOi3E,EAAY2B,SAAW3B,EAAYiC,cAAgBnJ,EAASxrE,SAAW,KAGnG4qE,EAAM8J,IAAIvC,EAAM,CACf,OAAU,UAKZuC,EAAI,cAAgB9J,EAAM9+D,IAAIrQ,OAAOgxE,EAAW2H,EAAYjC,GAAM,GAAO4C,GACzEL,EAAIj5E,OAASq5E,EAASJ,EAAI,cAAgB,QAIvChC,EAAYiC,gBACfD,EAAI,WAAajI,EAAW,MAAQ,SAAWjB,EAASxrE,SAAW6wE,EACnE6D,EAAI,WAAajI,EAAW,SAAW,UAAYjB,EAASxrE,UAAY,EAAI6wE,IAE7EjG,EAAM8J,IAAIhC,EAAY2B,OAAQK,EAC/B,CACD,EAQIS,EAAuB,WACtB5E,GAAe4B,GAAQvB,IAAWH,IAAuBF,EAAYf,KAAK,eAC7E4C,GAEF,EAQIgD,EAA0B,WACzB7E,GAAe4B,GAClBvB,IAAWH,KAERiC,EAAYuC,QAAQz5E,OAASk3E,EAAYuC,QAAQC,gBAAkBtK,EAAM9+D,IAAItQ,MAAMzZ,SAAW6oF,EAAM9+D,IAAItQ,MAAMk3E,EAAY2B,OAAOh+C,aAClIq8C,EAAYuC,QAAQx5E,QAAUmvE,EAAM9+D,IAAIrQ,OAAO1Z,SAAW6oF,EAAM9+D,IAAIrQ,OAAOi3E,EAAY2B,OAAOh+C,cAGhG29C,GAEF,EAOIqB,EAAsB,SAAU31F,GAC/B6wF,GAAe4B,GAAQvB,IAAWH,IAAuBF,EAAYf,KAAK,gBAC7E9vF,EAAEC,iBACF4wF,EAAY3D,cAAc2D,EAAYf,KAAK,eAAiB9vF,EAAE41F,YAAc51F,EAAE6wF,EAAYf,KAAK,YAAc,cAAgB,gBAAkB,GAAiB,IAAX9vF,EAAE61F,SAEzJ,EAwBAp2F,KAAKq2F,OAAS,SAAUtlF,EAASulF,GAChC,IACCC,EAAkB,CACjBf,eAAe,EACfgB,YAAa,0BAEXC,EAA2BH,GAAYA,EAAS1qF,eAAe,iBAKnE,GAJA0qF,EAAW7K,EAAMa,OAAO,CAAC,EAAGiK,EAAiBD,KAG7CvlF,EAAU06E,EAAM9+D,IAAIwmB,SAASpiC,GAAS,IAGrC,OADAtP,EAAI,EAAG,kEACA2tF,EACD,GAAuC,UAAnC3D,EAAM8J,IAAIxkF,EAAS,YAE7B,OADAtP,EAAI,EAAG,iGACA2tF,EAGR,GAAI4D,EAAM,CACT,GAAIA,IAASjiF,EAEZ,OAAOq+E,EAGPA,EAAM0F,WAGR,CAGA,IACC4B,GAHD1D,EAAOjiF,GAGemmC,WAAWlmC,MAAME,QACtCylF,EAAe,CAAC,MAAO,OAAQ,SAAU,QAAS,SAAU,aAAc,cAAe,YAAa,gBAEvG3D,EAAK97C,WAAWlmC,MAAME,QAAU,OAChC,IACCmkF,EAAwC,YAA/B5J,EAAM8J,IAAIvC,EAAM,YACzB4D,EAASnL,EAAM8J,IAAIvC,EAAM2D,EAAa9rE,OAAO,CAAC,aAC9CgsE,EAAUpL,EAAM8J,IAAIvC,EAAM,CAAC,QAAS,WACrCA,EAAK97C,WAAWlmC,MAAME,QAAUwlF,GAE3BrB,GAAUiB,EAASd,gBACvB/zF,EAAI,EAAG,2FACP60F,EAASd,eAAgB,GAE1B5yF,OAAOc,YAAW,WACbsvF,GAA8B,IAAtB3G,EAASxrE,UAAkB41E,GAA4BH,EAASd,eAC3E/zF,EAAI,EAAG,4BAA4B,EAAM,2CAE3C,GAAG,GAGH,IACCyzF,EAASlC,EAAK97C,WAAWuoB,aAAax+D,SAASiK,cAAc,OAAQ8nF,GACrE8D,EAAYrL,EAAMa,OAAOsK,EAAQ,CAChC3lF,SAAUokF,EAAS,WAAa,WAChC0B,UAAW,cACXC,aAAc,cACdC,gBAAiB,gBAuBnB,GApBK5B,GACJ5J,EAAMa,OAAOwK,EAAWrL,EAAM8J,IAAIvC,EAAM,CAAC,QAAS,YAGnDvH,EAAM8J,IAAIL,EAAQ4B,GAClB5B,EAAO/qF,aAAauhF,EAAsB,IAC1CD,EAAMyL,SAAShC,EAAQoB,EAASE,aAGhCjD,EAAc,CACb2B,OAAQA,EACRY,QAAS,CACRz5E,MAAmC,MAA5Bw6E,EAAQx6E,MAAMyO,OAAO,GAC5BxO,OAAqC,MAA7Bu6E,EAAQv6E,OAAOwO,OAAO,GAC9BirE,cAAiC,SAAlBc,EAAQx6E,OAAoBg5E,GAAU5J,EAAMoK,qBAAqBe,EAAO1lF,UAExFskF,cAAec,EAASd,cACxBH,OAAQA,IAGJrC,EAAKmE,aAAc,CACvBnE,EAAKmE,aAAe,CAAC,EACrB,IACCC,EAAepE,EAAKhiF,MACP2lF,EAAa9rE,OAAO,CAAC,QAAS,SAAU,WAAY,YAAa,eAAgB,oBACpF1oB,SAAQ,SAAUkO,GAC5B2iF,EAAKmE,aAAa9mF,GAAO+mF,EAAa/mF,IAAQ,EAC/C,GACD,CA+CA,OA5CIkjF,EAAYuC,QAAQz5E,OACvBovE,EAAM8J,IAAIL,EAAQ,CACjB74E,MAAOw6E,EAAQx6E,QAGbk3E,EAAYuC,QAAQx5E,QACvBmvE,EAAM8J,IAAIL,EAAQ,CACjB54E,OAAQu6E,EAAQv6E,SAKlB44E,EAAO9qF,YAAY4oF,GAEnBvH,EAAM8J,IAAIvC,EAAM,CACf/hF,SAAUokF,EAAS,WAAa,WAChC5mB,OAAQ,OACR7mE,IAAK,OACLD,KAAM,OACNiuC,OAAQ,OACRtE,MAAO,UAGJiiD,EAAYuC,QAAQz5E,OAASk3E,EAAYuC,QAAQC,gBACpDtK,EAAM8J,IAAIvC,EAAM,CACf+D,UAAW,aACXC,aAAc,aACdC,gBAAiB,eAKnBr0F,OAAOtC,iBAAiB,SAAU01F,GAClCpzF,OAAOtC,iBAAiB,SAAU01F,GAClCpzF,OAAOtC,iBAAiB,SAAU21F,GAElCjD,EAAK1yF,iBAAiB,aAAc41F,GACpClD,EAAK1yF,iBAAiB,iBAAkB41F,GAExCz0F,EAAI,EAAG,aAGPwxF,IAEO7D,CACR,EAeApvF,KAAK80F,UAAY,SAAUhzF,GAC1B,GAAIkxF,EAAM,CAIT,GAHIvB,IAAWH,GACd2B,GAAe,GAEZnxF,IAAUsvF,EAAa,CAC1B,IAAI6D,EAAY1B,EAAY2B,OAAOC,WACnC,GAAIF,EAAUjF,aAAatE,GAAuB,CACjD,IACC16E,EAAQuiF,EAAY2B,OAAOlkF,MAE3BqmF,EAAU,CAAC,EADF,CAAC,SAAU,aAAc,cAAe,YAAa,gBAExDl1F,SAAQ,SAAUkO,GACxBgnF,EAAQhnF,GAAOW,EAAMX,IAAQ,EAC9B,IACAo7E,EAAM8J,IAAIN,EAAWoC,EACtB,CACA9D,EAAY2B,OAAOh+C,WAAWuoB,aAAaw1B,EAAW1B,EAAY2B,QAClE3B,EAAY2B,OAAOh+C,WAAW0E,YAAY23C,EAAY2B,QACjDlC,EAAK97C,WAAW84C,aAAatE,KAEjCD,EAAM8J,IAAIvC,EAAMA,EAAKmE,qBACdnE,EAAKmE,aAEd,CACAv0F,OAAOid,oBAAoB,SAAUm2E,GACrCpzF,OAAOid,oBAAoB,SAAUm2E,GACrCpzF,OAAOid,oBAAoB,SAAUo2E,GACrCjD,EAAKnzE,oBAAoB,aAAcq2E,GACvClD,EAAKnzE,oBAAoB,iBAAkBq2E,GAC3ClD,OAAO9uE,EACPziB,EAAI,EAAG,wBAA0BK,EAAQ,OAAS,SAAW,IAC9D,CACA,OAAOstF,CACR,EAGA,IACCkI,EACAC,EAAiB,GAuElB,OArEAnI,EACEG,GAAG,oBAAoB,SAAUhvF,GACjC6uF,EAAMoI,kBAAkBj3F,EAAEuB,MAC3B,IAkBD9B,KAAKy3F,eAAiB,SAAU1mF,EAAS2mF,GACxC,IAAIxjD,EAAQu3C,EAAM9+D,IAAIwmB,SAASpiC,GAC/B,OAAqB,IAAjBmjC,EAAMhxC,QAAiBuoF,EAAMvhF,KAAK+zD,OAAOy5B,IAIzCH,EAAer0F,OAAS,GAE3BksF,EAAMoI,oBAEPF,EAAcI,EACdH,EAAiBrjD,EACjBk7C,EAAMG,GAAG,6CAA6C,SAAUhvF,GAC/D,IAAIo3F,EAAoB,UAAXp3F,EAAE2J,KAAmBuhF,EAAMyL,SAAWzL,EAAMmM,YACzDL,EAAep1F,SAAQ,SAAUgoB,EAAMljB,GACtC0wF,EAAOxtE,EAAMmtE,EACd,GACD,IACOlI,IAfN3tF,EAAI,EAAG,qDAAwE,IAAjByyC,EAAMhxC,OAAe,UAAY,WAAa,cACrGksF,EAeT,EAeApvF,KAAKw3F,kBAAoB,SAAU11F,GASlC,OARIA,GACHy1F,EAAep1F,SAAQ,SAAUgoB,EAAMljB,GACtCwkF,EAAMmM,YAAYztE,EAAMmtE,EACzB,IAEDlI,EAAMM,IAAI,2CACV4H,OAAcpzE,EACdqzE,EAAiB,GACVnI,CACR,EAGAtC,IACOsC,CACR,EAGA,IAAIoC,EAAgB,CACnBpF,SAAU,CACTvrE,SAAU,EACVtb,OAAQ,EACRiuF,oBAAgBtvE,EAChBuvE,YAAa,GACb53D,SAAS,EACTmyD,SAAU,GAEXmG,SAAU,CACT5uF,OAAQ,SAAU8K,GAEjB,GADAA,EAAMgkF,WAAWhkF,IACZo7E,EAAMvhF,KAAKsd,OAAOnX,GACtB,KAAM,CAAC,qCAAwCA,GAEhD,OAAOA,CACR,EACAmjF,eAAgB,SAAUnjF,GAEzB,GADAA,EAAMA,QAAO6T,EACJ,CACR,IAAIiG,EAAOshE,EAAM9+D,IAAIwmB,SAAS9iC,GAAK,GACnC,IAAI8Z,IAAQA,EAAK+sB,WAGhB,KAAM,CAAC,4DAA+D7mC,GAFtEA,EAAM8Z,CAIR,CACA,OAAO9Z,CACR,EACAojF,YAAa,SAAUpjF,GACtB,IAAIsxB,EAAY,CACf,SAAY,GACZ,QAAW,EACX,QAAW,GAEZ,GAAI8pD,EAAMvhF,KAAKsd,OAAOnX,GACrBA,EAAMf,KAAKO,IAAI,EAAGP,KAAKS,IAAIskF,WAAWhkF,GAAM,QACtC,MAAIA,KAAOsxB,GAGjB,KAAM,CAAC,2CAA8CtxB,GAFrDA,EAAMsxB,EAAUtxB,EAGjB,CACA,OAAOA,CACR,EACAwrB,QAAS,SAAUxrB,GAClB,QAASA,CACV,EACA29E,SAAU,SAAU39E,GAEnB,GADAA,EAAM8T,SAAS9T,IACVo7E,EAAMvhF,KAAKsd,OAAOnX,IAAQA,EAAM,GAAKA,EAAM,EAC/C,KAAM,CAAC,uCAA0CA,GAElD,OAAOA,CACR,GAEDqkF,OAAQ,CAAC,WAAY,SAAU,gBAMhClJ,EAAY4D,MAAM0B,UAAY,SAAU7mF,EAAM8mF,EAAc8G,EAAoBnD,GACzEzqF,KAAQunF,EAAcpF,SAO3BZ,EAAYC,MAAMhqF,IAAI,EAAG,0DAA4DwI,EAAO,kCAN5FunF,EAAcpF,SAASniF,GAAQ8mF,EAC/BS,EAAc2C,SAASlqF,GAAQ4tF,EAC3BnD,GACHlD,EAAckD,OAAO9nF,KAAK3C,GAK7B,EAGAuhF,EAAY4D,MAAM9C,OAAS,SAAU0E,GACpC,IAAIC,EAAWjxF,KACfwrF,EAAY4D,MAAQ,WAGnB,OAFA6B,EAASziF,MAAMxO,KAAM4uF,WACrB5uF,KAAKkxF,OAASzF,EAAMa,OAAO,CAAC,EAAGtsF,MACxBgxF,EAAUxiF,MAAMxO,KAAM4uF,YAAc5uF,IAC5C,EACAyrF,EAAMa,OAAOd,EAAY4D,MAAO6B,GAChCzF,EAAY4D,MAAM1jF,UAAYulF,EAASvlF,UACvC8/E,EAAY4D,MAAM1jF,UAAU5L,YAAc0rF,EAAY4D,KACvD,EAUA5D,EAAY4C,MAAQ,SAAUlkF,EAAMmoF,EAAW5pF,EAAQm+B,GAEtD,IAAK,IAAI3/B,KADT2/B,EAAOA,GAAQ,CAAC,EAEf5mC,KAAKiH,GAAO2/B,EAAK3/B,GAMlB,OAJAjH,KAAKkK,KAAOA,EACZlK,KAAKyI,OAASzI,KAAK83F,cAAgBrvF,EACnCzI,KAAKqyF,UAAYA,GAAa,GAC9BryF,KAAK+3F,UAAY/3F,KAAKg4F,UAAY30F,KAAK81C,MAChCn5C,IACR,EAMA,IAAIyrF,EAAQD,EAAYC,MAAS,SAAU7oF,GAC1C,IACC0I,EADG2sF,EAAI,CAAC,EAULC,EAAW,SAAUC,GACxB,OAAO9D,WAAW8D,IAAW,CAC9B,EAEIC,EAAoB,SAAUjuE,GACjC,OAAOA,EAAKm+C,aAAen+C,EAAKm+C,aAAe1lE,EAAOy1F,iBAAiBluE,EACxE,EAGImuE,EAAa,SAAUC,EAAOpuE,EAAMquE,EAAOC,GAE9C,IADAtuE,EAAQA,IAASlpB,SAAY2B,EAASunB,KACzBvnB,EACZ61F,GAAgB,OACV,IAAKC,EAAMC,WAAWxuE,GAC5B,OAAO,EAERouE,EAAQA,EAAMlkC,OAAO,GAAGukC,cAAgBL,EAAM/zE,OAAO,GAAGwtB,cACxD,IAAI6mD,GAAaL,EAAQruE,EAAK,SAAWouE,IAAUpuE,EAAK,QAAUouE,GAASpuE,EAAK,SAAWouE,IAAUpuE,EAAK,QAAUouE,KAAW,EAC/H,GAAIC,GAASC,EAAe,CAC3B,IAAIznF,EAAQonF,EAAkBjuE,GAC9B0uE,GAAuB,WAAVN,EAAqBL,EAASlnF,EAAM8nF,WAAaZ,EAASlnF,EAAM+nF,cAAgBb,EAASlnF,EAAMgoF,YAAcd,EAASlnF,EAAMioF,YAC1I,CACA,OAAOJ,CACR,EAEIK,EAAa,SAAU1tE,GAC1B,OAAOA,EAAIhjB,QAAQ,mBAAoB,MAAMA,QAAQ,aAAa,SAAU0K,GAC3E,OAAOA,EAAE,GAAG0lF,aACb,GACD,EASAX,EAAE3L,OAAS,SAAU59E,GAEpB,IADAA,EAAMA,GAAO,CAAC,EACTpD,EAAI,EAAGA,EAAIsjF,UAAU1rF,OAAQoI,IACjC,GAAKsjF,UAAUtjF,GAGf,IAAK,IAAIrE,KAAO2nF,UAAUtjF,GACrBsjF,UAAUtjF,GAAGM,eAAe3E,KAC/ByH,EAAIzH,GAAO2nF,UAAUtjF,GAAGrE,IAI3B,OAAOyH,CACR,EAGAupF,EAAEpC,qBAAuB,SAAUrqE,GAClC,MAAO,CAAC,QAAS,OAAQ,YAAa,QAAS,eAAelR,QAAQkR,IAAQ,CAC/E,EAIA,IACCo6D,EAAW,EACXuT,EAAU,CAAC,KAAM,MAAO,SAAU,KAC/BC,EAAyBx2F,EAAO4nB,sBAChC6uE,EAAwBz2F,EAAO02F,qBAEnC,IAAKhuF,EAAI,GAAI8tF,GAA0B9tF,EAAI6tF,EAAQj2F,SAAUoI,EAC5D8tF,EAAyBx2F,EAAOu2F,EAAQ7tF,GAAK,yBAC7C+tF,EAAwBz2F,EAAOu2F,EAAQ7tF,GAAK,yBAA2B1I,EAAOu2F,EAAQ7tF,GAAK,+BAIvF8tF,IACJA,EAAyB,SAAU1+E,GAClC,IACC6+E,GAAW,IAAIl2F,MAAOm2F,UACtBC,EAAanqF,KAAKO,IAAI,EAAG,IAAM0pF,EAAW3T,IAC1Cl9E,EAAK9F,EAAOc,YAAW,WACtBgX,EAAS6+E,EAAWE,EACrB,GAAGA,GAEJ,OADA7T,EAAW2T,EAAWE,EACf/wF,CACR,GAEI2wF,IACJA,EAAwB,SAAU3wF,GACjC9F,EAAOguF,aAAaloF,EACrB,GAEDuvF,EAAE/J,IAAMkL,EAAuBr7E,KAAKnb,GACpCq1F,EAAEpH,IAAMwI,EAAsBt7E,KAAKnb,GAEnC,IACC82F,EAAY,CAAC,QAAS,OAAQ,OAC9Bl4F,EAAUoB,EAAOpB,SAAW,CAAC,EAI9B,IAFAA,EAAQC,IAAMD,EAAQC,KAAO,WAAa,EAErC6J,EAAI,EAAGA,EAAIouF,EAAUx2F,OAAQoI,IAAK,CACtC,IAAIvK,EAAS24F,EAAUpuF,GAClB9J,EAAQT,KACZS,EAAQT,GAAUS,EAAQC,IAE5B,CACAw2F,EAAEx2F,IAAM,SAAUusF,IACbA,EAAW0L,EAAUx2F,QAAU8qF,GAAY,KAAGA,EAAW0L,EAAUx2F,QACvE,IAAIi2C,EAAM,IAAI91C,KACbsd,GAAQ,IAAMw4B,EAAIwgD,YAAY7uE,OAAO,GAAK,KAAO,IAAMquB,EAAIygD,cAAc9uE,OAAO,GAAK,KAAO,IAAMquB,EAAI0gD,cAAc/uE,OAAO,GAAK,KAAO,KAAOquB,EAAI2gD,mBAAmBhvE,OAAO,GAC5K/pB,EAAS24F,EAAU1L,EAAW,GAC9BtuE,EAAOnR,MAAM7C,UAAUoU,OAAOjU,KAAK+iF,UAAW,GAC9CmL,EAAOhK,SAASrkF,UAAUqS,KAAKlS,KAAKrK,EAAQT,GAASS,GACtDke,EAAKuzB,QAAQtyB,GACbo5E,EAAKvrF,MAAMhN,EAASke,EACrB,EAQA,IAAIg5E,EAAQT,EAAE/tF,KAAO,SAAU8I,GAC9B,OAAOrH,OAAOD,UAAUwI,SAASrI,KAAKmH,GAAGxK,QAAQ,oBAAqB,MAAMwpC,aAC7E,EACA0mD,EAAMz6B,OAAS,SAAUjrD,GACxB,MAAoB,WAAb0lF,EAAM1lF,EACd,EACA0lF,EAAM3I,SAAW,SAAU/8E,GAC1B,MAAoB,aAAb0lF,EAAM1lF,EACd,EACA0lF,EAAMnqF,MAAQ,SAAUyE,GACvB,OAAOzE,MAAMyrF,QAAQhnF,EACtB,EACA0lF,EAAMlxE,OAAS,SAAUxU,GACxB,OAAQ0lF,EAAMnqF,MAAMyE,IAAOA,EAAIqhF,WAAWrhF,GAAK,GAAM,CACtD,EACA0lF,EAAMC,WAAa,SAAU/gF,GAC5B,MACwB,iBAAhBqiF,aAAmD,mBAAhBA,YAA6BriF,aAAaqiF,aAAeriF,aAAasiF,WAChHtiF,GAAkB,iBAANA,GAAwB,OAANA,GAA6B,IAAfA,EAAEuiF,UAAwC,iBAAfviF,EAAEwiF,QAE3E,EAQA,IAAIC,EAAOpC,EAAEtrE,IAAM,CAAC,EAsGpB,OArGA0tE,EAAKlnD,SAAW,SAAUmnD,GACzB,IAAIpsF,EAAM,GACV,GAAIwqF,EAAMz6B,OAAOq8B,GAChB,IACCA,EAAWr5F,SAASiB,iBAAiBo4F,EACtC,CAAE,MAAO/5F,GACR,OAAO2N,CACR,CAED,GAAwB,aAApBwqF,EAAM4B,IAA4B5B,EAAMnqF,MAAM+rF,IAAaA,aAAoBC,SAClF,IAAK,IAAIjvF,EAAI,EAAGkvF,EAAMtsF,EAAIhL,OAASo3F,EAASp3F,OAAQoI,EAAIkvF,EAAKlvF,IAAK,CACjE,IAAI6e,EAAOmwE,EAAShvF,GACpB4C,EAAI5C,GAAKotF,EAAMC,WAAWxuE,GAAQA,EAAOkwE,EAAKlnD,SAAShpB,EACxD,MACUuuE,EAAMC,WAAW2B,IAAaA,IAAar5F,UAAYq5F,IAAa13F,KAC9EsL,EAAM,CAACosF,IAER,OAAOpsF,CACR,EAEAmsF,EAAK9M,UAAY,SAAUpjE,GAC1B,OAAQA,GAAkC,iBAAnBA,EAAKojE,UAA0BpjE,EAAKojE,UAAY3qF,EAAO63F,aAAe,CAC9F,EAEAJ,EAAK7yF,WAAa,SAAU2iB,GAC3B,OAAQA,GAAmC,iBAApBA,EAAK3iB,WAA2B2iB,EAAK3iB,WAAa5E,EAAO83F,aAAe,CAChG,EAEAL,EAAKh+E,MAAQ,SAAU8N,EAAMquE,EAAOC,GACnC,OAAOH,EAAW,QAASnuE,EAAMquE,EAAOC,EACzC,EAEA4B,EAAK/9E,OAAS,SAAU6N,EAAMquE,EAAOC,GACpC,OAAOH,EAAW,SAAUnuE,EAAMquE,EAAOC,EAC1C,EAGA4B,EAAK90F,OAAS,SAAU4kB,EAAMwwE,GAC7B,IAAIp1F,EAAS,CACZqC,IAAK,EACLD,KAAM,GAEP,GAAIwiB,GAAQA,EAAKliB,sBAAuB,CACvC,IAAI27C,EAAOz5B,EAAKliB,wBAChB1C,EAAOqC,IAAMg8C,EAAKh8C,IAClBrC,EAAOoC,KAAOi8C,EAAKj8C,KACdgzF,IACJp1F,EAAOqC,KAAOyyF,EAAK9M,YACnBhoF,EAAOoC,MAAQ0yF,EAAK7yF,aAEtB,CACA,OAAOjC,CACR,EAQA0yF,EAAEf,SAAW,SAAU/sE,EAAMywE,GACxBA,IACCzwE,EAAK9oB,UACR8oB,EAAK9oB,UAAUC,IAAIs5F,GAEnBzwE,EAAK+yC,WAAa,IAAM09B,EAE3B,EACA3C,EAAEL,YAAc,SAAUztE,EAAMywE,GAC3BA,IACCzwE,EAAK9oB,UACR8oB,EAAK9oB,UAAUY,OAAO24F,GAEtBzwE,EAAK+yC,UAAY/yC,EAAK+yC,UAAU10D,QAAQ,IAAIqyF,OAAO,UAAYD,EAAU3iF,MAAM,KAAKgD,KAAK,KAAO,UAAW,MAAO,KAErH,EAIAg9E,EAAE1C,IAAM,SAAUprE,EAAMqoD,GACvB,GAAIkmB,EAAMz6B,OAAOuU,GAChB,OAAO4lB,EAAkBjuE,GAAM+uE,EAAW1mB,IACpC,GAAIkmB,EAAMnqF,MAAMikE,GAAU,CAChC,IACC9jE,EAAM,CAAC,EACPsC,EAAQonF,EAAkBjuE,GAI3B,OAHAqoD,EAAQrwE,SAAQ,SAAU24F,EAAQ7zF,GACjCyH,EAAIosF,GAAU9pF,EAAMkoF,EAAW4B,GAChC,IACOpsF,CACR,CACC,IAAK,IAAIosF,KAAUtoB,EAAS,CAC3B,IAAIniE,EAAMmiE,EAAQsoB,GACdzqF,GAAOgkF,WAAWhkF,KACrBA,GAAO,MAER8Z,EAAKnZ,MAAMkoF,EAAW4B,IAAWzqF,CAClC,CAEF,EAEO4nF,CACR,CAvQgC,CAuQ9Br1F,QAAU,CAAC,GA4Bb,OAzBA4oF,EAAY4D,MAAM1jF,UAAUqvF,cAAgB,WAE3C,OADAvP,EAAYC,MAAMhqF,IAAI,EAAG,gKAClBzB,IACR,EACAwrF,EAAY4D,MAAM1jF,UAAUsvF,iBAAmB,WAE9C,OADAxP,EAAYC,MAAMhqF,IAAI,EAAG,mKAClBzB,IACR,EACAwrF,EAAY4D,MAAM1jF,UAAUuvF,SAAW,WAEtC,OADAzP,EAAYC,MAAMhqF,IAAI,EAAG,iJAClBzB,IACR,EACAwrF,EAAY4D,MAAM1jF,UAAUwvF,YAAc,WAEzC,OADA1P,EAAYC,MAAMhqF,IAAI,EAAG,oJAClBzB,IACR,EACAwrF,EAAY4D,MAAM1jF,UAAUyvF,YAAc,WAEzC,OADA3P,EAAYC,MAAMhqF,IAAI,EAAG,4JAClBzB,IACR,EACAwrF,EAAY4D,MAAM1jF,UAAU0vF,eAAiB,WAE5C,OADA5P,EAAYC,MAAMhqF,IAAI,EAAG,+JAClBzB,IACR,EAEOwrF,CACR,OA/uFgB,gECjBZ6P,yBAA2B,CAAC,EAGhC,SAASC,oBAAoBC,GAE5B,IAAIC,EAAeH,yBAAyBE,GAC5C,QAAqBr3E,IAAjBs3E,EACH,OAAOA,EAAal0D,QAGrB,IAAIikD,EAAS8P,yBAAyBE,GAAY,CAGjDj0D,QAAS,CAAC,GAOX,OAHAm0D,oBAAoBF,GAAU1vF,KAAK0/E,EAAOjkD,QAASikD,EAAQA,EAAOjkD,QAASg0D,qBAGpE/P,EAAOjkD,OACf,CCtBAg0D,oBAAoBI,KAAO,CAAC,ECC5BJ,oBAAoB5lE,EAAK61D,IACxB,IAAIoQ,EAASpQ,GAAUA,EAAOqQ,WAC7B,IAAOrQ,EAAiB,QACxB,IAAM,EAEP,OADA+P,oBAAoB7nF,EAAEkoF,EAAQ,CAAE3iF,EAAG2iF,IAC5BA,CAAM,ECLdL,oBAAoB7nF,EAAI,CAAC6zB,EAASu0D,KACjC,IAAI,IAAI50F,KAAO40F,EACXP,oBAAoB1jF,EAAEikF,EAAY50F,KAASq0F,oBAAoB1jF,EAAE0vB,EAASrgC,IAC5E0E,OAAOolE,eAAezpC,EAASrgC,EAAK,CAAE60F,YAAY,EAAMnvE,IAAKkvE,EAAW50F,IAE1E,ECNDq0F,oBAAoB1jF,EAAI,CAAClJ,EAAK1C,IAAUL,OAAOD,UAAUE,eAAeC,KAAK6C,EAAK1C,iDCG3E,MAAM+vF,EAAU,CACnBC,QAAQ,EACRC,EAAGh7F,SAASgqB,qBAAqB,QAAQ,GACzCixE,YAAa,CACTC,GAAI,IACJppF,EAAG,IACH2uB,EAAG,IACHD,EAAG,KACH26D,GAAI,MAKZ,IAAIC,EAAUA,CAAC5zF,EAAQoY,EAAW,OAC9BpY,EAAOuI,MAAMsrF,mBAAqB,0BAClC7zF,EAAOuI,MAAMurF,mBAAqB17E,EAAW,KAC7CpY,EAAOuI,MAAM+lF,UAAY,aACzBtuF,EAAOuI,MAAMsL,OAAS7T,EAAOqiE,aAAe,KAC5CriE,EAAOqiE,aACPriE,EAAOuI,MAAMy/D,SAAW,SACxBhoE,EAAOuI,MAAMsL,OAAS,EACtB7T,EAAOuI,MAAMwrF,WAAa,EAC1B/zF,EAAOuI,MAAMyrF,cAAgB,EAC7Bh0F,EAAOuI,MAAM8nF,UAAY,EACzBrwF,EAAOuI,MAAM+nF,aAAe,EAC5Bn2F,OAAOc,YAAW,KACd+E,EAAOuI,MAAME,QAAU,OACvBzI,EAAOuI,MAAM0rF,eAAe,UAC5Bj0F,EAAOuI,MAAM0rF,eAAe,eAC5Bj0F,EAAOuI,MAAM0rF,eAAe,kBAC5Bj0F,EAAOuI,MAAM0rF,eAAe,cAC5Bj0F,EAAOuI,MAAM0rF,eAAe,iBAC5Bj0F,EAAOuI,MAAM0rF,eAAe,YAC5Bj0F,EAAOuI,MAAM0rF,eAAe,uBAC5Bj0F,EAAOuI,MAAM0rF,eAAe,sBAAsB,GAEnD77E,EAAS,EAIZ87E,EAAYA,CAACl0F,EAAQoY,EAAW,OAChCpY,EAAOuI,MAAM0rF,eAAe,WAC5B,IAAIxrF,EAAUtO,OAAOy1F,iBAAiB5vF,GAAQyI,QAC9B,SAAZA,IAAoBA,EAAU,SAClCzI,EAAOuI,MAAME,QAAUA,EACvB,IAAIoL,EAAS7T,EAAOqiE,aACpBriE,EAAOuI,MAAMy/D,SAAW,SACxBhoE,EAAOuI,MAAMsL,OAAS,EACtB7T,EAAOuI,MAAMwrF,WAAa,EAC1B/zF,EAAOuI,MAAMyrF,cAAgB,EAC7Bh0F,EAAOuI,MAAM8nF,UAAY,EACzBrwF,EAAOuI,MAAM+nF,aAAe,EAC5BtwF,EAAOqiE,aACPriE,EAAOuI,MAAM+lF,UAAY,aACzBtuF,EAAOuI,MAAMsrF,mBAAqB,0BAClC7zF,EAAOuI,MAAMurF,mBAAqB17E,EAAW,KAC7CpY,EAAOuI,MAAMsL,OAASA,EAAS,KAC/B7T,EAAOuI,MAAM0rF,eAAe,eAC5Bj0F,EAAOuI,MAAM0rF,eAAe,kBAC5Bj0F,EAAOuI,MAAM0rF,eAAe,cAC5Bj0F,EAAOuI,MAAM0rF,eAAe,iBAC5B95F,OAAOc,YAAW,KACd+E,EAAOuI,MAAM0rF,eAAe,UAC5Bj0F,EAAOuI,MAAM0rF,eAAe,YAC5Bj0F,EAAOuI,MAAM0rF,eAAe,uBAC5Bj0F,EAAOuI,MAAM0rF,eAAe,sBAAsB,GACnD77E,EAAS,EChEZ,iBAAkBje,QAClBm5F,EAAQC,QAAS,EACjBD,EAAQE,EAAE56F,UAAUC,IAAI,WAExBy6F,EAAQE,EAAE56F,UAAUC,IAAI,8FCN5B,MAAMs7F,EAAe,IAAIpR,IAAAA,YAEzB,MAAMgI,EACF1zF,WAAAA,CAAYC,GACRC,KAAKuG,UAAYxG,EACjBC,KAAK+tF,MAAQ,KAEb/tF,KAAK68F,eACL78F,KAAK88F,cACT,CAEAD,YAAAA,GACI78F,KAAK+tF,MAAQ,IAAIvC,IAAAA,OAAkB,CAC/BgI,eAAgBxzF,KAAKuG,UACrBktF,YAAa,IACbluF,OAAQ,EACRsb,SAAU,EACVgb,SAAS,IAERyzD,MAAMsN,GACNrN,GAAG,SAAS,KACTvvF,KAAKuG,UAAUlF,UAAUC,IAAI,eAAe,IAE/CiuF,GAAG,SAAS,KACTvvF,KAAKuG,UAAUlF,UAAUY,OAAO,eAAe,GAE3D,CAEA66F,YAAAA,GACIl6F,OAAOtC,iBAAiB,UAAU,KAC9BN,KAAKuzD,QAAQ,GAErB,CAEAA,MAAAA,GACIvzD,KAAK+tF,MAAMX,SACf,ECvCJ,SAAS2P,IACL,OAAOztF,KAAKa,SAAS+D,SAAS,IAAIgnE,UAAU,EAAG,GACnD,CAwBA,SAAS8hB,EAASjD,EAAMkD,EAAO,GAAIC,GAAY,GAC3C,IAAIC,EACJ,OAAO,YAAaz9E,GAChB,MAAMukD,EAAUm5B,KAOVC,EAAUH,IAAcC,EAC9BvM,aAAauM,GACbA,EAAUz5F,YARI,KACVy5F,EAAU,KACLD,GACDnD,EAAKvrF,MAAMy1D,EAASvkD,EACxB,GAIwBu9E,GACxBI,GACAtD,EAAKvrF,MAAMy1D,EAASvkD,EAE5B,CACJ,CACA,SAAS49E,EAAQtkF,EAAG7F,GAChB,OAAOrP,KAAK2T,UAAUuB,KAAOlV,KAAK2T,UAAUtE,EAChD,CDJAlS,SAASiB,iBAAiB,uBAAuBC,SAAQpC,IACrD,IAAIyzF,EAAezzF,EAAG,ICS1B,MAAMw9F,EACF,WAAAz9F,CAAYw2F,GACRt2F,KAAK0I,GAAK,GACV1I,KAAKgR,MAAQ,GACbhR,KAAKw9F,MAAQ,GACbx9F,KAAKy9F,YAAa,EAClBz9F,KAAK4G,QAAS,EACd5G,KAAK09F,YAAa,EAClB19F,KAAK29F,aAAe,KACfrH,IACDA,EAAW,CAAC,GAEhBt2F,KAAK0I,GAAK,MAAQq0F,IAClB/8F,KAAKgR,MAAQslF,EAAStlF,OAAS,GAC/BhR,KAAKw9F,MAAQlH,EAASkH,OAAS,GAC/Bx9F,KAAKW,cAAiCujB,IAAtBoyE,EAAS31F,UAAyB21F,EAAS31F,SAC3DX,KAAK49F,gBAAqC15E,IAAxBoyE,EAASsH,YAA2BtH,EAASsH,WAC/D59F,KAAK69F,gBAAqC35E,IAAxBoyE,EAASuH,YAA2BvH,EAASuH,WAC/D79F,KAAK89F,kBAAoBxH,EAASwH,mBAAqB,SACvD99F,KAAK+9F,WAAazH,EAASyH,YAAc,aACzC/9F,KAAKg+F,cAAgB1H,EAAS0H,eAAiB,eAC/Ch+F,KAAKi+F,qBAA+C/5E,IAA7BoyE,EAAS2H,iBAAgC3H,EAAS2H,gBACzEj+F,KAAKk+F,mBAA2Ch6E,IAA3BoyE,EAAS4H,eAA8B5H,EAAS4H,cACrEl+F,KAAKm+F,gBAAkB7H,EAAS6H,iBAAmBl9F,SAASC,KAC5DlB,KAAKo+F,gBAAkB9H,EAAS8H,iBAAmB,WACnDp+F,KAAKq+F,aAAe/H,EAAS+H,cAAgB,OAC7Cr+F,KAAKs+F,qBAA+Cp6E,IAA7BoyE,EAASgI,gBAAgChI,EAASgI,gBAAkB,eAC3Ft+F,KAAKu+F,mBAA2Cr6E,IAA3BoyE,EAASiI,eAA8BjI,EAASiI,cACrEv+F,KAAKw+F,kBAAyCt6E,IAA1BoyE,EAASkI,cAA6BlI,EAASkI,aACnEx+F,KAAKy+F,wBAAqDv6E,IAAhCoyE,EAASmI,oBAAmCnI,EAASmI,mBAC/Ez+F,KAAK0+F,YAAcpI,EAASoI,aAAe,EAC3C1+F,KAAK2+F,YAAcrI,EAASqI,aAAe,IAC3C3+F,KAAK4+F,aAAetI,EAASsI,cAAgB,IAC7C5+F,KAAK6+F,eAAiBvI,EAASuI,gBAAkB,GACjD7+F,KAAK8+F,iBAAmBxI,EAASwI,kBAAoB,mBACzD,EAGJ,MAAMC,EACF,WAAAj/F,CAAYk/F,GAOR,GANAh/F,KAAK0I,GAAMs2F,EAASt2F,IAAsB,KAAhBs2F,EAASt2F,GAA2Bs2F,EAASt2F,GAAxBq0F,IAC/C/8F,KAAKi/F,MAAQD,EAASC,OAAS,GAC/Bj/F,KAAKk/F,eAAmCh7E,IAAvB86E,EAASE,WAAkCF,EAASE,UACrEl/F,KAAKm/F,cAAgBH,EAASG,eAAiB,aAC/Cn/F,KAAKo/F,SAAWJ,EAASI,UAAY,MACrCp/F,KAAKwyE,QAAU,GACXwsB,EAASxsB,QACT,IAAK,MAAM56D,KAAKonF,EAASxsB,QACrBxyE,KAAKwyE,QAAQ5lE,KAAK,IAAIyyF,EAAOznF,GAGzC,EAEJ,MAAMynF,EACF,WAAAv/F,CAAYg7F,GACR96F,KAAK0I,GAAMoyF,EAAOpyF,IAAoB,KAAdoyF,EAAOpyF,GAA2BoyF,EAAOpyF,GAAtBq0F,IAC3C/8F,KAAKuJ,WAAyB2a,IAAjB42E,EAAOvxF,MAAsBuxF,EAAO/4F,KAAO+4F,EAAOvxF,MAC/DvJ,KAAK+B,KAAO+4F,EAAO/4F,MAAQ,GAC3B/B,KAAKs/F,KAAOxE,EAAOwE,MAAQ,GAC3Bt/F,KAAKu/F,cAA+Br7E,IAApB42E,EAAOyE,UAAyBzE,EAAOyE,SACvDv/F,KAAKkR,aAA6BgT,IAAnB42E,EAAO5pF,SAAwB4pF,EAAO5pF,QACrDlR,KAAKW,cAA+BujB,IAApB42E,EAAOn6F,UAAyBm6F,EAAOn6F,SACvDX,KAAKw/F,eAAiCt7E,IAArB42E,EAAO0E,WAA0B1E,EAAO0E,UACzDx/F,KAAKy/F,iBAAqCv7E,IAAvB42E,EAAO2E,aAA4B3E,EAAO2E,YAC7Dz/F,KAAKw9F,MAAQ1C,EAAO0C,OAAS,GAC7Bx9F,KAAKgR,MAAQ8pF,EAAO9pF,OAAS,GAC7BhR,KAAK0J,KAAOoxF,EAAOpxF,MAAQ,CAAC,CAChC,EAEJ,MAAMg2F,EACF,WAAA5/F,CAAYoK,EAAMR,GACd1J,KAAK2/F,WAAa,SAClB3/F,KAAK0J,KAAO,GACZ1J,KAAK2/F,WAAaz1F,EAClBlK,KAAK2kB,QAAQjb,EACjB,CACA,iBAAAk2F,CAAkBl2F,GACd,IAAK6E,MAAMyrF,QAAQtwF,GACf,OAAO,IAAI4W,MAAM,yBAErB,IAAK,IAAIu/E,KAAWn2F,EAAM,CACtB,KAAIm2F,aAAmBd,GAAY,UAAWc,GAUzC,OAAIA,aAAmBR,GAAU,SAAUQ,EACrC7/F,KAAK+xF,eAAe8N,GAGpB,IAAIv/E,MAAM,kDAbjB,KAAM,UAAWu/E,GACb,OAAO,IAAIv/E,MAAM,8BAErB,GAAI,YAAau/E,GAAWA,EAAQrtB,QAChC,IAAK,IAAIsoB,KAAU+E,EAAQrtB,QACvB,OAAOxyE,KAAK+xF,eAAe+I,EAU3C,CACA,OAAO,IACX,CACA,cAAA/I,CAAe+I,GACX,MAAM,SAAUA,EAGT,KAFI,IAAIx6E,MAAM,0BAGzB,CACA,iBAAAw/E,CAAkBp2F,GACd,IAAIq2F,EAAY,GAiBhB,OAhBAr2F,EAAKvH,SAAS09F,IACV,GAAIA,aAAmBd,GAAY,UAAWc,EAAS,CACnD,IAAIG,EAAa,GACb,YAAaH,GAAWA,EAAQrtB,SAChCqtB,EAAQrtB,QAAQrwE,SAAS24F,IACrBkF,EAAWpzF,KAAK,IAAIyyF,EAAOvE,GAAQ,IAGvCkF,EAAW98F,OAAS,GACpB68F,EAAUnzF,KAAK,IAAImyF,EAASc,GAEpC,EACIA,aAAmBR,GAAU,SAAUQ,IACvCE,EAAUnzF,KAAK,IAAIyyF,EAAOQ,GAC9B,IAEGE,CACX,CACA,OAAAp7E,CAAQjb,GACJ1J,KAAK0J,KAAO1J,KAAK8/F,kBAAkBp2F,GACX,WAApB1J,KAAK2/F,YACL3/F,KAAKigG,cAAc,QAASjgG,KAAKkgG,cAEzC,CACA,OAAAC,GACI,OAAOngG,KAAKkJ,OAAO,MAAM,EAC7B,CACA,cAAAk3F,GACI,OAAOpgG,KAAKkJ,OAAO,MAAM,EAC7B,CACA,SAAA4nF,CAAUgK,GACN96F,KAAK2kB,QAAQ3kB,KAAKmgG,UAAUt1E,OAAO,IAAIw0E,EAAOvE,IAClD,CACA,aAAAmF,CAAcI,EAAcC,GACxB,IAAIC,EAAc,KACdC,GAAc,EAClB,IAAK,IAAIX,KAAW7/F,KAAK0J,KAAM,CAC3B,GAAIm2F,aAAmBd,EACnB,IAAK,IAAIjE,KAAU+E,EAAQrtB,QAClB+tB,IACDA,EAAczF,GAElBA,EAAOyE,UAAWiB,GAAsBF,EAAeG,SAAS3F,EAAOuF,IACnEvF,EAAOyE,UAAgC,WAApBv/F,KAAK2/F,aACxBa,GAAc,GAItBX,aAAmBR,IACdkB,IACDA,EAAcV,GAElBA,EAAQN,UAAWiB,GAAsBF,EAAeG,SAASZ,EAAQQ,IACrER,EAAQN,UAAgC,WAApBv/F,KAAK2/F,aACzBa,GAAc,GAG1B,CACwB,WAApBxgG,KAAK2/F,YAA2BY,IAAgBC,IAChDD,EAAYhB,UAAW,EAE/B,CACA,WAAAW,GACI,IAAIQ,EAAkB1gG,KAAK2gG,qBACvBL,EAAiB,GAIrB,OAHAI,EAAgBv+F,SAAS24F,IACrBwF,EAAe1zF,KAAKkuF,EAAOvxF,MAAM,IAE9B+2F,CACX,CACA,kBAAAK,GACI,OAAO3gG,KAAKkJ,QAAQ03F,GACTA,EAAIrB,WACZ,EACP,CACA,cAAAsB,GACI,IAAIH,EAAkB1gG,KAAK2gG,qBACvBG,EAAc,GAIlB,OAHAJ,EAAgBv+F,SAAS0W,IACrBioF,EAAYl0F,KAAKiM,EAAGnQ,GAAG,IAEpBo4F,CACX,CACA,eAAAC,CAAgBr4F,GACZ,IAAK,IAAIm3F,KAAW7/F,KAAK0J,KACrB,GAAIm2F,aAAmBd,GAAYc,EAAQn3F,KAAOA,EAC9C,OAAOm3F,EAGf,OAAO,IACX,CACA,aAAAmB,CAAct4F,GACV,IAAI8pE,EAAUxyE,KAAKkJ,QAAQ03F,GAChBA,EAAIl4F,KAAOA,IACnB,GACH,OAAO8pE,EAAQtvE,OAASsvE,EAAQ,GAAK,IACzC,CACA,MAAAyuB,CAAOA,EAAQC,GAEX,MAAe,MADfD,EAASA,EAAO5gF,QAELrgB,KAAKmgG,UAETngG,KAAKkJ,QAAQ03F,GACTM,EAAaN,EAAKK,KAC1B,EACP,CACA,MAAA/3F,CAAOA,EAAQi4F,GACX,MAAMC,EAAa,GA0BnB,OAzBAphG,KAAK0J,KAAKvH,SAAS09F,IACf,GAAIA,aAAmBd,EAAU,CAC7B,IAAIiB,EAAa,GAWjB,GAVAH,EAAQrtB,QAAQrwE,SAAS24F,IAChB5xF,IAAUA,EAAO4xF,KACbqG,EAIDnB,EAAWpzF,KAAK,IAAIyyF,EAAOvE,IAH3BsG,EAAWx0F,KAAK,IAAIyyF,EAAOvE,IAKnC,IAEAkF,EAAW98F,OAAS,EAAG,CACvB,IAAI87F,EAAW,IAAID,EAASc,GAC5Bb,EAASxsB,QAAUwtB,EACnBoB,EAAWx0F,KAAKoyF,EACpB,CACJ,CACIa,aAAmBR,IACdn2F,IAAUA,EAAO22F,IAClBuB,EAAWx0F,KAAK,IAAIyyF,EAAOQ,IAEnC,IAEGuB,CACX,CACA,aAAAC,GACI,OAAOrhG,KAAK2/F,UAChB,EAGJ,MAAM2B,EACF,WAAAxhG,CAAYw2F,EAAUiL,EAAO3hF,GACzB5f,KAAK03F,QAAU,CACX8J,KAAM,UACN/B,YAAa,iBACbrnE,OAAQ,YACRqpE,OAAQ,YACR5xF,IAAK,SACLtG,MAAO,WACPm4F,UAAW,gBACXC,YAAa,kBACbC,SAAU,eACVC,SAAU,cACVC,aAAc,8BACdC,MAAO,WACPC,WAAY,uBACZC,UAAW,uBACX53F,QAAS,aACT63F,UAAW,gBACXC,UAAW,gBACXlB,OAAQ,YACRmB,kBAAmB,sBACnBC,UAAW,eACXC,QAAS,aACTC,YAAa,8BACbt5F,KAAM,UACN+1F,SAAU,cACVwD,cAAe,oBACfC,kBAAmB,yBACnBC,gBAAiB,sBACjBC,kBAAmB,eACnBC,qBAAsB,qCACtBC,uBAAwB,uBACxBC,iBAAkB,cAClBhI,OAAQ,YACRiI,aAAc,8BACdC,YAAa,iBACbj8F,KAAM,UACNC,MAAO,WACPu4F,SAAU,cACV79F,MAAO,WACPf,SAAU,cACVuoB,KAAM,WAEVlpB,KAAKuhG,MAAQA,EACbvhG,KAAKs2F,SAAWA,EAChBt2F,KAAK4f,UAAYA,EACjB5f,KAAKwhG,KAAOxhG,KAAKijG,UACjBjjG,KAAKqK,QAAUrK,KAAKkjG,aACpBljG,KAAKmjG,oBACLnjG,KAAKojG,uBACLpjG,KAAKs2F,SAAS6H,gBAAgB/zF,YAAYpK,KAAKqK,QAAQm3F,KAC3D,CACA,MAAA6B,GACIrjG,KAAKwhG,KAAKA,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQ/2F,UAC7CX,KAAKqK,QAAQ42F,OAAOqC,MAAM3iG,UAAW,CACzC,CACA,OAAA4iG,GACIvjG,KAAKwhG,KAAKA,KAAKngG,UAAUC,IAAItB,KAAK03F,QAAQ/2F,UAC1CX,KAAKqK,QAAQ42F,OAAOqC,MAAM3iG,UAAW,CACzC,CACA,IAAAoG,GACI/G,KAAKwhG,KAAKO,MAAMvsF,KAAKrL,aAAa,IAAKnK,KAAK03F,QAAQuK,WACpDjiG,KAAKwhG,KAAKA,KAAKngG,UAAUC,IAAmC,OAA/BtB,KAAKs2F,SAAS+H,aAAwBr+F,KAAK03F,QAAQwK,UAAYliG,KAAK03F,QAAQyK,WACzGniG,KAAKwhG,KAAKA,KAAKr3F,aAAa,gBAAiB,QAC7CnK,KAAKwjG,cACL,MAAM9C,EAAkB1gG,KAAKuhG,MAAMZ,qBACnC,GAAID,EAAgBx9F,OAAQ,CACxB,MAAMugG,EAAa/C,EAAgBA,EAAgBx9F,OAAS,GAAGwF,GACzDg7F,EAAiB1jG,KAAKqK,QAAQpB,KAAK9I,cAAc,aAAesjG,EAAa,MAC/EC,GACA1jG,KAAK2jG,oBAAoB3jG,KAAKqK,QAAQpB,KAAMy6F,EAEpD,CACJ,CACA,KAAA18F,GACIhH,KAAKwhG,KAAKA,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQwK,WAC7CliG,KAAKwhG,KAAKA,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQyK,WAC7CniG,KAAKwhG,KAAKA,KAAKr3F,aAAa,gBAAiB,SAC7CnK,KAAKqK,QAAQm3F,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQwK,WAChDliG,KAAKqK,QAAQm3F,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQyK,WAChDniG,KAAKwhG,KAAKO,MAAMvsF,KAAKrL,aAAa,IAAKnK,KAAK03F,QAAQsK,WACxD,CACA,iBAAAmB,GAWI,GAVAnjG,KAAKwhG,KAAKA,KAAKtkC,UAAY,GAC3Bl9D,KAAKwhG,KAAKA,KAAK/Y,gBAAgB,SAC/BzoF,KAAKqK,QAAQm3F,KAAKtkC,UAAY,GAC9Bl9D,KAAKqK,QAAQm3F,KAAK/Y,gBAAgB,SAClCzoF,KAAKwhG,KAAKA,KAAKngG,UAAUC,IAAItB,KAAK03F,QAAQ8J,MAC1CxhG,KAAKqK,QAAQm3F,KAAKngG,UAAUC,IAAItB,KAAK03F,QAAQrtF,SACjB,KAAxBrK,KAAKs2F,SAAStlF,QACdhR,KAAKwhG,KAAKA,KAAKxwF,MAAM4yF,QAAU5jG,KAAKs2F,SAAStlF,MAC7ChR,KAAKqK,QAAQm3F,KAAKxwF,MAAM4yF,QAAU5jG,KAAKs2F,SAAStlF,OAEhDhR,KAAKs2F,SAASkH,MAAMt6F,OACpB,IAAK,MAAMqW,KAAKvZ,KAAKs2F,SAASkH,MACT,KAAbjkF,EAAE8G,SACFrgB,KAAKwhG,KAAKA,KAAKngG,UAAUC,IAAIiY,EAAE8G,QAC/BrgB,KAAKqK,QAAQm3F,KAAKngG,UAAUC,IAAIiY,EAAE8G,SAIR,aAAlCrgB,KAAKs2F,SAAS8H,iBACdp+F,KAAKqK,QAAQm3F,KAAKngG,UAAUC,IAAI,MAAQtB,KAAKs2F,SAAS8H,gBAE9D,CACA,oBAAAgF,GACIpjG,KAAKwhG,KAAKA,KAAKqC,KAAO,WACtB7jG,KAAKwhG,KAAKA,KAAKr3F,aAAa,gBAAiB,WAC7CnK,KAAKwhG,KAAKA,KAAKr3F,aAAa,gBAAiBnK,KAAKqK,QAAQm3F,KAAK94F,IAC/D1I,KAAKwhG,KAAKA,KAAKr3F,aAAa,gBAAiB,SAC7CnK,KAAKqK,QAAQm3F,KAAKr3F,aAAa,OAAQ,UAC3C,CACA,OAAA84F,GACI,IAAIa,EACJ,MAAMtC,EAAOvgG,SAASiK,cAAc,OACpCs2F,EAAKx+F,QAAQ0F,GAAK1I,KAAKs2F,SAAS5tF,GAChC84F,EAAK94F,GAAK1I,KAAKs2F,SAAS5tF,GACxB84F,EAAKuC,SAAW,EAChBvC,EAAKwC,UAAazjG,IACd,OAAQA,EAAE0G,KACN,IAAK,UACL,IAAK,YAGD,OAFAjH,KAAK4f,UAAU7Y,OACL,cAAVxG,EAAE0G,IAAsBjH,KAAKikG,UAAU,QAAUjkG,KAAKikG,UAAU,OACzD,EACX,IAAK,MAED,OADAjkG,KAAK4f,UAAU5Y,SACR,EACX,IAAK,QACL,IAAK,IACDhH,KAAK4f,UAAU7Y,OACf,MAAMi8F,EAAchjG,KAAKqK,QAAQpB,KAAK9I,cAAc,IAAMH,KAAK03F,QAAQsL,aAIvE,OAHIA,GACAA,EAAYkB,SAET,EACX,IAAK,SAED,OADAlkG,KAAK4f,UAAU5Y,SACR,EACf,EAEJw6F,EAAK2C,QAAW5jG,IACRP,KAAKs2F,SAAS31F,WAGlBX,KAAKs2F,SAAS1vF,OAAS5G,KAAK4f,UAAU5Y,QAAUhH,KAAK4f,UAAU7Y,OAAM,EAEzE,MAAMqxB,EAASn3B,SAASiK,cAAc,OACtCktB,EAAO/2B,UAAUC,IAAItB,KAAK03F,QAAQt/D,QAClCopE,EAAKp3F,YAAYguB,GACjB,MAAMypE,EAAW5gG,SAASiK,cAAc,OACxC22F,EAASxgG,UAAUC,IAAItB,KAAK03F,QAAQmK,UACpC,MAAMnB,EAAwC,QAArBoD,EAAK9jG,KAAKuhG,aAA0B,IAAPuC,OAAgB,EAASA,EAAGnD,sBAC7E3gG,KAAKs2F,SAASiI,eAAkBv+F,KAAKs2F,SAASmH,YAAciD,GAAmBA,EAAgBx9F,QAAU,EAC1G2+F,EAASxgG,UAAUC,IAAItB,KAAK03F,QAAQxuE,MAGpC24E,EAASxgG,UAAUY,OAAOjC,KAAK03F,QAAQxuE,MAE3C24E,EAASsC,QAAW5jG,IAEhB,GADAA,EAAE6jG,kBACEpkG,KAAKs2F,SAAS31F,SACd,OAEJ,IAAI0jG,GAAe,EACnB,MAAMC,EAAStkG,KAAKuhG,MAAMZ,qBACpB4D,EAAQ,GACVvkG,KAAK4f,UAAU4kF,eACfH,GAA8D,IAA/CrkG,KAAK4f,UAAU4kF,aAAaD,EAAOD,IAElDD,IACIrkG,KAAKs2F,SAASmH,YACdz9F,KAAK4f,UAAU6kF,YAAY,IAAI,GAC/BzkG,KAAK0kG,qBAGL1kG,KAAK4f,UAAU6kF,YAAY,CAAC,KAAK,GAEjCzkG,KAAKs2F,SAAS4H,eACdl+F,KAAK4f,UAAU5Y,QAEfhH,KAAK4f,UAAU+kF,aACf3kG,KAAK4f,UAAU+kF,YAAYJ,GAEnC,EAEJ,MAAMK,EAAc3jG,SAAS6T,gBAAgB,6BAA8B,OAC3E8vF,EAAYz6F,aAAa,UAAW,eACpC,MAAM23F,EAAe7gG,SAAS6T,gBAAgB,6BAA8B,QAC5EgtF,EAAa33F,aAAa,IAAKnK,KAAK03F,QAAQoK,cAC5C8C,EAAYx6F,YAAY03F,GACxBD,EAASz3F,YAAYw6F,GACrBpD,EAAKp3F,YAAYy3F,GACjB,MAAME,EAAQ9gG,SAAS6T,gBAAgB,6BAA8B,OACrEitF,EAAM1gG,UAAUC,IAAItB,KAAK03F,QAAQqK,OACjCA,EAAM53F,aAAa,UAAW,eAC9B,MAAM06F,EAAY5jG,SAAS6T,gBAAgB,6BAA8B,QAOzE,OANA+vF,EAAU16F,aAAa,IAAKnK,KAAK03F,QAAQsK,YACrChiG,KAAKs2F,SAASsH,YACdmE,EAAM1gG,UAAUC,IAAItB,KAAK03F,QAAQxuE,MAErC64E,EAAM33F,YAAYy6F,GAClBrD,EAAKp3F,YAAY23F,GACV,CACHP,KAAMA,EACNppE,OAAQA,EACRypE,SAAU,CACNL,KAAMK,EACNxhC,IAAKukC,EACLpvF,KAAMssF,GAEVC,MAAO,CACHP,KAAMO,EACNvsF,KAAMqvF,GAGlB,CACA,SAAAC,CAAUC,GACY,UAAdA,GACA/kG,KAAKwhG,KAAKA,KAAKwD,MAAM,CAAEC,eAAe,GAE9C,CACA,WAAAxF,GACI,MAAMyF,EAAoBllG,KAAKuhG,MAAMr4F,QAAQ0O,GAAMA,EAAE6nF,cAAa,GAClE,IAAInB,EAAkBt+F,KAAKs2F,SAASgI,gBAChC4G,EAAkBhiG,SACgB,KAA9BgiG,EAAkB,GAAG5F,KACrBhB,EAAkB4G,EAAkB,GAAG5F,KAEJ,KAA9B4F,EAAkB,GAAGnjG,OAC1Bu8F,EAAkB4G,EAAkB,GAAGnjG,OAG/C,MAAM09F,EAAcx+F,SAASiK,cAAc,OAG3C,OAFAu0F,EAAYp+F,UAAUC,IAAItB,KAAK03F,QAAQ+H,aACvCA,EAAYz9F,UAAYs8F,EACjBmB,CACX,CACA,YAAA0F,GACSnlG,KAAKs2F,SAASmH,WAInBz9F,KAAKolG,uBAHDplG,KAAKqlG,mBAIb,CACA,iBAAAA,GACI,MAAM9F,EAAWv/F,KAAKuhG,MAAMr4F,QAAQ0O,GACzBA,EAAE2nF,WAAa3nF,EAAE6nF,cACzB,GACG6F,EAAiB/F,EAASr8F,OAAS,EAAIq8F,EAAS,GAAK,KAC3D,GAAK+F,EAGA,CACD,MAAMC,EAActkG,SAASiK,cAAc,OAC3Cq6F,EAAYlkG,UAAUC,IAAItB,KAAK03F,QAAQ+J,QACnC6D,EAAehG,KACfiG,EAAYvjG,UAAYsjG,EAAehG,KAGvCiG,EAAYx7F,UAAYu7F,EAAevjG,KAE3C/B,KAAKwhG,KAAKppE,OAAOp2B,UAAYujG,EAAYC,SAC7C,MAZIxlG,KAAKwhG,KAAKppE,OAAOp2B,UAAYhC,KAAKy/F,cAAc+F,UAa/CxlG,KAAKs2F,SAASiI,eAAkBgB,EAASr8F,OAI1ClD,KAAKwhG,KAAKK,SAASL,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQxuE,MAHtDlpB,KAAKwhG,KAAKK,SAASL,KAAKngG,UAAUC,IAAItB,KAAK03F,QAAQxuE,KAK3D,CACA,oBAAAk8E,GACI,IAAIK,EAAezlG,KAAKwhG,KAAKppE,OAAOowD,WAChCkY,EAAkB1gG,KAAKuhG,MAAMr4F,QAAQ03F,GAC9BA,EAAIrB,UAAYqB,EAAI1vF,UAC5B,GACH,GAA+B,IAA3BwvF,EAAgBx9F,OAEhB,YADAlD,KAAKwhG,KAAKppE,OAAOp2B,UAAYhC,KAAKy/F,cAAc+F,WAG/C,CACD,MAAM/F,EAAcz/F,KAAKwhG,KAAKppE,OAAOj4B,cAAc,IAAMH,KAAK03F,QAAQ+H,aAClEA,GACAA,EAAYx9F,QAEpB,CACA,GAAIy+F,EAAgBx9F,OAASlD,KAAKs2F,SAASuI,eAAgB,CACvD,MAAM0G,EAActkG,SAASiK,cAAc,OAI3C,OAHAq6F,EAAYlkG,UAAUC,IAAItB,KAAK03F,QAAQ7nF,KACvC01F,EAAYltD,YAAcr4C,KAAKs2F,SAASwI,iBAAiBt2F,QAAQ,WAAYk4F,EAAgBx9F,OAAOgR,iBACpGlU,KAAKwhG,KAAKppE,OAAOp2B,UAAYujG,EAAYC,UAE7C,CACK,CACD,MAAM1G,EAAmB9+F,KAAKwhG,KAAKppE,OAAOj4B,cAAc,IAAMH,KAAK03F,QAAQ7nF,KACvEivF,GACAA,EAAiB78F,QAEzB,CACA,IAAIyjG,EAAc,GAClB,IAAK,IAAIp6F,EAAI,EAAGA,EAAIm6F,EAAaviG,OAAQoI,IAAK,CAC1C,MAAM8rC,EAAOquD,EAAan6F,GACpB5C,EAAK0uC,EAAKt2C,aAAa,WAC7B,GAAI4H,EAAI,CACUg4F,EAAgBx3F,QAAQ03F,GAC3BA,EAAIl4F,KAAOA,IACnB,GACQxF,QACPwiG,EAAY94F,KAAKwqC,EAEzB,CACJ,CACA,IAAK,MAAM1hB,KAAKgwE,EACZhwE,EAAEr0B,UAAUC,IAAItB,KAAK03F,QAAQkK,UAC7Bl+F,YAAW,KACH1D,KAAKwhG,KAAKppE,OAAOutE,iBAAmB3lG,KAAKwhG,KAAKppE,OAAOt1B,SAAS4yB,IAC9D11B,KAAKwhG,KAAKppE,OAAOwjB,YAAYlmB,EACjC,GACD,KAEP+vE,EAAezlG,KAAKwhG,KAAKppE,OAAOowD,WAChC,IAAK,IAAI/0E,EAAI,EAAGA,EAAIitF,EAAgBx9F,OAAQuQ,IAAK,CAC7C,IAAImyF,GAAY,EAChB,IAAK,IAAIt6F,EAAI,EAAGA,EAAIm6F,EAAaviG,OAAQoI,IACjCo1F,EAAgBjtF,GAAG/K,KAAOu1D,OAAOwnC,EAAan6F,GAAGtI,QAAQ0F,MACzDk9F,GAAY,GAGhBA,IAC4B,IAAxBH,EAAaviG,OACblD,KAAKwhG,KAAKppE,OAAOhuB,YAAYpK,KAAK6lG,cAAcnF,EAAgBjtF,KAErD,IAANA,EACLzT,KAAKwhG,KAAKppE,OAAOqnC,aAAaz/D,KAAK6lG,cAAcnF,EAAgBjtF,IAAKgyF,EAAahyF,IAGnFgyF,EAAahyF,EAAI,GAAGqyF,sBAAsB,WAAY9lG,KAAK6lG,cAAcnF,EAAgBjtF,KAGrG,CACAzT,KAAK0kG,mBACT,CACA,aAAAmB,CAAc/K,GACV,MAAMvxF,EAAQtI,SAASiK,cAAc,OACrC3B,EAAMlI,UAAUC,IAAItB,KAAK03F,QAAQnuF,OACjCA,EAAMvG,QAAQ0F,GAAKoyF,EAAOpyF,GAC1B,MAAM3G,EAAOd,SAASiK,cAAc,OAIpC,GAHAnJ,EAAKV,UAAUC,IAAItB,KAAK03F,QAAQgK,WAChC3/F,EAAKgI,UAAY+wF,EAAO/4F,KACxBwH,EAAMa,YAAYrI,IACb+4F,EAAO0E,UAAW,CACnB,MAAMuG,EAAY9kG,SAASiK,cAAc,OACzC66F,EAAU1kG,UAAUC,IAAItB,KAAK03F,QAAQiK,aACrCoE,EAAU5B,QAAW5jG,IAGjB,GAFAA,EAAEC,iBACFD,EAAE6jG,kBACEpkG,KAAKs2F,SAAS31F,SACd,OAEJ,IAAI0jG,GAAe,EACnB,MAAMC,EAAStkG,KAAKuhG,MAAMZ,qBACpB4D,EAAQD,EAAOp7F,QAAQ0O,GAClBA,EAAE2nF,UAAY3nF,EAAElP,KAAOoyF,EAAOpyF,KACtC,GACH,KAAI1I,KAAKs2F,SAASoI,aAAe6F,EAAMrhG,OAASlD,KAAKs2F,SAASoI,eAG1D1+F,KAAK4f,UAAU4kF,eACfH,GAA8D,IAA/CrkG,KAAK4f,UAAU4kF,aAAaD,EAAOD,IAElDD,GAAc,CACd,IAAI/D,EAAiB,GACrB,IAAK,MAAM1oF,KAAK2sF,EAAO,CACnB,GAAI3sF,aAAamnF,EACb,IAAK,MAAMxlF,KAAK3B,EAAE46D,QACd8tB,EAAe1zF,KAAK2M,EAAEhQ,OAG1BqO,aAAaynF,GACbiB,EAAe1zF,KAAKgL,EAAErO,MAE9B,CACAvJ,KAAK4f,UAAU6kF,YAAYnE,GAAgB,GACvCtgG,KAAKs2F,SAAS4H,eACdl+F,KAAK4f,UAAU5Y,QAEfhH,KAAK4f,UAAU+kF,aACf3kG,KAAK4f,UAAU+kF,YAAYJ,GAE/BvkG,KAAK0kG,mBACT,GAEJ,MAAMsB,EAAY/kG,SAAS6T,gBAAgB,6BAA8B,OACzEkxF,EAAU77F,aAAa,UAAW,eAClC,MAAM87F,EAAahlG,SAAS6T,gBAAgB,6BAA8B,QAC1EmxF,EAAW97F,aAAa,IAAKnK,KAAK03F,QAAQqL,cAC1CiD,EAAU57F,YAAY67F,GACtBF,EAAU37F,YAAY47F,GACtBz8F,EAAMa,YAAY27F,EACtB,CACA,OAAOx8F,CACX,CACA,UAAA25F,GACI,MAAM1B,EAAOvgG,SAASiK,cAAc,OACpCs2F,EAAKx+F,QAAQ0F,GAAK1I,KAAKs2F,SAAS5tF,GAChC84F,EAAK94F,GAAK1I,KAAKs2F,SAAS5tF,GACxB,MAAMu4F,EAASjhG,KAAKkmG,YACpB1E,EAAKp3F,YAAY62F,EAAOO,MACxB,MAAMv4F,EAAOjJ,KAAKmmG,UAElB,OADA3E,EAAKp3F,YAAYnB,GACV,CACHu4F,KAAMA,EACNP,OAAQA,EACRh4F,KAAMA,EAEd,CACA,WAAAu6F,GAC0C,aAAlCxjG,KAAKs2F,SAAS8H,iBAIiB,SAA/Bp+F,KAAKs2F,SAAS+H,aAIsB,OAA/Br+F,KAAKs2F,SAAS+H,aAIG,OAAtBr+F,KAAKomG,aACLpmG,KAAKqmG,mBAGLrmG,KAAKsmG,mBAPLtmG,KAAKqmG,mBARLrmG,KAAKsmG,kBAiBb,CACA,SAAAJ,GACI,MAAM1E,EAAOvgG,SAASiK,cAAc,OAC9Bo4F,EAAQriG,SAASiK,cAAc,SAC/Bo3F,EAAUrhG,SAASiK,cAAc,OACvCs2F,EAAKngG,UAAUC,IAAItB,KAAK03F,QAAQuJ,QAChC,MAAMsF,EAAe,CACjB/E,OACA8B,SA6CJ,GA3CKtjG,KAAKs2F,SAASuH,aACf2D,EAAKngG,UAAUC,IAAItB,KAAK03F,QAAQxuE,MAChCo6E,EAAMkD,UAAW,GAErBlD,EAAMp5F,KAAO,SACbo5F,EAAM7D,YAAcz/F,KAAKs2F,SAASwH,kBAClCwF,EAAMS,UAAY,EAClBT,EAAMn5F,aAAa,aAAcnK,KAAKs2F,SAASwH,mBAC/CwF,EAAMn5F,aAAa,iBAAkB,OACrCm5F,EAAMn5F,aAAa,eAAgB,OACnCm5F,EAAMn5F,aAAa,cAAe,OAClCm5F,EAAMmD,QAAUzJ,GAAUz8F,IACtBP,KAAK4f,UAAUqhF,OAAO1gG,EAAEkI,OAAOc,MAAM,GACtC,KACH+5F,EAAMU,UAAazjG,IACf,OAAQA,EAAE0G,KACN,IAAK,UACL,IAAK,YAED,MADU,cAAV1G,EAAE0G,IAAsBjH,KAAKikG,UAAU,QAAUjkG,KAAKikG,UAAU,OACzD,EACX,IAAK,MAED,OADAjkG,KAAK4f,UAAU5Y,SACR,EACX,IAAK,SAED,OADAhH,KAAK4f,UAAU5Y,SACR,EACX,IAAK,QACL,IAAK,IACD,GAAIhH,KAAK4f,UAAU0iF,SAAW/hG,EAAEmmG,QAE5B,OADApE,EAAQ4B,SACD,EAEN,CACD,MAAMlB,EAAchjG,KAAKqK,QAAQpB,KAAK9I,cAAc,IAAMH,KAAK03F,QAAQsL,aACvE,GAAIA,EAEA,OADAA,EAAYkB,SACL,CAEf,CACA,OAAO,EACf,EAEJ1C,EAAKp3F,YAAYk5F,GACbtjG,KAAK4f,UAAU0iF,QAAS,CACxBA,EAAQjhG,UAAUC,IAAItB,KAAK03F,QAAQ4K,SACnC,MAAMqE,EAAO1lG,SAAS6T,gBAAgB,6BAA8B,OACpE6xF,EAAKx8F,aAAa,UAAW,eAC7B,MAAMy8F,EAAW3lG,SAAS6T,gBAAgB,6BAA8B,QACxE8xF,EAASz8F,aAAa,IAAKnK,KAAK03F,QAAQ6K,aACxCoE,EAAKv8F,YAAYw8F,GACjBtE,EAAQl4F,YAAYu8F,GACpBrE,EAAQ6B,QAAW5jG,IAGf,GAFAA,EAAEC,iBACFD,EAAE6jG,mBACGpkG,KAAK4f,UAAU0iF,QAChB,OAEJ,MAAMuE,EAAa7mG,KAAKqK,QAAQ42F,OAAOqC,MAAM/5F,MAAM8W,OACnD,GAAmB,KAAfwmF,EAEA,YADA7mG,KAAKqK,QAAQ42F,OAAOqC,MAAM0B,QAG9B,MAAM8B,EAAaC,IACf,IAAIC,EAAY,IAAI3H,EAAO0H,GAE3B,GADA/mG,KAAK4f,UAAUkxE,UAAUkW,GACrBhnG,KAAKs2F,SAASmH,WAAY,CAC1B,IAAIrlE,EAASp4B,KAAKuhG,MAAMrB,cACxB9nE,EAAOxrB,KAAKo6F,EAAUz9F,OACtBvJ,KAAK4f,UAAU6kF,YAAYrsE,GAAQ,EACvC,MAEIp4B,KAAK4f,UAAU6kF,YAAY,CAACuC,EAAUz9F,QAAQ,GAElDvJ,KAAK4f,UAAUqhF,OAAO,IAClBjhG,KAAKs2F,SAAS4H,eACdx6F,YAAW,KACP1D,KAAK4f,UAAU5Y,OAAO,GACvB,IACP,EAEEigG,EAAejnG,KAAK4f,UAAU0iF,QAAQuE,IACvB,IAAjBI,SAA0BA,IAG1BA,aAAwBC,QACxBD,EAAax9F,MAAMF,IAEXu9F,EADiB,iBAAVv9F,EACG,CACNxH,KAAMwH,EACNA,MAAOA,GAIDA,EACd,IAIJu9F,EAD6B,iBAAjBG,EACF,CACNllG,KAAMklG,EACN19F,MAAO09F,GAIDA,GAER,EAEVzF,EAAKp3F,YAAYk4F,GACjBiE,EAAajE,QAAU,CACnBd,KAAMc,EACNjiC,IAAKsmC,EACLnxF,KAAMoxF,EAEd,CACA,OAAOL,CACX,CACA,WAAAY,GACInnG,KAAKqK,QAAQ42F,OAAOqC,MAAM0B,OAC9B,CACA,UAAAoC,CAAWC,GAAiB,EAAOC,GAAc,EAAOC,GAAY,GAChE,IAAIC,EAAQ,IAAMxnG,KAAK03F,QAAQoD,OAU/B,OATIuM,IACAG,GAAS,SAAWxnG,KAAK03F,QAAQ+H,YAAc,KAE/C6H,IACAE,GAAS,SAAWxnG,KAAK03F,QAAQ/2F,SAAW,KAE5C4mG,IACAC,GAAS,SAAWxnG,KAAK03F,QAAQxuE,KAAO,KAErC3a,MAAMk5F,KAAKznG,KAAKqK,QAAQpB,KAAK/G,iBAAiBslG,GACzD,CACA,SAAAvD,CAAU3yE,GACN,MAAMkhD,EAAUxyE,KAAKonG,YAAW,GAAM,GAAM,GAC5C,GAAuB,IAAnB50B,EAAQtvE,OAGZ,GAAuB,IAAnBsvE,EAAQtvE,QACHsvE,EAAQ,GAAGnxE,UAAUyB,SAAS9C,KAAK03F,QAAQsL,aADpD,CAMA,IAAK,IAAI13F,EAAI,EAAGA,EAAIknE,EAAQtvE,OAAQoI,IAChC,GAAIknE,EAAQlnE,GAAGjK,UAAUyB,SAAS9C,KAAK03F,QAAQsL,aAAc,CACzD,MAAM0E,EAAal1B,EAAQlnE,GAC3Bo8F,EAAWrmG,UAAUY,OAAOjC,KAAK03F,QAAQsL,aACzC,MAAM2E,EAAaD,EAAWE,cAC9B,GAAID,GAAcA,EAAWtmG,UAAUyB,SAAS9C,KAAK03F,QAAQ3wF,MAAO,CAChE,MAAMy7F,EAAgBmF,EAAWxnG,cAAc,IAAMH,KAAK03F,QAAQ8K,eAC9DA,GACAA,EAAc0B,OAEtB,CACA,IAAI2D,EAAer1B,EAAgB,SAARlhD,EAAkBhmB,EAAI,EAAIknE,EAAQtvE,OAASoI,EAAI,EAAI,EAAKA,EAAI,GAAK,EAAIA,EAAI,EAAIknE,EAAQtvE,OAAS,GACzH2kG,EAAaxmG,UAAUC,IAAItB,KAAK03F,QAAQsL,aACxChjG,KAAK2jG,oBAAoB3jG,KAAKqK,QAAQpB,KAAM4+F,GAC5C,MAAMC,EAAeD,EAAaD,cAClC,GAAIE,GAAgBA,EAAazmG,UAAUyB,SAAS9C,KAAK03F,QAAQ1wF,OAAQ,CACrE,MAAMw7F,EAAgBsF,EAAa3nG,cAAc,IAAMH,KAAK03F,QAAQ8K,eAChEA,GACAA,EAAc0B,OAEtB,CACA,MACJ,CAEJ1xB,EAAgB,SAARlhD,EAAiB,EAAIkhD,EAAQtvE,OAAS,GAAG7B,UAAUC,IAAItB,KAAK03F,QAAQsL,aAC5EhjG,KAAK2jG,oBAAoB3jG,KAAKqK,QAAQpB,KAAMupE,EAAgB,SAARlhD,EAAiB,EAAIkhD,EAAQtvE,OAAS,GA1B1F,MAHQsvE,EAAQ,GAAGnxE,UAAUC,IAAItB,KAAK03F,QAAQsL,YA8BlD,CACA,OAAAmD,GACI,MAAM3zB,EAAUvxE,SAASiK,cAAc,OAEvC,OADAsnE,EAAQnxE,UAAUC,IAAItB,KAAK03F,QAAQzuF,MAC5BupE,CACX,CACA,WAAAu1B,CAAYrmG,GACR1B,KAAKqK,QAAQpB,KAAKjH,UAAY,GAC9B,MAAMgmG,EAAW/mG,SAASiK,cAAc,OACxC88F,EAAS3mG,UAAUC,IAAItB,KAAK03F,QAAQh2F,OACpCsmG,EAAS3vD,YAAc32C,EACvB1B,KAAKqK,QAAQpB,KAAKmB,YAAY49F,EAClC,CACA,eAAAC,GACIjoG,KAAKqK,QAAQpB,KAAKjH,UAAY,GAC9B,MAAMkmG,EAAejnG,SAASiK,cAAc,OAC5Cg9F,EAAa7mG,UAAUC,IAAItB,KAAK03F,QAAQ2K,WACxC6F,EAAa7vD,YAAcr4C,KAAKs2F,SAAS0H,cACzCh+F,KAAKqK,QAAQpB,KAAKmB,YAAY89F,EAClC,CACA,aAAAC,CAAcz+F,GAEV,GADA1J,KAAKqK,QAAQpB,KAAKjH,UAAY,GACV,IAAhB0H,EAAKxG,OAAc,CACnB,MAAMklG,EAAYnnG,SAASiK,cAAc,OAIzC,OAHAk9F,EAAU/mG,UAAUC,IAAItB,KAAK03F,QAAQuJ,QACrCmH,EAAUpmG,UAAYhC,KAAKs2F,SAASyH,gBACpC/9F,KAAKqK,QAAQpB,KAAKmB,YAAYg+F,EAElC,CACA,IAAK,MAAM30F,KAAK/J,EAAM,CAClB,GAAI+J,aAAasrF,EAAU,CACvB,MAAMsJ,EAAapnG,SAASiK,cAAc,OAC1Cm9F,EAAWhnG,UAAUC,IAAItB,KAAK03F,QAAQsH,UACtC,MAAMwD,EAAgBvhG,SAASiK,cAAc,OAC7Cs3F,EAAcnhG,UAAUC,IAAItB,KAAK03F,QAAQ8K,eACzC6F,EAAWj+F,YAAYo4F,GACvB,MAAMC,EAAoBxhG,SAASiK,cAAc,OACjDu3F,EAAkBphG,UAAUC,IAAItB,KAAK03F,QAAQ+K,mBAC7CA,EAAkBpqD,YAAc5kC,EAAEwrF,MAClCuD,EAAcp4F,YAAYq4F,GAC1B,MAAMC,EAAkBzhG,SAASiK,cAAc,OAG/C,GAFAw3F,EAAgBrhG,UAAUC,IAAItB,KAAK03F,QAAQgL,iBAC3CF,EAAcp4F,YAAYs4F,GACtB1iG,KAAKs2F,SAASmH,YAAchqF,EAAEyrF,UAAW,CACzC,MAAMA,EAAYj+F,SAASiK,cAAc,OACzCg0F,EAAU79F,UAAUC,IAAItB,KAAK03F,QAAQiL,mBACrC,IAAI2F,GAAc,EAClB,IAAK,MAAM1wF,KAAKnE,EAAE++D,QACd,IAAK56D,EAAE2nF,SAAU,CACb+I,GAAc,EACd,KACJ,CAEAA,GACApJ,EAAU79F,UAAUC,IAAItB,KAAK03F,QAAQ6H,UAEzC,MAAMJ,EAAgBl+F,SAASiK,cAAc,QAC7Ci0F,EAAc9mD,YAAc5kC,EAAE0rF,cAC9BD,EAAU90F,YAAY+0F,GACtB,MAAMoJ,EAAetnG,SAAS6T,gBAAgB,6BAA8B,OAC5EyzF,EAAap+F,aAAa,UAAW,eACrC+0F,EAAU90F,YAAYm+F,GACtB,MAAMC,EAAevnG,SAAS6T,gBAAgB,6BAA8B,QAC5E0zF,EAAar+F,aAAa,IAAKnK,KAAK03F,QAAQkL,sBAC5C2F,EAAan+F,YAAYo+F,GACzB,MAAMC,EAAiBxnG,SAAS6T,gBAAgB,6BAA8B,QAC9E2zF,EAAet+F,aAAa,IAAKnK,KAAK03F,QAAQmL,wBAC9C0F,EAAan+F,YAAYq+F,GACzBvJ,EAAU5+F,iBAAiB,SAAUC,IACjCA,EAAEC,iBACFD,EAAE6jG,kBACF,MAAMsE,EAAkB1oG,KAAKuhG,MAAMrB,cACnC,GAAIoI,EAAJ,CACI,MAAMK,EAAcD,EAAgBx/F,QAAQ6J,IACxC,IAAK,MAAM6E,KAAKnE,EAAE++D,QACd,GAAIz/D,IAAM6E,EAAErO,MACR,OAAO,EAGf,OAAO,CAAI,IAEfvJ,KAAK4f,UAAU6kF,YAAYkE,GAAa,EAY5C,KArBA,CAaI,MAAMA,EAAcD,EAAgB79E,OAAOpX,EAAE++D,QAAQ7sE,KAAKiS,GAAMA,EAAErO,SAClE,IAAK,MAAMqO,KAAKnE,EAAE++D,QACTxyE,KAAKuhG,MAAMP,cAAcppF,EAAElP,KAC5B1I,KAAK4f,UAAUkxE,UAAUl5E,GAGjC5X,KAAK4f,UAAU6kF,YAAYkE,GAAa,EAE5C,KAEJjG,EAAgBt4F,YAAY80F,EAChC,CACA,GAAmB,QAAfzrF,EAAE2rF,SAAoB,CACtB,MAAM0D,EAAmB7hG,SAASiK,cAAc,OAChD43F,EAAiBzhG,UAAUC,IAAItB,KAAK03F,QAAQoL,kBAC5C,MAAM8F,EAAsB3nG,SAAS6T,gBAAgB,6BAA8B,OACnF8zF,EAAoBz+F,aAAa,UAAW,eAC5Cy+F,EAAoBvnG,UAAUC,IAAItB,KAAK03F,QAAQqK,OAC/Ce,EAAiB14F,YAAYw+F,GAC7B,MAAMC,EAAwB5nG,SAAS6T,gBAAgB,6BAA8B,QACrF8zF,EAAoBx+F,YAAYy+F,GAC5Bp1F,EAAE++D,QAAQs2B,MAAMlxF,GAAMA,EAAE2nF,YAAwD,KAA3Cv/F,KAAKqK,QAAQ42F,OAAOqC,MAAM/5F,MAAM8W,QACrEyiF,EAAiBzhG,UAAUC,IAAItB,KAAK03F,QAAQ3wF,MAC5C8hG,EAAsB1+F,aAAa,IAAKnK,KAAK03F,QAAQuK,YAEjC,SAAfxuF,EAAE2rF,UACPiJ,EAAWhnG,UAAUC,IAAItB,KAAK03F,QAAQ3wF,MACtC8hG,EAAsB1+F,aAAa,IAAKnK,KAAK03F,QAAQuK,YAEjC,UAAfxuF,EAAE2rF,WACPiJ,EAAWhnG,UAAUC,IAAItB,KAAK03F,QAAQ1wF,OACtC6hG,EAAsB1+F,aAAa,IAAKnK,KAAK03F,QAAQsK,aAEzDQ,EAAcliG,iBAAiB,SAAUC,IACrCA,EAAEC,iBACFD,EAAE6jG,kBACEiE,EAAWhnG,UAAUyB,SAAS9C,KAAK03F,QAAQ1wF,QAC3CqhG,EAAWhnG,UAAUY,OAAOjC,KAAK03F,QAAQ1wF,OACzCqhG,EAAWhnG,UAAUC,IAAItB,KAAK03F,QAAQ3wF,MACtC8hG,EAAsB1+F,aAAa,IAAKnK,KAAK03F,QAAQuK,aAGrDoG,EAAWhnG,UAAUY,OAAOjC,KAAK03F,QAAQ3wF,MACzCshG,EAAWhnG,UAAUC,IAAItB,KAAK03F,QAAQ1wF,OACtC6hG,EAAsB1+F,aAAa,IAAKnK,KAAK03F,QAAQsK,YACzD,IAEJU,EAAgBt4F,YAAY04F,EAChC,CACAuF,EAAWj+F,YAAYo4F,GACvB,IAAK,MAAM5qF,KAAKnE,EAAE++D,QACd61B,EAAWj+F,YAAYpK,KAAK86F,OAAOljF,IAEvC5X,KAAKqK,QAAQpB,KAAKmB,YAAYi+F,EAClC,CACI50F,aAAa4rF,GACbr/F,KAAKqK,QAAQpB,KAAKmB,YAAYpK,KAAK86F,OAAOrnF,GAElD,CACJ,CACA,MAAAqnF,CAAOA,GACH,GAAIA,EAAO2E,YAAa,CACpB,MAAMA,EAAcx+F,SAASiK,cAAc,OAG3C,OAFAu0F,EAAYp+F,UAAUC,IAAItB,KAAK03F,QAAQoD,QACvC2E,EAAYp+F,UAAUC,IAAItB,KAAK03F,QAAQxuE,MAChCu2E,CACX,CACA,MAAMsJ,EAAW9nG,SAASiK,cAAc,OAmGxC,OAlGA69F,EAAS/lG,QAAQ0F,GAAKoyF,EAAOpyF,GAC7BqgG,EAASrgG,GAAKoyF,EAAOpyF,GACrBqgG,EAAS1nG,UAAUC,IAAItB,KAAK03F,QAAQoD,QACpCiO,EAAS5+F,aAAa,OAAQ,UAC1B2wF,EAAO0C,OACP1C,EAAO0C,MAAMvlF,MAAM,KAAK9V,SAAS6mG,IAC7BD,EAAS1nG,UAAUC,IAAI0nG,EAAU,IAGrClO,EAAO9pF,QACP+3F,EAAS/3F,MAAM4yF,QAAU9I,EAAO9pF,OAEhChR,KAAKs2F,SAAS2H,iBAA8D,KAA3Cj+F,KAAKqK,QAAQ42F,OAAOqC,MAAM/5F,MAAM8W,OACjE0oF,EAAS/mG,UAAYhC,KAAKipG,cAA8B,KAAhBnO,EAAOwE,KAAcxE,EAAOwE,KAAOxE,EAAO/4F,KAAM/B,KAAKqK,QAAQ42F,OAAOqC,MAAM/5F,MAAOvJ,KAAK03F,QAAQ0K,mBAEjH,KAAhBtH,EAAOwE,KACZyJ,EAAS/mG,UAAY84F,EAAOwE,KAG5ByJ,EAAS1wD,YAAcyiD,EAAO/4F,KAE9B/B,KAAKs2F,SAASmI,oBAAsBsK,EAAS1wD,aAC7C0wD,EAAS5+F,aAAa,QAAS4+F,EAAS1wD,aAEvCyiD,EAAO5pF,SACR63F,EAAS1nG,UAAUC,IAAItB,KAAK03F,QAAQxuE,MAEpC4xE,EAAOn6F,UACPooG,EAAS1nG,UAAUC,IAAItB,KAAK03F,QAAQ/2F,UAEpCm6F,EAAOyE,UAAYv/F,KAAKs2F,SAASkI,cACjCuK,EAAS1nG,UAAUC,IAAItB,KAAK03F,QAAQxuE,MAEpC4xE,EAAOyE,UACPwJ,EAAS1nG,UAAUC,IAAItB,KAAK03F,QAAQ6H,UACpCwJ,EAAS5+F,aAAa,gBAAiB,QACvCnK,KAAKwhG,KAAKA,KAAKr3F,aAAa,wBAAyB4+F,EAASrgG,MAG9DqgG,EAAS1nG,UAAUY,OAAOjC,KAAK03F,QAAQ6H,UACvCwJ,EAAS5+F,aAAa,gBAAiB,UAE3C4+F,EAASzoG,iBAAiB,SAAUC,IAChCA,EAAEC,iBACFD,EAAE6jG,kBACF,MAAM1D,EAAkB1gG,KAAKuhG,MAAMrB,cAC7BnvF,EAAUxQ,EAAEu3F,cACZoR,EAAYjrC,OAAOltD,EAAQ/N,QAAQ0F,IACzC,GAAIoyF,EAAOn6F,UAAam6F,EAAOyE,WAAav/F,KAAKs2F,SAASiI,cACtD,OAEJ,GAAKv+F,KAAKs2F,SAASmH,YAAcz9F,KAAKs2F,SAASqI,aAAe+B,EAAgBx9F,SAAW43F,EAAOyE,UAC3Fv/F,KAAKs2F,SAASmH,YAAcz9F,KAAKs2F,SAASoI,aAAegC,EAAgBx9F,QAAU43F,EAAOyE,SAC3F,OAEJ,IAAI4J,GAAe,EACnB,MAAM7E,EAAStkG,KAAKuhG,MAAMZ,qBAC1B,IAAI4D,EAAQ,GACRvkG,KAAKs2F,SAASmH,aAEV8G,EADAzJ,EAAOyE,SACC+E,EAAOp7F,QAAQ0O,GAAMA,EAAElP,KAAOwgG,IAG9B5E,EAAOz5E,OAAOiwE,IAGzB96F,KAAKs2F,SAASmH,aAEX8G,EADAzJ,EAAOyE,SACC,GAGA,CAACzE,IAGZ96F,KAAK4f,UAAU4kF,eAChB2E,GAAe,GAEfnpG,KAAK4f,UAAU4kF,eAEX2E,GAD+C,IAA/CnpG,KAAK4f,UAAU4kF,aAAaD,EAAOD,IAOvC6E,IACKnpG,KAAKuhG,MAAMP,cAAckI,IAC1BlpG,KAAK4f,UAAUkxE,UAAUgK,GAE7B96F,KAAK4f,UAAU6kF,YAAYF,EAAM5+F,KAAKiS,GAAMA,EAAErO,SAAQ,GAClDvJ,KAAKs2F,SAAS4H,eACdl+F,KAAK4f,UAAU5Y,QAEfhH,KAAK4f,UAAU+kF,aACf3kG,KAAK4f,UAAU+kF,YAAYJ,GAEnC,IAEGwE,CACX,CACA,OAAAlqF,GACI7e,KAAKwhG,KAAKA,KAAKv/F,SACfjC,KAAKqK,QAAQm3F,KAAKv/F,QACtB,CACA,aAAAgnG,CAAcz9E,EAAKy1E,EAAQ/jC,GACvB,IAAIksC,EAAkB59E,EACtB,MAAM69E,EAAQ,IAAIxO,OAAO,IAAMoG,EAAO5gF,OAAS,sBAAuB,KACtE,IAAKmL,EAAI4oE,MAAMiV,GACX,OAAO79E,EAEX,MAAM89E,EAAqB99E,EAAI4oE,MAAMiV,GAAO//E,MACtCigF,EAAmBD,EAAqB99E,EAAI4oE,MAAMiV,GAAO,GAAGn1F,WAAWhR,OACvEsmG,EAA2Bh+E,EAAI0vD,UAAUouB,EAAoBC,GAEnE,OADAH,EAAkBA,EAAgB5gG,QAAQ6gG,EAAO,gBAAgBnsC,MAAcssC,YACxEJ,CACX,CACA,gBAAA/C,GACI,MAAMoD,EAAazpG,KAAKwhG,KAAKA,KAAK12B,aAC5B4+B,EAAgB1pG,KAAKqK,QAAQm3F,KAAK12B,aACxC9qE,KAAKwhG,KAAKA,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQyK,WAC7CniG,KAAKwhG,KAAKA,KAAKngG,UAAUC,IAAItB,KAAK03F,QAAQwK,WAC1CliG,KAAKqK,QAAQm3F,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQyK,WAChDniG,KAAKqK,QAAQm3F,KAAKngG,UAAUC,IAAItB,KAAK03F,QAAQwK,WAC7C,MAAMyH,EAAgB3pG,KAAKwhG,KAAKA,KAAKv5F,wBACrCjI,KAAKqK,QAAQm3F,KAAKxwF,MAAMy9D,OAAS,KAAOg7B,EAAaC,EAAgB,GAAK,iBAC1E1pG,KAAKqK,QAAQm3F,KAAKxwF,MAAMpJ,IAAM+hG,EAAc/hG,IAAM+hG,EAAcrtF,OAAS1Z,OAAOuE,QAAU,KAC1FnH,KAAKqK,QAAQm3F,KAAKxwF,MAAMrJ,KAAOgiG,EAAchiG,KAAO/E,OAAOgnG,QAAU,KACrE5pG,KAAKqK,QAAQm3F,KAAKxwF,MAAMqL,MAAQstF,EAActtF,MAAQ,IAC1D,CACA,gBAAAiqF,GACItmG,KAAKwhG,KAAKA,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQwK,WAC7CliG,KAAKwhG,KAAKA,KAAKngG,UAAUC,IAAItB,KAAK03F,QAAQyK,WAC1CniG,KAAKqK,QAAQm3F,KAAKngG,UAAUY,OAAOjC,KAAK03F,QAAQwK,WAChDliG,KAAKqK,QAAQm3F,KAAKngG,UAAUC,IAAItB,KAAK03F,QAAQyK,WAC7C,MAAMwH,EAAgB3pG,KAAKwhG,KAAKA,KAAKv5F,wBACrCjI,KAAKqK,QAAQm3F,KAAKxwF,MAAMy9D,OAAS,mBACK,aAAlCzuE,KAAKs2F,SAAS8H,kBACdp+F,KAAKqK,QAAQm3F,KAAKxwF,MAAMpJ,IAAM+hG,EAAc/hG,IAAM+hG,EAAcrtF,OAAS1Z,OAAOuE,QAAU,KAC1FnH,KAAKqK,QAAQm3F,KAAKxwF,MAAMrJ,KAAOgiG,EAAchiG,KAAO/E,OAAOgnG,QAAU,KACrE5pG,KAAKqK,QAAQm3F,KAAKxwF,MAAMqL,MAAQstF,EAActtF,MAAQ,KAE9D,CACA,mBAAAsnF,CAAoBp9F,EAAWwK,GAC3B,MAAM84F,EAAOtjG,EAAUgnF,UAAYhnF,EAAUuC,UACvCghG,EAAUD,EAAOtjG,EAAUwjG,aAC3BC,EAAOj5F,EAAQjI,UACfmhG,EAAUD,EAAOj5F,EAAQg5F,aAC3BC,EAAOH,EACPtjG,EAAUgnF,WAAasc,EAAOG,EAEzBC,EAAUH,IACfvjG,EAAUgnF,WAAa0c,EAAUH,EAEzC,CACA,UAAA1D,GACI,MAAMqD,EAAazpG,KAAKwhG,KAAKA,KAAK12B,aAC5Bo/B,EAAWlqG,KAAKwhG,KAAKA,KAAKv5F,wBAC1ByhG,EAAgB1pG,KAAKqK,QAAQm3F,KAAK12B,aAExC,OADmBloE,OAAOunG,aAAeD,EAAStiG,IAAM6hG,IACtCC,GACVQ,EAAStiG,IAAM8hG,EACR,KAMR,MACX,CACA,iBAAAhF,GACI,IAAK1kG,KAAKuhG,QAAUvhG,KAAKs2F,SACrB,OAEJ,MAAMiJ,EAAWv/F,KAAKuhG,MAAMZ,qBACtByJ,EAAmB7K,GAAYA,EAASr8F,OAAS,EACjDu6F,EAAaz9F,KAAKs2F,SAASmH,WAC3Bc,EAAgBv+F,KAAKs2F,SAASiI,cAC9B8L,EAAiBrqG,KAAKwhG,KAAKK,SAASL,KACpC8I,EAAYtqG,KAAK03F,QAAQxuE,MAC3Bq1E,GAAmBd,IAAe2M,EAIlCC,EAAehpG,UAAUC,IAAIgpG,GAH7BD,EAAehpG,UAAUY,OAAOqoG,EAKxC,EAGJ,MAAMC,EACF,WAAAzqG,CAAY0qG,GACRxqG,KAAKyqG,QAAS,EACdzqG,KAAKkI,SAAW,KAChBlI,KAAKwqG,OAASA,EACdxqG,KAAKwqG,OAAOlqG,iBAAiB,SAAUN,KAAK0qG,YAAY3sF,KAAK/d,MAAO,CAChE2qG,SAAS,IAEb3qG,KAAKkI,SAAW,IAAI0iG,iBAAiB5qG,KAAK6qG,YAAY9sF,KAAK/d,OAC3DA,KAAK8qG,cAAa,EACtB,CACA,MAAAzH,GACIrjG,KAAKwqG,OAAO7pG,UAAW,CAC3B,CACA,OAAA4iG,GACIvjG,KAAKwqG,OAAO7pG,UAAW,CAC3B,CACA,MAAAoqG,GACI/qG,KAAKwqG,OAAOzG,UAAY,EACxB/jG,KAAKwqG,OAAOx5F,MAAME,QAAU,OAC5BlR,KAAKwqG,OAAOrgG,aAAa,cAAe,OAC5C,CACA,MAAA6gG,GACIhrG,KAAKwqG,OAAO/hB,gBAAgB,YAC5BzoF,KAAKwqG,OAAOx5F,MAAME,QAAU,GAC5BlR,KAAKwqG,OAAO/hB,gBAAgB,cAChC,CACA,YAAAqiB,CAAaL,GACTzqG,KAAKyqG,OAASA,EACVA,GACIzqG,KAAKkI,UACLlI,KAAKkI,SAASW,QAAQ7I,KAAKwqG,OAAQ,CAC/BS,SAAS,EACTC,WAAW,EACXrmF,YAAY,IAInB4lF,GACGzqG,KAAKkI,UACLlI,KAAKkI,SAASijG,YAG1B,CACA,WAAAT,CAAY3gF,GAIR,OAHI/pB,KAAKyqG,QAAUzqG,KAAKorG,eACpBprG,KAAKorG,cAAcprG,KAAKqrG,sBAErB,CACX,CACA,WAAAR,CAAYS,GACR,IAAKtrG,KAAKyqG,OACN,OAEJ,IAAIc,GAAe,EACfC,GAAkB,EAClBC,GAAwB,EAC5B,IAAK,MAAM/pE,KAAK4pE,EACR5pE,EAAEj5B,SAAWzI,KAAKwqG,SACM,aAApB9oE,EAAEgqE,gBACFF,GAAkB,GAEE,UAApB9pE,EAAEgqE,gBACFH,GAAe,IAGG,aAAtB7pE,EAAEj5B,OAAO2xF,UAAiD,WAAtB14D,EAAEj5B,OAAO2xF,WAC7CqR,GAAwB,GAG5BF,GAAgBvrG,KAAK2rG,eACrB3rG,KAAK2rG,cAAc3rG,KAAKwqG,OAAOttC,UAAUjlD,MAAM,MAE/CuzF,GAAmBxrG,KAAK4rG,mBACxB5rG,KAAK8qG,cAAa,GAClB9qG,KAAK4rG,iBAAiB5rG,KAAKwqG,OAAO7pG,UAClCX,KAAK8qG,cAAa,IAElBW,GAAyBzrG,KAAK6rG,kBAC9B7rG,KAAK8qG,cAAa,GAClB9qG,KAAK6rG,gBAAgB7rG,KAAKmgG,WAC1BngG,KAAK8qG,cAAa,GAE1B,CACA,OAAA3K,GACI,IAAIz2F,EAAO,GACX,MAAM2+D,EAAQroE,KAAKwqG,OAAOhiB,WAC1B,IAAK,MAAM9yD,KAAK2yC,EACO,aAAf3yC,EAAE0kE,UACF1wF,EAAKkD,KAAK5M,KAAK8rG,oBAAoBp2E,IAEpB,WAAfA,EAAE0kE,UACF1wF,EAAKkD,KAAK5M,KAAK+rG,kBAAkBr2E,IAGzC,OAAOhsB,CACX,CACA,mBAAAoiG,CAAoB9M,GAChB,IAAIt1F,EAAO,CACPhB,GAAIs2F,EAASt2F,GACbu2F,MAAOD,EAASC,MAChBC,YAAWF,EAASh8F,SAAyC,SAA/Bg8F,EAASh8F,QAAQgpG,UAC/C7M,cAAeH,EAASh8F,QAAUg8F,EAASh8F,QAAQipG,cAAgB,aACnE7M,SAAUJ,EAASh8F,QAAUg8F,EAASh8F,QAAQo8F,SAAW,MACzD5sB,QAAS,IAEb,MAAMA,EAAUwsB,EAASxW,WACzB,IAAK,MAAM5wE,KAAK46D,EACO,WAAf56D,EAAEwiF,UACF1wF,EAAK8oE,QAAQ5lE,KAAK5M,KAAK+rG,kBAAkBn0F,IAGjD,OAAOlO,CACX,CACA,iBAAAqiG,CAAkBjR,GACd,MAAO,CACHpyF,GAAIoyF,EAAOpyF,GACXa,MAAOuxF,EAAOvxF,MACdxH,KAAM+4F,EAAO/4F,KACbu9F,KAAMxE,EAAO93F,SAAW83F,EAAO93F,QAAQs8F,KAAOxE,EAAO93F,QAAQs8F,KAAO,GACpEC,SAAUzE,EAAOyE,SACjBruF,QAAkC,SAAzB4pF,EAAO9pF,MAAME,QACtBvQ,SAAUm6F,EAAOn6F,SACjB6+F,YAAW1E,EAAO93F,SAAuC,SAA7B83F,EAAO93F,QAAQw8F,UAC3CC,YAA4C,SAA/B3E,EAAO93F,QAAQy8F,YAC5BjC,MAAO1C,EAAO59B,UACdlsD,MAAO8pF,EAAO9pF,MAAM4yF,QACpBl6F,KAAMoxF,EAAO93F,QAErB,CACA,iBAAAqoG,GACI,IAAIjzE,EAAS,GACb,MAAMo6C,EAAUxyE,KAAKwqG,OAAOhiB,WAC5B,IAAK,MAAM5wE,KAAK46D,EAAS,CACrB,GAAmB,aAAf56D,EAAEwiF,SAAyB,CAC3B,MAAM8R,EAAkBt0F,EAAE4wE,WAC1B,IAAK,MAAMue,KAAMmF,EACb,GAAoB,WAAhBnF,EAAG3M,SAAuB,CAC1B,MAAMU,EAASiM,EACXjM,EAAOyE,UACPnnE,EAAOxrB,KAAKkuF,EAAOvxF,MAE3B,CAER,CACA,GAAmB,WAAfqO,EAAEwiF,SAAuB,CACzB,MAAMU,EAASljF,EACXkjF,EAAOyE,UACPnnE,EAAOxrB,KAAKkuF,EAAOvxF,MAE3B,CACJ,CACA,OAAO6uB,CACX,CACA,WAAAqsE,CAAYl7F,GACRvJ,KAAK8qG,cAAa,GAClB,MAAMt4B,EAAUxyE,KAAKwqG,OAAOhiB,WAC5B,IAAK,MAAM5wE,KAAK46D,EAAS,CACrB,GAAmB,aAAf56D,EAAEwiF,SAAyB,CAC3B,MACM8R,EADWt0F,EACgB4wE,WACjC,IAAK,MAAMue,KAAMmF,EACb,GAAoB,WAAhBnF,EAAG3M,SAAuB,CAC1B,MAAMU,EAASiM,EACfjM,EAAOyE,SAAWh2F,EAAMk3F,SAAS3F,EAAOvxF,MAC5C,CAER,CACA,GAAmB,WAAfqO,EAAEwiF,SAAuB,CACzB,MAAMU,EAASljF,EACfkjF,EAAOyE,SAAWh2F,EAAMk3F,SAAS3F,EAAOvxF,MAC5C,CACJ,CACAvJ,KAAK8qG,cAAa,EACtB,CACA,YAAAqB,CAAazjG,EAAIsI,EAAO0mF,GACpB13F,KAAK8qG,cAAa,GACdpiG,IACA1I,KAAKwqG,OAAOxnG,QAAQ0F,GAAKA,GAEzBsI,IACAhR,KAAKwqG,OAAOx5F,MAAM4yF,QAAU5yF,GAE5B0mF,IACA13F,KAAKwqG,OAAOttC,UAAY,GACxBw6B,EAAQv1F,SAASoX,IACI,KAAbA,EAAE8G,QACFrgB,KAAKwqG,OAAOnpG,UAAUC,IAAIiY,EAAE8G,OAChC,KAGRrgB,KAAK8qG,cAAa,EACtB,CACA,aAAAsB,CAAc1iG,GACV1J,KAAK8qG,cAAa,GAClB9qG,KAAKwqG,OAAOxoG,UAAY,GACxB,IAAK,MAAMyR,KAAK/J,EACR+J,aAAasrF,GACb/+F,KAAKwqG,OAAOpgG,YAAYpK,KAAKqsG,eAAe54F,IAE5CA,aAAa4rF,GACbr/F,KAAKwqG,OAAOpgG,YAAYpK,KAAKssG,aAAa74F,IAGlDzT,KAAKwqG,OAAO/b,cAAc,IAAIL,MAAM,WACpCpuF,KAAK8qG,cAAa,EACtB,CACA,cAAAuB,CAAerN,GACX,MAAMqJ,EAAapnG,SAASiK,cAAc,YAS1C,GARAm9F,EAAW3/F,GAAKs2F,EAASt2F,GACzB2/F,EAAWpJ,MAAQD,EAASC,MACxBD,EAASE,YACTmJ,EAAWrlG,QAAQk8F,UAAY,QAET,QAAtBF,EAASI,WACTiJ,EAAWrlG,QAAQo8F,SAAWJ,EAASI,UAEvCJ,EAASxsB,QACT,IAAK,MAAM56D,KAAKonF,EAASxsB,QACrB61B,EAAWj+F,YAAYpK,KAAKssG,aAAa10F,IAGjD,OAAOywF,CACX,CACA,YAAAiE,CAAajc,GACT,MAAM0Y,EAAW9nG,SAASiK,cAAc,UAgCxC,OA/BA69F,EAASrgG,GAAK2nF,EAAK3nF,GACnBqgG,EAASx/F,MAAQ8mF,EAAK9mF,MACtBw/F,EAAS/mG,UAAYquF,EAAKtuF,KACR,KAAdsuF,EAAKiP,MACLyJ,EAAS5+F,aAAa,YAAakmF,EAAKiP,MAExCjP,EAAKkP,WACLwJ,EAASxJ,SAAWlP,EAAKkP,UAEzBlP,EAAK1vF,WACLooG,EAASpoG,UAAW,IAEH,IAAjB0vF,EAAKn/E,UACL63F,EAAS/3F,MAAME,QAAU,QAEzBm/E,EAAKoP,aACLsJ,EAAS5+F,aAAa,mBAAoB,QAE1CkmF,EAAKmP,WACLuJ,EAAS5+F,aAAa,iBAAkB,QAExCkmF,EAAKmN,OACLnN,EAAKmN,MAAMvlF,MAAM,KAAK9V,SAASoqG,IAC3BxD,EAAS1nG,UAAUC,IAAIirG,EAAY,IAGvClc,EAAK3mF,MAA6B,iBAAd2mF,EAAK3mF,MACzBiC,OAAOwU,KAAKkwE,EAAK3mF,MAAMvH,SAAS8E,IAC5B8hG,EAAS5+F,aAAa,QAx7CtC,SAAmBqhB,GACf,MAAMymD,EAASzmD,EAAIhjB,QAAQ,oCAAqC4rF,GAAU,IAAMA,EAAMpiD,gBACtF,OAAOxmB,EAAI,KAAOA,EAAI,GAAGotE,cAAgB3mB,EAAOiJ,UAAU,GAAKjJ,CACnE,CAq7CgDu6B,CAAUvlG,GAAMopF,EAAK3mF,KAAKzC,GAAK,IAGhE8hG,CACX,CACA,OAAAlqF,GACI7e,KAAK8qG,cAAa,GAClB9qG,KAAKwqG,OAAO3qF,oBAAoB,SAAU7f,KAAK0qG,YAAY3sF,KAAK/d,OAC5DA,KAAKkI,WACLlI,KAAKkI,SAASijG,aACdnrG,KAAKkI,SAAW,aAEblI,KAAKwqG,OAAOxnG,QAAQ0F,GAC3B1I,KAAKgrG,QACT,EAGJ,MAAMyB,EACF,WAAA3sG,CAAYu8D,GACR,IAAIynC,EAwCJ,GAvCA9jG,KAAK0sG,OAAS,CACVzL,YAAQ/8E,EACRg9E,aAAc,CAACN,EAAKK,KACiD,IAA1DL,EAAI7+F,KAAKiwC,cAAc13B,QAAQ2mF,EAAOjvD,eAEjDswD,aAASp+E,EACTsgF,kBAActgF,EACdygF,iBAAazgF,EACbyoF,gBAAYzoF,EACZ0oF,eAAW1oF,EACX2oF,iBAAa3oF,EACb4oF,gBAAY5oF,GAEhBlkB,KAAK+sG,aAAe/P,GAAS,MACpBh9F,KAAKs2F,SAAS1vF,QAAW5G,KAAKs2F,SAASoH,aAG5C19F,KAAK+yD,OAAOywC,aAAa,IAE7BxjG,KAAKgtG,aAAehQ,GAAS,MACpBh9F,KAAKs2F,SAAS1vF,QAAW5G,KAAKs2F,SAASoH,aAG5C19F,KAAK+yD,OAAOywC,aAAa,IAE7BxjG,KAAKitG,cAAiB1sG,IACbP,KAAKs2F,SAAS1vF,QAGfrG,EAAEkI,SArhDlB,SAAwBsI,EAASmsD,GAC7B,SAASgwC,EAAS3sG,EAAGgZ,GACjB,OAAIA,GAAKhZ,GAAKA,EAAEc,WAAad,EAAEc,UAAUyB,SAASyW,IAG9CA,GAAKhZ,GAAKA,EAAEyC,SAAWzC,EAAEyC,QAAQ0F,IAAMnI,EAAEyC,QAAQ0F,KAAOw0D,EAFjD38D,EAKJ,IACX,CAYA,OAAO2sG,EAASn8F,EAASmsD,IAXzB,SAASiwC,EAAc5sG,EAAGgZ,GACtB,OAAKhZ,GAAKA,IAAMU,SAGPisG,EAAS3sG,EAAGgZ,GACVhZ,EAGA4sG,EAAc5sG,EAAE22C,WAAY39B,GAN5B,IAQf,CACuC4zF,CAAcp8F,EAASmsD,EAClE,CA+/C6BkwC,CAAe7sG,EAAEkI,OAAQzI,KAAKs2F,SAAS5tF,KACpD1I,KAAKgH,MAAMzG,EAAE2J,KACjB,EAEJlK,KAAKqtG,uBAAyB,KACtBpsG,SAASm7C,QACTp8C,KAAKgH,OACT,EAEJhH,KAAKstG,SAAqC,iBAAlBjxC,EAAOmuC,OAAsBvpG,SAASd,cAAck8D,EAAOmuC,QAAUnuC,EAAOmuC,QAC/FxqG,KAAKstG,SAIN,YAHIjxC,EAAOqwC,QAAUrwC,EAAOqwC,OAAOhrG,OAC/B26D,EAAOqwC,OAAOhrG,MAAM,IAAI4e,MAAM,mCAItC,GAA8B,WAA1BtgB,KAAKstG,SAASC,QAId,YAHIlxC,EAAOqwC,QAAUrwC,EAAOqwC,OAAOhrG,OAC/B26D,EAAOqwC,OAAOhrG,MAAM,IAAI4e,MAAM,iCAIlCtgB,KAAKstG,SAAStqG,QAAQwqG,MACtBxtG,KAAK6e,UAET7e,KAAKs2F,SAAW,IAAIiH,EAASlhC,EAAOi6B,UACpC,MAAMmX,EAAiB,CAAC,cAAe,aAAc,YAAa,cAAe,cACjF,IAAK,MAAMxmG,KAAOo1D,EAAOqwC,OAChBrwC,EAAOqwC,OAAO9gG,eAAe3E,MAGG,IAAjCwmG,EAAenzF,QAAQrT,GACvBjH,KAAK0sG,OAAOzlG,GAAO+1F,EAAS3gC,EAAOqwC,OAAOzlG,GAAM,KAGhDjH,KAAK0sG,OAAOzlG,GAAOo1D,EAAOqwC,OAAOzlG,IAGzCjH,KAAKs2F,SAAS31F,UAAuC,QAA1BmjG,EAAKznC,EAAOi6B,gBAA6B,IAAPwN,OAAgB,EAASA,EAAGnjG,UAAY07D,EAAOi6B,SAAS31F,SAAWX,KAAKstG,SAAS3sG,SAC9IX,KAAKs2F,SAASmH,WAAaz9F,KAAKstG,SAASI,SACzC1tG,KAAKs2F,SAAStlF,MAAQhR,KAAKstG,SAASt8F,MAAM4yF,QAC1C5jG,KAAKs2F,SAASkH,MAAQx9F,KAAKstG,SAASpwC,UAAUjlD,MAAM,KACpDjY,KAAKwqG,OAAS,IAAID,EAAOvqG,KAAKstG,UAC9BttG,KAAKwqG,OAAO2B,aAAansG,KAAKs2F,SAAS5tF,GAAI1I,KAAKs2F,SAAStlF,MAAOhR,KAAKs2F,SAASkH,OAC9Ex9F,KAAKwqG,OAAOO,SACZ/qG,KAAKwqG,OAAOY,cAAiBhzE,IACzBp4B,KAAKykG,YAAYrsE,EAAO,EAE5Bp4B,KAAKwqG,OAAOmB,cAAiBjU,IACzB13F,KAAKs2F,SAASkH,MAAQ9F,EACtB13F,KAAK+yD,OAAOowC,mBAAmB,EAEnCnjG,KAAKwqG,OAAOoB,iBAAoBjrG,IACxBA,EACAX,KAAKujG,UAGLvjG,KAAKqjG,QACT,EAEJrjG,KAAKwqG,OAAOqB,gBAAmBniG,IAC3B1J,KAAK2kB,QAAQjb,EAAK,EAEtB1J,KAAKuhG,MAAQ,IAAI7B,EAAM1/F,KAAKs2F,SAASmH,WAAa,WAAa,SAAUphC,EAAO3yD,KAAO2yD,EAAO3yD,KAAO1J,KAAKwqG,OAAOrK,WAC7G9jC,EAAO3yD,MACP1J,KAAKwqG,OAAO4B,cAAcpsG,KAAKuhG,MAAMpB,WAEzC,MAAMvgF,EAAY,CACd7Y,KAAM/G,KAAK+G,KAAKgX,KAAK/d,MACrBgH,MAAOhH,KAAKgH,MAAM+W,KAAK/d,MACvBsiG,QAAStiG,KAAK0sG,OAAOpK,QAAUtiG,KAAK0sG,OAAOpK,aAAUp+E,EACrDugF,YAAazkG,KAAKykG,YAAY1mF,KAAK/d,MACnC8wF,UAAW9wF,KAAK8wF,UAAU/yE,KAAK/d,MAC/BihG,OAAQjhG,KAAKihG,OAAOljF,KAAK/d,MACzBwkG,aAAcxkG,KAAK0sG,OAAOlI,aAC1BG,YAAa3kG,KAAK0sG,OAAO/H,aAE7B3kG,KAAK+yD,OAAS,IAAIuuC,EAAOthG,KAAKs2F,SAAUt2F,KAAKuhG,MAAO3hF,GACpD5f,KAAK+yD,OAAOoyC,eACZnlG,KAAK+yD,OAAOo1C,cAAcnoG,KAAKuhG,MAAMpB,WACrC,MAAMwN,EAAkB3tG,KAAKstG,SAASxsG,aAAa,cAC7C8sG,EAAuB5tG,KAAKstG,SAASxsG,aAAa,mBACpD6sG,EACA3tG,KAAK+yD,OAAOyuC,KAAKA,KAAKr3F,aAAa,aAAcwjG,GAE5CC,GACL5tG,KAAK+yD,OAAOyuC,KAAKA,KAAKr3F,aAAa,kBAAmByjG,GAEtD5tG,KAAKstG,SAASp2D,YACdl3C,KAAKstG,SAASp2D,WAAWuoB,aAAaz/D,KAAK+yD,OAAOyuC,KAAKA,KAAMxhG,KAAKstG,SAASO,aAE/E5sG,SAASX,iBAAiB,QAASN,KAAKitG,eACxCrqG,OAAOtC,iBAAiB,SAAUN,KAAK+sG,cAAc,GAClB,SAA/B/sG,KAAKs2F,SAAS+H,cACdz7F,OAAOtC,iBAAiB,SAAUN,KAAKgtG,cAAc,GAEzD/rG,SAASX,iBAAiB,mBAAoBN,KAAKqtG,wBAC/CrtG,KAAKs2F,SAAS31F,UACdX,KAAKujG,UAELvjG,KAAKs2F,SAASsH,YACd59F,KAAK+G,OAET/G,KAAKstG,SAASQ,KAAO9tG,IACzB,CACA,MAAAqjG,GACIrjG,KAAKs2F,SAAS31F,UAAW,EACzBX,KAAKwqG,OAAOnH,SACZrjG,KAAK+yD,OAAOswC,QAChB,CACA,OAAAE,GACIvjG,KAAKs2F,SAAS31F,UAAW,EACzBX,KAAKwqG,OAAOjH,UACZvjG,KAAK+yD,OAAOwwC,SAChB,CACA,OAAApD,GACI,OAAOngG,KAAKuhG,MAAMpB,SACtB,CACA,OAAAx7E,CAAQjb,GACJ,MAAM61F,EAAWv/F,KAAKuhG,MAAMrB,cACtBrlF,EAAM7a,KAAKuhG,MAAM3B,kBAAkBl2F,GACzC,GAAImR,EAIA,YAHI7a,KAAK0sG,OAAOhrG,OACZ1B,KAAK0sG,OAAOhrG,MAAMmZ,IAI1B7a,KAAKuhG,MAAM58E,QAAQjb,GACnB,MAAMqkG,EAAY/tG,KAAKuhG,MAAMpB,UAC7BngG,KAAKwqG,OAAO4B,cAAc2B,GAC1B/tG,KAAK+yD,OAAOoyC,eACZnlG,KAAK+yD,OAAOo1C,cAAc4F,GACtB/tG,KAAK0sG,OAAO/H,cAAgBrH,EAAQiC,EAAUv/F,KAAKuhG,MAAMrB,gBACzDlgG,KAAK0sG,OAAO/H,YAAY3kG,KAAKuhG,MAAMZ,qBAE3C,CACA,WAAAT,GACI,OAAOlgG,KAAKuhG,MAAMrB,aACtB,CACA,WAAAuE,CAAYl7F,EAAOykG,GAAiB,GAChC,MAAMzO,EAAWv/F,KAAKuhG,MAAMrB,cAC5BlgG,KAAKuhG,MAAMtB,cAAc,QAAS1xF,MAAMyrF,QAAQzwF,GAASA,EAAQ,CAACA,IAClE,MAAMG,EAAO1J,KAAKuhG,MAAMpB,UACxBngG,KAAKwqG,OAAO4B,cAAc1iG,GAC1B1J,KAAK+yD,OAAOoyC,eACmC,KAA3CnlG,KAAK+yD,OAAO1oD,QAAQ42F,OAAOqC,MAAM/5F,MACjCvJ,KAAKihG,OAAOjhG,KAAK+yD,OAAO1oD,QAAQ42F,OAAOqC,MAAM/5F,OAG7CvJ,KAAK+yD,OAAOo1C,cAAcz+F,GAE1BskG,GAAkBhuG,KAAK0sG,OAAO/H,cAAgBrH,EAAQiC,EAAUv/F,KAAKuhG,MAAMrB,gBAC3ElgG,KAAK0sG,OAAO/H,YAAY3kG,KAAKuhG,MAAMZ,qBAE3C,CACA,SAAA7P,CAAUgK,GACN,MAAMyE,EAAWv/F,KAAKuhG,MAAMrB,cACvBlgG,KAAKuhG,MAAMnB,iBAAiB0I,MAAMlxF,IAAQ,IAAIksF,EAAI,OAAOlsF,EAAErO,SAAmC,QAAvBu6F,EAAKhJ,EAAOvxF,aAA0B,IAAPu6F,EAAgBA,EAAKhJ,EAAO/4F,KAAK,KACxI/B,KAAKuhG,MAAMzQ,UAAUgK,GAEzB,MAAMpxF,EAAO1J,KAAKuhG,MAAMpB,UACxBngG,KAAKwqG,OAAO4B,cAAc1iG,GAC1B1J,KAAK+yD,OAAOoyC,eACZnlG,KAAK+yD,OAAOo1C,cAAcz+F,GACtB1J,KAAK0sG,OAAO/H,cAAgBrH,EAAQiC,EAAUv/F,KAAKuhG,MAAMrB,gBACzDlgG,KAAK0sG,OAAO/H,YAAY3kG,KAAKuhG,MAAMZ,qBAE3C,CACA,IAAA55F,GACQ/G,KAAKs2F,SAAS31F,UAAYX,KAAKs2F,SAAS1vF,SAGxC5G,KAAK0sG,OAAOC,YACZ3sG,KAAK0sG,OAAOC,aAEhB3sG,KAAK+yD,OAAOhsD,OACR/G,KAAKs2F,SAASuH,YACd79F,KAAK+yD,OAAOo0C,cAEhBnnG,KAAKs2F,SAAS1vF,QAAS,EACvBlD,YAAW,KACH1D,KAAK0sG,OAAOE,WACZ5sG,KAAK0sG,OAAOE,YAEZ5sG,KAAKs2F,SAAS1vF,SACd5G,KAAKs2F,SAASoH,YAAa,EAC/B,GACD19F,KAAKs2F,SAASsI,cACqB,aAAlC5+F,KAAKs2F,SAAS8H,kBACVp+F,KAAKs2F,SAASqH,cACd7/E,cAAc9d,KAAKs2F,SAASqH,cAEhC39F,KAAKs2F,SAASqH,aAAehgF,YAAY3d,KAAK+yD,OAAOywC,YAAYzlF,KAAK/d,KAAK+yD,QAAS,MAE5F,CACA,KAAA/rD,CAAM+9F,EAAY,MACT/kG,KAAKs2F,SAAS1vF,SAAU5G,KAAKs2F,SAASsH,aAGvC59F,KAAK0sG,OAAOG,aACZ7sG,KAAK0sG,OAAOG,cAEhB7sG,KAAK+yD,OAAO/rD,QACmC,KAA3ChH,KAAK+yD,OAAO1oD,QAAQ42F,OAAOqC,MAAM/5F,OACjCvJ,KAAKihG,OAAO,IAEhBjhG,KAAK+yD,OAAO+xC,UAAUC,GACtB/kG,KAAKs2F,SAAS1vF,QAAS,EACvB5G,KAAKs2F,SAASoH,YAAa,EAC3Bh6F,YAAW,KACH1D,KAAK0sG,OAAOI,YACZ9sG,KAAK0sG,OAAOI,YAChB,GACD9sG,KAAKs2F,SAASsI,cACb5+F,KAAKs2F,SAASqH,cACd7/E,cAAc9d,KAAKs2F,SAASqH,cAEpC,CACA,MAAAsD,CAAO13F,GAIH,GAHIvJ,KAAK+yD,OAAO1oD,QAAQ42F,OAAOqC,MAAM/5F,QAAUA,IAC3CvJ,KAAK+yD,OAAO1oD,QAAQ42F,OAAOqC,MAAM/5F,MAAQA,IAExCvJ,KAAK0sG,OAAOzL,OAEb,YADAjhG,KAAK+yD,OAAOo1C,cAAwB,KAAV5+F,EAAevJ,KAAKuhG,MAAMpB,UAAYngG,KAAKuhG,MAAMN,OAAO13F,EAAOvJ,KAAK0sG,OAAOxL,eAGzGlhG,KAAK+yD,OAAOk1C,kBACZ,MAAMgG,EAAajuG,KAAK0sG,OAAOzL,OAAO13F,EAAOvJ,KAAKuhG,MAAMZ,sBACpDsN,aAAsB/G,QACtB+G,EACKxkG,MAAMC,IACP1J,KAAK+yD,OAAOo1C,cAAcnoG,KAAKuhG,MAAMzB,kBAAkBp2F,GAAM,IAE5DwkG,OAAOrzF,IACR7a,KAAK+yD,OAAOg1C,YAA2B,iBAARltF,EAAmBA,EAAMA,EAAIlZ,QAAQ,IAInE4M,MAAMyrF,QAAQiU,GACnBjuG,KAAK+yD,OAAOo1C,cAAcnoG,KAAKuhG,MAAMzB,kBAAkBmO,IAGvDjuG,KAAK+yD,OAAOg1C,YAAY,yDAEhC,CACA,OAAAlpF,GACI5d,SAAS4e,oBAAoB,QAAS7f,KAAKitG,eAC3CrqG,OAAOid,oBAAoB,SAAU7f,KAAK+sG,cAAc,GACrB,SAA/B/sG,KAAKs2F,SAAS+H,cACdz7F,OAAOid,oBAAoB,SAAU7f,KAAKgtG,cAAc,GAE5D/rG,SAAS4e,oBAAoB,mBAAoB7f,KAAKqtG,wBACtDrtG,KAAKuhG,MAAM58E,QAAQ,IACnB3kB,KAAK+yD,OAAOl0C,UACZ7e,KAAKwqG,OAAO3rF,SAChB,ECrxDJ5d,SAASiB,iBAAiB,WAAWC,SAASqoG,IAC1C,IAAIiC,EAAW,CACXjC,OAAQA,EACRlU,SAAU,CACNuH,YAAY,EACZS,gBAAiBkM,EAAOxnG,QAAQy8F,aAEpCiN,OAAQ,CACJ/H,YAAclQ,IACV+V,EAAO2D,QAAQ,SAAS1f,cAAc,IAAIL,MAAM,UAAU,IAGpE,sDCFN,SAASggB,EAAS1/F,GACd,OAAgB,OAARA,GACW,iBAARA,GACP,gBAAiBA,GACjBA,EAAI5O,cAAgB6L,MAC5B,CACA,SAAS2gF,EAAO7jF,EAAS,CAAC,EAAG3B,EAAM,CAAC,GAChC6E,OAAOwU,KAAKrZ,GAAK3E,SAAS8E,SACK,IAAhBwB,EAAOxB,GACdwB,EAAOxB,GAAOH,EAAIG,GACbmnG,EAAStnG,EAAIG,KAClBmnG,EAAS3lG,EAAOxB,KAChB0E,OAAOwU,KAAKrZ,EAAIG,IAAM/D,OAAS,GAC/BopF,EAAO7jF,EAAOxB,GAAMH,EAAIG,GAC5B,GAER,CAEA,MAAMonG,EAAc,CAChBntG,KAAM,CAAC,EACP,gBAAAZ,GAAqB,EACrB,mBAAAuf,GAAwB,EACxByuF,cAAe,CACX,IAAAC,GAAS,EACTnU,SAAU,IAEdj6F,cAAa,IACF,KAEX+B,iBAAgB,IACL,GAEX6gD,eAAc,IACH,KAEXwrC,YAAW,KACA,CACH,SAAAC,GAAc,IAGtBtjF,cAAa,KACF,CACH+iE,SAAU,GACVua,WAAY,GACZx3E,MAAO,CAAC,EACR,YAAA7G,GAAiB,EACjB8gB,qBAAoB,IACT,KAInBnW,gBAAe,KACJ,CAAC,GAEZ05F,WAAU,IACC,KAEX5yF,SAAU,CACN6yF,KAAM,GACNC,KAAM,GACNC,SAAU,GACV5oE,KAAM,GACNlqB,OAAQ,GACRC,SAAU,GACV8yF,SAAU,GACV3N,OAAQ,KAGhB,SAAS4N,IACL,MAAMC,EAA0B,oBAAb7tG,SAA2BA,SAAW,CAAC,EAE1D,OADAqrF,EAAOwiB,EAAKT,GACLS,CACX,CAEA,MAAMC,EAAY,CACd9tG,SAAUotG,EACV9jG,UAAW,CACP4E,UAAW,IAEfyM,SAAU,CACN6yF,KAAM,GACNC,KAAM,GACNC,SAAU,GACV5oE,KAAM,GACNlqB,OAAQ,GACRC,SAAU,GACV8yF,SAAU,GACV3N,OAAQ,IAEZ+N,QAAS,CACL,YAAAC,GAAiB,EACjB,SAAAC,GAAc,EACd,EAAAC,GAAO,EACP,IAAAC,GAAS,GAEbC,YAAa,WACT,OAAOrvG,IACX,EACA,gBAAAM,GAAqB,EACrB,mBAAAuf,GAAwB,EACxBw4E,iBAAgB,KACL,CACHiX,iBAAgB,IACL,KAInB,KAAA7/B,GAAU,EACV,IAAApsE,GAAS,EACT6vE,OAAQ,CAAC,EACT,UAAAxvE,GAAe,EACf,YAAAktF,GAAiB,EACjB2e,WAAU,KACC,CAAC,GAEZ/kF,sBAAsB9P,GACQ,oBAAfhX,YACPgX,IACO,MAEJhX,WAAWgX,EAAU,GAEhC,oBAAA4+E,CAAqB5wF,GACS,oBAAfhF,YAGXktF,aAAaloF,EACjB,GAEJ,SAAS,IACL,MAAM8mG,EAAwB,oBAAX5sG,OAAyBA,OAAS,CAAC,EAEtD,OADA0pF,EAAOkjB,EAAKT,GACLS,CACX,CCrHA,MAAMC,UAAalhG,MACjB,WAAAzO,CAAY6J,GACW,iBAAVA,EACT+lG,MAAM/lG,IAEN+lG,SAAU/lG,GAAS,IAnBzB,SAAsB+E,GACpB,MAAMihG,EAAQjhG,EAAIkhG,UAClBjkG,OAAOolE,eAAeriE,EAAK,YAAa,CACtCie,IAAG,IACMgjF,EAGT,GAAAE,CAAItmG,GACFomG,EAAMC,UAAYrmG,CACpB,GAGJ,CAQMumG,CAAa9vG,MAEjB,EAIF,SAAS+vG,EAAU7hG,EAAM,IACvB,MAAM8hG,EAAM,GAQZ,OAPA9hG,EAAI/L,SAAQpC,IACNwO,MAAMyrF,QAAQj6F,GAChBiwG,EAAIpjG,QAAQmjG,EAAUhwG,IAEtBiwG,EAAIpjG,KAAK7M,EACX,IAEKiwG,CACT,CACA,SAASC,EAAY/hG,EAAKwM,GACxB,OAAOnM,MAAM7C,UAAUxC,OAAO2C,KAAKqC,EAAKwM,EAC1C,CA+BA,SAASw1F,EAAE5V,EAAUr2B,GACnB,MAAMrhE,EAAS,IACT3B,EAAW4tG,IACjB,IAAI3gG,EAAM,GAEV,IAAK+1D,GAAWq2B,aAAoBmV,EAClC,OAAOnV,EAGT,IAAKA,EACH,OAAO,IAAImV,EAAKvhG,GAGlB,GAAwB,iBAAbosF,EAAuB,CAChC,MAAMgF,EAAOhF,EAASj6E,OAEtB,GAAIi/E,EAAKhlF,QAAQ,MAAQ,GAAKglF,EAAKhlF,QAAQ,MAAQ,EAAG,CACpD,IAAI61F,EAAW,MACa,IAAxB7Q,EAAKhlF,QAAQ,SAAc61F,EAAW,MACd,IAAxB7Q,EAAKhlF,QAAQ,SAAc61F,EAAW,SACd,IAAxB7Q,EAAKhlF,QAAQ,QAAwC,IAAxBglF,EAAKhlF,QAAQ,SAAc61F,EAAW,MACxC,IAA3B7Q,EAAKhlF,QAAQ,YAAiB61F,EAAW,SACb,IAA5B7Q,EAAKhlF,QAAQ,aAAkB61F,EAAW,UAC9C,MAAMC,EAAanvG,EAASiK,cAAcilG,GAC1CC,EAAWpuG,UAAYs9F,EAEvB,IAAK,IAAIh0F,EAAI,EAAGA,EAAI8kG,EAAW5nB,WAAWtlF,OAAQoI,GAAK,EACrD4C,EAAItB,KAAKwjG,EAAW5nB,WAAWl9E,GAEnC,MACE4C,EA7CN,SAAaosF,EAAUr2B,GACrB,GAAwB,iBAAbq2B,EACT,MAAO,CAACA,GAGV,MAAMthF,EAAI,GACJg3F,EAAM/rC,EAAQ/hE,iBAAiBo4F,GAErC,IAAK,IAAIhvF,EAAI,EAAGA,EAAI0kG,EAAI9sG,OAAQoI,GAAK,EACnC0N,EAAEpM,KAAKojG,EAAI1kG,IAGb,OAAO0N,CACT,CAgCYq3F,CAAI/V,EAASj6E,OAAQ4jD,GAAWhjE,EAG1C,MAAO,GAAIq5F,EAASH,UAAYG,IAAa13F,GAAU03F,IAAar5F,EAClEiN,EAAItB,KAAK0tF,QACJ,GAAI/rF,MAAMyrF,QAAQM,GAAW,CAClC,GAAIA,aAAoBmV,EAAM,OAAOnV,EACrCpsF,EAAMosF,CACR,CAEA,OAAO,IAAImV,EAtEb,SAAqBvhG,GACnB,MAAMoiG,EAAc,GAEpB,IAAK,IAAIhlG,EAAI,EAAGA,EAAI4C,EAAIhL,OAAQoI,GAAK,GACE,IAAjCglG,EAAYh2F,QAAQpM,EAAI5C,KAAYglG,EAAY1jG,KAAKsB,EAAI5C,IAG/D,OAAOglG,CACT,CA8DkBC,CAAYriG,GAC9B,CAEAgiG,EAAEv6F,GAAK85F,EAAK/jG,UA4yCZ,MAAM8kG,EAAY,gBAAgBv4F,MAAM,KAExC,SAASw4F,EAASxmG,GAiBhB,OAhBA,YAAyByV,GACvB,QAAuB,IAAZA,EAAK,GAAoB,CAClC,IAAK,IAAIpU,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EAChCklG,EAAUl2F,QAAQrQ,GAAQ,IACxBA,KAAQjK,KAAKsL,GAAItL,KAAKsL,GAAGrB,KAC3BimG,EAAElwG,KAAKsL,IAAIoZ,QAAQza,IAKzB,OAAOjK,IACT,CAEA,OAAOA,KAAKuvF,GAAGtlF,KAASyV,EAC1B,CAGF,CAEc+wF,EAAS,SACVA,EAAS,QACRA,EAAS,SACPA,EAAS,WACRA,EAAS,YACZA,EAAS,SACPA,EAAS,WACRA,EAAS,YACXA,EAAS,UACTA,EAAS,UACNA,EAAS,aACTA,EAAS,aACXA,EAAS,WACNA,EAAS,cACTA,EAAS,cACXA,EAAS,YACRA,EAAS,aACRA,EAAS,cACXA,EAAS,YACRA,EAAS,aACZA,EAAS,UACTA,EAAS,UArBxB,MCh8CMC,EAAU,CACdxZ,SDiIF,YAAqBQ,GACnB,MAAMiZ,EAAaZ,EAAUrY,EAAQ/xF,KAAI4T,GAAKA,EAAEtB,MAAM,QAItD,OAHAjY,KAAKmC,SAAQpC,IACXA,EAAGsB,UAAUC,OAAOqvG,EAAW,IAE1B3wG,IACT,ECtIE43F,YDwIF,YAAwBF,GACtB,MAAMiZ,EAAaZ,EAAUrY,EAAQ/xF,KAAI4T,GAAKA,EAAEtB,MAAM,QAItD,OAHAjY,KAAKmC,SAAQpC,IACXA,EAAGsB,UAAUY,UAAU0uG,EAAW,IAE7B3wG,IACT,EC7IEktG,SDwJF,YAAqBxV,GACnB,MAAMiZ,EAAaZ,EAAUrY,EAAQ/xF,KAAI4T,GAAKA,EAAEtB,MAAM,QACtD,OAAOg4F,EAAYjwG,MAAMD,GAChB4wG,EAAWznG,QAAOg0D,GAAan9D,EAAGsB,UAAUyB,SAASo6D,KAAYh6D,OAAS,IAChFA,OAAS,CACd,EC5JE0tG,YD8IF,YAAwBlZ,GACtB,MAAMiZ,EAAaZ,EAAUrY,EAAQ/xF,KAAI4T,GAAKA,EAAEtB,MAAM,QACtDjY,KAAKmC,SAAQpC,IACX4wG,EAAWxuG,SAAQ+6D,IACjBn9D,EAAGsB,UAAUs2F,OAAOz6B,EAAU,GAC9B,GAEN,ECpJEzxD,KD6JF,SAAcolG,EAAOtnG,GACnB,GAAyB,IAArBqlF,UAAU1rF,QAAiC,iBAAV2tG,EAEnC,OAAI7wG,KAAK,GAAWA,KAAK,GAAGc,aAAa+vG,QACzC,EAIF,IAAK,IAAIvlG,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EACpC,GAAyB,IAArBsjF,UAAU1rF,OAEZlD,KAAKsL,GAAGnB,aAAa0mG,EAAOtnG,QAG5B,IAAK,MAAMunG,KAAYD,EACrB7wG,KAAKsL,GAAGwlG,GAAYD,EAAMC,GAC1B9wG,KAAKsL,GAAGnB,aAAa2mG,EAAUD,EAAMC,IAK3C,OAAO9wG,IACT,EClLE+wG,WDoLF,SAAoBtlG,GAClB,IAAK,IAAIH,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EACpCtL,KAAKsL,GAAGm9E,gBAAgBh9E,GAG1B,OAAOzL,IACT,ECzLE8hC,UD6TF,SAAmBA,GACjB,IAAK,IAAIx2B,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EACpCtL,KAAKsL,GAAG0F,MAAM8wB,UAAYA,EAG5B,OAAO9hC,IACT,EClUEgxG,WDoUF,SAAoBnwF,GAClB,IAAK,IAAIvV,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EACpCtL,KAAKsL,GAAG0F,MAAMurF,mBAAyC,iBAAb17E,EAAwB,GAAGA,MAAeA,EAGtF,OAAO7gB,IACT,ECzUEuvF,GD2UF,YAAe7vE,GACb,IAAKqlF,EAAWkM,EAAgB3e,EAAU4e,GAAWxxF,EASrD,SAASyxF,EAAgB5wG,GACvB,MAAMkI,EAASlI,EAAEkI,OACjB,IAAKA,EAAQ,OACb,MAAM2oG,EAAY7wG,EAAEkI,OAAO4oG,eAAiB,GAM5C,GAJID,EAAU92F,QAAQ/Z,GAAK,GACzB6wG,EAAUn+D,QAAQ1yC,GAGhB2vG,EAAEznG,GAAQi2B,GAAGuyE,GAAiB3e,EAAS9jF,MAAM/F,EAAQ2oG,OAAgB,CACvE,MAAME,EAAUpB,EAAEznG,GAAQ6oG,UAE1B,IAAK,IAAI96F,EAAI,EAAGA,EAAI86F,EAAQpuG,OAAQsT,GAAK,EACnC05F,EAAEoB,EAAQ96F,IAAIkoB,GAAGuyE,IAAiB3e,EAAS9jF,MAAM8iG,EAAQ96F,GAAI46F,EAErE,CACF,CAEA,SAASG,EAAYhxG,GACnB,MAAM6wG,EAAY7wG,GAAKA,EAAEkI,QAASlI,EAAEkI,OAAO4oG,eAAsB,GAE7DD,EAAU92F,QAAQ/Z,GAAK,GACzB6wG,EAAUn+D,QAAQ1yC,GAGpB+xF,EAAS9jF,MAAMxO,KAAMoxG,EACvB,CAjCuB,mBAAZ1xF,EAAK,MACbqlF,EAAWzS,EAAU4e,GAAWxxF,EACjCuxF,OAAiB/sF,GAGdgtF,IAASA,GAAU,GA8BxB,MAAMxE,EAAS3H,EAAU9sF,MAAM,KAC/B,IAAI3B,EAEJ,IAAK,IAAIhL,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EAAG,CACvC,MAAMvL,EAAKC,KAAKsL,GAEhB,GAAK2lG,EAaH,IAAK36F,EAAI,EAAGA,EAAIo2F,EAAOxpG,OAAQoT,GAAK,EAAG,CACrC,MAAMzT,EAAQ6pG,EAAOp2F,GAChBvW,EAAGyxG,oBAAmBzxG,EAAGyxG,kBAAoB,CAAC,GAC9CzxG,EAAGyxG,kBAAkB3uG,KAAQ9C,EAAGyxG,kBAAkB3uG,GAAS,IAChE9C,EAAGyxG,kBAAkB3uG,GAAO+J,KAAK,CAC/B0lF,WACAmf,cAAeN,IAEjBpxG,EAAGO,iBAAiBuC,EAAOsuG,EAAiBD,EAC9C,MArBA,IAAK56F,EAAI,EAAGA,EAAIo2F,EAAOxpG,OAAQoT,GAAK,EAAG,CACrC,MAAMzT,EAAQ6pG,EAAOp2F,GAChBvW,EAAG2xG,gBAAe3xG,EAAG2xG,cAAgB,CAAC,GACtC3xG,EAAG2xG,cAAc7uG,KAAQ9C,EAAG2xG,cAAc7uG,GAAS,IACxD9C,EAAG2xG,cAAc7uG,GAAO+J,KAAK,CAC3B0lF,WACAmf,cAAeF,IAEjBxxG,EAAGO,iBAAiBuC,EAAO0uG,EAAaL,EAC1C,CAcJ,CAEA,OAAOlxG,IACT,ECjZE0vF,IDmZF,YAAgBhwE,GACd,IAAKqlF,EAAWkM,EAAgB3e,EAAU4e,GAAWxxF,EAE9B,mBAAZA,EAAK,MACbqlF,EAAWzS,EAAU4e,GAAWxxF,EACjCuxF,OAAiB/sF,GAGdgtF,IAASA,GAAU,GACxB,MAAMxE,EAAS3H,EAAU9sF,MAAM,KAE/B,IAAK,IAAI3M,EAAI,EAAGA,EAAIohG,EAAOxpG,OAAQoI,GAAK,EAAG,CACzC,MAAMzI,EAAQ6pG,EAAOphG,GAErB,IAAK,IAAIgL,EAAI,EAAGA,EAAItW,KAAKkD,OAAQoT,GAAK,EAAG,CACvC,MAAMvW,EAAKC,KAAKsW,GAChB,IAAIq7F,EAQJ,IANKV,GAAkBlxG,EAAG2xG,cACxBC,EAAW5xG,EAAG2xG,cAAc7uG,GACnBouG,GAAkBlxG,EAAGyxG,oBAC9BG,EAAW5xG,EAAGyxG,kBAAkB3uG,IAG9B8uG,GAAYA,EAASzuG,OACvB,IAAK,IAAIsT,EAAIm7F,EAASzuG,OAAS,EAAGsT,GAAK,EAAGA,GAAK,EAAG,CAChD,MAAMo7F,EAAUD,EAASn7F,GAErB87E,GAAYsf,EAAQtf,WAAaA,GAG1BA,GAAYsf,EAAQtf,UAAYsf,EAAQtf,SAASuf,WAAaD,EAAQtf,SAASuf,YAAcvf,GAFtGvyF,EAAG8f,oBAAoBhd,EAAO+uG,EAAQH,cAAeP,GACrDS,EAAS7xF,OAAOtJ,EAAG,IAIT87E,IACVvyF,EAAG8f,oBAAoBhd,EAAO+uG,EAAQH,cAAeP,GACrDS,EAAS7xF,OAAOtJ,EAAG,GAEvB,CAEJ,CACF,CAEA,OAAOxW,IACT,EC9bE0kB,QDsdF,YAAoBhF,GAClB,MAAM9c,EAAS,IACT8pG,EAAShtF,EAAK,GAAGzH,MAAM,KACvBm5F,EAAY1xF,EAAK,GAEvB,IAAK,IAAIpU,EAAI,EAAGA,EAAIohG,EAAOxpG,OAAQoI,GAAK,EAAG,CACzC,MAAMzI,EAAQ6pG,EAAOphG,GAErB,IAAK,IAAIgL,EAAI,EAAGA,EAAItW,KAAKkD,OAAQoT,GAAK,EAAG,CACvC,MAAMvW,EAAKC,KAAKsW,GAEhB,GAAI1T,EAAOysG,YAAa,CACtB,MAAMyC,EAAM,IAAIlvG,EAAOysG,YAAYxsG,EAAO,CACxCuzF,OAAQgb,EACR/iB,SAAS,EACTC,YAAY,IAEdvuF,EAAGsxG,cAAgB3xF,EAAKxW,QAAO,CAACQ,EAAMqoG,IAAcA,EAAY,IAChEhyG,EAAG0uF,cAAcqjB,GACjB/xG,EAAGsxG,cAAgB,UACZtxG,EAAGsxG,aACZ,CACF,CACF,CAEA,OAAOrxG,IACT,EC/eEgyG,cDigBF,SAAuBt3F,GACrB,MAAMu3F,EAAMjyG,KAYZ,OAJI0a,GACFu3F,EAAI1iB,GAAG,iBAPT,SAAS2iB,EAAa3xG,GAChBA,EAAEkI,SAAWzI,OACjB0a,EAAS7O,KAAK7L,KAAMO,GACpB0xG,EAAIviB,IAAI,gBAAiBwiB,GAC3B,IAMOlyG,IACT,EC9gBEmyG,WD8iBF,SAAoBC,GAClB,GAAIpyG,KAAKkD,OAAS,EAAG,CACnB,GAAIkvG,EAAgB,CAClB,MAAMvgE,EAAS7xC,KAAK6xC,SACpB,OAAO7xC,KAAK,GAAGyH,YAAc4sF,WAAWxiD,EAAOy9D,iBAAiB,iBAAmBjb,WAAWxiD,EAAOy9D,iBAAiB,eACxH,CAEA,OAAOtvG,KAAK,GAAGyH,WACjB,CAEA,OAAO,IACT,ECxjBE4qG,YDwkBF,SAAqBD,GACnB,GAAIpyG,KAAKkD,OAAS,EAAG,CACnB,GAAIkvG,EAAgB,CAClB,MAAMvgE,EAAS7xC,KAAK6xC,SACpB,OAAO7xC,KAAK,GAAG8qE,aAAeupB,WAAWxiD,EAAOy9D,iBAAiB,eAAiBjb,WAAWxiD,EAAOy9D,iBAAiB,iBACvH,CAEA,OAAOtvG,KAAK,GAAG8qE,YACjB,CAEA,OAAO,IACT,ECllBEj5B,ODmoBF,WACE,MAAMjvC,EAAS,IACf,OAAI5C,KAAK,GAAW4C,EAAOy1F,iBAAiBr4F,KAAK,GAAI,MAC9C,CAAC,CACV,ECtoBEuF,ODmlBF,WACE,GAAIvF,KAAKkD,OAAS,EAAG,CACnB,MAAMN,EAAS,IACT3B,EAAW4tG,IACX9uG,EAAKC,KAAK,GACV6sC,EAAM9sC,EAAGkI,wBACT/G,EAAOD,EAASC,KAChBoxG,EAAYvyG,EAAGuyG,WAAapxG,EAAKoxG,WAAa,EAC9CC,EAAaxyG,EAAGwyG,YAAcrxG,EAAKqxG,YAAc,EACjDhlB,EAAYxtF,IAAO6C,EAASA,EAAOuE,QAAUpH,EAAGwtF,UAChD/lF,EAAazH,IAAO6C,EAASA,EAAOgnG,QAAU7pG,EAAGyH,WACvD,MAAO,CACLI,IAAKilC,EAAIjlC,IAAM2lF,EAAY+kB,EAC3B3qG,KAAMklC,EAAIllC,KAAOH,EAAa+qG,EAElC,CAEA,OAAO,IACT,ECpmBEhd,IDuoBF,SAAa70D,EAAOn3B,GAClB,MAAM3G,EAAS,IACf,IAAI0I,EAEJ,GAAyB,IAArBsjF,UAAU1rF,OAAc,CAC1B,GAAqB,iBAAVw9B,EAGJ,CAEL,IAAKp1B,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EAChC,IAAK,MAAMU,KAAQ00B,EACjB1gC,KAAKsL,GAAG0F,MAAMhF,GAAQ00B,EAAM10B,GAIhC,OAAOhM,IACT,CAVE,GAAIA,KAAK,GAAI,OAAO4C,EAAOy1F,iBAAiBr4F,KAAK,GAAI,MAAMsvG,iBAAiB5uE,EAWhF,CAEA,GAAyB,IAArBkuD,UAAU1rF,QAAiC,iBAAVw9B,EAAoB,CAEvD,IAAKp1B,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EAChCtL,KAAKsL,GAAG0F,MAAM0vB,GAASn3B,EAGzB,OAAOvJ,IACT,CAEA,OAAOA,IACT,ECpqBEwyG,KDsqBF,SAAc93F,GACZ,OAAKA,GACL1a,KAAKmC,SAAQ,CAACpC,EAAIupB,KAChB5O,EAASlM,MAAMzO,EAAI,CAACA,EAAIupB,GAAO,IAE1BtpB,MAJeA,IAKxB,EC3qBEs/F,KDkrBF,SAAcA,GACZ,QAAoB,IAATA,EACT,OAAOt/F,KAAK,GAAKA,KAAK,GAAGgC,UAAY,KAGvC,IAAK,IAAIsJ,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EACpCtL,KAAKsL,GAAGtJ,UAAYs9F,EAGtB,OAAOt/F,IACT,EC3rBE+B,KD6rBF,SAAcA,GACZ,QAAoB,IAATA,EACT,OAAO/B,KAAK,GAAKA,KAAK,GAAGq4C,YAAYh4B,OAAS,KAGhD,IAAK,IAAI/U,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EACpCtL,KAAKsL,GAAG+sC,YAAct2C,EAGxB,OAAO/B,IACT,ECtsBE0+B,GDwsBF,SAAY47D,GACV,MAAM13F,EAAS,IACT3B,EAAW4tG,IACX9uG,EAAKC,KAAK,GAChB,IAAIyyG,EACAnnG,EACJ,IAAKvL,QAA0B,IAAbu6F,EAA0B,OAAO,EAEnD,GAAwB,iBAAbA,EAAuB,CAChC,GAAIv6F,EAAG2yG,QAAS,OAAO3yG,EAAG2yG,QAAQpY,GAClC,GAAIv6F,EAAG4yG,sBAAuB,OAAO5yG,EAAG4yG,sBAAsBrY,GAC9D,GAAIv6F,EAAG6yG,kBAAmB,OAAO7yG,EAAG6yG,kBAAkBtY,GAGtD,IAFAmY,EAAcvC,EAAE5V,GAEXhvF,EAAI,EAAGA,EAAImnG,EAAYvvG,OAAQoI,GAAK,EACvC,GAAImnG,EAAYnnG,KAAOvL,EAAI,OAAO,EAGpC,OAAO,CACT,CAEA,GAAIu6F,IAAar5F,EACf,OAAOlB,IAAOkB,EAGhB,GAAIq5F,IAAa13F,EACf,OAAO7C,IAAO6C,EAGhB,GAAI03F,EAASH,UAAYG,aAAoBmV,EAAM,CAGjD,IAFAgD,EAAcnY,EAASH,SAAW,CAACG,GAAYA,EAE1ChvF,EAAI,EAAGA,EAAImnG,EAAYvvG,OAAQoI,GAAK,EACvC,GAAImnG,EAAYnnG,KAAOvL,EAAI,OAAO,EAGpC,OAAO,CACT,CAEA,OAAO,CACT,EC/uBEupB,MDivBF,WACE,IACIhe,EADAunG,EAAQ7yG,KAAK,GAGjB,GAAI6yG,EAAO,CAGT,IAFAvnG,EAAI,EAEuC,QAAnCunG,EAAQA,EAAMC,kBACG,IAAnBD,EAAM1Y,WAAgB7uF,GAAK,GAGjC,OAAOA,CACT,CAGF,EC/vBEynG,GDiwBF,SAAYzpF,GACV,QAAqB,IAAVA,EAAuB,OAAOtpB,KACzC,MAAMkD,EAASlD,KAAKkD,OAEpB,GAAIomB,EAAQpmB,EAAS,EACnB,OAAOgtG,EAAE,IAGX,GAAI5mF,EAAQ,EAAG,CACb,MAAM0pF,EAAc9vG,EAASomB,EAC7B,OAA4B4mF,EAAxB8C,EAAc,EAAY,GACrB,CAAChzG,KAAKgzG,IACjB,CAEA,OAAO9C,EAAE,CAAClwG,KAAKspB,IACjB,EC/wBElK,ODixBF,YAAmB6zF,GACjB,IAAIC,EACJ,MAAMjyG,EAAW4tG,IAEjB,IAAK,IAAIr4F,EAAI,EAAGA,EAAIy8F,EAAI/vG,OAAQsT,GAAK,EAAG,CACtC08F,EAAWD,EAAIz8F,GAEf,IAAK,IAAIlL,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EACpC,GAAwB,iBAAb4nG,EAAuB,CAChC,MAAMC,EAAUlyG,EAASiK,cAAc,OAGvC,IAFAioG,EAAQnxG,UAAYkxG,EAEbC,EAAQhe,YACbn1F,KAAKsL,GAAGlB,YAAY+oG,EAAQhe,WAEhC,MAAO,GAAI+d,aAAoBzD,EAC7B,IAAK,IAAIn5F,EAAI,EAAGA,EAAI48F,EAAShwG,OAAQoT,GAAK,EACxCtW,KAAKsL,GAAGlB,YAAY8oG,EAAS58F,SAG/BtW,KAAKsL,GAAGlB,YAAY8oG,EAG1B,CAEA,OAAOlzG,IACT,EC1yBEozG,QDizBF,SAAiBF,GACf,MAAMjyG,EAAW4tG,IACjB,IAAIvjG,EACAgL,EAEJ,IAAKhL,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EAChC,GAAwB,iBAAb4nG,EAAuB,CAChC,MAAMC,EAAUlyG,EAASiK,cAAc,OAGvC,IAFAioG,EAAQnxG,UAAYkxG,EAEf58F,EAAI68F,EAAQ3qB,WAAWtlF,OAAS,EAAGoT,GAAK,EAAGA,GAAK,EACnDtW,KAAKsL,GAAGm0D,aAAa0zC,EAAQ3qB,WAAWlyE,GAAItW,KAAKsL,GAAGk9E,WAAW,GAEnE,MAAO,GAAI0qB,aAAoBzD,EAC7B,IAAKn5F,EAAI,EAAGA,EAAI48F,EAAShwG,OAAQoT,GAAK,EACpCtW,KAAKsL,GAAGm0D,aAAayzC,EAAS58F,GAAItW,KAAKsL,GAAGk9E,WAAW,SAGvDxoF,KAAKsL,GAAGm0D,aAAayzC,EAAUlzG,KAAKsL,GAAGk9E,WAAW,IAItD,OAAOxoF,IACT,ECv0BEsH,KD02BF,SAAcgzF,GACZ,OAAIt6F,KAAKkD,OAAS,EACZo3F,EACEt6F,KAAK,GAAGqzG,oBAAsBnD,EAAElwG,KAAK,GAAGqzG,oBAAoB30E,GAAG47D,GAC1D4V,EAAE,CAAClwG,KAAK,GAAGqzG,qBAGbnD,EAAE,IAGPlwG,KAAK,GAAGqzG,mBAA2BnD,EAAE,CAAClwG,KAAK,GAAGqzG,qBAC3CnD,EAAE,IAGJA,EAAE,GACX,ECx3BEoD,QD03BF,SAAiBhZ,GACf,MAAMiZ,EAAU,GAChB,IAAIxzG,EAAKC,KAAK,GACd,IAAKD,EAAI,OAAOmwG,EAAE,IAElB,KAAOnwG,EAAGszG,oBAAoB,CAC5B,MAAM/rG,EAAOvH,EAAGszG,mBAEZ/Y,EACE4V,EAAE5oG,GAAMo3B,GAAG47D,IAAWiZ,EAAQ3mG,KAAKtF,GAClCisG,EAAQ3mG,KAAKtF,GAEpBvH,EAAKuH,CACP,CAEA,OAAO4oG,EAAEqD,EACX,ECz4BElsG,KD24BF,SAAcizF,GACZ,GAAIt6F,KAAKkD,OAAS,EAAG,CACnB,MAAMnD,EAAKC,KAAK,GAEhB,OAAIs6F,EACEv6F,EAAGyzG,wBAA0BtD,EAAEnwG,EAAGyzG,wBAAwB90E,GAAG47D,GACxD4V,EAAE,CAACnwG,EAAGyzG,yBAGRtD,EAAE,IAGPnwG,EAAGyzG,uBAA+BtD,EAAE,CAACnwG,EAAGyzG,yBACrCtD,EAAE,GACX,CAEA,OAAOA,EAAE,GACX,EC35BEuD,QD65BF,SAAiBnZ,GACf,MAAMoZ,EAAU,GAChB,IAAI3zG,EAAKC,KAAK,GACd,IAAKD,EAAI,OAAOmwG,EAAE,IAElB,KAAOnwG,EAAGyzG,wBAAwB,CAChC,MAAMnsG,EAAOtH,EAAGyzG,uBAEZlZ,EACE4V,EAAE7oG,GAAMq3B,GAAG47D,IAAWoZ,EAAQ9mG,KAAKvF,GAClCqsG,EAAQ9mG,KAAKvF,GAEpBtH,EAAKsH,CACP,CAEA,OAAO6oG,EAAEwD,EACX,EC56BE77D,ODk7BF,SAAgByiD,GACd,MAAMgX,EAAU,GAEhB,IAAK,IAAIhmG,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EACT,OAAvBtL,KAAKsL,GAAG4rC,aACNojD,EACE4V,EAAElwG,KAAKsL,GAAG4rC,YAAYxY,GAAG47D,IAAWgX,EAAQ1kG,KAAK5M,KAAKsL,GAAG4rC,YAE7Do6D,EAAQ1kG,KAAK5M,KAAKsL,GAAG4rC,aAK3B,OAAOg5D,EAAEoB,EACX,EC/7BEA,QDi8BF,SAAiBhX,GACf,MAAMgX,EAAU,GAEhB,IAAK,IAAIhmG,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EAAG,CACvC,IAAIusC,EAAS73C,KAAKsL,GAAG4rC,WAErB,KAAOW,GACDyiD,EACE4V,EAAEr4D,GAAQnZ,GAAG47D,IAAWgX,EAAQ1kG,KAAKirC,GAEzCy5D,EAAQ1kG,KAAKirC,GAGfA,EAASA,EAAOX,UAEpB,CAEA,OAAOg5D,EAAEoB,EACX,ECl9BEnD,QDo9BF,SAAiB7T,GACf,IAAI6T,EAAUnuG,KAEd,YAAwB,IAAbs6F,EACF4V,EAAE,KAGN/B,EAAQzvE,GAAG47D,KACd6T,EAAUA,EAAQmD,QAAQhX,GAAUyY,GAAG,IAGlC5E,EACT,EC/9BEwF,KDi+BF,SAAcrZ,GACZ,MAAMsZ,EAAgB,GAEtB,IAAK,IAAItoG,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EAAG,CACvC,MAAM8uC,EAAQp6C,KAAKsL,GAAGpJ,iBAAiBo4F,GAEvC,IAAK,IAAIhkF,EAAI,EAAGA,EAAI8jC,EAAMl3C,OAAQoT,GAAK,EACrCs9F,EAAchnG,KAAKwtC,EAAM9jC,GAE7B,CAEA,OAAO45F,EAAE0D,EACX,EC5+BE3lC,SD8+BF,SAAkBqsB,GAChB,MAAMrsB,EAAW,GAEjB,IAAK,IAAI3iE,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EAAG,CACvC,MAAMk9E,EAAaxoF,KAAKsL,GAAG2iE,SAE3B,IAAK,IAAI33D,EAAI,EAAGA,EAAIkyE,EAAWtlF,OAAQoT,GAAK,EACrCgkF,IAAY4V,EAAE1nB,EAAWlyE,IAAIooB,GAAG47D,IACnCrsB,EAASrhE,KAAK47E,EAAWlyE,GAG/B,CAEA,OAAO45F,EAAEjiC,EACX,EC3/BE/kE,OD6pBF,SAAgBwR,GAEd,OAAOw1F,EADQD,EAAYjwG,KAAM0a,GAEnC,EC/pBEzY,OD4/BF,WACE,IAAK,IAAIqJ,EAAI,EAAGA,EAAItL,KAAKkD,OAAQoI,GAAK,EAChCtL,KAAKsL,GAAG4rC,YAAYl3C,KAAKsL,GAAG4rC,WAAW0E,YAAY57C,KAAKsL,IAG9D,OAAOtL,IACT,GChgCA2L,OAAOwU,KAAKuwF,GAASvuG,SAAQ0xG,IAC3BloG,OAAOolE,eAAem/B,EAAEv6F,GAAIk+F,EAAY,CACtCtqG,MAAOmnG,EAAQmD,GACfC,UAAU,GACV,IAEJ,UC5BA,SAASC,EAASr5F,EAAUs5F,EAAQ,GAClC,OAAOtwG,WAAWgX,EAAUs5F,EAC9B,CAEA,SAAS76D,IACP,OAAO91C,KAAK81C,KACd,CAqBA,SAAS86D,EAAal0G,EAAIm0G,EAAO,KAC/B,MAAMtxG,EAAS,IACf,IAAIkhC,EACAqwE,EACAC,EACJ,MAAMC,EAxBR,SAA0Bt0G,GACxB,MAAM6C,EAAS,IACf,IAAIoO,EAcJ,OAZIpO,EAAOy1F,mBACTrnF,EAAQpO,EAAOy1F,iBAAiBt4F,EAAI,QAGjCiR,GAASjR,EAAGuoE,eACft3D,EAAQjR,EAAGuoE,cAGRt3D,IACHA,EAAQjR,EAAGiR,OAGNA,CACT,CAOmB,CAAiBjR,GA+BlC,OA7BI6C,EAAO0xG,iBACTH,EAAeE,EAASvyE,WAAauyE,EAASvoC,gBAE1CqoC,EAAal8F,MAAM,KAAK/U,OAAS,IACnCixG,EAAeA,EAAal8F,MAAM,MAAMtS,KAAIqT,GAAKA,EAAExQ,QAAQ,IAAK,OAAMyS,KAAK,OAK7Em5F,EAAkB,IAAIxxG,EAAO0xG,gBAAiC,SAAjBH,EAA0B,GAAKA,KAE5EC,EAAkBC,EAASE,cAAgBF,EAASG,YAAcH,EAASI,aAAeJ,EAASK,aAAeL,EAASvyE,WAAauyE,EAAS/E,iBAAiB,aAAa9mG,QAAQ,aAAc,sBACrMs7B,EAASswE,EAAgBlgG,WAAW+D,MAAM,MAG/B,MAATi8F,IAE0BC,EAAxBvxG,EAAO0xG,gBAAgCF,EAAgBO,IAChC,KAAlB7wE,EAAO5gC,OAA8BmxF,WAAWvwD,EAAO,KAC5CuwD,WAAWvwD,EAAO,KAG3B,MAATowE,IAE0BC,EAAxBvxG,EAAO0xG,gBAAgCF,EAAgBQ,IAChC,KAAlB9wE,EAAO5gC,OAA8BmxF,WAAWvwD,EAAO,KAC5CuwD,WAAWvwD,EAAO,KAGjCqwE,GAAgB,CACzB,CAEA,SAAS,EAASv8F,GAChB,MAAoB,iBAANA,GAAwB,OAANA,GAAcA,EAAE9X,aAAkE,WAAnD6L,OAAOD,UAAUwI,SAASrI,KAAK+L,GAAGkT,MAAM,GAAI,EAC7G,CAWA,SAAS,KAAUpL,GACjB,MAAM0V,EAAKzpB,OAAO+T,EAAK,IACjBm1F,EAAW,CAAC,YAAa,cAAe,aAE9C,IAAK,IAAIvpG,EAAI,EAAGA,EAAIoU,EAAKxc,OAAQoI,GAAK,EAAG,CACvC,MAAMwpG,EAAap1F,EAAKpU,GAExB,GAAIwpG,UAhBQ19D,EAgBmD09D,IAd3C,oBAAXlyG,aAAwD,IAAvBA,OAAOq3F,YAC1C7iD,aAAgB6iD,YAGlB7iD,IAA2B,IAAlBA,EAAK+iD,UAAoC,KAAlB/iD,EAAK+iD,YAUkC,CAC1E,MAAM4a,EAAYppG,OAAOwU,KAAKxU,OAAOmpG,IAAa5rG,QAAOjC,GAAO4tG,EAASv6F,QAAQrT,GAAO,IAExF,IAAK,IAAIkoC,EAAY,EAAG3jC,EAAMupG,EAAU7xG,OAAQisC,EAAY3jC,EAAK2jC,GAAa,EAAG,CAC/E,MAAM6lE,EAAUD,EAAU5lE,GACpB8lE,EAAOtpG,OAAOM,yBAAyB6oG,EAAYE,QAE5C9wF,IAAT+wF,GAAsBA,EAAKnZ,aACzB,EAAS1mE,EAAG4/E,KAAa,EAASF,EAAWE,IAC3CF,EAAWE,GAASE,WACtB9/E,EAAG4/E,GAAWF,EAAWE,GAEzB,EAAO5/E,EAAG4/E,GAAUF,EAAWE,KAEvB,EAAS5/E,EAAG4/E,KAAa,EAASF,EAAWE,KACvD5/E,EAAG4/E,GAAW,CAAC,EAEXF,EAAWE,GAASE,WACtB9/E,EAAG4/E,GAAWF,EAAWE,GAEzB,EAAO5/E,EAAG4/E,GAAUF,EAAWE,KAGjC5/E,EAAG4/E,GAAWF,EAAWE,GAG/B,CACF,CACF,CA5CF,IAAgB59D,EA8Cd,OAAOhiB,CACT,CAEA,SAAS+/E,EAAep1G,EAAIq1G,EAASC,GACnCt1G,EAAGiR,MAAMskG,YAAYF,EAASC,EAChC,CAEA,SAASE,GAAqB,OAC5BC,EAAM,eACNC,EAAc,KACdC,IAEA,MAAM9yG,EAAS,IACT+yG,GAAiBH,EAAO7zE,UAC9B,IACIhhB,EADA89D,EAAY,KAEhB,MAAM59D,EAAW20F,EAAO1wG,OAAO49E,MAC/B8yB,EAAOI,UAAU5kG,MAAM6kG,eAAiB,OACxCjzG,EAAO02F,qBAAqBkc,EAAOM,gBACnC,MAAMxkF,EAAMmkF,EAAiBE,EAAgB,OAAS,OAEhDI,EAAe,CAAC1yB,EAAS56E,IACd,SAAR6oB,GAAkB+xD,GAAW56E,GAAkB,SAAR6oB,GAAkB+xD,GAAW56E,EAGvEutG,EAAU,KACdr1F,GAAO,IAAItd,MAAOm2F,UAEA,OAAd/a,IACFA,EAAY99D,GAGd,MAAMoyE,EAAWzjF,KAAKO,IAAIP,KAAKS,KAAK4Q,EAAO89D,GAAa59D,EAAU,GAAI,GAChEo1F,EAAe,GAAM3mG,KAAKgpB,IAAIy6D,EAAWzjF,KAAKmB,IAAM,EAC1D,IAAIylG,EAAkBP,EAAgBM,GAAgBR,EAAiBE,GAUvE,GARII,EAAaG,EAAiBT,KAChCS,EAAkBT,GAGpBD,EAAOI,UAAU5tG,SAAS,CACxB,CAAC0tG,GAAOQ,IAGNH,EAAaG,EAAiBT,GAUhC,OATAD,EAAOI,UAAU5kG,MAAMy/D,SAAW,SAClC+kC,EAAOI,UAAU5kG,MAAM6kG,eAAiB,GACxCnyG,YAAW,KACT8xG,EAAOI,UAAU5kG,MAAMy/D,SAAW,GAClC+kC,EAAOI,UAAU5tG,SAAS,CACxB,CAAC0tG,GAAOQ,GACR,SAEJtzG,EAAO02F,qBAAqBkc,EAAOM,gBAIrCN,EAAOM,eAAiBlzG,EAAO4nB,sBAAsBwrF,EAAQ,EAG/DA,GACF,CCjMA,IAAIG,ECCAC,ECDApjC,EF+BJ,SAASqjC,IAKP,OAJKF,IACHA,EA/BJ,WACE,MAAMvzG,EAAS,IACT3B,EAAW4tG,IACjB,MAAO,CACLyH,aAAcr1G,EAASs1G,iBAAmB,mBAAoBt1G,EAASs1G,gBAAgBvlG,MACvFwlG,SAAU,iBAAkB5zG,GAAUA,EAAO6zG,eAAiBx1G,aAAoB2B,EAAO6zG,eACzFC,gBAAiB,WACf,IAAIC,GAAkB,EAEtB,IACE,MAAMC,EAAOjrG,OAAOolE,eAAe,CAAC,EAAG,UAAW,CAEhD,GAAApkD,GACEgqF,GAAkB,CACpB,IAGF/zG,EAAOtC,iBAAiB,sBAAuB,KAAMs2G,EACvD,CAAE,MAAOr2G,GACT,CAEA,OAAOo2G,CACT,CAhBiB,GAiBjBE,SACS,mBAAoBj0G,EAGjC,CAIck0G,IAGLX,CACT,CCUA,SAASY,EAAUC,EAAY,CAAC,GAK9B,OAJKZ,IACHA,EA9CJ,UAAoB,UAClBjnG,GACE,CAAC,GACH,MAAMgnG,EAAUE,IACVzzG,EAAS,IACTq0G,EAAWr0G,EAAO2H,UAAU0sG,SAC5BC,EAAK/nG,GAAavM,EAAO2H,UAAU4E,UACnCgoG,EAAS,CACbC,KAAK,EACLC,SAAS,GAELC,EAAc10G,EAAOswE,OAAO72D,MAC5Bk7F,EAAe30G,EAAOswE,OAAO52D,OAC7B+6F,EAAUH,EAAG9iB,MAAM,+BAEzB,IAAIojB,EAAON,EAAG9iB,MAAM,wBACpB,MAAMqjB,EAAOP,EAAG9iB,MAAM,2BAChBsjB,GAAUF,GAAQN,EAAG9iB,MAAM,8BAC3BujB,EAAuB,UAAbV,EAChB,IAAIW,EAAqB,aAAbX,EAsBZ,OAlBKO,GAAQI,GAASzB,EAAQK,OAFV,CAAC,YAAa,YAAa,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,YAExGl8F,QAAQ,GAAGg9F,KAAeC,MAAmB,IAC9FC,EAAON,EAAG9iB,MAAM,uBACXojB,IAAMA,EAAO,CAAC,EAAG,EAAG,WACzBI,GAAQ,GAINP,IAAYM,IACdR,EAAOp4E,GAAK,UACZo4E,EAAOE,SAAU,IAGfG,GAAQE,GAAUD,KACpBN,EAAOp4E,GAAK,MACZo4E,EAAOC,KAAM,GAIRD,CACT,CAImBU,CAAWb,IAGrBZ,CACT,CCrCA,SAAS0B,IAKP,OAJK9kC,IACHA,EAhBJ,WACE,MAAMpwE,EAAS,IAOf,MAAO,CACLqM,SANF,WACE,MAAMioG,EAAKt0G,EAAO2H,UAAU4E,UAAU6iC,cACtC,OAAOklE,EAAG58F,QAAQ,WAAa,GAAK48F,EAAG58F,QAAQ,UAAY,GAAK48F,EAAG58F,QAAQ,WAAa,CAC1F,CAGYrL,GACV8oG,UAAW,+CAA+C7oG,KAAKtM,EAAO2H,UAAU4E,WAEpF,CAIc6oG,IAGLhlC,CACT,CCtBA,SACE,EAAAuc,CAAGmd,EAAQkF,EAASqG,GAClB,MAAM7a,EAAOp9F,KACb,IAAKo9F,EAAK8a,iBAAmB9a,EAAK9/B,UAAW,OAAO8/B,EACpD,GAAuB,mBAAZwU,EAAwB,OAAOxU,EAC1C,MAAMr8F,EAASk3G,EAAW,UAAY,OAKtC,OAJAvL,EAAOz0F,MAAM,KAAK9V,SAAQU,IACnBu6F,EAAK8a,gBAAgBr1G,KAAQu6F,EAAK8a,gBAAgBr1G,GAAS,IAChEu6F,EAAK8a,gBAAgBr1G,GAAO9B,GAAQ6wG,EAAQ,IAEvCxU,CACT,EAEA,IAAA+a,CAAKzL,EAAQkF,EAASqG,GACpB,MAAM7a,EAAOp9F,KACb,IAAKo9F,EAAK8a,iBAAmB9a,EAAK9/B,UAAW,OAAO8/B,EACpD,GAAuB,mBAAZwU,EAAwB,OAAOxU,EAE1C,SAASgb,KAAe14F,GACtB09E,EAAK1N,IAAIgd,EAAQ0L,GAEbA,EAAYC,uBACPD,EAAYC,eAGrBzG,EAAQpjG,MAAM4uF,EAAM19E,EACtB,CAGA,OADA04F,EAAYC,eAAiBzG,EACtBxU,EAAK7N,GAAGmd,EAAQ0L,EAAaH,EACtC,EAEA,KAAAK,CAAM1G,EAASqG,GACb,MAAM7a,EAAOp9F,KACb,IAAKo9F,EAAK8a,iBAAmB9a,EAAK9/B,UAAW,OAAO8/B,EACpD,GAAuB,mBAAZwU,EAAwB,OAAOxU,EAC1C,MAAMr8F,EAASk3G,EAAW,UAAY,OAMtC,OAJI7a,EAAKmb,mBAAmBj+F,QAAQs3F,GAAW,GAC7CxU,EAAKmb,mBAAmBx3G,GAAQ6wG,GAG3BxU,CACT,EAEA,MAAAob,CAAO5G,GACL,MAAMxU,EAAOp9F,KACb,IAAKo9F,EAAK8a,iBAAmB9a,EAAK9/B,UAAW,OAAO8/B,EACpD,IAAKA,EAAKmb,mBAAoB,OAAOnb,EACrC,MAAM9zE,EAAQ8zE,EAAKmb,mBAAmBj+F,QAAQs3F,GAM9C,OAJItoF,GAAS,GACX8zE,EAAKmb,mBAAmBz4F,OAAOwJ,EAAO,GAGjC8zE,CACT,EAEA,GAAA1N,CAAIgd,EAAQkF,GACV,MAAMxU,EAAOp9F,KACb,OAAKo9F,EAAK8a,iBAAmB9a,EAAK9/B,UAAkB8/B,EAC/CA,EAAK8a,iBACVxL,EAAOz0F,MAAM,KAAK9V,SAAQU,SACD,IAAZ+uG,EACTxU,EAAK8a,gBAAgBr1G,GAAS,GACrBu6F,EAAK8a,gBAAgBr1G,IAC9Bu6F,EAAK8a,gBAAgBr1G,GAAOV,SAAQ,CAACs2G,EAAcnvF,MAC7CmvF,IAAiB7G,GAAW6G,EAAaJ,gBAAkBI,EAAaJ,iBAAmBzG,IAC7FxU,EAAK8a,gBAAgBr1G,GAAOid,OAAOwJ,EAAO,EAC5C,GAEJ,IAEK8zE,GAZ2BA,CAapC,EAEA,IAAAsb,IAAQh5F,GACN,MAAM09E,EAAOp9F,KACb,IAAKo9F,EAAK8a,iBAAmB9a,EAAK9/B,UAAW,OAAO8/B,EACpD,IAAKA,EAAK8a,gBAAiB,OAAO9a,EAClC,IAAIsP,EACAhjG,EACAu6D,EAEmB,iBAAZvkD,EAAK,IAAmBnR,MAAMyrF,QAAQt6E,EAAK,KACpDgtF,EAAShtF,EAAK,GACdhW,EAAOgW,EAAKoL,MAAM,EAAGpL,EAAKxc,QAC1B+gE,EAAUm5B,IAEVsP,EAAShtF,EAAK,GAAGgtF,OACjBhjG,EAAOgW,EAAK,GAAGhW,KACfu6D,EAAUvkD,EAAK,GAAGukD,SAAWm5B,GAG/B1zF,EAAKupC,QAAQgxB,GAeb,OAdoB11D,MAAMyrF,QAAQ0S,GAAUA,EAASA,EAAOz0F,MAAM,MACtD9V,SAAQU,IACdu6F,EAAKmb,oBAAsBnb,EAAKmb,mBAAmBr1G,QACrDk6F,EAAKmb,mBAAmBp2G,SAAQs2G,IAC9BA,EAAajqG,MAAMy1D,EAAS,CAACphE,KAAU6G,GAAM,IAI7C0zF,EAAK8a,iBAAmB9a,EAAK8a,gBAAgBr1G,IAC/Cu6F,EAAK8a,gBAAgBr1G,GAAOV,SAAQs2G,IAClCA,EAAajqG,MAAMy1D,EAASv6D,EAAK,GAErC,IAEK0zF,CACT,GCtGF,SACEub,WCVa,WACb,MAAMnD,EAASx1G,KACf,IAAIqc,EACAC,EACJ,MAAMs8F,EAAMpD,EAAOoD,IAGjBv8F,OADiC,IAAxBm5F,EAAO1wG,OAAOuX,OAAiD,OAAxBm5F,EAAO1wG,OAAOuX,MACtDm5F,EAAO1wG,OAAOuX,MAEdu8F,EAAI,GAAGC,YAIfv8F,OADkC,IAAzBk5F,EAAO1wG,OAAOwX,QAAmD,OAAzBk5F,EAAO1wG,OAAOwX,OACtDk5F,EAAO1wG,OAAOwX,OAEds8F,EAAI,GAAG7O,aAGJ,IAAV1tF,GAAem5F,EAAOsD,gBAA6B,IAAXx8F,GAAgBk5F,EAAOuD,eAKnE18F,EAAQA,EAAQ8H,SAASy0F,EAAIrjB,IAAI,iBAAmB,EAAG,IAAMpxE,SAASy0F,EAAIrjB,IAAI,kBAAoB,EAAG,IACrGj5E,EAASA,EAAS6H,SAASy0F,EAAIrjB,IAAI,gBAAkB,EAAG,IAAMpxE,SAASy0F,EAAIrjB,IAAI,mBAAqB,EAAG,IACnG/tE,OAAOC,MAAMpL,KAAQA,EAAQ,GAC7BmL,OAAOC,MAAMnL,KAASA,EAAS,GACnC3Q,OAAOswC,OAAOu5D,EAAQ,CACpBn5F,QACAC,SACAjX,KAAMmwG,EAAOsD,eAAiBz8F,EAAQC,IAE1C,EDrBE08F,aEVa,WACb,MAAMxD,EAASx1G,KAEf,SAASi5G,EAAkBhiC,GACzB,OAAIu+B,EAAOsD,eACF7hC,EAIF,CACL,MAAS,SACT,aAAc,cACd,iBAAkB,eAClB,cAAe,aACf,eAAgB,gBAChB,eAAgB,cAChB,gBAAiB,iBACjB,YAAe,gBACfA,EACJ,CAEA,SAASiiC,EAA0B9hE,EAAM6nD,GACvC,OAAO5K,WAAWj9C,EAAKk4D,iBAAiB2J,EAAkBha,KAAW,EACvE,CAEA,MAAMn6F,EAAS0wG,EAAO1wG,QAChB,WACJq0G,EACA9zG,KAAM+zG,EACNC,aAAcC,EAAG,SACjBC,GACE/D,EACEgE,EAAYhE,EAAOiE,SAAW30G,EAAO20G,QAAQl6B,QAC7Cm6B,EAAuBF,EAAYhE,EAAOiE,QAAQE,OAAOz2G,OAASsyG,EAAOmE,OAAOz2G,OAChFy2G,EAASR,EAAWlrC,SAAS,IAAIunC,EAAO1wG,OAAO80G,cAC/CC,EAAeL,EAAYhE,EAAOiE,QAAQE,OAAOz2G,OAASy2G,EAAOz2G,OACvE,IAAI42G,EAAW,GACf,MAAMC,EAAa,GACbC,EAAkB,GACxB,IAAIC,EAAen1G,EAAOo1G,mBAEE,mBAAjBD,IACTA,EAAen1G,EAAOo1G,mBAAmBruG,KAAK2pG,IAGhD,IAAI2E,EAAcr1G,EAAOs1G,kBAEE,mBAAhBD,IACTA,EAAcr1G,EAAOs1G,kBAAkBvuG,KAAK2pG,IAG9C,MAAM6E,EAAyB7E,EAAOsE,SAAS52G,OACzCo3G,EAA2B9E,EAAOuE,WAAW72G,OACnD,IAAIq3G,EAAez1G,EAAOy1G,aACtBC,GAAiBP,EACjBQ,EAAgB,EAChBnxF,EAAQ,EAEZ,QAA0B,IAAf8vF,EACT,OAG0B,iBAAjBmB,GAA6BA,EAAajgG,QAAQ,MAAQ,IACnEigG,EAAelmB,WAAWkmB,EAAa/xG,QAAQ,IAAK,KAAO,IAAM4wG,GAGnE5D,EAAOkF,aAAeH,EAElBjB,EAAKK,EAAOpkB,IAAI,CAClByD,WAAY,GACZD,aAAc,GACdD,UAAW,KACL6gB,EAAOpkB,IAAI,CACjB0D,YAAa,GACbF,aAAc,GACdD,UAAW,KAGTh0F,EAAO61G,gBAAkB71G,EAAO81G,UAClCzF,EAAeK,EAAOI,UAAW,kCAAmC,IACpET,EAAeK,EAAOI,UAAW,iCAAkC,KAGrE,MAAMiF,EAAc/1G,EAAOg2G,MAAQh2G,EAAOg2G,KAAKC,KAAO,GAAKvF,EAAOsF,KAOlE,IAAIE,EALAH,GACFrF,EAAOsF,KAAKG,WAAWpB,GAKzB,MAAMqB,EAAgD,SAAzBp2G,EAAOq2G,eAA4Br2G,EAAOo3F,aAAevwF,OAAOwU,KAAKrb,EAAOo3F,aAAahzF,QAAOjC,QACnE,IAA1CnC,EAAOo3F,YAAYj1F,GAAKk0G,gBACrCj4G,OAAS,EAEZ,IAAK,IAAIoI,EAAI,EAAGA,EAAIuuG,EAAcvuG,GAAK,EAAG,CACxC0vG,EAAY,EACZ,MAAMI,EAAQzB,EAAO5G,GAAGznG,GAMxB,GAJIuvG,GACFrF,EAAOsF,KAAKO,YAAY/vG,EAAG8vG,EAAOvB,EAAcZ,GAGrB,SAAzBmC,EAAM7lB,IAAI,WAAd,CAEA,GAA6B,SAAzBzwF,EAAOq2G,cAA0B,CAC/BD,IACFvB,EAAOruG,GAAG0F,MAAMioG,EAAkB,UAAY,IAGhD,MAAMqC,EAAcjjB,iBAAiB+iB,EAAM,IACrCpoD,EAAmBooD,EAAM,GAAGpqG,MAAM8wB,UAClCy5E,EAAyBH,EAAM,GAAGpqG,MAAM86D,gBAU9C,GARI9Y,IACFooD,EAAM,GAAGpqG,MAAM8wB,UAAY,QAGzBy5E,IACFH,EAAM,GAAGpqG,MAAM86D,gBAAkB,QAG/BhnE,EAAO02G,aACTR,EAAYxF,EAAOsD,eAAiBsC,EAAMjJ,YAAW,GAAQiJ,EAAM/I,aAAY,OAC1E,CAEL,MAAMh2F,EAAQ68F,EAA0BoC,EAAa,SAC/CG,EAAcvC,EAA0BoC,EAAa,gBACrDI,EAAexC,EAA0BoC,EAAa,iBACtDtiB,EAAakgB,EAA0BoC,EAAa,eACpDriB,EAAcigB,EAA0BoC,EAAa,gBACrDvkB,EAAYukB,EAAYhM,iBAAiB,cAE/C,GAAIvY,GAA2B,eAAdA,EACfikB,EAAY3+F,EAAQ28E,EAAaC,MAC5B,CACL,MAAM,YACJ4f,EAAW,YACXpxG,GACE2zG,EAAM,GACVJ,EAAY3+F,EAAQo/F,EAAcC,EAAe1iB,EAAaC,GAAexxF,EAAcoxG,EAC7F,CACF,CAEI7lD,IACFooD,EAAM,GAAGpqG,MAAM8wB,UAAYkxB,GAGzBuoD,IACFH,EAAM,GAAGpqG,MAAM86D,gBAAkByvC,GAG/Bz2G,EAAO02G,eAAcR,EAAY1rG,KAAKK,MAAMqrG,GAClD,MACEA,GAAa5B,GAAct0G,EAAOq2G,cAAgB,GAAKZ,GAAgBz1G,EAAOq2G,cAC1Er2G,EAAO02G,eAAcR,EAAY1rG,KAAKK,MAAMqrG,IAE5CrB,EAAOruG,KACTquG,EAAOruG,GAAG0F,MAAMioG,EAAkB,UAAY,GAAG+B,OAIjDrB,EAAOruG,KACTquG,EAAOruG,GAAGqwG,gBAAkBX,GAG9BhB,EAAgBptG,KAAKouG,GAEjBl2G,EAAO61G,gBACTH,EAAgBA,EAAgBQ,EAAY,EAAIP,EAAgB,EAAIF,EAC9C,IAAlBE,GAA6B,IAANnvG,IAASkvG,EAAgBA,EAAgBpB,EAAa,EAAImB,GAC3E,IAANjvG,IAASkvG,EAAgBA,EAAgBpB,EAAa,EAAImB,GAC1DjrG,KAAKc,IAAIoqG,GAAiB,OAAUA,EAAgB,GACpD11G,EAAO02G,eAAchB,EAAgBlrG,KAAKK,MAAM6qG,IAChDlxF,EAAQxkB,EAAO82G,gBAAmB,GAAG9B,EAASltG,KAAK4tG,GACvDT,EAAWntG,KAAK4tG,KAEZ11G,EAAO02G,eAAchB,EAAgBlrG,KAAKK,MAAM6qG,KAC/ClxF,EAAQha,KAAKS,IAAIylG,EAAO1wG,OAAO+2G,mBAAoBvyF,IAAUksF,EAAO1wG,OAAO82G,gBAAmB,GAAG9B,EAASltG,KAAK4tG,GACpHT,EAAWntG,KAAK4tG,GAChBA,EAAgBA,EAAgBQ,EAAYT,GAG9C/E,EAAOkF,aAAeM,EAAYT,EAClCE,EAAgBO,EAChB1xF,GAAS,CAlFoC,CAmF/C,CAqBA,GAnBAksF,EAAOkF,YAAcprG,KAAKO,IAAI2lG,EAAOkF,YAAatB,GAAce,EAE5Db,GAAOC,IAA+B,UAAlBz0G,EAAO6iD,QAAwC,cAAlB7iD,EAAO6iD,SAC1DwxD,EAAW5jB,IAAI,CACbl5E,MAAO,GAAGm5F,EAAOkF,YAAc51G,EAAOy1G,mBAItCz1G,EAAOg3G,gBACT3C,EAAW5jB,IAAI,CACb,CAAC0jB,EAAkB,UAAW,GAAGzD,EAAOkF,YAAc51G,EAAOy1G,mBAI7DM,GACFrF,EAAOsF,KAAKiB,kBAAkBf,EAAWlB,EAAUb,IAIhDn0G,EAAO61G,eAAgB,CAC1B,MAAMqB,EAAgB,GAEtB,IAAK,IAAI1wG,EAAI,EAAGA,EAAIwuG,EAAS52G,OAAQoI,GAAK,EAAG,CAC3C,IAAI2wG,EAAiBnC,EAASxuG,GAC1BxG,EAAO02G,eAAcS,EAAiB3sG,KAAKK,MAAMssG,IAEjDnC,EAASxuG,IAAMkqG,EAAOkF,YAActB,GACtC4C,EAAcpvG,KAAKqvG,EAEvB,CAEAnC,EAAWkC,EAEP1sG,KAAKK,MAAM6lG,EAAOkF,YAActB,GAAc9pG,KAAKK,MAAMmqG,EAASA,EAAS52G,OAAS,IAAM,GAC5F42G,EAASltG,KAAK4oG,EAAOkF,YAActB,EAEvC,CAIA,GAFwB,IAApBU,EAAS52G,SAAc42G,EAAW,CAAC,IAEX,IAAxBh1G,EAAOy1G,aAAoB,CAC7B,MAAMtzG,EAAMuuG,EAAOsD,gBAAkBQ,EAAM,aAAeL,EAAkB,eAC5EU,EAAOzwG,QAAO,CAAC8X,EAAGk7F,KACXp3G,EAAO81G,SAERsB,IAAevC,EAAOz2G,OAAS,IAKlCqyF,IAAI,CACL,CAACtuF,GAAM,GAAGszG,OAEd,CAEA,GAAIz1G,EAAO61G,gBAAkB71G,EAAOq3G,qBAAsB,CACxD,IAAIC,EAAgB,EACpBpC,EAAgB73G,SAAQk6G,IACtBD,GAAiBC,GAAkBv3G,EAAOy1G,aAAez1G,EAAOy1G,aAAe,EAAE,IAEnF6B,GAAiBt3G,EAAOy1G,aACxB,MAAM+B,EAAUF,EAAgBhD,EAChCU,EAAWA,EAASn0G,KAAI42G,GAClBA,EAAO,GAAWtC,EAClBsC,EAAOD,EAAgBA,EAAUnC,EAC9BoC,GAEX,CAEA,GAAIz3G,EAAO03G,yBAA0B,CACnC,IAAIJ,EAAgB,EAMpB,GALApC,EAAgB73G,SAAQk6G,IACtBD,GAAiBC,GAAkBv3G,EAAOy1G,aAAez1G,EAAOy1G,aAAe,EAAE,IAEnF6B,GAAiBt3G,EAAOy1G,aAEpB6B,EAAgBhD,EAAY,CAC9B,MAAMqD,GAAmBrD,EAAagD,GAAiB,EACvDtC,EAAS33G,SAAQ,CAACo6G,EAAMG,KACtB5C,EAAS4C,GAAaH,EAAOE,CAAe,IAE9C1C,EAAW53G,SAAQ,CAACo6G,EAAMG,KACxB3C,EAAW2C,GAAaH,EAAOE,CAAe,GAElD,CACF,CASA,GAPA9wG,OAAOswC,OAAOu5D,EAAQ,CACpBmE,SACAG,WACAC,aACAC,oBAGEl1G,EAAO61G,gBAAkB71G,EAAO81G,UAAY91G,EAAOq3G,qBAAsB,CAC3EhH,EAAeK,EAAOI,UAAW,mCAAuCkE,EAAS,GAAb,MACpE3E,EAAeK,EAAOI,UAAW,iCAAqCJ,EAAOnwG,KAAO,EAAI20G,EAAgBA,EAAgB92G,OAAS,GAAK,EAAnE,MACnE,MAAMy5G,GAAiBnH,EAAOsE,SAAS,GACjC8C,GAAmBpH,EAAOuE,WAAW,GAC3CvE,EAAOsE,SAAWtE,EAAOsE,SAASn0G,KAAIqN,GAAKA,EAAI2pG,IAC/CnH,EAAOuE,WAAavE,EAAOuE,WAAWp0G,KAAIqN,GAAKA,EAAI4pG,GACrD,CAmBA,GAjBI/C,IAAiBH,GACnBlE,EAAOkD,KAAK,sBAGVoB,EAAS52G,SAAWm3G,IAClB7E,EAAO1wG,OAAO+3G,eAAerH,EAAOsH,gBACxCtH,EAAOkD,KAAK,yBAGVqB,EAAW72G,SAAWo3G,GACxB9E,EAAOkD,KAAK,0BAGV5zG,EAAOi4G,qBACTvH,EAAOwH,uBAGJxD,GAAc10G,EAAO81G,SAA8B,UAAlB91G,EAAO6iD,QAAwC,SAAlB7iD,EAAO6iD,QAAoB,CAC5F,MAAMs1D,EAAsB,GAAGn4G,EAAOo4G,wCAChCC,EAA6B3H,EAAOoD,IAAI1L,SAAS+P,GAEnDpD,GAAgB/0G,EAAOs4G,wBACpBD,GAA4B3H,EAAOoD,IAAI1hB,SAAS+lB,GAC5CE,GACT3H,EAAOoD,IAAIhhB,YAAYqlB,EAE3B,CACF,EFnTEI,iBGXa,SAA0B36B,GACvC,MAAM8yB,EAASx1G,KACTs9G,EAAe,GACf9D,EAAYhE,EAAOiE,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,QAC1D,IACIj0E,EADAiyG,EAAY,EAGK,iBAAV76B,EACT8yB,EAAOgI,cAAc96B,IACF,IAAVA,GACT8yB,EAAOgI,cAAchI,EAAO1wG,OAAO49E,OAGrC,MAAM+6B,EAAkBn0F,GAClBkwF,EACKhE,EAAOmE,OAAOzwG,QAAOnJ,GAAMokB,SAASpkB,EAAGe,aAAa,2BAA4B,MAAQwoB,IAAO,GAGjGksF,EAAOmE,OAAO5G,GAAGzpF,GAAO,GAIjC,GAAoC,SAAhCksF,EAAO1wG,OAAOq2G,eAA4B3F,EAAO1wG,OAAOq2G,cAAgB,EAC1E,GAAI3F,EAAO1wG,OAAO61G,gBACfnF,EAAOkI,eAAiB,EAAE,KAAKlL,MAAK4I,IACnCkC,EAAa1wG,KAAKwuG,EAAM,SAG1B,IAAK9vG,EAAI,EAAGA,EAAIgE,KAAKwkC,KAAK0hE,EAAO1wG,OAAOq2G,eAAgB7vG,GAAK,EAAG,CAC9D,MAAMge,EAAQksF,EAAOmI,YAAcryG,EACnC,GAAIge,EAAQksF,EAAOmE,OAAOz2G,SAAWs2G,EAAW,MAChD8D,EAAa1wG,KAAK6wG,EAAgBn0F,GACpC,MAGFg0F,EAAa1wG,KAAK6wG,EAAgBjI,EAAOmI,cAI3C,IAAKryG,EAAI,EAAGA,EAAIgyG,EAAap6G,OAAQoI,GAAK,EACxC,QAA+B,IAApBgyG,EAAahyG,GAAoB,CAC1C,MAAMgR,EAASghG,EAAahyG,GAAGw/D,aAC/ByyC,EAAYjhG,EAASihG,EAAYjhG,EAASihG,CAC5C,EAIEA,GAA2B,IAAdA,IAAiB/H,EAAO2D,WAAW5jB,IAAI,SAAU,GAAGgoB,MACvE,EHpCEP,mBIba,WACb,MAAMxH,EAASx1G,KACT25G,EAASnE,EAAOmE,OAEtB,IAAK,IAAIruG,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EACtCquG,EAAOruG,GAAGsyG,kBAAoBpI,EAAOsD,eAAiBa,EAAOruG,GAAGuyG,WAAalE,EAAOruG,GAAGxC,SAE3F,EJOEg1G,qBKba,SAA8Bn8E,EAAY3hC,MAAQA,KAAK2hC,WAAa,GACjF,MAAM6zE,EAASx1G,KACT8E,EAAS0wG,EAAO1wG,QAChB,OACJ60G,EACAN,aAAcC,EAAG,SACjBQ,GACEtE,EACJ,GAAsB,IAAlBmE,EAAOz2G,OAAc,YACkB,IAAhCy2G,EAAO,GAAGiE,mBAAmCpI,EAAOwH,qBAC/D,IAAIe,GAAgBp8E,EAChB23E,IAAKyE,EAAep8E,GAExBg4E,EAAO/hB,YAAY9yF,EAAOk5G,mBAC1BxI,EAAOyI,qBAAuB,GAC9BzI,EAAOkI,cAAgB,GAEvB,IAAK,IAAIpyG,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAAG,CACzC,MAAM8vG,EAAQzB,EAAOruG,GACrB,IAAI4yG,EAAc9C,EAAMwC,kBAEpB94G,EAAO81G,SAAW91G,EAAO61G,iBAC3BuD,GAAevE,EAAO,GAAGiE,mBAG3B,MAAMO,GAAiBJ,GAAgBj5G,EAAO61G,eAAiBnF,EAAO4I,eAAiB,GAAKF,IAAgB9C,EAAMO,gBAAkB72G,EAAOy1G,cACrI8D,GAAyBN,EAAejE,EAAS,IAAMh1G,EAAO61G,eAAiBnF,EAAO4I,eAAiB,GAAKF,IAAgB9C,EAAMO,gBAAkB72G,EAAOy1G,cAC3J+D,IAAgBP,EAAeG,GAC/BK,EAAaD,EAAc9I,EAAOwE,gBAAgB1uG,IACtCgzG,GAAe,GAAKA,EAAc9I,EAAOnwG,KAAO,GAAKk5G,EAAa,GAAKA,GAAc/I,EAAOnwG,MAAQi5G,GAAe,GAAKC,GAAc/I,EAAOnwG,QAG7JmwG,EAAOkI,cAAc9wG,KAAKwuG,GAC1B5F,EAAOyI,qBAAqBrxG,KAAKtB,GACjCquG,EAAO5G,GAAGznG,GAAG4rF,SAASpyF,EAAOk5G,oBAG/B5C,EAAMroB,SAAWumB,GAAO6E,EAAgBA,EACxC/C,EAAMoD,iBAAmBlF,GAAO+E,EAAwBA,CAC1D,CAEA7I,EAAOkI,cAAgB,EAAElI,EAAOkI,cAClC,EL5BEe,eMfa,SAAwB98E,GACrC,MAAM6zE,EAASx1G,KAEf,QAAyB,IAAd2hC,EAA2B,CACpC,MAAM+8E,EAAalJ,EAAO6D,cAAgB,EAAI,EAE9C13E,EAAY6zE,GAAUA,EAAO7zE,WAAa6zE,EAAO7zE,UAAY+8E,GAAc,CAC7E,CAEA,MAAM55G,EAAS0wG,EAAO1wG,OAChB65G,EAAiBnJ,EAAOoJ,eAAiBpJ,EAAO4I,eACtD,IAAI,SACFrrB,EAAQ,YACR8rB,EAAW,MACXC,GACEtJ,EACJ,MAAMuJ,EAAeF,EACfG,EAASF,EAEQ,IAAnBH,GACF5rB,EAAW,EACX8rB,GAAc,EACdC,GAAQ,IAER/rB,GAAYpxD,EAAY6zE,EAAO4I,gBAAkBO,EACjDE,EAAc9rB,GAAY,EAC1B+rB,EAAQ/rB,GAAY,GAGtBpnF,OAAOswC,OAAOu5D,EAAQ,CACpBziB,WACA8rB,cACAC,WAEEh6G,EAAOi4G,qBAAuBj4G,EAAO61G,gBAAkB71G,EAAOm6G,aAAYzJ,EAAOsI,qBAAqBn8E,GAEtGk9E,IAAgBE,GAClBvJ,EAAOkD,KAAK,yBAGVoG,IAAUE,GACZxJ,EAAOkD,KAAK,oBAGVqG,IAAiBF,GAAeG,IAAWF,IAC7CtJ,EAAOkD,KAAK,YAGdlD,EAAOkD,KAAK,WAAY3lB,EAC1B,ENjCEmsB,oBOhBa,WACb,MAAM1J,EAASx1G,MACT,OACJ25G,EAAM,OACN70G,EAAM,WACNq0G,EAAU,YACVwE,EAAW,UACXwB,GACE3J,EACEgE,EAAYhE,EAAOiE,SAAW30G,EAAO20G,QAAQl6B,QAEnD,IAAI6/B,EADJzF,EAAO/hB,YAAY,GAAG9yF,EAAOu6G,oBAAoBv6G,EAAOw6G,kBAAkBx6G,EAAOy6G,kBAAkBz6G,EAAO06G,6BAA6B16G,EAAO26G,2BAA2B36G,EAAO46G,2BAI9KN,EADE5F,EACYhE,EAAO2D,WAAWxF,KAAK,IAAI7uG,EAAO80G,uCAAuC+D,OAEzEhE,EAAO5G,GAAG4K,GAI1ByB,EAAYloB,SAASpyF,EAAOu6G,kBAExBv6G,EAAO4d,OAEL08F,EAAYlS,SAASpoG,EAAO66G,qBAC9BxG,EAAWlrC,SAAS,IAAInpE,EAAO80G,mBAAmB90G,EAAO66G,iDAAiDR,OAAejoB,SAASpyF,EAAO06G,2BAEzIrG,EAAWlrC,SAAS,IAAInpE,EAAO80G,cAAc90G,EAAO66G,gDAAgDR,OAAejoB,SAASpyF,EAAO06G,4BAKvI,IAAII,EAAYR,EAAY9L,QAAQ,IAAIxuG,EAAO80G,cAAc7G,GAAG,GAAG7b,SAASpyF,EAAOw6G,gBAE/Ex6G,EAAO4d,MAA6B,IAArBk9F,EAAU18G,SAC3B08G,EAAYjG,EAAO5G,GAAG,GACtB6M,EAAU1oB,SAASpyF,EAAOw6G,iBAI5B,IAAIO,EAAYT,EAAY3L,QAAQ,IAAI3uG,EAAO80G,cAAc7G,GAAG,GAAG7b,SAASpyF,EAAOy6G,gBAE/Ez6G,EAAO4d,MAA6B,IAArBm9F,EAAU38G,SAC3B28G,EAAYlG,EAAO5G,IAAI,GACvB8M,EAAU3oB,SAASpyF,EAAOy6G,iBAGxBz6G,EAAO4d,OAELk9F,EAAU1S,SAASpoG,EAAO66G,qBAC5BxG,EAAWlrC,SAAS,IAAInpE,EAAO80G,mBAAmB90G,EAAO66G,iDAAiDC,EAAUn0G,KAAK,gCAAgCyrF,SAASpyF,EAAO26G,yBAEzKtG,EAAWlrC,SAAS,IAAInpE,EAAO80G,cAAc90G,EAAO66G,gDAAgDC,EAAUn0G,KAAK,gCAAgCyrF,SAASpyF,EAAO26G,yBAGjKI,EAAU3S,SAASpoG,EAAO66G,qBAC5BxG,EAAWlrC,SAAS,IAAInpE,EAAO80G,mBAAmB90G,EAAO66G,iDAAiDE,EAAUp0G,KAAK,gCAAgCyrF,SAASpyF,EAAO46G,yBAEzKvG,EAAWlrC,SAAS,IAAInpE,EAAO80G,cAAc90G,EAAO66G,gDAAgDE,EAAUp0G,KAAK,gCAAgCyrF,SAASpyF,EAAO46G,0BAIvKlK,EAAOsK,mBACT,EP9CEC,kBQjBa,SAA2BC,GACxC,MAAMxK,EAASx1G,KACT2hC,EAAY6zE,EAAO6D,aAAe7D,EAAO7zE,WAAa6zE,EAAO7zE,WAC7D,WACJo4E,EAAU,SACVD,EAAQ,OACRh1G,EACA64G,YAAasC,EACbd,UAAWe,EACXxD,UAAWyD,GACT3K,EACJ,IACIkH,EADAiB,EAAcqC,EAGlB,QAA2B,IAAhBrC,EAA6B,CACtC,IAAK,IAAIryG,EAAI,EAAGA,EAAIyuG,EAAW72G,OAAQoI,GAAK,OACT,IAAtByuG,EAAWzuG,EAAI,GACpBq2B,GAAao4E,EAAWzuG,IAAMq2B,EAAYo4E,EAAWzuG,EAAI,IAAMyuG,EAAWzuG,EAAI,GAAKyuG,EAAWzuG,IAAM,EACtGqyG,EAAcryG,EACLq2B,GAAao4E,EAAWzuG,IAAMq2B,EAAYo4E,EAAWzuG,EAAI,KAClEqyG,EAAcryG,EAAI,GAEXq2B,GAAao4E,EAAWzuG,KACjCqyG,EAAcryG,GAKdxG,EAAOs7G,sBACLzC,EAAc,QAA4B,IAAhBA,KAA6BA,EAAc,EAE7E,CAEA,GAAI7D,EAASx/F,QAAQqnB,IAAc,EACjC+6E,EAAY5C,EAASx/F,QAAQqnB,OACxB,CACL,MAAM0+E,EAAO/wG,KAAKS,IAAIjL,EAAO+2G,mBAAoB8B,GACjDjB,EAAY2D,EAAO/wG,KAAKK,OAAOguG,EAAc0C,GAAQv7G,EAAO82G,eAC9D,CAIA,GAFIc,GAAa5C,EAAS52G,SAAQw5G,EAAY5C,EAAS52G,OAAS,GAE5Dy6G,IAAgBsC,EAMlB,YALIvD,IAAcyD,IAChB3K,EAAOkH,UAAYA,EACnBlH,EAAOkD,KAAK,qBAOhB,MAAMyG,EAAYh7F,SAASqxF,EAAOmE,OAAO5G,GAAG4K,GAAalyG,KAAK,4BAA8BkyG,EAAa,IACzGhyG,OAAOswC,OAAOu5D,EAAQ,CACpBkH,YACAyC,YACAc,gBACAtC,gBAEFnI,EAAOkD,KAAK,qBACZlD,EAAOkD,KAAK,mBAERwH,IAAsBf,GACxB3J,EAAOkD,KAAK,oBAGVlD,EAAOtuB,aAAesuB,EAAO1wG,OAAOw7G,qBACtC9K,EAAOkD,KAAK,cAEhB,ERnDE6H,mBSjBa,SAA4BhgH,GACzC,MAAMi1G,EAASx1G,KACT8E,EAAS0wG,EAAO1wG,OAChBs2G,EAAQ,EAAE76G,GAAG4tG,QAAQ,IAAIrpG,EAAO80G,cAAc,GACpD,IACIsC,EADAsE,GAAa,EAGjB,GAAIpF,EACF,IAAK,IAAI9vG,EAAI,EAAGA,EAAIkqG,EAAOmE,OAAOz2G,OAAQoI,GAAK,EAC7C,GAAIkqG,EAAOmE,OAAOruG,KAAO8vG,EAAO,CAC9BoF,GAAa,EACbtE,EAAa5wG,EACb,KACF,CAIJ,IAAI8vG,IAASoF,EAWX,OAFAhL,EAAOiL,kBAAev8F,OACtBsxF,EAAOkL,kBAAex8F,GATtBsxF,EAAOiL,aAAerF,EAElB5F,EAAOiE,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,QAC1Ci2B,EAAOkL,aAAev8F,SAAS,EAAEi3F,GAAO3vG,KAAK,2BAA4B,IAEzE+pG,EAAOkL,aAAexE,EAQtBp3G,EAAO67G,0BAA+Cz8F,IAAxBsxF,EAAOkL,cAA8BlL,EAAOkL,eAAiBlL,EAAOmI,aACpGnI,EAAOmL,qBAEX,GC9BA,SACE1M,aCLa,SAA4BC,GAAOl0G,KAAK84G,eAAiB,IAAM,MAC5E,MACM,OACJh0G,EACAu0G,aAAcC,EAAG,UACjB33E,EAAS,WACTw3E,GALan5G,KAQf,GAAI8E,EAAO87G,iBACT,OAAOtH,GAAO33E,EAAYA,EAG5B,GAAI78B,EAAO81G,QACT,OAAOj5E,EAGT,IAAIk/E,EAAmB5M,EAAakF,EAAW,GAAIjF,GAEnD,OADIoF,IAAKuH,GAAoBA,GACtBA,GAAoB,CAC7B,EDdEC,aEPa,SAAsBn/E,EAAWo/E,GAC9C,MAAMvL,EAASx1G,MAEbq5G,aAAcC,EAAG,OACjBx0G,EAAM,WACNq0G,EAAU,UACVvD,EAAS,SACT7iB,GACEyiB,EACJ,IAwBI1iB,EAxBAlmE,EAAI,EACJ6I,EAAI,EAGJ+/E,EAAOsD,eACTlsF,EAAI0sF,GAAO33E,EAAYA,EAEvBlM,EAAIkM,EAGF78B,EAAO02G,eACT5uF,EAAItd,KAAKK,MAAMid,GACf6I,EAAInmB,KAAKK,MAAM8lB,IAGb3wB,EAAO81G,QACThF,EAAUJ,EAAOsD,eAAiB,aAAe,aAAetD,EAAOsD,gBAAkBlsF,GAAK6I,EACpF3wB,EAAO87G,kBACjBzH,EAAWr3E,UAAU,eAAelV,QAAQ6I,aAG9C+/E,EAAOwL,kBAAoBxL,EAAO7zE,UAClC6zE,EAAO7zE,UAAY6zE,EAAOsD,eAAiBlsF,EAAI6I,EAG/C,MAAMkpF,EAAiBnJ,EAAOoJ,eAAiBpJ,EAAO4I,eAGpDtrB,EADqB,IAAnB6rB,EACY,GAECh9E,EAAY6zE,EAAO4I,gBAAkBO,EAGlD7rB,IAAgBC,GAClByiB,EAAOiJ,eAAe98E,GAGxB6zE,EAAOkD,KAAK,eAAgBlD,EAAO7zE,UAAWo/E,EAChD,EFvCE3C,aGRa,WACb,OAAQp+G,KAAK85G,SAAS,EACxB,EHOE8E,aITa,WACb,OAAQ5+G,KAAK85G,SAAS95G,KAAK85G,SAAS52G,OAAS,EAC/C,EJQE+9G,YKTa,SAAqBt/E,EAAY,EAAG+gD,EAAQ1iF,KAAK8E,OAAO49E,MAAOw+B,GAAe,EAAMC,GAAkB,EAAMC,GACzH,MAAM5L,EAASx1G,MACT,OACJ8E,EAAM,UACN8wG,GACEJ,EAEJ,GAAIA,EAAO6L,WAAav8G,EAAOw8G,+BAC7B,OAAO,EAGT,MAAMlD,EAAe5I,EAAO4I,eACtBQ,EAAepJ,EAAOoJ,eAC5B,IAAI2C,EAKJ,GAJiDA,EAA7CJ,GAAmBx/E,EAAYy8E,EAA6BA,EAAsB+C,GAAmBx/E,EAAYi9E,EAA6BA,EAAiCj9E,EAEnL6zE,EAAOiJ,eAAe8C,GAElBz8G,EAAO81G,QAAS,CAClB,MAAM4G,EAAMhM,EAAOsD,eAEnB,GAAc,IAAVp2B,EACFkzB,EAAU4L,EAAM,aAAe,cAAgBD,MAC1C,CACL,IAAK/L,EAAOW,QAAQG,aAMlB,OALAf,EAAqB,CACnBC,SACAC,gBAAiB8L,EACjB7L,KAAM8L,EAAM,OAAS,SAEhB,EAGT5L,EAAU5tG,SAAS,CACjB,CAACw5G,EAAM,OAAS,QAASD,EACzB15G,SAAU,UAEd,CAEA,OAAO,CACT,CA0CA,OAxCc,IAAV66E,GACF8yB,EAAOgI,cAAc,GACrBhI,EAAOsL,aAAaS,GAEhBL,IACF1L,EAAOkD,KAAK,wBAAyBh2B,EAAO0+B,GAC5C5L,EAAOkD,KAAK,oBAGdlD,EAAOgI,cAAc96B,GACrB8yB,EAAOsL,aAAaS,GAEhBL,IACF1L,EAAOkD,KAAK,wBAAyBh2B,EAAO0+B,GAC5C5L,EAAOkD,KAAK,oBAGTlD,EAAO6L,YACV7L,EAAO6L,WAAY,EAEd7L,EAAOiM,oCACVjM,EAAOiM,kCAAoC,SAAuBlhH,GAC3Di1G,IAAUA,EAAOl4C,WAClB/8D,EAAEkI,SAAWzI,OACjBw1G,EAAO2D,WAAW,GAAGt5F,oBAAoB,gBAAiB21F,EAAOiM,mCACjEjM,EAAO2D,WAAW,GAAGt5F,oBAAoB,sBAAuB21F,EAAOiM,mCACvEjM,EAAOiM,kCAAoC,YACpCjM,EAAOiM,kCAEVP,GACF1L,EAAOkD,KAAK,iBAEhB,GAGFlD,EAAO2D,WAAW,GAAG74G,iBAAiB,gBAAiBk1G,EAAOiM,mCAC9DjM,EAAO2D,WAAW,GAAG74G,iBAAiB,sBAAuBk1G,EAAOiM,sCAIjE,CACT,GCpFe,SAASC,GAAe,OACrClM,EAAM,aACN0L,EAAY,UACZpvG,EAAS,KACT6vG,IAEA,MAAM,YACJhE,EAAW,cACXsC,GACEzK,EACJ,IAAIlkF,EAAMxf,EAQV,GANKwf,IAC8BA,EAA7BqsF,EAAcsC,EAAqB,OAAgBtC,EAAcsC,EAAqB,OAAkB,SAG9GzK,EAAOkD,KAAK,aAAaiJ,KAErBT,GAAgBvD,IAAgBsC,EAAe,CACjD,GAAY,UAAR3uF,EAEF,YADAkkF,EAAOkD,KAAK,uBAAuBiJ,KAIrCnM,EAAOkD,KAAK,wBAAwBiJ,KAExB,SAARrwF,EACFkkF,EAAOkD,KAAK,sBAAsBiJ,KAElCnM,EAAOkD,KAAK,sBAAsBiJ,IAEtC,CACF,CCzBA,SACEC,QCPa,SAAiBt4F,EAAQ,EAAGo5D,EAAQ1iF,KAAK8E,OAAO49E,MAAOw+B,GAAe,EAAME,EAAUS,GACnG,GAAqB,iBAAVv4F,GAAuC,iBAAVA,EACtC,MAAM,IAAIhJ,MAAM,kFAAkFgJ,aAGpG,GAAqB,iBAAVA,EAAoB,CAK7B,MAAMw4F,EAAgB39F,SAASmF,EAAO,IAStC,IAFsBy4F,SAASD,GAG7B,MAAM,IAAIxhG,MAAM,sEAAsEgJ,aAKxFA,EAAQw4F,CACV,CAEA,MAAMtM,EAASx1G,KACf,IAAIk8G,EAAa5yF,EACb4yF,EAAa,IAAGA,EAAa,GACjC,MAAM,OACJp3G,EAAM,SACNg1G,EAAQ,WACRC,EAAU,cACVkG,EAAa,YACbtC,EACAtE,aAAcC,EAAG,UACjB1D,EAAS,QACTr2B,GACEi2B,EAEJ,GAAIA,EAAO6L,WAAav8G,EAAOw8G,iCAAmC/hC,IAAY6hC,IAAaS,EACzF,OAAO,EAGT,MAAMxB,EAAO/wG,KAAKS,IAAIylG,EAAO1wG,OAAO+2G,mBAAoBK,GACxD,IAAIQ,EAAY2D,EAAO/wG,KAAKK,OAAOusG,EAAamE,GAAQ7K,EAAO1wG,OAAO82G,gBAClEc,GAAa5C,EAAS52G,SAAQw5G,EAAY5C,EAAS52G,OAAS,GAChE,MAAMy+B,GAAam4E,EAAS4C,GAE5B,GAAI53G,EAAOs7G,oBACT,IAAK,IAAI90G,EAAI,EAAGA,EAAIyuG,EAAW72G,OAAQoI,GAAK,EAAG,CAC7C,MAAM02G,GAAuB1yG,KAAKK,MAAkB,IAAZgyB,GAClCsgF,EAAiB3yG,KAAKK,MAAsB,IAAhBoqG,EAAWzuG,IACvC42G,EAAqB5yG,KAAKK,MAA0B,IAApBoqG,EAAWzuG,EAAI,SAEpB,IAAtByuG,EAAWzuG,EAAI,GACpB02G,GAAuBC,GAAkBD,EAAsBE,GAAsBA,EAAqBD,GAAkB,EAC9H/F,EAAa5wG,EACJ02G,GAAuBC,GAAkBD,EAAsBE,IACxEhG,EAAa5wG,EAAI,GAEV02G,GAAuBC,IAChC/F,EAAa5wG,EAEjB,CAIF,GAAIkqG,EAAOtuB,aAAeg1B,IAAeyB,EAAa,CACpD,IAAKnI,EAAO2M,gBAAkBxgF,EAAY6zE,EAAO7zE,WAAaA,EAAY6zE,EAAO4I,eAC/E,OAAO,EAGT,IAAK5I,EAAO4M,gBAAkBzgF,EAAY6zE,EAAO7zE,WAAaA,EAAY6zE,EAAOoJ,iBAC1EjB,GAAe,KAAOzB,EAAY,OAAO,CAElD,CAQA,IAAIpqG,EAGJ,GATIoqG,KAAgB+D,GAAiB,IAAMiB,GACzC1L,EAAOkD,KAAK,0BAIdlD,EAAOiJ,eAAe98E,GAEQ7vB,EAA1BoqG,EAAayB,EAAyB,OAAgBzB,EAAayB,EAAyB,OAAwB,QAEpHrE,IAAQ33E,IAAc6zE,EAAO7zE,YAAc23E,GAAO33E,IAAc6zE,EAAO7zE,UAkBzE,OAjBA6zE,EAAOuK,kBAAkB7D,GAErBp3G,EAAOm6G,YACTzJ,EAAO6H,mBAGT7H,EAAO0J,sBAEe,UAAlBp6G,EAAO6iD,QACT6tD,EAAOsL,aAAan/E,GAGJ,UAAd7vB,IACF0jG,EAAO6M,gBAAgBnB,EAAcpvG,GACrC0jG,EAAOxD,cAAckP,EAAcpvG,KAG9B,EAGT,GAAIhN,EAAO81G,QAAS,CAClB,MAAM4G,EAAMhM,EAAOsD,eACbvlG,EAAI+lG,EAAM33E,GAAaA,EAE7B,GAAc,IAAV+gD,EAAa,CACf,MAAM82B,EAAYhE,EAAOiE,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,QAEtDi6B,IACFhE,EAAOI,UAAU5kG,MAAM6kG,eAAiB,OACxCL,EAAO8M,mBAAoB,GAG7B1M,EAAU4L,EAAM,aAAe,aAAejuG,EAE1CimG,GACFhvF,uBAAsB,KACpBgrF,EAAOI,UAAU5kG,MAAM6kG,eAAiB,GACxCL,EAAO+M,yBAA0B,CAAK,GAG5C,KAAO,CACL,IAAK/M,EAAOW,QAAQG,aAMlB,OALAf,EAAqB,CACnBC,SACAC,eAAgBliG,EAChBmiG,KAAM8L,EAAM,OAAS,SAEhB,EAGT5L,EAAU5tG,SAAS,CACjB,CAACw5G,EAAM,OAAS,OAAQjuG,EACxB1L,SAAU,UAEd,CAEA,OAAO,CACT,CA8BA,OA5BA2tG,EAAOgI,cAAc96B,GACrB8yB,EAAOsL,aAAan/E,GACpB6zE,EAAOuK,kBAAkB7D,GACzB1G,EAAO0J,sBACP1J,EAAOkD,KAAK,wBAAyBh2B,EAAO0+B,GAC5C5L,EAAO6M,gBAAgBnB,EAAcpvG,GAEvB,IAAV4wE,EACF8yB,EAAOxD,cAAckP,EAAcpvG,GACzB0jG,EAAO6L,YACjB7L,EAAO6L,WAAY,EAEd7L,EAAOgN,gCACVhN,EAAOgN,8BAAgC,SAAuBjiH,GACvDi1G,IAAUA,EAAOl4C,WAClB/8D,EAAEkI,SAAWzI,OACjBw1G,EAAO2D,WAAW,GAAGt5F,oBAAoB,gBAAiB21F,EAAOgN,+BACjEhN,EAAO2D,WAAW,GAAGt5F,oBAAoB,sBAAuB21F,EAAOgN,+BACvEhN,EAAOgN,8BAAgC,YAChChN,EAAOgN,8BACdhN,EAAOxD,cAAckP,EAAcpvG,GACrC,GAGF0jG,EAAO2D,WAAW,GAAG74G,iBAAiB,gBAAiBk1G,EAAOgN,+BAC9DhN,EAAO2D,WAAW,GAAG74G,iBAAiB,sBAAuBk1G,EAAOgN,iCAG/D,CACT,ED1KEC,YETa,SAAqBn5F,EAAQ,EAAGo5D,EAAQ1iF,KAAK8E,OAAO49E,MAAOw+B,GAAe,EAAME,GAC7F,GAAqB,iBAAV93F,EAAoB,CAK7B,MAAMw4F,EAAgB39F,SAASmF,EAAO,IAStC,IAFsBy4F,SAASD,GAG7B,MAAM,IAAIxhG,MAAM,sEAAsEgJ,aAKxFA,EAAQw4F,CACV,CAEA,MAAMtM,EAASx1G,KACf,IAAI0iH,EAAWp5F,EAMf,OAJIksF,EAAO1wG,OAAO4d,OAChBggG,GAAYlN,EAAOmN,cAGdnN,EAAOoM,QAAQc,EAAUhgC,EAAOw+B,EAAcE,EACvD,EFtBEwB,UGTa,SAAmBlgC,EAAQ1iF,KAAK8E,OAAO49E,MAAOw+B,GAAe,EAAME,GAChF,MAAM5L,EAASx1G,MACT,UACJqhH,EAAS,QACT9hC,EAAO,OACPz6E,GACE0wG,EACJ,IAAKj2B,EAAS,OAAOi2B,EACrB,IAAIqN,EAAW/9G,EAAO82G,eAEO,SAAzB92G,EAAOq2G,eAAsD,IAA1Br2G,EAAO82G,gBAAwB92G,EAAOg+G,qBAC3ED,EAAWvzG,KAAKO,IAAI2lG,EAAOuN,qBAAqB,WAAW,GAAO,IAGpE,MAAMC,EAAYxN,EAAOmI,YAAc74G,EAAO+2G,mBAAqB,EAAIgH,EAEvE,GAAI/9G,EAAO4d,KAAM,CACf,GAAI2+F,GAAav8G,EAAOm+G,kBAAmB,OAAO,EAClDzN,EAAO0N,UAEP1N,EAAO2N,YAAc3N,EAAO2D,WAAW,GAAG5G,UAC5C,CAEA,OAAIztG,EAAOs+G,QAAU5N,EAAOsJ,MACnBtJ,EAAOoM,QAAQ,EAAGl/B,EAAOw+B,EAAcE,GAGzC5L,EAAOoM,QAAQpM,EAAOmI,YAAcqF,EAAWtgC,EAAOw+B,EAAcE,EAC7E,EHlBEiC,UIVa,SAAmB3gC,EAAQ1iF,KAAK8E,OAAO49E,MAAOw+B,GAAe,EAAME,GAChF,MAAM5L,EAASx1G,MACT,OACJ8E,EAAM,UACNu8G,EAAS,SACTvH,EAAQ,WACRC,EAAU,aACVV,EAAY,QACZ95B,GACEi2B,EACJ,IAAKj2B,EAAS,OAAOi2B,EAErB,GAAI1wG,EAAO4d,KAAM,CACf,GAAI2+F,GAAav8G,EAAOm+G,kBAAmB,OAAO,EAClDzN,EAAO0N,UAEP1N,EAAO2N,YAAc3N,EAAO2D,WAAW,GAAG5G,UAC5C,CAIA,SAASz8B,EAAUzlE,GACjB,OAAIA,EAAM,GAAWf,KAAKK,MAAML,KAAKc,IAAIC,IAClCf,KAAKK,MAAMU,EACpB,CAEA,MAAM2xG,EAAsBlsC,EAPVujC,EAAe7D,EAAO7zE,WAAa6zE,EAAO7zE,WAQtD2hF,EAAqBxJ,EAASn0G,KAAI0K,GAAOylE,EAAUzlE,KACzD,IAAIkzG,EAAWzJ,EAASwJ,EAAmBhpG,QAAQ0nG,GAAuB,GAE1E,QAAwB,IAAbuB,GAA4Bz+G,EAAO81G,QAAS,CACrD,IAAI4I,EACJ1J,EAAS33G,SAAQ,CAACo6G,EAAMG,KAClBsF,GAAuBzF,IAEzBiH,EAAgB9G,EAClB,SAG2B,IAAlB8G,IACTD,EAAWzJ,EAAS0J,EAAgB,EAAIA,EAAgB,EAAIA,GAEhE,CAEA,IAAIt0E,EAAY,EAYhB,QAVwB,IAAbq0E,IACTr0E,EAAY6qE,EAAWz/F,QAAQipG,GAC3Br0E,EAAY,IAAGA,EAAYsmE,EAAOmI,YAAc,GAEvB,SAAzB74G,EAAOq2G,eAAsD,IAA1Br2G,EAAO82G,gBAAwB92G,EAAOg+G,qBAC3E5zE,EAAYA,EAAYsmE,EAAOuN,qBAAqB,YAAY,GAAQ,EACxE7zE,EAAY5/B,KAAKO,IAAIq/B,EAAW,KAIhCpqC,EAAOs+G,QAAU5N,EAAOqJ,YAAa,CACvC,MAAM/pF,EAAY0gF,EAAO1wG,OAAO20G,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,SAAWi2B,EAAOiE,QAAUjE,EAAOiE,QAAQE,OAAOz2G,OAAS,EAAIsyG,EAAOmE,OAAOz2G,OAAS,EACvJ,OAAOsyG,EAAOoM,QAAQ9sF,EAAW4tD,EAAOw+B,EAAcE,EACxD,CAEA,OAAO5L,EAAOoM,QAAQ1yE,EAAWwzC,EAAOw+B,EAAcE,EACxD,EJnDEqC,WKXa,SAAoB/gC,EAAQ1iF,KAAK8E,OAAO49E,MAAOw+B,GAAe,EAAME,GAEjF,OADephH,KACD4hH,QADC5hH,KACc29G,YAAaj7B,EAAOw+B,EAAcE,EACjE,ELSEsC,eMZa,SAAwBhhC,EAAQ1iF,KAAK8E,OAAO49E,MAAOw+B,GAAe,EAAME,EAAUz4G,EAAY,IAC3G,MAAM6sG,EAASx1G,KACf,IAAIspB,EAAQksF,EAAOmI,YACnB,MAAM0C,EAAO/wG,KAAKS,IAAIylG,EAAO1wG,OAAO+2G,mBAAoBvyF,GAClDozF,EAAY2D,EAAO/wG,KAAKK,OAAO2Z,EAAQ+2F,GAAQ7K,EAAO1wG,OAAO82G,gBAC7Dj6E,EAAY6zE,EAAO6D,aAAe7D,EAAO7zE,WAAa6zE,EAAO7zE,UAEnE,GAAIA,GAAa6zE,EAAOsE,SAAS4C,GAAY,CAG3C,MAAMiH,EAAcnO,EAAOsE,SAAS4C,GAGhC/6E,EAAYgiF,GAFCnO,EAAOsE,SAAS4C,EAAY,GAEHiH,GAAeh7G,IACvD2gB,GAASksF,EAAO1wG,OAAO82G,eAE3B,KAAO,CAGL,MAAM2H,EAAW/N,EAAOsE,SAAS4C,EAAY,GAGzC/6E,EAAY4hF,IAFI/N,EAAOsE,SAAS4C,GAEO6G,GAAY56G,IACrD2gB,GAASksF,EAAO1wG,OAAO82G,eAE3B,CAIA,OAFAtyF,EAAQha,KAAKO,IAAIyZ,EAAO,GACxBA,EAAQha,KAAKS,IAAIuZ,EAAOksF,EAAOuE,WAAW72G,OAAS,GAC5CsyG,EAAOoM,QAAQt4F,EAAOo5D,EAAOw+B,EAAcE,EACpD,ENjBET,oBOZa,WACb,MAAMnL,EAASx1G,MACT,OACJ8E,EAAM,WACNq0G,GACE3D,EACE2F,EAAyC,SAAzBr2G,EAAOq2G,cAA2B3F,EAAOuN,uBAAyBj+G,EAAOq2G,cAC/F,IACIgE,EADAyE,EAAepO,EAAOkL,aAG1B,GAAI57G,EAAO4d,KAAM,CACf,GAAI8yF,EAAO6L,UAAW,OACtBlC,EAAYh7F,SAAS,EAAEqxF,EAAOiL,cAAch1G,KAAK,2BAA4B,IAEzE3G,EAAO61G,eACLiJ,EAAepO,EAAOmN,aAAexH,EAAgB,GAAKyI,EAAepO,EAAOmE,OAAOz2G,OAASsyG,EAAOmN,aAAexH,EAAgB,GACxI3F,EAAO0N,UACPU,EAAezK,EAAWlrC,SAAS,IAAInpE,EAAO80G,uCAAuCuF,YAAoBr6G,EAAO66G,wBAAwB5M,GAAG,GAAGzpF,QAC9IyqF,GAAS,KACPyB,EAAOoM,QAAQgC,EAAa,KAG9BpO,EAAOoM,QAAQgC,GAERA,EAAepO,EAAOmE,OAAOz2G,OAASi4G,GAC/C3F,EAAO0N,UACPU,EAAezK,EAAWlrC,SAAS,IAAInpE,EAAO80G,uCAAuCuF,YAAoBr6G,EAAO66G,wBAAwB5M,GAAG,GAAGzpF,QAC9IyqF,GAAS,KACPyB,EAAOoM,QAAQgC,EAAa,KAG9BpO,EAAOoM,QAAQgC,EAEnB,MACEpO,EAAOoM,QAAQgC,EAEnB,GCnCA,SACEC,WCFa,WACb,MAAMrO,EAASx1G,KACTiB,EAAW4tG,KACX,OACJ/pG,EAAM,WACNq0G,GACE3D,EAEEsO,EAAY3K,EAAWlrC,WAAW/qE,OAAS,EAAI,EAAEi2G,EAAWlrC,WAAW,GAAG/2B,YAAciiE,EAC9F2K,EAAU71C,SAAS,IAAInpE,EAAO80G,cAAc90G,EAAO66G,uBAAuB19G,SAC1E,IAAI03G,EAASmK,EAAU71C,SAAS,IAAInpE,EAAO80G,cAE3C,GAAI90G,EAAOi/G,uBAAwB,CACjC,MAAMC,EAAiBl/G,EAAO82G,eAAiBjC,EAAOz2G,OAAS4B,EAAO82G,eAEtE,GAAIoI,IAAmBl/G,EAAO82G,eAAgB,CAC5C,IAAK,IAAItwG,EAAI,EAAGA,EAAI04G,EAAgB14G,GAAK,EAAG,CAC1C,MAAM24G,EAAY,EAAEhjH,EAASiK,cAAc,QAAQgsF,SAAS,GAAGpyF,EAAO80G,cAAc90G,EAAOo/G,mBAC3FJ,EAAU1kG,OAAO6kG,EACnB,CAEAtK,EAASmK,EAAU71C,SAAS,IAAInpE,EAAO80G,aACzC,CACF,CAE6B,SAAzB90G,EAAOq2G,eAA6Br2G,EAAO69G,eAAc79G,EAAO69G,aAAehJ,EAAOz2G,QAC1FsyG,EAAOmN,aAAerzG,KAAKwkC,KAAKugD,WAAWvvF,EAAO69G,cAAgB79G,EAAOq2G,cAAe,KACxF3F,EAAOmN,cAAgB79G,EAAOq/G,qBAE1B3O,EAAOmN,aAAehJ,EAAOz2G,QAAUsyG,EAAO1wG,OAAOs/G,oBACvD5O,EAAOmN,aAAehJ,EAAOz2G,QAG/B,MAAMmhH,EAAgB,GAChBC,EAAe,GACrB3K,EAAOnH,MAAK,CAACzyG,EAAIupB,KACD,EAAEvpB,GACV0L,KAAK,0BAA2B6d,EAAM,IAG9C,IAAK,IAAIhe,EAAI,EAAGA,EAAIkqG,EAAOmN,aAAcr3G,GAAK,EAAG,CAC/C,MAAMge,EAAQhe,EAAIgE,KAAKK,MAAMrE,EAAIquG,EAAOz2G,QAAUy2G,EAAOz2G,OACzDohH,EAAa13G,KAAK+sG,EAAO5G,GAAGzpF,GAAO,IACnC+6F,EAAcpxE,QAAQ0mE,EAAO5G,GAAG4G,EAAOz2G,OAASomB,EAAQ,GAAG,GAC7D,CAEA,IAAK,IAAIhe,EAAI,EAAGA,EAAIg5G,EAAaphH,OAAQoI,GAAK,EAC5Cw4G,EAAU1kG,OAAO,EAAEklG,EAAah5G,GAAGxB,WAAU,IAAOotF,SAASpyF,EAAO66G,sBAGtE,IAAK,IAAIr0G,EAAI+4G,EAAcnhH,OAAS,EAAGoI,GAAK,EAAGA,GAAK,EAClDw4G,EAAU1Q,QAAQ,EAAEiR,EAAc/4G,GAAGxB,WAAU,IAAOotF,SAASpyF,EAAO66G,qBAE1E,EDlDEuD,QELa,WACb,MAAM1N,EAASx1G,KACfw1G,EAAOkD,KAAK,iBACZ,MAAM,YACJiF,EAAW,OACXhE,EAAM,aACNgJ,EAAY,eACZP,EAAc,eACdD,EAAc,SACdrI,EACAT,aAAcC,GACZ9D,EACJ,IAAIkN,EACJlN,EAAO4M,gBAAiB,EACxB5M,EAAO2M,gBAAiB,EACxB,MACMoC,GADiBzK,EAAS6D,GACHnI,EAAOvB,eAEpC,GAAI0J,EAAcgF,EAAc,CAC9BD,EAAW/I,EAAOz2G,OAAwB,EAAfy/G,EAAmBhF,EAC9C+E,GAAYC,EACSnN,EAAOoM,QAAQc,EAAU,GAAG,GAAO,IAE3B,IAAT6B,GAClB/O,EAAOsL,cAAcxH,GAAO9D,EAAO7zE,UAAY6zE,EAAO7zE,WAAa4iF,EAEvE,MAAO,GAAI5G,GAAehE,EAAOz2G,OAASy/G,EAAc,CAEtDD,GAAY/I,EAAOz2G,OAASy6G,EAAcgF,EAC1CD,GAAYC,EACSnN,EAAOoM,QAAQc,EAAU,GAAG,GAAO,IAE3B,IAAT6B,GAClB/O,EAAOsL,cAAcxH,GAAO9D,EAAO7zE,UAAY6zE,EAAO7zE,WAAa4iF,EAEvE,CAEA/O,EAAO4M,eAAiBA,EACxB5M,EAAO2M,eAAiBA,EACxB3M,EAAOkD,KAAK,UACd,EFlCE8L,YGNa,WACb,MACM,WACJrL,EAAU,OACVr0G,EAAM,OACN60G,GAJa35G,KAMfm5G,EAAWlrC,SAAS,IAAInpE,EAAO80G,cAAc90G,EAAO66G,wBAAwB76G,EAAO80G,cAAc90G,EAAOo/G,mBAAmBjiH,SAC3H03G,EAAO5I,WAAW,0BACpB,GCWe,SAAS0T,EAAa5hH,GACnC,MAAM2yG,EAASx1G,KACTiB,EAAW4tG,IACXjsG,EAAS,IACT8G,EAAO8rG,EAAOkP,iBACd,OACJ5/G,EAAM,QACN6/G,EAAO,QACPplC,GACEi2B,EACJ,IAAKj2B,EAAS,OAEd,GAAIi2B,EAAO6L,WAAav8G,EAAOw8G,+BAC7B,QAGG9L,EAAO6L,WAAav8G,EAAO81G,SAAW91G,EAAO4d,MAChD8yF,EAAO0N,UAGT,IAAI3iH,EAAIsC,EACJtC,EAAEqkH,gBAAerkH,EAAIA,EAAEqkH,eAC3B,IAAIC,EAAY,EAAEtkH,EAAEkI,QAEpB,GAAiC,YAA7B3D,EAAOggH,oBACJD,EAAU1W,QAAQqH,EAAOI,WAAW1yG,OAAQ,OAInD,GADAwG,EAAKq7G,aAA0B,eAAXxkH,EAAE2J,MACjBR,EAAKq7G,cAAgB,UAAWxkH,GAAiB,IAAZA,EAAEg4F,MAAa,OACzD,IAAK7uF,EAAKq7G,cAAgB,WAAYxkH,GAAKA,EAAEykH,OAAS,EAAG,OACzD,GAAIt7G,EAAKu7G,WAAav7G,EAAKw7G,QAAS,OAEpC,MAAMC,IAAyBrgH,EAAOsgH,gBAA4C,KAA1BtgH,EAAOsgH,eAEzDC,EAAYxiH,EAAMyiH,aAAeziH,EAAMyiH,eAAiBziH,EAAM2S,KAEhE2vG,GAAwB5kH,EAAEkI,QAAUlI,EAAEkI,OAAO88G,YAAcF,IAC7DR,EAAY,EAAEQ,EAAU,KAG1B,MAAMG,EAAoB1gH,EAAO0gH,kBAAoB1gH,EAAO0gH,kBAAoB,IAAI1gH,EAAOsgH,iBACrFK,KAAoBllH,EAAEkI,SAAUlI,EAAEkI,OAAO88G,YAE/C,GAAIzgH,EAAO4gH,YAAcD,EA5D3B,SAAwBnrB,EAAUqrB,EAAO3lH,MAavC,OAZA,SAAS4lH,EAAc7lH,GACrB,IAAKA,GAAMA,IAAO8uG,KAAiB9uG,IAAO,IAAa,OAAO,KAC1DA,EAAG8lH,eAAc9lH,EAAKA,EAAG8lH,cAC7B,MAAMzrE,EAAQr6C,EAAGouG,QAAQ7T,GAEzB,OAAKlgD,GAAUr6C,EAAG+lH,YAIX1rE,GAASwrE,EAAc7lH,EAAG+lH,cAAcpX,MAHtC,IAIX,CAEOkX,CAAcD,EACvB,CA8C4CI,CAAeP,EAAmBX,EAAU,IAAMA,EAAU1W,QAAQqX,GAAmB,IAE/H,YADAhQ,EAAOwQ,YAAa,GAItB,GAAIlhH,EAAOmhH,eACJpB,EAAU1W,QAAQrpG,EAAOmhH,cAAc,GAAI,OAGlDtB,EAAQ32F,SAAsB,eAAXztB,EAAE2J,KAAwB3J,EAAE2lH,cAAc,GAAGC,MAAQ5lH,EAAE4lH,MAC1ExB,EAAQyB,SAAsB,eAAX7lH,EAAE2J,KAAwB3J,EAAE2lH,cAAc,GAAGG,MAAQ9lH,EAAE8lH,MAC1E,MAAMC,EAAS3B,EAAQ32F,SACjBu4F,EAAS5B,EAAQyB,SAEjBI,EAAqB1hH,EAAO0hH,oBAAsB1hH,EAAO2hH,sBACzDC,EAAqB5hH,EAAO4hH,oBAAsB5hH,EAAO6hH,sBAE/D,GAAIH,IAAuBF,GAAUI,GAAsBJ,GAAU1jH,EAAOG,WAAa2jH,GAAqB,CAC5G,GAA2B,YAAvBF,EAGF,OAFA3jH,EAAMrC,gBAIV,CAiBA,GAfAmL,OAAOswC,OAAOvyC,EAAM,CAClBu7G,WAAW,EACXC,SAAS,EACT0B,qBAAqB,EACrBC,iBAAa3iG,EACb4iG,iBAAa5iG,IAEfygG,EAAQ2B,OAASA,EACjB3B,EAAQ4B,OAASA,EACjB78G,EAAKq9G,eAAiB5tE,IACtBq8D,EAAOwQ,YAAa,EACpBxQ,EAAOmD,aACPnD,EAAOwR,oBAAiB9iG,EACpBpf,EAAO6D,UAAY,IAAGe,EAAKu9G,oBAAqB,GAErC,eAAX1mH,EAAE2J,KAAuB,CAC3B,IAAI1J,GAAiB,EAEjBqkH,EAAUnmF,GAAGh1B,EAAKw9G,qBACpB1mH,GAAiB,EAEa,WAA1BqkH,EAAU,GAAGzqB,WACf1wF,EAAKu7G,WAAY,IAIjBhkH,EAASqtG,eAAiB,EAAErtG,EAASqtG,eAAe5vE,GAAGh1B,EAAKw9G,oBAAsBjmH,EAASqtG,gBAAkBuW,EAAU,IACzH5jH,EAASqtG,cAAcC,OAGzB,MAAM4Y,EAAuB3mH,GAAkBg1G,EAAO4R,gBAAkBtiH,EAAOuiH,0BAE1EviH,EAAOwiH,gCAAiCH,GAA0BtC,EAAU,GAAG0C,mBAClFhnH,EAAEC,gBAEN,CAEIg1G,EAAO1wG,OAAO0iH,UAAYhS,EAAO1wG,OAAO0iH,SAASjoC,SAAWi2B,EAAOgS,UAAYhS,EAAO6L,YAAcv8G,EAAO81G,SAC7GpF,EAAOgS,SAAS/C,eAGlBjP,EAAOkD,KAAK,aAAcn4G,EAC5B,CChIe,SAASknH,EAAY5kH,GAClC,MAAM5B,EAAW4tG,IACX2G,EAASx1G,KACT0J,EAAO8rG,EAAOkP,iBACd,OACJ5/G,EAAM,QACN6/G,EACAtL,aAAcC,EAAG,QACjB/5B,GACEi2B,EACJ,IAAKj2B,EAAS,OACd,IAAIh/E,EAAIsC,EAGR,GAFItC,EAAEqkH,gBAAerkH,EAAIA,EAAEqkH,gBAEtBl7G,EAAKu7G,UAKR,YAJIv7G,EAAKo9G,aAAep9G,EAAKm9G,aAC3BrR,EAAOkD,KAAK,oBAAqBn4G,IAMrC,GAAImJ,EAAKq7G,cAA2B,cAAXxkH,EAAE2J,KAAsB,OACjD,MAAMw9G,EAAyB,cAAXnnH,EAAE2J,MAAwB3J,EAAE2lH,gBAAkB3lH,EAAE2lH,cAAc,IAAM3lH,EAAEonH,eAAe,IACnGxB,EAAmB,cAAX5lH,EAAE2J,KAAuBw9G,EAAYvB,MAAQ5lH,EAAE4lH,MACvDE,EAAmB,cAAX9lH,EAAE2J,KAAuBw9G,EAAYrB,MAAQ9lH,EAAE8lH,MAE7D,GAAI9lH,EAAEqnH,wBAGJ,OAFAjD,EAAQ2B,OAASH,OACjBxB,EAAQ4B,OAASF,GAInB,IAAK7Q,EAAO4R,eAeV,OAdK,EAAE7mH,EAAEkI,QAAQi2B,GAAGh1B,EAAKw9G,qBACvB1R,EAAOwQ,YAAa,QAGlBt8G,EAAKu7G,YACPt5G,OAAOswC,OAAO0oE,EAAS,CACrB2B,OAAQH,EACRI,OAAQF,EACRr4F,SAAUm4F,EACVC,SAAUC,IAEZ38G,EAAKq9G,eAAiB5tE,MAM1B,GAAIzvC,EAAKq7G,cAAgBjgH,EAAO+iH,sBAAwB/iH,EAAO4d,KAC7D,GAAI8yF,EAAOuD,cAET,GAAIsN,EAAQ1B,EAAQ4B,QAAU/Q,EAAO7zE,WAAa6zE,EAAOoJ,gBAAkByH,EAAQ1B,EAAQ4B,QAAU/Q,EAAO7zE,WAAa6zE,EAAO4I,eAG9H,OAFA10G,EAAKu7G,WAAY,OACjBv7G,EAAKw7G,SAAU,QAGZ,GAAIiB,EAAQxB,EAAQ2B,QAAU9Q,EAAO7zE,WAAa6zE,EAAOoJ,gBAAkBuH,EAAQxB,EAAQ2B,QAAU9Q,EAAO7zE,WAAa6zE,EAAO4I,eACrI,OAIJ,GAAI10G,EAAKq7G,cAAgB9jH,EAASqtG,eAC5B/tG,EAAEkI,SAAWxH,EAASqtG,eAAiB,EAAE/tG,EAAEkI,QAAQi2B,GAAGh1B,EAAKw9G,mBAG7D,OAFAx9G,EAAKw7G,SAAU,OACf1P,EAAOwQ,YAAa,GASxB,GAJIt8G,EAAKk9G,qBACPpR,EAAOkD,KAAK,YAAan4G,GAGvBA,EAAE2lH,eAAiB3lH,EAAE2lH,cAAchjH,OAAS,EAAG,OACnDyhH,EAAQ32F,SAAWm4F,EACnBxB,EAAQyB,SAAWC,EACnB,MAAMyB,EAAQnD,EAAQ32F,SAAW22F,EAAQ2B,OACnCyB,EAAQpD,EAAQyB,SAAWzB,EAAQ4B,OACzC,GAAI/Q,EAAO1wG,OAAO6D,WAAa2G,KAAKG,KAAKq4G,GAAS,EAAIC,GAAS,GAAKvS,EAAO1wG,OAAO6D,UAAW,OAE7F,QAAgC,IAArBe,EAAKm9G,YAA6B,CAC3C,IAAImB,EAEAxS,EAAOsD,gBAAkB6L,EAAQyB,WAAazB,EAAQ4B,QAAU/Q,EAAOuD,cAAgB4L,EAAQ32F,WAAa22F,EAAQ2B,OACtH58G,EAAKm9G,aAAc,EAGfiB,EAAQA,EAAQC,EAAQA,GAAS,KACnCC,EAA4D,IAA/C14G,KAAK0oB,MAAM1oB,KAAKc,IAAI23G,GAAQz4G,KAAKc,IAAI03G,IAAgBx4G,KAAKmB,GACvE/G,EAAKm9G,YAAcrR,EAAOsD,eAAiBkP,EAAaljH,EAAOkjH,WAAa,GAAKA,EAAaljH,EAAOkjH,WAG3G,CAYA,GAVIt+G,EAAKm9G,aACPrR,EAAOkD,KAAK,oBAAqBn4G,QAGH,IAArBmJ,EAAKo9G,cACVnC,EAAQ32F,WAAa22F,EAAQ2B,QAAU3B,EAAQyB,WAAazB,EAAQ4B,SACtE78G,EAAKo9G,aAAc,IAInBp9G,EAAKm9G,YAEP,YADAn9G,EAAKu7G,WAAY,GAInB,IAAKv7G,EAAKo9G,YACR,OAGFtR,EAAOwQ,YAAa,GAEflhH,EAAO81G,SAAWr6G,EAAE+tF,YACvB/tF,EAAEC,iBAGAsE,EAAOmjH,2BAA6BnjH,EAAOojH,QAC7C3nH,EAAE6jG,kBAGC16F,EAAKw7G,UACJpgH,EAAO4d,OAAS5d,EAAO81G,SACzBpF,EAAO0N,UAGTx5G,EAAKy+G,eAAiB3S,EAAOvB,eAC7BuB,EAAOgI,cAAc,GAEjBhI,EAAO6L,WACT7L,EAAO2D,WAAWz0F,QAAQ,qCAG5Bhb,EAAK0+G,qBAAsB,GAEvBtjH,EAAOujH,aAAyC,IAA1B7S,EAAO2M,iBAAqD,IAA1B3M,EAAO4M,gBACjE5M,EAAO8S,eAAc,GAGvB9S,EAAOkD,KAAK,kBAAmBn4G,IAGjCi1G,EAAOkD,KAAK,aAAcn4G,GAC1BmJ,EAAKw7G,SAAU,EACf,IAAIX,EAAO/O,EAAOsD,eAAiBgP,EAAQC,EAC3CpD,EAAQJ,KAAOA,EACfA,GAAQz/G,EAAOyjH,WACXjP,IAAKiL,GAAQA,GACjB/O,EAAOwR,eAAiBzC,EAAO,EAAI,OAAS,OAC5C76G,EAAKm3G,iBAAmB0D,EAAO76G,EAAKy+G,eACpC,IAAIK,GAAsB,EACtBC,EAAkB3jH,EAAO2jH,gBAgC7B,GA9BI3jH,EAAO+iH,sBACTY,EAAkB,GAGhBlE,EAAO,GAAK76G,EAAKm3G,iBAAmBrL,EAAO4I,gBAC7CoK,GAAsB,EAClB1jH,EAAO4jH,aAAYh/G,EAAKm3G,iBAAmBrL,EAAO4I,eAAiB,IAAM5I,EAAO4I,eAAiB10G,EAAKy+G,eAAiB5D,IAASkE,IAC3HlE,EAAO,GAAK76G,EAAKm3G,iBAAmBrL,EAAOoJ,iBACpD4J,GAAsB,EAClB1jH,EAAO4jH,aAAYh/G,EAAKm3G,iBAAmBrL,EAAOoJ,eAAiB,GAAKpJ,EAAOoJ,eAAiBl1G,EAAKy+G,eAAiB5D,IAASkE,IAGjID,IACFjoH,EAAEqnH,yBAA0B,IAIzBpS,EAAO2M,gBAA4C,SAA1B3M,EAAOwR,gBAA6Bt9G,EAAKm3G,iBAAmBn3G,EAAKy+G,iBAC7Fz+G,EAAKm3G,iBAAmBn3G,EAAKy+G,iBAG1B3S,EAAO4M,gBAA4C,SAA1B5M,EAAOwR,gBAA6Bt9G,EAAKm3G,iBAAmBn3G,EAAKy+G,iBAC7Fz+G,EAAKm3G,iBAAmBn3G,EAAKy+G,gBAG1B3S,EAAO4M,gBAAmB5M,EAAO2M,iBACpCz4G,EAAKm3G,iBAAmBn3G,EAAKy+G,gBAI3BrjH,EAAO6D,UAAY,EAAG,CACxB,KAAI2G,KAAKc,IAAIm0G,GAAQz/G,EAAO6D,WAAae,EAAKu9G,oBAW5C,YADAv9G,EAAKm3G,iBAAmBn3G,EAAKy+G,gBAT7B,IAAKz+G,EAAKu9G,mBAMR,OALAv9G,EAAKu9G,oBAAqB,EAC1BtC,EAAQ2B,OAAS3B,EAAQ32F,SACzB22F,EAAQ4B,OAAS5B,EAAQyB,SACzB18G,EAAKm3G,iBAAmBn3G,EAAKy+G,oBAC7BxD,EAAQJ,KAAO/O,EAAOsD,eAAiB6L,EAAQ32F,SAAW22F,EAAQ2B,OAAS3B,EAAQyB,SAAWzB,EAAQ4B,OAO5G,CAEKzhH,EAAO6jH,eAAgB7jH,EAAO81G,WAE/B91G,EAAO0iH,UAAY1iH,EAAO0iH,SAASjoC,SAAWi2B,EAAOgS,UAAY1iH,EAAOi4G,uBAC1EvH,EAAOuK,oBACPvK,EAAO0J,uBAGL1J,EAAO1wG,OAAO0iH,UAAY1iH,EAAO0iH,SAASjoC,SAAWi2B,EAAOgS,UAC9DhS,EAAOgS,SAASC,cAIlBjS,EAAOiJ,eAAe/0G,EAAKm3G,kBAE3BrL,EAAOsL,aAAap3G,EAAKm3G,kBAC3B,CC7Ne,SAAS+H,EAAW/lH,GACjC,MAAM2yG,EAASx1G,KACT0J,EAAO8rG,EAAOkP,iBACd,OACJ5/G,EAAM,QACN6/G,EACAtL,aAAcC,EAAG,WACjBS,EAAU,QACVx6B,GACEi2B,EACJ,IAAKj2B,EAAS,OACd,IAAIh/E,EAAIsC,EASR,GARItC,EAAEqkH,gBAAerkH,EAAIA,EAAEqkH,eAEvBl7G,EAAKk9G,qBACPpR,EAAOkD,KAAK,WAAYn4G,GAG1BmJ,EAAKk9G,qBAAsB,GAEtBl9G,EAAKu7G,UAOR,OANIv7G,EAAKw7G,SAAWpgH,EAAOujH,YACzB7S,EAAO8S,eAAc,GAGvB5+G,EAAKw7G,SAAU,OACfx7G,EAAKo9G,aAAc,GAKjBhiH,EAAOujH,YAAc3+G,EAAKw7G,SAAWx7G,EAAKu7G,aAAwC,IAA1BzP,EAAO2M,iBAAqD,IAA1B3M,EAAO4M,iBACnG5M,EAAO8S,eAAc,GAIvB,MAAMO,EAAe1vE,IACf2vE,EAAWD,EAAen/G,EAAKq9G,eAErC,GAAIvR,EAAOwQ,WAAY,CACrB,MAAM+C,EAAWxoH,EAAEiV,MAAQjV,EAAE+kH,cAAgB/kH,EAAE+kH,eAC/C9P,EAAO+K,mBAAmBwI,GAAYA,EAAS,IAAMxoH,EAAEkI,QACvD+sG,EAAOkD,KAAK,YAAan4G,GAErBuoH,EAAW,KAAOD,EAAen/G,EAAKs/G,cAAgB,KACxDxT,EAAOkD,KAAK,wBAAyBn4G,EAEzC,CAOA,GALAmJ,EAAKs/G,cAAgB7vE,IACrB46D,GAAS,KACFyB,EAAOl4C,YAAWk4C,EAAOwQ,YAAa,EAAI,KAG5Ct8G,EAAKu7G,YAAcv7G,EAAKw7G,UAAY1P,EAAOwR,gBAAmC,IAAjBrC,EAAQJ,MAAc76G,EAAKm3G,mBAAqBn3G,EAAKy+G,eAIrH,OAHAz+G,EAAKu7G,WAAY,EACjBv7G,EAAKw7G,SAAU,OACfx7G,EAAKo9G,aAAc,GAOrB,IAAIpyD,EAQJ,GAXAhrD,EAAKu7G,WAAY,EACjBv7G,EAAKw7G,SAAU,EACfx7G,EAAKo9G,aAAc,EAIjBpyD,EADE5vD,EAAO6jH,aACIrP,EAAM9D,EAAO7zE,WAAa6zE,EAAO7zE,WAEhCj4B,EAAKm3G,iBAGjB/7G,EAAO81G,QACT,OAGF,GAAIpF,EAAO1wG,OAAO0iH,UAAY1iH,EAAO0iH,SAASjoC,QAI5C,YAHAi2B,EAAOgS,SAASoB,WAAW,CACzBl0D,eAMJ,IAAIu0D,EAAY,EACZC,EAAY1T,EAAOwE,gBAAgB,GAEvC,IAAK,IAAI1uG,EAAI,EAAGA,EAAIyuG,EAAW72G,OAAQoI,GAAKA,EAAIxG,EAAO+2G,mBAAqB,EAAI/2G,EAAO82G,eAAgB,CACrG,MAAMoH,EAAY13G,EAAIxG,EAAO+2G,mBAAqB,EAAI,EAAI/2G,EAAO82G,oBAExB,IAA9B7B,EAAWzuG,EAAI03G,GACpBtuD,GAAcqlD,EAAWzuG,IAAMopD,EAAaqlD,EAAWzuG,EAAI03G,KAC7DiG,EAAY39G,EACZ49G,EAAYnP,EAAWzuG,EAAI03G,GAAajJ,EAAWzuG,IAE5CopD,GAAcqlD,EAAWzuG,KAClC29G,EAAY39G,EACZ49G,EAAYnP,EAAWA,EAAW72G,OAAS,GAAK62G,EAAWA,EAAW72G,OAAS,GAEnF,CAEA,IAAIimH,EAAmB,KACnBC,EAAkB,KAElBtkH,EAAOs+G,SACL5N,EAAOqJ,YACTuK,EAAkB5T,EAAO1wG,OAAO20G,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,SAAWi2B,EAAOiE,QAAUjE,EAAOiE,QAAQE,OAAOz2G,OAAS,EAAIsyG,EAAOmE,OAAOz2G,OAAS,EAC9IsyG,EAAOsJ,QAChBqK,EAAmB,IAKvB,MAAME,GAAS30D,EAAaqlD,EAAWkP,IAAcC,EAC/ClG,EAAYiG,EAAYnkH,EAAO+2G,mBAAqB,EAAI,EAAI/2G,EAAO82G,eAEzE,GAAIkN,EAAWhkH,EAAOwkH,aAAc,CAElC,IAAKxkH,EAAOykH,WAEV,YADA/T,EAAOoM,QAAQpM,EAAOmI,aAIM,SAA1BnI,EAAOwR,iBACLqC,GAASvkH,EAAO0kH,gBAAiBhU,EAAOoM,QAAQ98G,EAAOs+G,QAAU5N,EAAOsJ,MAAQqK,EAAmBF,EAAYjG,GAAgBxN,EAAOoM,QAAQqH,IAGtH,SAA1BzT,EAAOwR,iBACLqC,EAAQ,EAAIvkH,EAAO0kH,gBACrBhU,EAAOoM,QAAQqH,EAAYjG,GACE,OAApBoG,GAA4BC,EAAQ,GAAK/5G,KAAKc,IAAIi5G,GAASvkH,EAAO0kH,gBAC3EhU,EAAOoM,QAAQwH,GAEf5T,EAAOoM,QAAQqH,GAGrB,KAAO,CAEL,IAAKnkH,EAAO2kH,YAEV,YADAjU,EAAOoM,QAAQpM,EAAOmI,aAIEnI,EAAOkU,aAAenpH,EAAEkI,SAAW+sG,EAAOkU,WAAWC,QAAUppH,EAAEkI,SAAW+sG,EAAOkU,WAAWE,QAU7GrpH,EAAEkI,SAAW+sG,EAAOkU,WAAWC,OACxCnU,EAAOoM,QAAQqH,EAAYjG,GAE3BxN,EAAOoM,QAAQqH,IAVe,SAA1BzT,EAAOwR,gBACTxR,EAAOoM,QAA6B,OAArBuH,EAA4BA,EAAmBF,EAAYjG,GAG9C,SAA1BxN,EAAOwR,gBACTxR,EAAOoM,QAA4B,OAApBwH,EAA2BA,EAAkBH,GAOlE,CACF,CChKe,SAASY,IACtB,MAAMrU,EAASx1G,MACT,OACJ8E,EAAM,GACN/E,GACEy1G,EACJ,GAAIz1G,GAAyB,IAAnBA,EAAG0H,YAAmB,OAE5B3C,EAAOo3F,aACTsZ,EAAOsU,gBAIT,MAAM,eACJ3H,EAAc,eACdC,EAAc,SACdtI,GACEtE,EAEJA,EAAO2M,gBAAiB,EACxB3M,EAAO4M,gBAAiB,EACxB5M,EAAOmD,aACPnD,EAAOwD,eACPxD,EAAO0J,uBAEuB,SAAzBp6G,EAAOq2G,eAA4Br2G,EAAOq2G,cAAgB,IAAM3F,EAAOsJ,QAAUtJ,EAAOqJ,cAAgBrJ,EAAO1wG,OAAO61G,eACzHnF,EAAOoM,QAAQpM,EAAOmE,OAAOz2G,OAAS,EAAG,GAAG,GAAO,GAEnDsyG,EAAOoM,QAAQpM,EAAOmI,YAAa,GAAG,GAAO,GAG3CnI,EAAO/yF,UAAY+yF,EAAO/yF,SAASsnG,SAAWvU,EAAO/yF,SAASunG,QAChExU,EAAO/yF,SAASwnG,MAIlBzU,EAAO4M,eAAiBA,EACxB5M,EAAO2M,eAAiBA,EAEpB3M,EAAO1wG,OAAO+3G,eAAiB/C,IAAatE,EAAOsE,UACrDtE,EAAOsH,eAEX,CC1Ce,SAASoN,GAAQ3pH,GAC9B,MAAMi1G,EAASx1G,KACVw1G,EAAOj2B,UAEPi2B,EAAOwQ,aACNxQ,EAAO1wG,OAAOqlH,eAAe5pH,EAAEC,iBAE/Bg1G,EAAO1wG,OAAOslH,0BAA4B5U,EAAO6L,YACnD9gH,EAAE6jG,kBACF7jG,EAAE8pH,6BAGR,CCZe,SAASC,KACtB,MAAM9U,EAASx1G,MACT,UACJ41G,EAAS,aACTyD,EAAY,QACZ95B,GACEi2B,EACJ,IAAKj2B,EAAS,OAad,IAAIuT,EAZJ0iB,EAAOwL,kBAAoBxL,EAAO7zE,UAE9B6zE,EAAOsD,eACTtD,EAAO7zE,WAAai0E,EAAUpuG,WAE9BguG,EAAO7zE,WAAai0E,EAAUroB,UAIP,IAArBioB,EAAO7zE,YAAiB6zE,EAAO7zE,UAAY,GAC/C6zE,EAAOuK,oBACPvK,EAAO0J,sBAEP,MAAMP,EAAiBnJ,EAAOoJ,eAAiBpJ,EAAO4I,eAGpDtrB,EADqB,IAAnB6rB,EACY,GAECnJ,EAAO7zE,UAAY6zE,EAAO4I,gBAAkBO,EAGzD7rB,IAAgB0iB,EAAOziB,UACzByiB,EAAOiJ,eAAepF,GAAgB7D,EAAO7zE,UAAY6zE,EAAO7zE,WAGlE6zE,EAAOkD,KAAK,eAAgBlD,EAAO7zE,WAAW,EAChD,CC3BA,IAAI4oF,IAAqB,EAEzB,SAASC,KAAsB,CAE/B,MAAM9d,GAAS,CAAC8I,EAAQz0G,KACtB,MAAME,EAAW4tG,KACX,OACJ/pG,EAAM,YACN2lH,EAAW,GACX1qH,EAAE,UACF61G,EAAS,OACTuB,EAAM,QACNhB,GACEX,EACEtE,IAAYpsG,EAAOojH,OACnBwC,EAAuB,OAAX3pH,EAAkB,mBAAqB,sBACnD4pH,EAAe5pH,EAErB,GAAKo1G,EAAQK,MAIN,CACL,MAAME,IAAwC,eAAtB+T,EAAYlmH,QAA0B4xG,EAAQO,kBAAmB5xG,EAAO8lH,mBAAmB,CACjHjgB,SAAS,EACTuG,SAAS,GAEXnxG,EAAG2qH,GAAWD,EAAYlmH,MAAOixG,EAAOiP,aAAc/N,GACtD32G,EAAG2qH,GAAWD,EAAYI,KAAMrV,EAAOiS,YAAatR,EAAQO,gBAAkB,CAC5E/L,SAAS,EACTuG,WACEA,GACJnxG,EAAG2qH,GAAWD,EAAYniG,IAAKktF,EAAOoT,WAAYlS,GAE9C+T,EAAYK,QACd/qH,EAAG2qH,GAAWD,EAAYK,OAAQtV,EAAOoT,WAAYlS,EAEzD,MAlBE32G,EAAG2qH,GAAWD,EAAYlmH,MAAOixG,EAAOiP,cAAc,GACtDxjH,EAASypH,GAAWD,EAAYI,KAAMrV,EAAOiS,YAAavW,GAC1DjwG,EAASypH,GAAWD,EAAYniG,IAAKktF,EAAOoT,YAAY,IAmBtD9jH,EAAOqlH,eAAiBrlH,EAAOslH,2BACjCrqH,EAAG2qH,GAAW,QAASlV,EAAO0U,SAAS,GAGrCplH,EAAO81G,SACThF,EAAU8U,GAAW,SAAUlV,EAAO8U,UAIpCxlH,EAAOimH,qBACTvV,EAAOmV,GAAcxT,EAAOC,KAAOD,EAAOE,QAAU,0CAA4C,wBAAyBwS,GAAU,GAEnIrU,EAAOmV,GAAc,iBAAkBd,GAAU,EACnD,EAiCF,UACEmB,aA/BF,WACE,MAAMxV,EAASx1G,KACTiB,EAAW4tG,KACX,OACJ/pG,EAAM,QACNqxG,GACEX,EACJA,EAAOiP,aAAeA,EAAa1mG,KAAKy3F,GACxCA,EAAOiS,YAAcA,EAAY1pG,KAAKy3F,GACtCA,EAAOoT,WAAaA,EAAW7qG,KAAKy3F,GAEhC1wG,EAAO81G,UACTpF,EAAO8U,SAAWA,GAASvsG,KAAKy3F,IAGlCA,EAAO0U,QAAUA,GAAQnsG,KAAKy3F,GAE1BW,EAAQK,QAAU+T,KACpBtpH,EAASX,iBAAiB,aAAckqH,IACxCD,IAAqB,GAGvB7d,GAAO8I,EAAQ,KACjB,EASEyV,aAPF,WAEEve,GADe1sG,KACA,MACjB,GCzFMkrH,GAAgB,CAAC1V,EAAQ1wG,IACtB0wG,EAAOsF,MAAQh2G,EAAOg2G,MAAQh2G,EAAOg2G,KAAKC,KAAO,ECD1D,UACE+O,cDGa,WACb,MAAMtU,EAASx1G,MACT,YACJ29G,EAAW,YACXz2B,EAAW,aACXy7B,EAAe,EAAC,OAChB79G,EAAM,IACN8zG,GACEpD,EACEtZ,EAAcp3F,EAAOo3F,YAC3B,IAAKA,GAAeA,GAAmD,IAApCvwF,OAAOwU,KAAK+7E,GAAah5F,OAAc,OAE1E,MAAMioH,EAAa3V,EAAO4V,cAAclvB,EAAasZ,EAAO1wG,OAAOumH,gBAAiB7V,EAAOz1G,IAC3F,IAAKorH,GAAc3V,EAAO8V,oBAAsBH,EAAY,OAC5D,MACMI,GADuBJ,KAAcjvB,EAAcA,EAAYivB,QAAcjnG,IAClCsxF,EAAOgW,eAClDC,EAAcP,GAAc1V,EAAQ1wG,GACpC4mH,EAAaR,GAAc1V,EAAQ+V,GACnCI,EAAa7mH,EAAOy6E,QAEtBksC,IAAgBC,GAClB9S,EAAIhhB,YAAY,GAAG9yF,EAAOo4G,8BAA8Bp4G,EAAOo4G,qCAC/D1H,EAAOoW,yBACGH,GAAeC,IACzB9S,EAAI1hB,SAAS,GAAGpyF,EAAOo4G,+BAEnBqO,EAAiBzQ,KAAK74C,MAAuC,WAA/BspD,EAAiBzQ,KAAK74C,OAAsBspD,EAAiBzQ,KAAK74C,MAA6B,WAArBn9D,EAAOg2G,KAAK74C,OACtH22C,EAAI1hB,SAAS,GAAGpyF,EAAOo4G,qCAGzB1H,EAAOoW,wBAIT,CAAC,aAAc,aAAc,aAAazpH,SAAQ6J,IAChD,MAAM6/G,EAAmB/mH,EAAOkH,IAASlH,EAAOkH,GAAMuzE,QAChDusC,EAAkBP,EAAiBv/G,IAASu/G,EAAiBv/G,GAAMuzE,QAErEssC,IAAqBC,GACvBtW,EAAOxpG,GAAMu3F,WAGVsoB,GAAoBC,GACvBtW,EAAOxpG,GAAMq3F,QACf,IAEF,MAAM0oB,EAAmBR,EAAiBz5G,WAAay5G,EAAiBz5G,YAAchN,EAAOgN,UACvFk6G,EAAclnH,EAAO4d,OAAS6oG,EAAiBpQ,gBAAkBr2G,EAAOq2G,eAAiB4Q,GAE3FA,GAAoB7kC,GACtBsuB,EAAOyW,kBAGT,EAAOzW,EAAO1wG,OAAQymH,GACtB,MAAMW,EAAY1W,EAAO1wG,OAAOy6E,QAChC5zE,OAAOswC,OAAOu5D,EAAQ,CACpB4R,eAAgB5R,EAAO1wG,OAAOsiH,eAC9BjF,eAAgB3M,EAAO1wG,OAAOq9G,eAC9BC,eAAgB5M,EAAO1wG,OAAOs9G,iBAG5BuJ,IAAeO,EACjB1W,EAAOjS,WACGooB,GAAcO,GACxB1W,EAAOnS,SAGTmS,EAAO8V,kBAAoBH,EAC3B3V,EAAOkD,KAAK,oBAAqB6S,GAE7BS,GAAe9kC,IACjBsuB,EAAOgP,cACPhP,EAAOqO,aACPrO,EAAOwD,eACPxD,EAAOoM,QAAQjE,EAAcgF,EAAenN,EAAOmN,aAAc,GAAG,IAGtEnN,EAAOkD,KAAK,aAAc6S,EAC5B,EChFEH,cCHa,SAAuBlvB,EAAaypB,EAAO,SAAUwG,GAClE,IAAKjwB,GAAwB,cAATypB,IAAyBwG,EAAa,OAC1D,IAAIhB,GAAa,EACjB,MAAMvoH,EAAS,IACTmyD,EAAyB,WAAT4wD,EAAoB/iH,EAAOunG,YAAcgiB,EAAYpiB,aACrEx9E,EAAS5gB,OAAOwU,KAAK+7E,GAAav2F,KAAI2qB,IAC1C,GAAqB,iBAAVA,GAA6C,IAAvBA,EAAMhW,QAAQ,KAAY,CACzD,MAAM8xG,EAAW/3B,WAAW/jE,EAAM9L,OAAO,IAEzC,MAAO,CACLjb,MAFYwrD,EAAgBq3D,EAG5B97F,QAEJ,CAEA,MAAO,CACL/mB,MAAO+mB,EACPA,QACD,IAEH/D,EAAOyiE,MAAK,CAACh2E,EAAG7F,IAAMgR,SAASnL,EAAEzP,MAAO,IAAM4a,SAAShR,EAAE5J,MAAO,MAEhE,IAAK,IAAI+B,EAAI,EAAGA,EAAIihB,EAAOrpB,OAAQoI,GAAK,EAAG,CACzC,MAAM,MACJglB,EAAK,MACL/mB,GACEgjB,EAAOjhB,GAEE,WAATq6G,EACE/iH,EAAO2sG,WAAW,eAAehmG,QAAYmpG,UAC/CyY,EAAa76F,GAEN/mB,GAAS4iH,EAAYtT,cAC9BsS,EAAa76F,EAEjB,CAEA,OAAO66F,GAAc,KACvB,GCrCA,UACEkB,WCaa,WACb,MAAM7W,EAASx1G,MACT,WACJ2wG,EAAU,OACV7rG,EAAM,IACNw0G,EAAG,IACHV,EAAG,OACHzB,EAAM,QACNhB,GACEX,EAEE8W,EA3BR,SAAwBlkH,EAAS89B,GAC/B,MAAMqmF,EAAgB,GAYtB,OAXAnkH,EAAQjG,SAAQyH,IACM,iBAATA,EACT+B,OAAOwU,KAAKvW,GAAMzH,SAAQwuG,IACpB/mG,EAAK+mG,IACP4b,EAAc3/G,KAAKs5B,EAASyqE,EAC9B,IAEuB,iBAAT/mG,GAChB2iH,EAAc3/G,KAAKs5B,EAASt8B,EAC9B,IAEK2iH,CACT,CAamBC,CAAe,CAAC,cAAe1nH,EAAOgN,UAAW,CAChE,kBAAmBqkG,EAAQK,OAC1B,CACD,YAAahB,EAAO1wG,OAAO0iH,UAAY1iH,EAAO0iH,SAASjoC,SACtD,CACD,WAAcz6E,EAAOm6G,YACpB,CACD,IAAO3F,GACN,CACD,KAAQx0G,EAAOg2G,MAAQh2G,EAAOg2G,KAAKC,KAAO,GACzC,CACD,cAAej2G,EAAOg2G,MAAQh2G,EAAOg2G,KAAKC,KAAO,GAA0B,WAArBj2G,EAAOg2G,KAAK74C,MACjE,CACD,QAAWk1C,EAAOE,SACjB,CACD,IAAOF,EAAOC,KACb,CACD,WAAYtyG,EAAO81G,SAClB,CACD,SAAY91G,EAAO81G,SAAW91G,EAAO61G,gBACpC,CACD,iBAAkB71G,EAAOi4G,sBACvBj4G,EAAOo4G,wBACXvM,EAAW/jG,QAAQ0/G,GACnB1T,EAAI1hB,SAAS,IAAIyZ,GAAY11F,KAAK,MAClCu6F,EAAOoW,sBACT,EDjDEa,cEJa,WACb,MACM,IACJ7T,EAAG,WACHjI,GAHa3wG,KAKf44G,EAAIhhB,YAAY+Y,EAAW11F,KAAK,MALjBjb,KAMR4rH,sBACT,GC2BA,MCnCA,IACEvjG,MAAM,EACNvW,UAAW,aACXgzG,kBAAmB,UACnB4H,aAAc,EACdhqC,MAAO,IACPk4B,SAAS,EACTmQ,sBAAsB,EACtB4B,gBAAgB,EAChBzE,QAAQ,EACRhiD,gBAAgB,EAChBqZ,SAAS,EACT2nC,kBAAmB,wDAEnB7qG,MAAO,KACPC,OAAQ,KAERglG,gCAAgC,EAEhCnyG,UAAW,KACXhG,IAAK,KAELq9G,oBAAoB,EACpBE,mBAAoB,GAEpBzH,YAAY,EAEZnD,gBAAgB,EAEhB8E,kBAAkB,EAElBj5D,OAAQ,QAGRu0C,iBAAah4E,EACbmnG,gBAAiB,SAEjB9Q,aAAc,EACdY,cAAe,EACfS,eAAgB,EAChBC,mBAAoB,EACpBiH,oBAAoB,EACpBnI,gBAAgB,EAChBwB,sBAAsB,EACtBjC,mBAAoB,EAEpBE,kBAAmB,EAEnBgG,qBAAqB,EACrB5D,0BAA0B,EAE1BK,eAAe,EAEfrB,cAAc,EAEd+M,WAAY,EACZP,WAAY,GACZ4E,eAAe,EACfnD,aAAa,EACbF,YAAY,EACZC,gBAAiB,GACjBF,aAAc,IACdX,cAAc,EACdvB,gBAAgB,EAChBz+G,UAAW,EACXs/G,0BAA0B,EAC1BZ,0BAA0B,EAC1BC,+BAA+B,EAC/BO,qBAAqB,EAErBgF,mBAAmB,EAEnBnE,YAAY,EACZD,gBAAiB,IAEjB1L,qBAAqB,EAErBsL,YAAY,EAEZ8B,eAAe,EACfC,0BAA0B,EAC1BzJ,qBAAqB,EAErB76F,eAAe,EACfgnG,qBAAqB,EAErBpqG,MAAM,EACNyhG,qBAAsB,EACtBxB,aAAc,KACdyB,mBAAmB,EACnBL,wBAAwB,EACxBd,mBAAmB,EAEnBG,QAAQ,EAERhB,gBAAgB,EAChBD,gBAAgB,EAChB8D,aAAc,KAEdP,WAAW,EACXN,eAAgB,oBAChBI,kBAAmB,KAEnBoF,kBAAkB,EAClBxN,wBAAyB,GAEzBF,uBAAwB,UAExBtD,WAAY,eACZsK,gBAAiB,+BACjB7E,iBAAkB,sBAClBG,0BAA2B,gCAC3BxB,kBAAmB,uBACnB2B,oBAAqB,yBACrBL,eAAgB,oBAChBG,wBAAyB,8BACzBF,eAAgB,oBAChBG,wBAAyB,8BACzBqN,aAAc,iBAEdzM,oBAAoB,EAEpB0M,cAAc,GCzHD,SAASC,GAAmBnoH,EAAQooH,GACjD,OAAO,SAAsBx+G,EAAM,CAAC,GAClC,MAAMy+G,EAAkBxhH,OAAOwU,KAAKzR,GAAK,GACnC0+G,EAAe1+G,EAAIy+G,GAEG,iBAAjBC,GAA8C,OAAjBA,GAKpC,CAAC,aAAc,aAAc,aAAa9yG,QAAQ6yG,IAAoB,IAAiC,IAA5BroH,EAAOqoH,KACpFroH,EAAOqoH,GAAmB,CACxBE,MAAM,IAIJF,KAAmBroH,GAAU,YAAasoH,IAKhB,IAA5BtoH,EAAOqoH,KACTroH,EAAOqoH,GAAmB,CACxB5tC,SAAS,IAI0B,iBAA5Bz6E,EAAOqoH,IAAmC,YAAaroH,EAAOqoH,KACvEroH,EAAOqoH,GAAiB5tC,SAAU,GAG/Bz6E,EAAOqoH,KAAkBroH,EAAOqoH,GAAmB,CACtD5tC,SAAS,IAEX,EAAO2tC,EAAkBx+G,IAjBvB,EAAOw+G,EAAkBx+G,IAXzB,EAAOw+G,EAAkBx+G,EA6B7B,CACF,CCdA,MAAM4+G,GAAa,CACjBC,cAAa,EACbh6D,OAAM,EACN5xB,UAAS,EACTqvE,WCxBF,CACEwM,cCJa,SAAuB38F,EAAUkgG,GAC9C,MAAMvL,EAASx1G,KAEVw1G,EAAO1wG,OAAO81G,SACjBpF,EAAO2D,WAAWnI,WAAWnwF,GAG/B20F,EAAOkD,KAAK,gBAAiB73F,EAAUkgG,EACzC,EDHEsB,gBEJa,SAAyBnB,GAAe,EAAMpvG,GAC3D,MAAM0jG,EAASx1G,MACT,OACJ8E,GACE0wG,EACA1wG,EAAO81G,UAEP91G,EAAOm6G,YACTzJ,EAAO6H,mBAGTqE,EAAe,CACblM,SACA0L,eACApvG,YACA6vG,KAAM,UAEV,EFZE3P,cGLa,SAAuBkP,GAAe,EAAMpvG,GACzD,MAAM0jG,EAASx1G,MACT,OACJ8E,GACE0wG,EACJA,EAAO6L,WAAY,EACfv8G,EAAO81G,UACXpF,EAAOgI,cAAc,GACrBkE,EAAe,CACblM,SACA0L,eACApvG,YACA6vG,KAAM,QAEV,GJaEvG,MAAK,EACL14F,KAAI,EACJ2lG,WK5BF,CACEC,cCHa,SAAuBkF,GACpC,MAAMhY,EAASx1G,KACf,GAAIw1G,EAAOW,QAAQK,QAAUhB,EAAO1wG,OAAO8nH,eAAiBpX,EAAO1wG,OAAO+3G,eAAiBrH,EAAOiY,UAAYjY,EAAO1wG,OAAO81G,QAAS,OACrI,MAAM76G,EAAyC,cAApCy1G,EAAO1wG,OAAOggH,kBAAoCtP,EAAOz1G,GAAKy1G,EAAOI,UAChF71G,EAAGiR,MAAM08G,OAAS,OAClB3tH,EAAGiR,MAAM08G,OAASF,EAAS,WAAa,MAC1C,EDFEG,gBEJa,WACb,MAAMnY,EAASx1G,KAEXw1G,EAAOW,QAAQK,OAAShB,EAAO1wG,OAAO+3G,eAAiBrH,EAAOiY,UAAYjY,EAAO1wG,OAAO81G,UAI5FpF,EAA2C,cAApCA,EAAO1wG,OAAOggH,kBAAoC,KAAO,aAAa9zG,MAAM08G,OAAS,GAC9F,GPuBEhhB,OAAM,GACNxQ,YAAW,GACX4gB,cHEF,CACEA,cApCF,WACE,MAAMtH,EAASx1G,MAEbytH,SAAUG,EAAS,OACnB9oH,GACE0wG,GACE,mBACJ0E,GACEp1G,EAEJ,GAAIo1G,EAAoB,CACtB,MAAM2T,EAAiBrY,EAAOmE,OAAOz2G,OAAS,EACxC4qH,EAAqBtY,EAAOuE,WAAW8T,GAAkBrY,EAAOwE,gBAAgB6T,GAAuC,EAArB3T,EACxG1E,EAAOiY,SAAWjY,EAAOnwG,KAAOyoH,CAClC,MACEtY,EAAOiY,SAAsC,IAA3BjY,EAAOsE,SAAS52G,QAGN,IAA1B4B,EAAOq9G,iBACT3M,EAAO2M,gBAAkB3M,EAAOiY,WAGJ,IAA1B3oH,EAAOs9G,iBACT5M,EAAO4M,gBAAkB5M,EAAOiY,UAG9BG,GAAaA,IAAcpY,EAAOiY,WACpCjY,EAAOsJ,OAAQ,GAGb8O,IAAcpY,EAAOiY,UACvBjY,EAAOkD,KAAKlD,EAAOiY,SAAW,OAAS,SAE3C,GGCE/1B,QAAO,GACPr5E,OQjCF,CACE0vG,UCDa,SAAmBC,EAASlnH,EAAKmnH,EAAQC,EAAOC,EAAkBzzG,GAC/E,MAAM9X,EAAS,IACf,IAAIwrH,EAEJ,SAASC,IACH3zG,GAAUA,GAChB,CAEkB,EAAEszG,GAASn2E,OAAO,WAAW,IAE3Bm2E,EAAQM,UAAaH,EAsBvCE,IArBIvnH,GACFsnH,EAAQ,IAAIxrH,EAAO6sE,MACnB2+C,EAAMG,OAASF,EACfD,EAAMI,QAAUH,EAEZH,IACFE,EAAMF,MAAQA,GAGZD,IACFG,EAAMH,OAASA,GAGbnnH,IACFsnH,EAAMtnH,IAAMA,IAGdunH,GAMN,EDhCEvoG,cEJa,WACb,MAAM0vF,EAASx1G,KAGf,SAASquH,IACH,MAAO7Y,GAA8CA,IAAUA,EAAOl4C,iBAC9Cp5C,IAAxBsxF,EAAO5vF,eAA4B4vF,EAAO5vF,cAAgB,GAE1D4vF,EAAO5vF,eAAiB4vF,EAAOiZ,aAAavrH,SAC1CsyG,EAAO1wG,OAAOgoH,qBAAqBtX,EAAOjiD,SAC9CiiD,EAAOkD,KAAK,gBAEhB,CAVAlD,EAAOiZ,aAAejZ,EAAOoD,IAAIjF,KAAK,OAYtC,IAAK,IAAIroG,EAAI,EAAGA,EAAIkqG,EAAOiZ,aAAavrH,OAAQoI,GAAK,EAAG,CACtD,MAAM0iH,EAAUxY,EAAOiZ,aAAanjH,GACpCkqG,EAAOuY,UAAUC,EAASA,EAAQU,YAAcV,EAAQltH,aAAa,OAAQktH,EAAQC,QAAUD,EAAQltH,aAAa,UAAWktH,EAAQE,OAASF,EAAQltH,aAAa,UAAU,EAAMutH,EACvL,CACF,IVmBMM,GAAmB,CAAC,EAE1B,MAAMC,GACJ,WAAA9uH,IAAe4f,GACb,IAAI3f,EACA+E,EAYJ,GAVoB,IAAhB4a,EAAKxc,QAAgBwc,EAAK,GAAG5f,aAAwE,WAAzD6L,OAAOD,UAAUwI,SAASrI,KAAK6T,EAAK,IAAIoL,MAAM,GAAI,GAChGhmB,EAAS4a,EAAK,IAEb3f,EAAI+E,GAAU4a,EAGZ5a,IAAQA,EAAS,CAAC,GACvBA,EAAS,EAAO,CAAC,EAAGA,GAChB/E,IAAO+E,EAAO/E,KAAI+E,EAAO/E,GAAKA,GAE9B+E,EAAO/E,IAAM,EAAE+E,EAAO/E,IAAImD,OAAS,EAAG,CACxC,MAAM2rH,EAAU,GAQhB,OAPA,EAAE/pH,EAAO/E,IAAIyyG,MAAK2Z,IAChB,MAAM2C,EAAY,EAAO,CAAC,EAAGhqH,EAAQ,CACnC/E,GAAIosH,IAEN0C,EAAQjiH,KAAK,IAAIgiH,GAAOE,GAAW,IAG9BD,CACT,CAGA,MAAMrZ,EAASx1G,KACfw1G,EAAON,YAAa,EACpBM,EAAOW,QAAUE,IACjBb,EAAO2B,OAASJ,EAAU,CACxB5nG,UAAWrK,EAAOqK,YAEpBqmG,EAAOxiC,QAAU8kC,IACjBtC,EAAO0C,gBAAkB,CAAC,EAC1B1C,EAAO+C,mBAAqB,GAC5B/C,EAAOuZ,QAAU,IAAIvZ,EAAOwZ,aAExBlqH,EAAOiqH,SAAWxgH,MAAMyrF,QAAQl1F,EAAOiqH,UACzCvZ,EAAOuZ,QAAQniH,QAAQ9H,EAAOiqH,SAGhC,MAAM7B,EAAmB,CAAC,EAC1B1X,EAAOuZ,QAAQ5sH,SAAQ4yE,IACrBA,EAAI,CACFygC,SACAyZ,aAAchC,GAAmBnoH,EAAQooH,GACzC39B,GAAIimB,EAAOjmB,GAAGxxE,KAAKy3F,GACnB2C,KAAM3C,EAAO2C,KAAKp6F,KAAKy3F,GACvB9lB,IAAK8lB,EAAO9lB,IAAI3xE,KAAKy3F,GACrBkD,KAAMlD,EAAOkD,KAAK36F,KAAKy3F,IACvB,IAGJ,MAAM0Z,EAAe,EAAO,CAAC,EAAG9iC,GAAU8gC,GAkH1C,OAhHA1X,EAAO1wG,OAAS,EAAO,CAAC,EAAGoqH,EAAcP,GAAkB7pH,GAC3D0wG,EAAOgW,eAAiB,EAAO,CAAC,EAAGhW,EAAO1wG,QAC1C0wG,EAAO2Z,aAAe,EAAO,CAAC,EAAGrqH,GAE7B0wG,EAAO1wG,QAAU0wG,EAAO1wG,OAAOyqF,IACjC5jF,OAAOwU,KAAKq1F,EAAO1wG,OAAOyqF,IAAIptF,SAAQsd,IACpC+1F,EAAOjmB,GAAG9vE,EAAW+1F,EAAO1wG,OAAOyqF,GAAG9vE,GAAW,IAIjD+1F,EAAO1wG,QAAU0wG,EAAO1wG,OAAOwzG,OACjC9C,EAAO8C,MAAM9C,EAAO1wG,OAAOwzG,OAI7B9C,EAAOtF,EAAI,EAEXvkG,OAAOswC,OAAOu5D,EAAQ,CACpBj2B,QAASi2B,EAAO1wG,OAAOy6E,QACvBx/E,KAEA4wG,WAAY,GAEZgJ,OAAQ,IACRI,WAAY,GACZD,SAAU,GACVE,gBAAiB,GAGjBlB,aAAY,IACyB,eAA5BtD,EAAO1wG,OAAOgN,UAGvBinG,WAAU,IAC2B,aAA5BvD,EAAO1wG,OAAOgN,UAIvB6rG,YAAa,EACbwB,UAAW,EAEXN,aAAa,EACbC,OAAO,EAEPn9E,UAAW,EACXq/E,kBAAmB,EACnBjuB,SAAU,EACVrZ,SAAU,EACV2nC,WAAW,EAEXc,eAAgB3M,EAAO1wG,OAAOq9G,eAC9BC,eAAgB5M,EAAO1wG,OAAOs9G,eAE9BqI,YAAa,WACX,MAAMjU,EAAQ,CAAC,aAAc,YAAa,WAAY,eAChD4Y,EAAU,CAAC,cAAe,cAAe,aAY/C,OAXA5Z,EAAO6Z,iBAAmB,CACxB9qH,MAAOiyG,EAAM,GACbqU,KAAMrU,EAAM,GACZluF,IAAKkuF,EAAM,GACXsU,OAAQtU,EAAM,IAEhBhB,EAAO8Z,mBAAqB,CAC1B/qH,MAAO6qH,EAAQ,GACfvE,KAAMuE,EAAQ,GACd9mG,IAAK8mG,EAAQ,IAER5Z,EAAOW,QAAQK,QAAUhB,EAAO1wG,OAAO8nH,cAAgBpX,EAAO6Z,iBAAmB7Z,EAAO8Z,kBACjG,CAfa,GAgBb5K,gBAAiB,CACfO,eAAW/gG,EACXghG,aAAShhG,EACT0iG,yBAAqB1iG,EACrB6iG,oBAAgB7iG,EAChB2iG,iBAAa3iG,EACb28F,sBAAkB38F,EAClBikG,oBAAgBjkG,EAChB+iG,wBAAoB/iG,EAEpBgjG,kBAAmB1R,EAAO1wG,OAAOoiH,kBAEjC8B,cAAe7vE,IACfo2E,kBAAcrrG,EAEdsrG,WAAY,GACZpH,yBAAqBlkG,EACrB6gG,kBAAc7gG,EACd4iG,iBAAa5iG,GAGf8hG,YAAY,EAEZoB,eAAgB5R,EAAO1wG,OAAOsiH,eAC9BzC,QAAS,CACP2B,OAAQ,EACRC,OAAQ,EACRv4F,SAAU,EACVo4F,SAAU,EACV7B,KAAM,GAGRkK,aAAc,GACd7oG,aAAc,IAEhB4vF,EAAOkD,KAAK,WAERlD,EAAO1wG,OAAOujB,MAChBmtF,EAAOntF,OAKFmtF,CACT,CAEA,MAAAnS,GACE,MAAMmS,EAASx1G,KACXw1G,EAAOj2B,UACXi2B,EAAOj2B,SAAU,EAEbi2B,EAAO1wG,OAAOujH,YAChB7S,EAAO8S,gBAGT9S,EAAOkD,KAAK,UACd,CAEA,OAAAnV,GACE,MAAMiS,EAASx1G,KACVw1G,EAAOj2B,UACZi2B,EAAOj2B,SAAU,EAEbi2B,EAAO1wG,OAAOujH,YAChB7S,EAAOmY,kBAGTnY,EAAOkD,KAAK,WACd,CAEA,WAAA+W,CAAY18B,EAAUrQ,GACpB,MAAM8yB,EAASx1G,KACf+yF,EAAWzjF,KAAKS,IAAIT,KAAKO,IAAIkjF,EAAU,GAAI,GAC3C,MAAMhjF,EAAMylG,EAAO4I,eAEb/6B,GADMmyB,EAAOoJ,eACI7uG,GAAOgjF,EAAWhjF,EACzCylG,EAAOyL,YAAY59B,OAA0B,IAAVX,EAAwB,EAAIA,GAC/D8yB,EAAOuK,oBACPvK,EAAO0J,qBACT,CAEA,oBAAA0M,GACE,MAAMpW,EAASx1G,KACf,IAAKw1G,EAAO1wG,OAAOkoH,eAAiBxX,EAAOz1G,GAAI,OAC/C,MAAM2vH,EAAMla,EAAOz1G,GAAGm9D,UAAUjlD,MAAM,KAAK/O,QAAOg0D,GACT,IAAhCA,EAAU5iD,QAAQ,WAA+E,IAA5D4iD,EAAU5iD,QAAQk7F,EAAO1wG,OAAOo4G,0BAE9E1H,EAAOkD,KAAK,oBAAqBgX,EAAIz0G,KAAK,KAC5C,CAEA,eAAA00G,CAAgBC,GACd,MAAMpa,EAASx1G,KACf,OAAIw1G,EAAOl4C,UAAkB,GACtBsyD,EAAQ1yD,UAAUjlD,MAAM,KAAK/O,QAAOg0D,GACI,IAAtCA,EAAU5iD,QAAQ,iBAAyE,IAAhD4iD,EAAU5iD,QAAQk7F,EAAO1wG,OAAO80G,cACjF3+F,KAAK,IACV,CAEA,iBAAA6kG,GACE,MAAMtK,EAASx1G,KACf,IAAKw1G,EAAO1wG,OAAOkoH,eAAiBxX,EAAOz1G,GAAI,OAC/C,MAAM8vH,EAAU,GAChBra,EAAOmE,OAAOnH,MAAKod,IACjB,MAAMjf,EAAa6E,EAAOma,gBAAgBC,GAC1CC,EAAQjjH,KAAK,CACXgjH,UACAjf,eAEF6E,EAAOkD,KAAK,cAAekX,EAASjf,EAAW,IAEjD6E,EAAOkD,KAAK,gBAAiBmX,EAC/B,CAEA,oBAAA9M,CAAqBljC,EAAO,UAAWiwC,GAAQ,GAC7C,MACM,OACJhrH,EAAM,OACN60G,EAAM,WACNI,EAAU,gBACVC,EACA30G,KAAM+zG,EAAU,YAChBuE,GAPa39G,KASf,IAAI+vH,EAAM,EAEV,GAAIjrH,EAAO61G,eAAgB,CACzB,IACIqV,EADAhV,EAAYrB,EAAOgE,GAAahC,gBAGpC,IAAK,IAAIrwG,EAAIqyG,EAAc,EAAGryG,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAChDquG,EAAOruG,KAAO0kH,IAChBhV,GAAarB,EAAOruG,GAAGqwG,gBACvBoU,GAAO,EACH/U,EAAY5B,IAAY4W,GAAY,IAI5C,IAAK,IAAI1kH,EAAIqyG,EAAc,EAAGryG,GAAK,EAAGA,GAAK,EACrCquG,EAAOruG,KAAO0kH,IAChBhV,GAAarB,EAAOruG,GAAGqwG,gBACvBoU,GAAO,EACH/U,EAAY5B,IAAY4W,GAAY,GAG9C,MAEE,GAAa,YAATnwC,EACF,IAAK,IAAIv0E,EAAIqyG,EAAc,EAAGryG,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAAG,EACnCwkH,EAAQ/V,EAAWzuG,GAAK0uG,EAAgB1uG,GAAKyuG,EAAW4D,GAAevE,EAAaW,EAAWzuG,GAAKyuG,EAAW4D,GAAevE,KAGhJ2W,GAAO,EAEX,MAGA,IAAK,IAAIzkH,EAAIqyG,EAAc,EAAGryG,GAAK,EAAGA,GAAK,EAAG,CACxByuG,EAAW4D,GAAe5D,EAAWzuG,GAAK8tG,IAG5D2W,GAAO,EAEX,CAIJ,OAAOA,CACT,CAEA,MAAAx8D,GACE,MAAMiiD,EAASx1G,KACf,IAAKw1G,GAAUA,EAAOl4C,UAAW,OACjC,MAAM,SACJw8C,EAAQ,OACRh1G,GACE0wG,EAWJ,SAASsL,IACP,MAAMmP,EAAiBza,EAAO6D,cAAmC,EAApB7D,EAAO7zE,UAAiB6zE,EAAO7zE,UACtE4/E,EAAejyG,KAAKS,IAAIT,KAAKO,IAAIogH,EAAgBza,EAAOoJ,gBAAiBpJ,EAAO4I,gBACtF5I,EAAOsL,aAAaS,GACpB/L,EAAOuK,oBACPvK,EAAO0J,qBACT,CAEA,IAAIgR,EAjBAprH,EAAOo3F,aACTsZ,EAAOsU,gBAGTtU,EAAOmD,aACPnD,EAAOwD,eACPxD,EAAOiJ,iBACPjJ,EAAO0J,sBAYH1J,EAAO1wG,OAAO0iH,UAAYhS,EAAO1wG,OAAO0iH,SAASjoC,SACnDuhC,IAEItL,EAAO1wG,OAAOm6G,YAChBzJ,EAAO6H,qBAIP6S,GADmC,SAAhC1a,EAAO1wG,OAAOq2G,eAA4B3F,EAAO1wG,OAAOq2G,cAAgB,IAAM3F,EAAOsJ,QAAUtJ,EAAO1wG,OAAO61G,eACnGnF,EAAOoM,QAAQpM,EAAOmE,OAAOz2G,OAAS,EAAG,GAAG,GAAO,GAEnDsyG,EAAOoM,QAAQpM,EAAOmI,YAAa,GAAG,GAAO,GAGvDuS,GACHpP,KAIAh8G,EAAO+3G,eAAiB/C,IAAatE,EAAOsE,UAC9CtE,EAAOsH,gBAGTtH,EAAOkD,KAAK,SACd,CAEA,eAAAuT,CAAgBkE,EAAcC,GAAa,GACzC,MAAM5a,EAASx1G,KACTqwH,EAAmB7a,EAAO1wG,OAAOgN,UAOvC,OALKq+G,IAEHA,EAAoC,eAArBE,EAAoC,WAAa,cAG9DF,IAAiBE,GAAqC,eAAjBF,GAAkD,aAAjBA,IAI1E3a,EAAOoD,IAAIhhB,YAAY,GAAG4d,EAAO1wG,OAAOo4G,yBAAyBmT,KAAoBn5B,SAAS,GAAGse,EAAO1wG,OAAOo4G,yBAAyBiT,KACxI3a,EAAOoW,uBACPpW,EAAO1wG,OAAOgN,UAAYq+G,EAC1B3a,EAAOmE,OAAOnH,MAAKod,IACI,aAAjBO,EACFP,EAAQ5+G,MAAMqL,MAAQ,GAEtBuzG,EAAQ5+G,MAAMsL,OAAS,EACzB,IAEFk5F,EAAOkD,KAAK,mBACR0X,GAAY5a,EAAOjiD,UAddiiD,CAgBX,CAEA,uBAAA8a,CAAwBx+G,GACtB,MAAM0jG,EAASx1G,KACXw1G,EAAO8D,KAAqB,QAAdxnG,IAAwB0jG,EAAO8D,KAAqB,QAAdxnG,IACxD0jG,EAAO8D,IAAoB,QAAdxnG,EACb0jG,EAAO6D,aAA2C,eAA5B7D,EAAO1wG,OAAOgN,WAA8B0jG,EAAO8D,IAErE9D,EAAO8D,KACT9D,EAAOoD,IAAI1hB,SAAS,GAAGse,EAAO1wG,OAAOo4G,6BACrC1H,EAAOz1G,GAAGuxB,IAAM,QAEhBkkF,EAAOoD,IAAIhhB,YAAY,GAAG4d,EAAO1wG,OAAOo4G,6BACxC1H,EAAOz1G,GAAGuxB,IAAM,OAGlBkkF,EAAOjiD,SACT,CAEA,KAAAg9D,CAAMxwH,GACJ,MAAMy1G,EAASx1G,KACf,GAAIw1G,EAAOgb,QAAS,OAAO,EAE3B,MAAM5X,EAAM,EAAE74G,GAAMy1G,EAAO1wG,OAAO/E,IAGlC,KAFAA,EAAK64G,EAAI,IAGP,OAAO,EAGT74G,EAAGy1G,OAASA,EAEZ,MAAMib,EAAqB,IAClB,KAAKjb,EAAO1wG,OAAOioH,cAAgB,IAAI1sG,OAAOpI,MAAM,KAAKgD,KAAK,OAoBvE,IAAIk+F,EAjBe,MACjB,GAAIp5G,GAAMA,EAAGwlH,YAAcxlH,EAAGwlH,WAAWplH,cAAe,CACtD,MAAM6vG,EAAM,EAAEjwG,EAAGwlH,WAAWplH,cAAcswH,MAI1C,OAFAzgB,EAAI/hC,SAAWuE,GAAWomC,EAAI3qC,SAASuE,GAEhCw9B,CACT,CAEA,OAAK4I,EAAI3qC,SAIF2qC,EAAI3qC,SAASwiD,KAHX,EAAE7X,GAAK3qC,SAASwiD,IAGgB,EAI1BC,GAEjB,GAA0B,IAAtBvX,EAAWj2G,QAAgBsyG,EAAO1wG,OAAOohE,eAAgB,CAC3D,MACMviD,EADWkrF,IACQ3jG,cAAc,OACvCiuG,EAAa,EAAEx1F,GACfA,EAAQu5C,UAAYs4C,EAAO1wG,OAAOioH,aAClCnU,EAAIx5F,OAAOuE,GACXi1F,EAAI3qC,SAAS,IAAIunC,EAAO1wG,OAAO80G,cAAcpH,MAAKod,IAChDzW,EAAW/5F,OAAOwwG,EAAQ,GAE9B,CAaA,OAXAjkH,OAAOswC,OAAOu5D,EAAQ,CACpBoD,MACA74G,KACAo5G,aACAvD,UAAWuD,EAAW,GACtBqX,SAAS,EAETlX,IAA8B,QAAzBv5G,EAAGuxB,IAAI0gB,eAAoD,QAAzB4mE,EAAIrjB,IAAI,aAC/C8jB,aAA0C,eAA5B7D,EAAO1wG,OAAOgN,YAAwD,QAAzB/R,EAAGuxB,IAAI0gB,eAAoD,QAAzB4mE,EAAIrjB,IAAI,cACrGgkB,SAAwC,gBAA9BJ,EAAW5jB,IAAI,cAEpB,CACT,CAEA,IAAAltE,CAAKtoB,GACH,MAAMy1G,EAASx1G,KACf,GAAIw1G,EAAOtuB,YAAa,OAAOsuB,EAE/B,OAAgB,IADAA,EAAO+a,MAAMxwH,KAE7By1G,EAAOkD,KAAK,cAERlD,EAAO1wG,OAAOo3F,aAChBsZ,EAAOsU,gBAITtU,EAAO6W,aAEH7W,EAAO1wG,OAAO4d,MAChB8yF,EAAOqO,aAITrO,EAAOmD,aAEPnD,EAAOwD,eAEHxD,EAAO1wG,OAAO+3G,eAChBrH,EAAOsH,gBAILtH,EAAO1wG,OAAOujH,YAAc7S,EAAOj2B,SACrCi2B,EAAO8S,gBAGL9S,EAAO1wG,OAAOghB,eAChB0vF,EAAO1vF,gBAIL0vF,EAAO1wG,OAAO4d,KAChB8yF,EAAOoM,QAAQpM,EAAO1wG,OAAO4nH,aAAelX,EAAOmN,aAAc,EAAGnN,EAAO1wG,OAAOw7G,oBAAoB,GAAO,GAE7G9K,EAAOoM,QAAQpM,EAAO1wG,OAAO4nH,aAAc,EAAGlX,EAAO1wG,OAAOw7G,oBAAoB,GAAO,GAIzF9K,EAAOwV,eAEPxV,EAAOtuB,aAAc,EAErBsuB,EAAOkD,KAAK,QACZlD,EAAOkD,KAAK,cA7CkBlD,CA+ChC,CAEA,OAAA32F,CAAQ8xG,GAAiB,EAAMC,GAAc,GAC3C,MAAMpb,EAASx1G,MACT,OACJ8E,EAAM,IACN8zG,EAAG,WACHO,EAAU,OACVQ,GACEnE,EAEJ,YAA6B,IAAlBA,EAAO1wG,QAA0B0wG,EAAOl4C,YAInDk4C,EAAOkD,KAAK,iBAEZlD,EAAOtuB,aAAc,EAErBsuB,EAAOyV,eAEHnmH,EAAO4d,MACT8yF,EAAOgP,cAILoM,IACFpb,EAAOiX,gBACP7T,EAAI7H,WAAW,SACfoI,EAAWpI,WAAW,SAElB4I,GAAUA,EAAOz2G,QACnBy2G,EAAO/hB,YAAY,CAAC9yF,EAAOk5G,kBAAmBl5G,EAAOu6G,iBAAkBv6G,EAAOw6G,eAAgBx6G,EAAOy6G,gBAAgBtkG,KAAK,MAAM81F,WAAW,SAASA,WAAW,4BAInKyE,EAAOkD,KAAK,WAEZ/sG,OAAOwU,KAAKq1F,EAAO0C,iBAAiB/1G,SAAQsd,IAC1C+1F,EAAO9lB,IAAIjwE,EAAU,KAGA,IAAnBkxG,IACFnb,EAAOoD,IAAI,GAAGpD,OAAS,KlDxkB7B,SAAqB9mG,GACnB,MAAM3C,EAAS2C,EACf/C,OAAOwU,KAAKpU,GAAQ5J,SAAQ8E,IAC1B,IACE8E,EAAO9E,GAAO,IAChB,CAAE,MAAO1G,GACT,CAEA,WACSwL,EAAO9E,EAChB,CAAE,MAAO1G,GACT,IAEJ,CkD4jBMswH,CAAYrb,IAGdA,EAAOl4C,WAAY,GAnCV,IAqCX,CAEA,qBAAOwzD,CAAeC,GACpB,EAAOpC,GAAkBoC,EAC3B,CAEA,2BAAWpC,GACT,OAAOA,EACT,CAEA,mBAAWviC,GACT,OAAOA,EACT,CAEA,oBAAO4kC,CAAcj8C,GACd65C,GAAOljH,UAAUsjH,cAAaJ,GAAOljH,UAAUsjH,YAAc,IAClE,MAAMD,EAAUH,GAAOljH,UAAUsjH,YAEd,mBAARj6C,GAAsBg6C,EAAQz0G,QAAQy6D,GAAO,GACtDg6C,EAAQniH,KAAKmoE,EAEjB,CAEA,UAAOk8C,CAAI1lC,GACT,OAAIh9E,MAAMyrF,QAAQzO,IAChBA,EAAOppF,SAAQu/B,GAAKktF,GAAOoC,cAActvF,KAClCktF,KAGTA,GAAOoC,cAAczlC,GACdqjC,GACT,EAIFjjH,OAAOwU,KAAKmtG,IAAYnrH,SAAQ+uH,IAC9BvlH,OAAOwU,KAAKmtG,GAAW4D,IAAiB/uH,SAAQgvH,IAC9CvC,GAAOljH,UAAUylH,GAAe7D,GAAW4D,GAAgBC,EAAY,GACvE,IAEJvC,GAAOqC,IAAI,CWvnBI,UAAgB,OAC7Bzb,EAAM,GACNjmB,EAAE,KACFmpB,IAEA,MAAM91G,EAAS,IACf,IAAIsF,EAAW,KACXkpH,EAAiB,KAErB,MAAMC,EAAgB,KACf7b,IAAUA,EAAOl4C,WAAck4C,EAAOtuB,cAC3CwxB,EAAK,gBACLA,EAAK,UAAS,EA0CV4Y,EAA2B,KAC1B9b,IAAUA,EAAOl4C,WAAck4C,EAAOtuB,aAC3CwxB,EAAK,oBAAoB,EAG3BnpB,EAAG,QAAQ,KACLimB,EAAO1wG,OAAO6nH,qBAAmD,IAA1B/pH,EAAO2uH,eA5C7C/b,IAAUA,EAAOl4C,WAAck4C,EAAOtuB,cAC3Ch/E,EAAW,IAAIqpH,gBAAenpH,IAC5BgpH,EAAiBxuH,EAAO4nB,uBAAsB,KAC5C,MAAM,MACJnO,EAAK,OACLC,GACEk5F,EACJ,IAAIgc,EAAWn1G,EACXkhG,EAAYjhG,EAChBlU,EAAQjG,SAAQ,EACdsvH,iBACAC,cACAjpH,aAEIA,GAAUA,IAAW+sG,EAAOz1G,KAChCyxH,EAAWE,EAAcA,EAAYr1G,OAASo1G,EAAe,IAAMA,GAAgBE,WACnFpU,EAAYmU,EAAcA,EAAYp1G,QAAUm1G,EAAe,IAAMA,GAAgBG,UAAS,IAG5FJ,IAAan1G,GAASkhG,IAAcjhG,GACtC+0G,GACF,GACA,IAEJnpH,EAASW,QAAQ2sG,EAAOz1G,MAyBxB6C,EAAOtC,iBAAiB,SAAU+wH,GAClCzuH,EAAOtC,iBAAiB,oBAAqBgxH,GAAyB,IAExE/hC,EAAG,WAAW,KAxBR6hC,GACFxuH,EAAO02F,qBAAqB83B,GAG1BlpH,GAAYA,EAAS2pH,WAAarc,EAAOz1G,KAC3CmI,EAAS2pH,UAAUrc,EAAOz1G,IAC1BmI,EAAW,MAoBbtF,EAAOid,oBAAoB,SAAUwxG,GACrCzuH,EAAOid,oBAAoB,oBAAqByxG,EAAyB,GAE7E,ECzEe,UAAkB,OAC/B9b,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAEA,MAAMoZ,EAAY,GACZlvH,EAAS,IAETmvH,EAAS,CAACtpH,EAAQ+pE,EAAU,CAAC,KACjC,MACMtqE,EAAW,IADItF,EAAOgoG,kBAAoBhoG,EAAOovH,yBACrB1mB,IAIhC,GAAyB,IAArBA,EAAUpoG,OAEZ,YADAw1G,EAAK,iBAAkBpN,EAAU,IAInC,MAAM2mB,EAAiB,WACrBvZ,EAAK,iBAAkBpN,EAAU,GACnC,EAEI1oG,EAAO4nB,sBACT5nB,EAAO4nB,sBAAsBynG,GAE7BrvH,EAAOc,WAAWuuH,EAAgB,EACpC,IAEF/pH,EAASW,QAAQJ,EAAQ,CACvBoc,gBAA0C,IAAvB2tD,EAAQ3tD,YAAoC2tD,EAAQ3tD,WACvEqmF,eAAwC,IAAtB14B,EAAQ04B,WAAmC14B,EAAQ04B,UACrEgnB,mBAAgD,IAA1B1/C,EAAQ0/C,eAAuC1/C,EAAQ0/C,gBAE/EJ,EAAUllH,KAAK1E,EAAS,EA+B1B+mH,EAAa,CACX/mH,UAAU,EACViqH,gBAAgB,EAChBC,sBAAsB,IAExB7iC,EAAG,QAjCU,KACX,GAAKimB,EAAO1wG,OAAOoD,SAAnB,CAEA,GAAIstG,EAAO1wG,OAAOqtH,eAAgB,CAChC,MAAME,EAAmB7c,EAAOoD,IAAItH,UAEpC,IAAK,IAAIhmG,EAAI,EAAGA,EAAI+mH,EAAiBnvH,OAAQoI,GAAK,EAChDymH,EAAOM,EAAiB/mH,GAE5B,CAGAymH,EAAOvc,EAAOoD,IAAI,GAAI,CACpB1N,UAAWsK,EAAO1wG,OAAOstH,uBAG3BL,EAAOvc,EAAO2D,WAAW,GAAI,CAC3Bt0F,YAAY,GAhBqB,CAiBjC,IAgBJ0qE,EAAG,WAba,KACduiC,EAAU3vH,SAAQ+F,IAChBA,EAASijG,YAAY,IAEvB2mB,EAAUhyG,OAAO,EAAGgyG,EAAU5uH,OAAO,GAUzC,IZ+iBA,YaxnBe,SAASovH,GAA0B9c,EAAQgW,EAAgB1mH,EAAQytH,GAChF,MAAMtxH,EAAW4tG,IAmBjB,OAjBI2G,EAAO1wG,OAAOohE,gBAChBv6D,OAAOwU,KAAKoyG,GAAYpwH,SAAQ8E,IAC9B,IAAKnC,EAAOmC,KAAwB,IAAhBnC,EAAOuoH,KAAe,CACxC,IAAIt8G,EAAUykG,EAAOoD,IAAI3qC,SAAS,IAAIskD,EAAWtrH,MAAQ,GAEpD8J,IACHA,EAAU9P,EAASiK,cAAc,OACjC6F,EAAQmsD,UAAYq1D,EAAWtrH,GAC/BuuG,EAAOoD,IAAIx5F,OAAOrO,IAGpBjM,EAAOmC,GAAO8J,EACdy6G,EAAevkH,GAAO8J,CACxB,KAIGjM,CACT,CCtBe,SAAS0tH,GAAkB96B,EAAU,IAClD,MAAO,IAAIA,EAAQr3E,OAAO7X,QAAQ,cAAe,QAChDA,QAAQ,KAAM,MACjB,CCHe,SAASiqH,GAAY9Y,GAClC,MAAMnE,EAASx1G,MACT,WACJm5G,EAAU,OACVr0G,GACE0wG,EAMJ,GAJI1wG,EAAO4d,MACT8yF,EAAOgP,cAGa,iBAAX7K,GAAuB,WAAYA,EAC5C,IAAK,IAAIruG,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAClCquG,EAAOruG,IAAI6tG,EAAW/5F,OAAOu6F,EAAOruG,SAG1C6tG,EAAW/5F,OAAOu6F,GAGhB70G,EAAO4d,MACT8yF,EAAOqO,aAGJ/+G,EAAOoD,UACVstG,EAAOjiD,QAEX,CC1Be,SAASm/D,GAAa/Y,GACnC,MAAMnE,EAASx1G,MACT,OACJ8E,EAAM,WACNq0G,EAAU,YACVwE,GACEnI,EAEA1wG,EAAO4d,MACT8yF,EAAOgP,cAGT,IAAIxE,EAAiBrC,EAAc,EAEnC,GAAsB,iBAAXhE,GAAuB,WAAYA,EAAQ,CACpD,IAAK,IAAIruG,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAClCquG,EAAOruG,IAAI6tG,EAAW/F,QAAQuG,EAAOruG,IAG3C00G,EAAiBrC,EAAchE,EAAOz2G,MACxC,MACEi2G,EAAW/F,QAAQuG,GAGjB70G,EAAO4d,MACT8yF,EAAOqO,aAGJ/+G,EAAOoD,UACVstG,EAAOjiD,SAGTiiD,EAAOoM,QAAQ5B,EAAgB,GAAG,EACpC,CCjCe,SAAS2S,GAASrpG,EAAOqwF,GACtC,MAAMnE,EAASx1G,MACT,WACJm5G,EAAU,OACVr0G,EAAM,YACN64G,GACEnI,EACJ,IAAIod,EAAoBjV,EAEpB74G,EAAO4d,OACTkwG,GAAqBpd,EAAOmN,aAC5BnN,EAAOgP,cACPhP,EAAOmE,OAASR,EAAWlrC,SAAS,IAAInpE,EAAO80G,eAGjD,MAAMiZ,EAAard,EAAOmE,OAAOz2G,OAEjC,GAAIomB,GAAS,EAEX,YADAksF,EAAOkd,aAAa/Y,GAItB,GAAIrwF,GAASupG,EAEX,YADArd,EAAOid,YAAY9Y,GAIrB,IAAIqG,EAAiB4S,EAAoBtpG,EAAQspG,EAAoB,EAAIA,EACzE,MAAME,EAAe,GAErB,IAAK,IAAIxnH,EAAIunH,EAAa,EAAGvnH,GAAKge,EAAOhe,GAAK,EAAG,CAC/C,MAAMynH,EAAevd,EAAOmE,OAAO5G,GAAGznG,GACtCynH,EAAa9wH,SACb6wH,EAAa7/E,QAAQ8/E,EACvB,CAEA,GAAsB,iBAAXpZ,GAAuB,WAAYA,EAAQ,CACpD,IAAK,IAAIruG,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAClCquG,EAAOruG,IAAI6tG,EAAW/5F,OAAOu6F,EAAOruG,IAG1C00G,EAAiB4S,EAAoBtpG,EAAQspG,EAAoBjZ,EAAOz2G,OAAS0vH,CACnF,MACEzZ,EAAW/5F,OAAOu6F,GAGpB,IAAK,IAAIruG,EAAI,EAAGA,EAAIwnH,EAAa5vH,OAAQoI,GAAK,EAC5C6tG,EAAW/5F,OAAO0zG,EAAaxnH,IAG7BxG,EAAO4d,MACT8yF,EAAOqO,aAGJ/+G,EAAOoD,UACVstG,EAAOjiD,SAGLzuD,EAAO4d,KACT8yF,EAAOoM,QAAQ5B,EAAiBxK,EAAOmN,aAAc,GAAG,GAExDnN,EAAOoM,QAAQ5B,EAAgB,GAAG,EAEtC,CC/De,SAASgT,GAAYC,GAClC,MAAMzd,EAASx1G,MACT,OACJ8E,EAAM,WACNq0G,EAAU,YACVwE,GACEnI,EACJ,IAAIod,EAAoBjV,EAEpB74G,EAAO4d,OACTkwG,GAAqBpd,EAAOmN,aAC5BnN,EAAOgP,cACPhP,EAAOmE,OAASR,EAAWlrC,SAAS,IAAInpE,EAAO80G,eAGjD,IACIsZ,EADAlT,EAAiB4S,EAGrB,GAA6B,iBAAlBK,GAA8B,WAAYA,EAAe,CAClE,IAAK,IAAI3nH,EAAI,EAAGA,EAAI2nH,EAAc/vH,OAAQoI,GAAK,EAC7C4nH,EAAgBD,EAAc3nH,GAC1BkqG,EAAOmE,OAAOuZ,IAAgB1d,EAAOmE,OAAO5G,GAAGmgB,GAAejxH,SAC9DixH,EAAgBlT,IAAgBA,GAAkB,GAGxDA,EAAiB1wG,KAAKO,IAAImwG,EAAgB,EAC5C,MACEkT,EAAgBD,EACZzd,EAAOmE,OAAOuZ,IAAgB1d,EAAOmE,OAAO5G,GAAGmgB,GAAejxH,SAC9DixH,EAAgBlT,IAAgBA,GAAkB,GACtDA,EAAiB1wG,KAAKO,IAAImwG,EAAgB,GAGxCl7G,EAAO4d,MACT8yF,EAAOqO,aAGJ/+G,EAAOoD,UACVstG,EAAOjiD,SAGLzuD,EAAO4d,KACT8yF,EAAOoM,QAAQ5B,EAAiBxK,EAAOmN,aAAc,GAAG,GAExDnN,EAAOoM,QAAQ5B,EAAgB,GAAG,EAEtC,CC9Ce,SAASmT,KACtB,MAAM3d,EAASx1G,KACTizH,EAAgB,GAEtB,IAAK,IAAI3nH,EAAI,EAAGA,EAAIkqG,EAAOmE,OAAOz2G,OAAQoI,GAAK,EAC7C2nH,EAAcrmH,KAAKtB,GAGrBkqG,EAAOwd,YAAYC,EACrB,CCTe,SAASG,GAAWtuH,GACjC,MAAM,OACJ6iD,EAAM,OACN6tD,EAAM,GACNjmB,EAAE,aACFuxB,EAAY,cACZtD,EAAa,gBACb6V,EAAe,YACfvkD,EAAW,gBACXwkD,EAAe,gBACfC,GACEzuH,EAmCJ,IAAI0uH,EAlCJjkC,EAAG,cAAc,KACf,GAAIimB,EAAO1wG,OAAO6iD,SAAWA,EAAQ,OACrC6tD,EAAO7E,WAAW/jG,KAAK,GAAG4oG,EAAO1wG,OAAOo4G,yBAAyBv1D,KAE7DmnB,GAAeA,KACjB0mC,EAAO7E,WAAW/jG,KAAK,GAAG4oG,EAAO1wG,OAAOo4G,4BAG1C,MAAMuW,EAAwBJ,EAAkBA,IAAoB,CAAC,EACrE1nH,OAAOswC,OAAOu5D,EAAO1wG,OAAQ2uH,GAC7B9nH,OAAOswC,OAAOu5D,EAAOgW,eAAgBiI,EAAsB,IAE7DlkC,EAAG,gBAAgB,KACbimB,EAAO1wG,OAAO6iD,SAAWA,GAC7Bm5D,GAAc,IAEhBvxB,EAAG,iBAAiB,CAACxmD,EAAIloB,KACnB20F,EAAO1wG,OAAO6iD,SAAWA,GAC7B61D,EAAc38F,EAAS,IAEzB0uE,EAAG,iBAAiB,KAClB,GAAIimB,EAAO1wG,OAAO6iD,SAAWA,GAEzB2rE,EAAiB,CACnB,IAAKC,IAAoBA,IAAkBG,aAAc,OAEzDle,EAAOmE,OAAOnH,MAAKod,IACApa,EAAOtF,EAAE0f,GACjBjc,KAAK,gHAAgH1xG,QAAQ,IAGxIqxH,GACF,KAGF/jC,EAAG,iBAAiB,KACdimB,EAAO1wG,OAAO6iD,SAAWA,IAExB6tD,EAAOmE,OAAOz2G,SACjBswH,GAAyB,GAG3BhpG,uBAAsB,KAChBgpG,GAA0Bhe,EAAOmE,QAAUnE,EAAOmE,OAAOz2G,SAC3D49G,IACA0S,GAAyB,EAC3B,IACA,GAEN,CC7De,SAASG,GAAaC,EAAcC,GACjD,OAAID,EAAaE,YACRD,EAASlgB,KAAKigB,EAAaE,aAAav+B,IAAI,CACjD,sBAAuB,SACvB,8BAA+B,WAI5Bs+B,CACT,CCTe,SAASE,IAA2B,OACjDve,EAAM,SACN30F,EAAQ,YACRizG,EAAW,UACXE,IAEA,MAAM,OACJra,EAAM,YACNgE,EAAW,WACXxE,GACE3D,EAEJ,GAAIA,EAAO1wG,OAAO87G,kBAAiC,IAAb//F,EAAgB,CACpD,IACIozG,EADAC,GAAiB,EAInBD,EADED,EACqBF,EAAcna,EAAOhG,KAAKmgB,GAAena,EAEzCma,EAAcna,EAAO5G,GAAG4K,GAAahK,KAAKmgB,GAAena,EAAO5G,GAAG4K,GAG5FsW,EAAqBjiB,eAAc,KACjC,GAAIkiB,EAAgB,OACpB,IAAK1e,GAAUA,EAAOl4C,UAAW,OACjC42D,GAAiB,EACjB1e,EAAO6L,WAAY,EACnB,MAAM8S,EAAgB,CAAC,sBAAuB,iBAE9C,IAAK,IAAI7oH,EAAI,EAAGA,EAAI6oH,EAAcjxH,OAAQoI,GAAK,EAC7C6tG,EAAWz0F,QAAQyvG,EAAc7oH,GACnC,GAEJ,CACF,CCjCe,SAAS8oH,GAAatvH,EAAQ+uH,EAAUne,GACrD,MAAM2e,EAAc,uBAAsB3e,EAAO,IAAIA,IAAS,IACxD4e,EAAmBxvH,EAAOgvH,YAAcD,EAASlgB,KAAK7uG,EAAOgvH,aAAeD,EAClF,IAAIU,EAAYD,EAAiBrmD,SAAS,IAAIomD,KAO9C,OALKE,EAAUrxH,SACbqxH,EAAY,EAAE,kCAAkC7e,EAAO,IAAIA,IAAS,cACpE4e,EAAiBl1G,OAAOm1G,IAGnBA,CACT,CC4BA,MAAMxF,GAAU,CCtCD,UAAiB,OAC9BvZ,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAcA,IAAI8b,EAUJ,SAASC,EAAYrZ,EAAO9xF,GAC1B,MAAMxkB,EAAS0wG,EAAO1wG,OAAO20G,QAE7B,GAAI30G,EAAOw1C,OAASk7D,EAAOiE,QAAQn/D,MAAMhxB,GACvC,OAAOksF,EAAOiE,QAAQn/D,MAAMhxB,GAG9B,MAAMuqG,EAAW/uH,EAAO2vH,YAAc,EAAE3vH,EAAO2vH,YAAY5oH,KAAK2pG,EAAQ4F,EAAO9xF,IAAU,EAAE,eAAeksF,EAAO1wG,OAAO80G,wCAAwCtwF,MAAU8xF,WAG1K,OAFKyY,EAASpoH,KAAK,4BAA4BooH,EAASpoH,KAAK,0BAA2B6d,GACpFxkB,EAAOw1C,QAAOk7D,EAAOiE,QAAQn/D,MAAMhxB,GAASuqG,GACzCA,CACT,CAEA,SAAStgE,EAAOmhE,GACd,MAAM,cACJvZ,EAAa,eACbS,EAAc,eACdjB,GACEnF,EAAO1wG,QACL,gBACJ6vH,EAAe,eACfC,GACEpf,EAAO1wG,OAAO20G,SAEhBhS,KAAMotB,EACNz/F,GAAI0/F,EAAU,OACdnb,EACAI,WAAYgb,EACZxvH,OAAQyvH,GACNxf,EAAOiE,QAENjE,EAAO1wG,OAAO81G,SACjBpF,EAAOuK,oBAGT,MAAMpC,EAAcnI,EAAOmI,aAAe,EAC1C,IAAIsX,EAEAC,EACAC,EAFqBF,EAArBzf,EAAO6D,aAA2B,QAA0B7D,EAAOsD,eAAiB,OAAS,MAI7F6B,GACFua,EAAc5lH,KAAKK,MAAMwrG,EAAgB,GAAKS,EAAiBgZ,EAC/DO,EAAe7lH,KAAKK,MAAMwrG,EAAgB,GAAKS,EAAiB+Y,IAEhEO,EAAc/Z,GAAiBS,EAAiB,GAAKgZ,EACrDO,EAAevZ,EAAiB+Y,GAGlC,MAAMltB,EAAOn4F,KAAKO,KAAK8tG,GAAe,GAAKwX,EAAc,GACnD//F,EAAK9lB,KAAKS,KAAK4tG,GAAe,GAAKuX,EAAavb,EAAOz2G,OAAS,GAChEqC,GAAUiwG,EAAOuE,WAAWtS,IAAS,IAAM+N,EAAOuE,WAAW,IAAM,GAQzE,SAASqb,IACP5f,EAAOwD,eACPxD,EAAOiJ,iBACPjJ,EAAO0J,sBAEH1J,EAAO6f,MAAQ7f,EAAO1wG,OAAOuwH,KAAK91C,SACpCi2B,EAAO6f,KAAK76G,OAGdk+F,EAAK,gBACP,CAEA,GAnBA/sG,OAAOswC,OAAOu5D,EAAOiE,QAAS,CAC5BhS,OACAryE,KACA7vB,SACAw0G,WAAYvE,EAAOuE,aAejB8a,IAAiBptB,GAAQqtB,IAAe1/F,IAAOs/F,EAOjD,OANIlf,EAAOuE,aAAegb,GAAsBxvH,IAAWyvH,GACzDxf,EAAOmE,OAAOpkB,IAAI0/B,EAAY,GAAG1vH,OAGnCiwG,EAAOiJ,sBACP/F,EAAK,iBAIP,GAAIlD,EAAO1wG,OAAO20G,QAAQ6b,eAsBxB,OArBA9f,EAAO1wG,OAAO20G,QAAQ6b,eAAezpH,KAAK2pG,EAAQ,CAChDjwG,SACAkiG,OACAryE,KACAukF,OAAQ,WACN,MAAM4b,EAAiB,GAEvB,IAAK,IAAIjqH,EAAIm8F,EAAMn8F,GAAK8pB,EAAI9pB,GAAK,EAC/BiqH,EAAe3oH,KAAK+sG,EAAOruG,IAG7B,OAAOiqH,CACT,CARQ,UAWN/f,EAAO1wG,OAAO20G,QAAQ+b,qBACxBJ,IAEA1c,EAAK,kBAMT,MAAM+c,EAAiB,GACjBC,EAAgB,GAEtB,GAAIhB,EACFlf,EAAO2D,WAAWxF,KAAK,IAAI6B,EAAO1wG,OAAO80G,cAAc33G,cAEvD,IAAK,IAAIqJ,EAAIupH,EAAcvpH,GAAKwpH,EAAYxpH,GAAK,GAC3CA,EAAIm8F,GAAQn8F,EAAI8pB,IAClBogF,EAAO2D,WAAWxF,KAAK,IAAI6B,EAAO1wG,OAAO80G,uCAAuCtuG,OAAOrJ,SAK7F,IAAK,IAAIqJ,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAClCA,GAAKm8F,GAAQn8F,GAAK8pB,SACM,IAAf0/F,GAA8BJ,EACvCgB,EAAc9oH,KAAKtB,IAEfA,EAAIwpH,GAAYY,EAAc9oH,KAAKtB,GACnCA,EAAIupH,GAAcY,EAAe7oH,KAAKtB,KAKhDoqH,EAAcvzH,SAAQmnB,IACpBksF,EAAO2D,WAAW/5F,OAAOq1G,EAAY9a,EAAOrwF,GAAQA,GAAO,IAE7DmsG,EAAezmC,MAAK,CAACh2E,EAAG7F,IAAMA,EAAI6F,IAAG7W,SAAQmnB,IAC3CksF,EAAO2D,WAAW/F,QAAQqhB,EAAY9a,EAAOrwF,GAAQA,GAAO,IAE9DksF,EAAO2D,WAAWlrC,SAAS,iBAAiBsnB,IAAI0/B,EAAY,GAAG1vH,OAC/D6vH,GACF,CAhKAnG,EAAa,CACXxV,QAAS,CACPl6B,SAAS,EACTo6B,OAAQ,GACRr/D,OAAO,EACPm6E,YAAa,KACba,eAAgB,KAChBE,sBAAsB,EACtBb,gBAAiB,EACjBC,eAAgB,KAIpBpf,EAAOiE,QAAU,CACfn/D,MAAO,CAAC,EACRmtD,UAAMvjF,EACNkR,QAAIlR,EACJy1F,OAAQ,GACRp0G,OAAQ,EACRw0G,WAAY,IAwOdxqB,EAAG,cAAc,KACVimB,EAAO1wG,OAAO20G,QAAQl6B,UAC3Bi2B,EAAOiE,QAAQE,OAASnE,EAAO1wG,OAAO20G,QAAQE,OAC9CnE,EAAO7E,WAAW/jG,KAAK,GAAG4oG,EAAO1wG,OAAOo4G,iCACxC1H,EAAO1wG,OAAOi4G,qBAAsB,EACpCvH,EAAOgW,eAAezO,qBAAsB,EAEvCvH,EAAO1wG,OAAO4nH,cACjBn5D,IACF,IAEFg8B,EAAG,gBAAgB,KACZimB,EAAO1wG,OAAO20G,QAAQl6B,UAEvBi2B,EAAO1wG,OAAO81G,UAAYpF,EAAO8M,mBACnC1xB,aAAa4jC,GACbA,EAAiB9wH,YAAW,KAC1B6vD,GAAQ,GACP,MAEHA,IACF,IAEFg8B,EAAG,sBAAsB,KAClBimB,EAAO1wG,OAAO20G,QAAQl6B,SAEvBi2B,EAAO1wG,OAAO81G,SAChBzF,EAAeK,EAAOI,UAAW,wBAAyB,GAAGJ,EAAOkF,gBACtE,IAEF/uG,OAAOswC,OAAOu5D,EAAOiE,QAAS,CAC5BgZ,YAxHF,SAAqB9Y,GACnB,GAAsB,iBAAXA,GAAuB,WAAYA,EAC5C,IAAK,IAAIruG,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAClCquG,EAAOruG,IAAIkqG,EAAOiE,QAAQE,OAAO/sG,KAAK+sG,EAAOruG,SAGnDkqG,EAAOiE,QAAQE,OAAO/sG,KAAK+sG,GAG7BpmD,GAAO,EACT,EA+GEm/D,aA7GF,SAAsB/Y,GACpB,MAAMgE,EAAcnI,EAAOmI,YAC3B,IAAIqC,EAAiBrC,EAAc,EAC/BgY,EAAoB,EAExB,GAAIpnH,MAAMyrF,QAAQ2f,GAAS,CACzB,IAAK,IAAIruG,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAClCquG,EAAOruG,IAAIkqG,EAAOiE,QAAQE,OAAO1mE,QAAQ0mE,EAAOruG,IAGtD00G,EAAiBrC,EAAchE,EAAOz2G,OACtCyyH,EAAoBhc,EAAOz2G,MAC7B,MACEsyG,EAAOiE,QAAQE,OAAO1mE,QAAQ0mE,GAGhC,GAAInE,EAAO1wG,OAAO20G,QAAQn/D,MAAO,CAC/B,MAAMA,EAAQk7D,EAAOiE,QAAQn/D,MACvBs7E,EAAW,CAAC,EAClBjqH,OAAOwU,KAAKm6B,GAAOn4C,SAAQ0zH,IACzB,MAAMC,EAAYx7E,EAAMu7E,GAClBE,EAAgBD,EAAUrqH,KAAK,2BAEjCsqH,GACFD,EAAUrqH,KAAK,0BAA2B0Y,SAAS4xG,EAAe,IAAMJ,GAG1EC,EAASzxG,SAAS0xG,EAAa,IAAMF,GAAqBG,CAAS,IAErEtgB,EAAOiE,QAAQn/D,MAAQs7E,CACzB,CAEAriE,GAAO,GACPiiD,EAAOoM,QAAQ5B,EAAgB,EACjC,EA4EEgT,YA1EF,SAAqBC,GACnB,GAAI,MAAOA,EAAyD,OACpE,IAAItV,EAAcnI,EAAOmI,YAEzB,GAAIpvG,MAAMyrF,QAAQi5B,GAChB,IAAK,IAAI3nH,EAAI2nH,EAAc/vH,OAAS,EAAGoI,GAAK,EAAGA,GAAK,EAClDkqG,EAAOiE,QAAQE,OAAO75F,OAAOmzG,EAAc3nH,GAAI,GAE3CkqG,EAAO1wG,OAAO20G,QAAQn/D,cACjBk7D,EAAOiE,QAAQn/D,MAAM24E,EAAc3nH,IAGxC2nH,EAAc3nH,GAAKqyG,IAAaA,GAAe,GACnDA,EAAcruG,KAAKO,IAAI8tG,EAAa,QAGtCnI,EAAOiE,QAAQE,OAAO75F,OAAOmzG,EAAe,GAExCzd,EAAO1wG,OAAO20G,QAAQn/D,cACjBk7D,EAAOiE,QAAQn/D,MAAM24E,GAG1BA,EAAgBtV,IAAaA,GAAe,GAChDA,EAAcruG,KAAKO,IAAI8tG,EAAa,GAGtCpqD,GAAO,GACPiiD,EAAOoM,QAAQjE,EAAa,EAC9B,EA+CEwV,gBA7CF,WACE3d,EAAOiE,QAAQE,OAAS,GAEpBnE,EAAO1wG,OAAO20G,QAAQn/D,QACxBk7D,EAAOiE,QAAQn/D,MAAQ,CAAC,GAG1BiZ,GAAO,GACPiiD,EAAOoM,QAAQ,EAAG,EACpB,EAqCEruD,UAEJ,ECrSe,UAAkB,OAC/BiiD,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAEA,MAAMz3G,EAAW4tG,IACXjsG,EAAS,IAYf,SAASozH,EAAOnzH,GACd,IAAK2yG,EAAOj2B,QAAS,OACrB,MACE85B,aAAcC,GACZ9D,EACJ,IAAIj1G,EAAIsC,EACJtC,EAAEqkH,gBAAerkH,EAAIA,EAAEqkH,eAE3B,MAAMqR,EAAK11H,EAAE21H,SAAW31H,EAAEs5C,SACpBs8E,EAAa3gB,EAAO1wG,OAAOsxH,SAASD,WACpCE,EAAWF,GAAqB,KAAPF,EACzBK,EAAaH,GAAqB,KAAPF,EAC3BM,EAAqB,KAAPN,EACdO,EAAsB,KAAPP,EACfQ,EAAmB,KAAPR,EACZS,EAAqB,KAAPT,EAEpB,IAAKzgB,EAAO2M,iBAAmB3M,EAAOsD,gBAAkB0d,GAAgBhhB,EAAOuD,cAAgB2d,GAAeJ,GAC5G,OAAO,EAGT,IAAK9gB,EAAO4M,iBAAmB5M,EAAOsD,gBAAkByd,GAAe/gB,EAAOuD,cAAgB0d,GAAaJ,GACzG,OAAO,EAGT,KAAI91H,EAAEo2H,UAAYp2H,EAAEq2H,QAAUr2H,EAAEmmG,SAAWnmG,EAAEs2H,SAIzC51H,EAASqtG,eAAiBrtG,EAASqtG,cAAclU,WAA+D,UAAlDn5F,EAASqtG,cAAclU,SAASpoD,eAA+E,aAAlD/wC,EAASqtG,cAAclU,SAASpoD,gBAA/J,CAIA,GAAIwjE,EAAO1wG,OAAOsxH,SAASU,iBAAmBT,GAAYC,GAAcC,GAAeC,GAAgBC,GAAaC,GAAc,CAChI,IAAIK,GAAS,EAEb,GAAIvhB,EAAOoD,IAAItH,QAAQ,IAAIkE,EAAO1wG,OAAO80G,cAAc12G,OAAS,GAAyE,IAApEsyG,EAAOoD,IAAItH,QAAQ,IAAIkE,EAAO1wG,OAAOu6G,oBAAoBn8G,OAC5H,OAGF,MAAM01G,EAAMpD,EAAOoD,IACboe,EAAcpe,EAAI,GAAGC,YACrBoe,EAAere,EAAI,GAAG7O,aACtBmtB,EAAct0H,EAAOG,WACrBo0H,EAAev0H,EAAOunG,YACtBitB,EAAe5hB,EAAOoD,IAAIrzG,SAC5B+zG,IAAK8d,EAAazvH,MAAQ6tG,EAAOoD,IAAI,GAAGpxG,YAC5C,MAAM6vH,EAAc,CAAC,CAACD,EAAazvH,KAAMyvH,EAAaxvH,KAAM,CAACwvH,EAAazvH,KAAOqvH,EAAaI,EAAaxvH,KAAM,CAACwvH,EAAazvH,KAAMyvH,EAAaxvH,IAAMqvH,GAAe,CAACG,EAAazvH,KAAOqvH,EAAaI,EAAaxvH,IAAMqvH,IAE5N,IAAK,IAAI3rH,EAAI,EAAGA,EAAI+rH,EAAYn0H,OAAQoI,GAAK,EAAG,CAC9C,MAAMglB,EAAQ+mG,EAAY/rH,GAE1B,GAAIglB,EAAM,IAAM,GAAKA,EAAM,IAAM4mG,GAAe5mG,EAAM,IAAM,GAAKA,EAAM,IAAM6mG,EAAc,CACzF,GAAiB,IAAb7mG,EAAM,IAAyB,IAAbA,EAAM,GAAU,SAEtCymG,GAAS,CACX,CACF,CAEA,IAAKA,EAAQ,MACf,CAEIvhB,EAAOsD,iBACLud,GAAYC,GAAcC,GAAeC,KACvCj2H,EAAEC,eAAgBD,EAAEC,iBAAsBD,EAAE+2H,aAAc,KAG3DhB,GAAcE,KAAkBld,IAAQ+c,GAAYE,IAAgBjd,IAAK9D,EAAOoN,cAChFyT,GAAYE,KAAiBjd,IAAQgd,GAAcE,IAAiBld,IAAK9D,EAAO6N,eAEjFgT,GAAYC,GAAcG,GAAaC,KACrCn2H,EAAEC,eAAgBD,EAAEC,iBAAsBD,EAAE+2H,aAAc,IAG5DhB,GAAcI,IAAalhB,EAAOoN,aAClCyT,GAAYI,IAAWjhB,EAAO6N,aAGpC3K,EAAK,WAAYud,EA/CjB,CAiDF,CAEA,SAAS5yB,IACHmS,EAAO4gB,SAAS72C,UACpB,EAAEt+E,GAAUsuF,GAAG,UAAWymC,GAC1BxgB,EAAO4gB,SAAS72C,SAAU,EAC5B,CAEA,SAASgkB,IACFiS,EAAO4gB,SAAS72C,UACrB,EAAEt+E,GAAUyuF,IAAI,UAAWsmC,GAC3BxgB,EAAO4gB,SAAS72C,SAAU,EAC5B,CAvGAi2B,EAAO4gB,SAAW,CAChB72C,SAAS,GAEX0vC,EAAa,CACXmH,SAAU,CACR72C,SAAS,EACTu3C,gBAAgB,EAChBX,YAAY,KAkGhB5mC,EAAG,QAAQ,KACLimB,EAAO1wG,OAAOsxH,SAAS72C,SACzB8jB,GACF,IAEF9T,EAAG,WAAW,KACRimB,EAAO4gB,SAAS72C,SAClBgkB,GACF,IAEF53F,OAAOswC,OAAOu5D,EAAO4gB,SAAU,CAC7B/yB,SACAE,WAEJ,EC9He,UAAoB,OACjCiS,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAEA,MAAM91G,EAAS,IAgBf,IAAIu6F,EAfJ8xB,EAAa,CACXsI,WAAY,CACVh4C,SAAS,EACTi4C,gBAAgB,EAChBC,QAAQ,EACRC,aAAa,EACbC,YAAa,EACbC,aAAc,YACdC,eAAgB,KAChBC,cAAe,QAGnBtiB,EAAO+hB,WAAa,CAClBh4C,SAAS,GAGX,IACIw4C,EADAC,EAAiB7+E,IAErB,MAAM8+E,EAAoB,GAkF1B,SAASC,IACF1iB,EAAOj2B,UACZi2B,EAAO2iB,cAAe,EACxB,CAEA,SAASC,IACF5iB,EAAOj2B,UACZi2B,EAAO2iB,cAAe,EACxB,CAEA,SAASE,EAAcC,GACrB,QAAI9iB,EAAO1wG,OAAOyyH,WAAWM,gBAAkBS,EAASrsF,MAAQupE,EAAO1wG,OAAOyyH,WAAWM,oBAKrFriB,EAAO1wG,OAAOyyH,WAAWO,eAAiB3+E,IAAQ6+E,EAAiBxiB,EAAO1wG,OAAOyyH,WAAWO,iBAQ5FQ,EAASrsF,OAAS,GAAKkN,IAAQ6+E,EAAiB,KAiBhDM,EAASxmH,UAAY,EACjB0jG,EAAOsJ,QAAStJ,EAAO1wG,OAAO4d,MAAU8yF,EAAO6L,YACnD7L,EAAOoN,YACPlK,EAAK,SAAU4f,EAASC,MAEf/iB,EAAOqJ,cAAerJ,EAAO1wG,OAAO4d,MAAU8yF,EAAO6L,YAChE7L,EAAO6N,YACP3K,EAAK,SAAU4f,EAASC,MAI1BP,GAAiB,IAAIp1H,EAAOS,MAAOm2F,WAE5B,IACT,CAkBA,SAASw8B,EAAOnzH,GACd,IAAItC,EAAIsC,EACJ2lH,GAAsB,EAC1B,IAAKhT,EAAOj2B,QAAS,OACrB,MAAMz6E,EAAS0wG,EAAO1wG,OAAOyyH,WAEzB/hB,EAAO1wG,OAAO81G,SAChBr6G,EAAEC,iBAGJ,IAAIiI,EAAS+sG,EAAOoD,IAMpB,GAJ8C,cAA1CpD,EAAO1wG,OAAOyyH,WAAWK,eAC3BnvH,EAAS,EAAE+sG,EAAO1wG,OAAOyyH,WAAWK,gBAGjCpiB,EAAO2iB,eAAiB1vH,EAAO,GAAG3F,SAASvC,EAAEkI,UAAY3D,EAAO0yH,eAAgB,OAAO,EACxFj3H,EAAEqkH,gBAAerkH,EAAIA,EAAEqkH,eAE3B,IAAI34E,EAAQ,EACZ,MAAMusF,EAAYhjB,EAAO6D,cAAgB,EAAI,EACvC3vG,EA9KR,SAAmBnJ,GAKjB,IAAIk4H,EAAK,EACLC,EAAK,EAELC,EAAK,EACLC,EAAK,EA+DT,MA5DI,WAAYr4H,IACdm4H,EAAKn4H,EAAE61F,QAGL,eAAgB71F,IAClBm4H,GAAMn4H,EAAE41F,WAAa,KAGnB,gBAAiB51F,IACnBm4H,GAAMn4H,EAAEs4H,YAAc,KAGpB,gBAAiBt4H,IACnBk4H,GAAMl4H,EAAEu4H,YAAc,KAIpB,SAAUv4H,GAAKA,EAAE2zG,OAAS3zG,EAAEw4H,kBAC9BN,EAAKC,EACLA,EAAK,GAGPC,EAhCmB,GAgCdF,EACLG,EAjCmB,GAiCdF,EAED,WAAYn4H,IACdq4H,EAAKr4H,EAAEy4H,QAGL,WAAYz4H,IACdo4H,EAAKp4H,EAAE04H,QAGL14H,EAAEo2H,WAAagC,IAEjBA,EAAKC,EACLA,EAAK,IAGFD,GAAMC,IAAOr4H,EAAE24H,YACE,IAAhB34H,EAAE24H,WAEJP,GAnDgB,GAoDhBC,GApDgB,KAuDhBD,GAtDgB,IAuDhBC,GAvDgB,MA4DhBD,IAAOF,IACTA,EAAKE,EAAK,GAAK,EAAI,GAGjBC,IAAOF,IACTA,EAAKE,EAAK,GAAK,EAAI,GAGd,CACLO,MAAOV,EACPW,MAAOV,EACPW,OAAQV,EACRW,OAAQV,EAEZ,CAgGe9iD,CAAUv1E,GAEvB,GAAIuE,EAAO4yH,YACT,GAAIliB,EAAOsD,eAAgB,CACzB,KAAIxpG,KAAKc,IAAI1G,EAAK2vH,QAAU/pH,KAAKc,IAAI1G,EAAK4vH,SAA+C,OAAO,EAA7CrtF,GAASviC,EAAK2vH,OAASb,CAC5E,KAAO,MAAIlpH,KAAKc,IAAI1G,EAAK4vH,QAAUhqH,KAAKc,IAAI1G,EAAK2vH,SAAmC,OAAO,EAAjCptF,GAASviC,EAAK4vH,MAAuB,MAE/FrtF,EAAQ38B,KAAKc,IAAI1G,EAAK2vH,QAAU/pH,KAAKc,IAAI1G,EAAK4vH,SAAW5vH,EAAK2vH,OAASb,GAAa9uH,EAAK4vH,OAG3F,GAAc,IAAVrtF,EAAa,OAAO,EACpBnnC,EAAO2yH,SAAQxrF,GAASA,GAE5B,IAAIstF,EAAY/jB,EAAOvB,eAAiBhoE,EAAQnnC,EAAO6yH,YAavD,GAZI4B,GAAa/jB,EAAO4I,iBAAgBmb,EAAY/jB,EAAO4I,gBACvDmb,GAAa/jB,EAAOoJ,iBAAgB2a,EAAY/jB,EAAOoJ,gBAQ3D4J,IAAsBhT,EAAO1wG,OAAO4d,QAAgB62G,IAAc/jB,EAAO4I,gBAAkBmb,IAAc/jB,EAAOoJ,gBAC5G4J,GAAuBhT,EAAO1wG,OAAOojH,QAAQ3nH,EAAE6jG,kBAE9CoR,EAAO1wG,OAAO0iH,UAAahS,EAAO1wG,OAAO0iH,SAASjoC,QAkChD,CAML,MAAM+4C,EAAW,CACf33G,KAAMw4B,IACNlN,MAAO38B,KAAKc,IAAI67B,GAChBn6B,UAAWxC,KAAKkqH,KAAKvtF,IAEjBwtF,EAAoB1B,GAAuBO,EAAS33G,KAAOo3G,EAAoBp3G,KAAO,KAAO23G,EAASrsF,OAAS8rF,EAAoB9rF,OAASqsF,EAASxmH,YAAcimH,EAAoBjmH,UAE7L,IAAK2nH,EAAmB,CACtB1B,OAAsB7zG,EAElBsxF,EAAO1wG,OAAO4d,MAChB8yF,EAAO0N,UAGT,IAAIjyG,EAAWukG,EAAOvB,eAAiBhoE,EAAQnnC,EAAO6yH,YACtD,MAAM5Y,EAAevJ,EAAOqJ,YACtBG,EAASxJ,EAAOsJ,MAatB,GAZI7tG,GAAYukG,EAAO4I,iBAAgBntG,EAAWukG,EAAO4I,gBACrDntG,GAAYukG,EAAOoJ,iBAAgB3tG,EAAWukG,EAAOoJ,gBACzDpJ,EAAOgI,cAAc,GACrBhI,EAAOsL,aAAa7vG,GACpBukG,EAAOiJ,iBACPjJ,EAAOuK,oBACPvK,EAAO0J,wBAEFH,GAAgBvJ,EAAOqJ,cAAgBG,GAAUxJ,EAAOsJ,QAC3DtJ,EAAO0J,sBAGL1J,EAAO1wG,OAAO0iH,SAASkS,OAAQ,CAYjC9oC,aAAauM,GACbA,OAAUj5E,EAEN+zG,EAAkB/0H,QAAU,IAC9B+0H,EAAkBxyG,QAGpB,MAAMk0G,EAAY1B,EAAkB/0H,OAAS+0H,EAAkBA,EAAkB/0H,OAAS,QAAKghB,EACzF01G,EAAa3B,EAAkB,GAGrC,GAFAA,EAAkBrrH,KAAK0rH,GAEnBqB,IAAcrB,EAASrsF,MAAQ0tF,EAAU1tF,OAASqsF,EAASxmH,YAAc6nH,EAAU7nH,WAErFmmH,EAAkBn4G,OAAO,QACpB,GAAIm4G,EAAkB/0H,QAAU,IAAMo1H,EAAS33G,KAAOi5G,EAAWj5G,KAAO,KAAOi5G,EAAW3tF,MAAQqsF,EAASrsF,OAAS,GAAKqsF,EAASrsF,OAAS,EAAG,CAOnJ,MAAM4tF,EAAkB5tF,EAAQ,EAAI,GAAM,GAC1C8rF,EAAsBO,EACtBL,EAAkBn4G,OAAO,GACzBq9E,EAAU4W,GAAS,KACjByB,EAAOkO,eAAelO,EAAO1wG,OAAO49E,OAAO,OAAMx+D,EAAW21G,EAAgB,GAC3E,EACL,CAEK18B,IAIHA,EAAU4W,GAAS,KAEjBgkB,EAAsBO,EACtBL,EAAkBn4G,OAAO,GACzB01F,EAAOkO,eAAelO,EAAO1wG,OAAO49E,OAAO,OAAMx+D,EAHzB,GAGoD,GAC3E,KAEP,CAOA,GAJKu1G,GAAmB/gB,EAAK,SAAUn4G,GAEnCi1G,EAAO1wG,OAAO2d,UAAY+yF,EAAO1wG,OAAOg1H,8BAA8BtkB,EAAO/yF,SAASwE,OAEtFhW,IAAaukG,EAAO4I,gBAAkBntG,IAAaukG,EAAOoJ,eAAgB,OAAO,CACvF,CACF,KAlIgE,CAE9D,MAAM0Z,EAAW,CACf33G,KAAMw4B,IACNlN,MAAO38B,KAAKc,IAAI67B,GAChBn6B,UAAWxC,KAAKkqH,KAAKvtF,GACrBssF,IAAK11H,GAGHo1H,EAAkB/0H,QAAU,GAC9B+0H,EAAkBxyG,QAGpB,MAAMk0G,EAAY1B,EAAkB/0H,OAAS+0H,EAAkBA,EAAkB/0H,OAAS,QAAKghB,EAkB/F,GAjBA+zG,EAAkBrrH,KAAK0rH,GAOnBqB,GACErB,EAASxmH,YAAc6nH,EAAU7nH,WAAawmH,EAASrsF,MAAQ0tF,EAAU1tF,OAASqsF,EAAS33G,KAAOg5G,EAAUh5G,KAAO,MACrH03G,EAAcC,GAGhBD,EAAcC,GAzFpB,SAAuBA,GACrB,MAAMxzH,EAAS0wG,EAAO1wG,OAAOyyH,WAE7B,GAAIe,EAASxmH,UAAY,GACvB,GAAI0jG,EAAOsJ,QAAUtJ,EAAO1wG,OAAO4d,MAAQ5d,EAAO0yH,eAEhD,OAAO,OAEJ,GAAIhiB,EAAOqJ,cAAgBrJ,EAAO1wG,OAAO4d,MAAQ5d,EAAO0yH,eAE7D,OAAO,EAGT,OAAO,CACT,CAgFQuC,CAAczB,GAChB,OAAO,CAEX,CAmGA,OADI/3H,EAAEC,eAAgBD,EAAEC,iBAAsBD,EAAE+2H,aAAc,GACvD,CACT,CAEA,SAAS5qB,EAAO3rG,GACd,IAAI0H,EAAS+sG,EAAOoD,IAE0B,cAA1CpD,EAAO1wG,OAAOyyH,WAAWK,eAC3BnvH,EAAS,EAAE+sG,EAAO1wG,OAAOyyH,WAAWK,eAGtCnvH,EAAO1H,GAAQ,aAAcm3H,GAC7BzvH,EAAO1H,GAAQ,aAAcq3H,GAC7B3vH,EAAO1H,GAAQ,QAASi1H,EAC1B,CAEA,SAAS3yB,IACP,OAAImS,EAAO1wG,OAAO81G,SAChBpF,EAAOI,UAAU/1F,oBAAoB,QAASm2G,IACvC,IAGLxgB,EAAO+hB,WAAWh4C,UACtBmtB,EAAO,MACP8I,EAAO+hB,WAAWh4C,SAAU,GACrB,EACT,CAEA,SAASgkB,IACP,OAAIiS,EAAO1wG,OAAO81G,SAChBpF,EAAOI,UAAUt1G,iBAAiBuC,MAAOmzH,IAClC,KAGJxgB,EAAO+hB,WAAWh4C,UACvBmtB,EAAO,OACP8I,EAAO+hB,WAAWh4C,SAAU,GACrB,EACT,CAEAgQ,EAAG,QAAQ,MACJimB,EAAO1wG,OAAOyyH,WAAWh4C,SAAWi2B,EAAO1wG,OAAO81G,SACrDrX,IAGEiS,EAAO1wG,OAAOyyH,WAAWh4C,SAAS8jB,GAAQ,IAEhD9T,EAAG,WAAW,KACRimB,EAAO1wG,OAAO81G,SAChBvX,IAGEmS,EAAO+hB,WAAWh4C,SAASgkB,GAAS,IAE1C53F,OAAOswC,OAAOu5D,EAAO+hB,WAAY,CAC/Bl0B,SACAE,WAEJ,ECnae,UAAoB,OACjCiS,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAoBA,SAASshB,EAAMj6H,GACb,IAAI64G,EAUJ,OARI74G,IACF64G,EAAM,EAAE74G,GAEJy1G,EAAO1wG,OAAO+nH,mBAAmC,iBAAP9sH,GAAmB64G,EAAI11G,OAAS,GAAoC,IAA/BsyG,EAAOoD,IAAIjF,KAAK5zG,GAAImD,SACrG01G,EAAMpD,EAAOoD,IAAIjF,KAAK5zG,KAInB64G,CACT,CAEA,SAASqhB,EAASrhB,EAAKj4G,GACrB,MAAMmE,EAAS0wG,EAAO1wG,OAAO4kH,WAEzB9Q,GAAOA,EAAI11G,OAAS,IACtB01G,EAAIj4G,EAAW,WAAa,eAAemE,EAAOo1H,eAC9CthB,EAAI,IAAyB,WAAnBA,EAAI,GAAGrL,UAAsBqL,EAAI,GAAGj4G,SAAWA,GAEzD60G,EAAO1wG,OAAO+3G,eAAiBrH,EAAOj2B,SACxCq5B,EAAIpD,EAAOiY,SAAW,WAAa,eAAe3oH,EAAOq1H,WAG/D,CAEA,SAAS5mE,IAEP,GAAIiiD,EAAO1wG,OAAO4d,KAAM,OACxB,MAAM,QACJ03G,EAAO,QACPC,GACE7kB,EAAOkU,WACXuQ,EAASI,EAAS7kB,EAAOqJ,cAAgBrJ,EAAO1wG,OAAOs+G,QACvD6W,EAASG,EAAS5kB,EAAOsJ,QAAUtJ,EAAO1wG,OAAOs+G,OACnD,CAEA,SAASkX,EAAY/5H,GACnBA,EAAEC,mBACEg1G,EAAOqJ,aAAgBrJ,EAAO1wG,OAAO4d,MAAS8yF,EAAO1wG,OAAOs+G,UAChE5N,EAAO6N,YACP3K,EAAK,kBACP,CAEA,SAAS6hB,EAAYh6H,GACnBA,EAAEC,mBACEg1G,EAAOsJ,OAAUtJ,EAAO1wG,OAAO4d,MAAS8yF,EAAO1wG,OAAOs+G,UAC1D5N,EAAOoN,YACPlK,EAAK,kBACP,CAEA,SAASrwF,IACP,MAAMvjB,EAAS0wG,EAAO1wG,OAAO4kH,WAK7B,GAJAlU,EAAO1wG,OAAO4kH,WAAa4I,GAA0B9c,EAAQA,EAAOgW,eAAe9B,WAAYlU,EAAO1wG,OAAO4kH,WAAY,CACvHC,OAAQ,qBACRC,OAAQ,wBAEJ9kH,EAAO6kH,SAAU7kH,EAAO8kH,OAAS,OACvC,MAAMwQ,EAAUJ,EAAMl1H,EAAO6kH,QACvB0Q,EAAUL,EAAMl1H,EAAO8kH,QAEzBwQ,GAAWA,EAAQl3H,OAAS,GAC9Bk3H,EAAQ7qC,GAAG,QAASgrC,GAGlBF,GAAWA,EAAQn3H,OAAS,GAC9Bm3H,EAAQ9qC,GAAG,QAAS+qC,GAGtB3uH,OAAOswC,OAAOu5D,EAAOkU,WAAY,CAC/B0Q,UACAzQ,OAAQyQ,GAAWA,EAAQ,GAC3BC,UACAzQ,OAAQyQ,GAAWA,EAAQ,KAGxB7kB,EAAOj2B,UACN66C,GAASA,EAAQljC,SAASpyF,EAAOq1H,WACjCE,GAASA,EAAQnjC,SAASpyF,EAAOq1H,WAEzC,CAEA,SAASt7G,IACP,MAAM,QACJu7G,EAAO,QACPC,GACE7kB,EAAOkU,WAEP0Q,GAAWA,EAAQl3H,SACrBk3H,EAAQ1qC,IAAI,QAAS6qC,GACrBH,EAAQxiC,YAAY4d,EAAO1wG,OAAO4kH,WAAWwQ,gBAG3CG,GAAWA,EAAQn3H,SACrBm3H,EAAQ3qC,IAAI,QAAS4qC,GACrBD,EAAQziC,YAAY4d,EAAO1wG,OAAO4kH,WAAWwQ,eAEjD,CApHAjL,EAAa,CACXvF,WAAY,CACVC,OAAQ,KACRC,OAAQ,KACR4Q,aAAa,EACbN,cAAe,yBACfO,YAAa,uBACbN,UAAW,qBACXO,wBAAyB,gCAG7BllB,EAAOkU,WAAa,CAClBC,OAAQ,KACRyQ,QAAS,KACTxQ,OAAQ,KACRyQ,QAAS,MAuGX9qC,EAAG,QAAQ,MACgC,IAArCimB,EAAO1wG,OAAO4kH,WAAWnqC,QAE3BgkB,KAEAl7E,IACAkrC,IACF,IAEFg8B,EAAG,+BAA+B,KAChCh8B,GAAQ,IAEVg8B,EAAG,WAAW,KACZ1wE,GAAS,IAEX0wE,EAAG,kBAAkB,KACnB,MAAM,QACJ6qC,EAAO,QACPC,GACE7kB,EAAOkU,WAEP0Q,GACFA,EAAQ5kB,EAAOj2B,QAAU,cAAgB,YAAYi2B,EAAO1wG,OAAO4kH,WAAWyQ,WAG5EE,GACFA,EAAQ7kB,EAAOj2B,QAAU,cAAgB,YAAYi2B,EAAO1wG,OAAO4kH,WAAWyQ,UAChF,IAEF5qC,EAAG,SAAS,CAACxmD,EAAIxoC,KACf,MAAM,QACJ65H,EAAO,QACPC,GACE7kB,EAAOkU,WACLiR,EAAWp6H,EAAEkI,OAEnB,GAAI+sG,EAAO1wG,OAAO4kH,WAAW8Q,cAAgB,EAAEG,GAAUj8F,GAAG27F,KAAa,EAAEM,GAAUj8F,GAAG07F,GAAU,CAChG,GAAI5kB,EAAOolB,YAAcplB,EAAO1wG,OAAO81H,YAAcplB,EAAO1wG,OAAO81H,WAAWC,YAAcrlB,EAAOolB,WAAW76H,KAAO46H,GAAYnlB,EAAOolB,WAAW76H,GAAG+C,SAAS63H,IAAY,OAC3K,IAAIG,EAEAV,EACFU,EAAWV,EAAQltB,SAASsI,EAAO1wG,OAAO4kH,WAAW+Q,aAC5CJ,IACTS,EAAWT,EAAQntB,SAASsI,EAAO1wG,OAAO4kH,WAAW+Q,cAIrD/hB,GADe,IAAboiB,EACG,iBAEA,kBAGHV,GACFA,EAAQxpB,YAAY4E,EAAO1wG,OAAO4kH,WAAW+Q,aAG3CJ,GACFA,EAAQzpB,YAAY4E,EAAO1wG,OAAO4kH,WAAW+Q,YAEjD,KAGF,MAMMl3B,EAAU,KACdiS,EAAOoD,IAAI1hB,SAASse,EAAO1wG,OAAO4kH,WAAWgR,yBAC7C77G,GAAS,EAGXlT,OAAOswC,OAAOu5D,EAAOkU,WAAY,CAC/BrmB,OAZa,KACbmS,EAAOoD,IAAIhhB,YAAY4d,EAAO1wG,OAAO4kH,WAAWgR,yBAChDryG,IACAkrC,GAAQ,EAURgwC,UACAhwC,SACAlrC,OACAxJ,WAEJ,EC3Me,UAAoB,OACjC22F,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAEA,MAAMqiB,EAAM,oBAsCZ,IAAIC,EArCJ/L,EAAa,CACX2L,WAAY,CACV76H,GAAI,KACJk7H,cAAe,OACfJ,WAAW,EACXL,aAAa,EACbU,aAAc,KACdC,kBAAmB,KACnBC,eAAgB,KAChBC,aAAc,KACdC,qBAAqB,EACrBpxH,KAAM,UAENqxH,gBAAgB,EAChBC,mBAAoB,EACpBC,sBAAuBtjC,GAAUA,EACjCujC,oBAAqBvjC,GAAUA,EAC/BwjC,YAAa,GAAGZ,WAChBa,kBAAmB,GAAGb,kBACtBc,cAAe,GAAGd,KAClBe,aAAc,GAAGf,YACjBgB,WAAY,GAAGhB,UACfN,YAAa,GAAGM,WAChBiB,qBAAsB,GAAGjB,qBACzBkB,yBAA0B,GAAGlB,yBAC7BmB,eAAgB,GAAGnB,cACnBZ,UAAW,GAAGY,SACdoB,gBAAiB,GAAGpB,eACpBqB,cAAe,GAAGrB,aAClBsB,wBAAyB,GAAGtB,gBAGhCvlB,EAAOolB,WAAa,CAClB76H,GAAI,KACJ64G,IAAK,KACL0jB,QAAS,IAGX,IAAIC,EAAqB,EAEzB,SAASC,IACP,OAAQhnB,EAAO1wG,OAAO81H,WAAW76H,KAAOy1G,EAAOolB,WAAW76H,KAAOy1G,EAAOolB,WAAWhiB,KAAwC,IAAjCpD,EAAOolB,WAAWhiB,IAAI11G,MAClH,CAEA,SAASu5H,EAAeC,EAAWzrH,GACjC,MAAM,kBACJ2qH,GACEpmB,EAAO1wG,OAAO81H,WAClB8B,EAAUzrH,KAAYimF,SAAS,GAAG0kC,KAAqB3qH,KAAYA,KAAYimF,SAAS,GAAG0kC,KAAqB3qH,KAAYA,IAC9H,CAEA,SAASsiD,IAEP,MAAM+lD,EAAM9D,EAAO8D,IACbx0G,EAAS0wG,EAAO1wG,OAAO81H,WAC7B,GAAI4B,IAAwB,OAC5B,MAAM3iB,EAAerE,EAAOiE,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,QAAUi2B,EAAOiE,QAAQE,OAAOz2G,OAASsyG,EAAOmE,OAAOz2G,OAC9G01G,EAAMpD,EAAOolB,WAAWhiB,IAE9B,IAAIv1B,EACJ,MAAMs5C,EAAQnnB,EAAO1wG,OAAO4d,KAAOpT,KAAKwkC,MAAM+lE,EAAqC,EAAtBrE,EAAOmN,cAAoBnN,EAAO1wG,OAAO82G,gBAAkBpG,EAAOsE,SAAS52G,OAkBxI,GAhBIsyG,EAAO1wG,OAAO4d,MAChB2gE,EAAU/zE,KAAKwkC,MAAM0hE,EAAOmI,YAAcnI,EAAOmN,cAAgBnN,EAAO1wG,OAAO82G,gBAE3Ev4B,EAAUw2B,EAAe,EAA0B,EAAtBrE,EAAOmN,eACtCt/B,GAAWw2B,EAAqC,EAAtBrE,EAAOmN,cAG/Bt/B,EAAUs5C,EAAQ,IAAGt5C,GAAWs5C,GAChCt5C,EAAU,GAAsC,YAAjCmyB,EAAO1wG,OAAO83H,iBAA8Bv5C,EAAUs5C,EAAQt5C,IAEjFA,OADqC,IAArBmyB,EAAOkH,UACblH,EAAOkH,UAEPlH,EAAOmI,aAAe,EAId,YAAhB74G,EAAOoF,MAAsBsrG,EAAOolB,WAAW0B,SAAW9mB,EAAOolB,WAAW0B,QAAQp5H,OAAS,EAAG,CAClG,MAAMo5H,EAAU9mB,EAAOolB,WAAW0B,QAClC,IAAIO,EACA/nG,EACAgoG,EAuBJ,GArBIh4H,EAAOy2H,iBACTP,EAAasB,EAAQvpB,GAAG,GAAGyC,EAAOsD,eAAiB,aAAe,gBAAe,GACjFF,EAAIrjB,IAAIigB,EAAOsD,eAAiB,QAAU,SAAakiB,GAAcl2H,EAAO02H,mBAAqB,GAA7C,MAEhD12H,EAAO02H,mBAAqB,QAA8Bt3G,IAAzBsxF,EAAOyK,gBAC1Csc,GAAsBl5C,GAAWmyB,EAAOyK,cAAgBzK,EAAOmN,cAAgB,GAE3E4Z,EAAqBz3H,EAAO02H,mBAAqB,EACnDe,EAAqBz3H,EAAO02H,mBAAqB,EACxCe,EAAqB,IAC9BA,EAAqB,IAIzBM,EAAavtH,KAAKO,IAAIwzE,EAAUk5C,EAAoB,GACpDznG,EAAY+nG,GAAcvtH,KAAKS,IAAIusH,EAAQp5H,OAAQ4B,EAAO02H,oBAAsB,GAChFsB,GAAYhoG,EAAY+nG,GAAc,GAGxCP,EAAQ1kC,YAAY,CAAC,GAAI,QAAS,aAAc,QAAS,aAAc,SAASjyF,KAAIo3H,GAAU,GAAGj4H,EAAO82H,oBAAoBmB,MAAU9hH,KAAK,MAEvI29F,EAAI11G,OAAS,EACfo5H,EAAQ9pB,MAAKwqB,IACX,MAAMC,EAAU,EAAED,GACZE,EAAcD,EAAQ3zG,QAExB4zG,IAAgB75C,GAClB45C,EAAQ/lC,SAASpyF,EAAO82H,mBAGtB92H,EAAOy2H,iBACL2B,GAAeL,GAAcK,GAAepoG,GAC9CmoG,EAAQ/lC,SAAS,GAAGpyF,EAAO82H,0BAGzBsB,IAAgBL,GAClBJ,EAAeQ,EAAS,QAGtBC,IAAgBpoG,GAClB2nG,EAAeQ,EAAS,QAE5B,QAEG,CACL,MAAMA,EAAUX,EAAQvpB,GAAG1vB,GACrB65C,EAAcD,EAAQ3zG,QAG5B,GAFA2zG,EAAQ/lC,SAASpyF,EAAO82H,mBAEpB92H,EAAOy2H,eAAgB,CACzB,MAAM4B,EAAwBb,EAAQvpB,GAAG8pB,GACnCO,EAAuBd,EAAQvpB,GAAGj+E,GAExC,IAAK,IAAIxpB,EAAIuxH,EAAYvxH,GAAKwpB,EAAWxpB,GAAK,EAC5CgxH,EAAQvpB,GAAGznG,GAAG4rF,SAAS,GAAGpyF,EAAO82H,0BAGnC,GAAIpmB,EAAO1wG,OAAO4d,KAChB,GAAIw6G,GAAeZ,EAAQp5H,OAAQ,CACjC,IAAK,IAAIoI,EAAIxG,EAAO02H,mBAAoBlwH,GAAK,EAAGA,GAAK,EACnDgxH,EAAQvpB,GAAGupB,EAAQp5H,OAASoI,GAAG4rF,SAAS,GAAGpyF,EAAO82H,0BAGpDU,EAAQvpB,GAAGupB,EAAQp5H,OAAS4B,EAAO02H,mBAAqB,GAAGtkC,SAAS,GAAGpyF,EAAO82H,yBAChF,MACEa,EAAeU,EAAuB,QACtCV,EAAeW,EAAsB,aAGvCX,EAAeU,EAAuB,QACtCV,EAAeW,EAAsB,OAEzC,CACF,CAEA,GAAIt4H,EAAOy2H,eAAgB,CACzB,MAAM8B,EAAuB/tH,KAAKS,IAAIusH,EAAQp5H,OAAQ4B,EAAO02H,mBAAqB,GAC5E8B,GAAiBtC,EAAaqC,EAAuBrC,GAAc,EAAI8B,EAAW9B,EAClF/F,EAAa3b,EAAM,QAAU,OACnCgjB,EAAQ/mC,IAAIigB,EAAOsD,eAAiBmc,EAAa,MAAO,GAAGqI,MAC7D,CACF,CAOA,GALoB,aAAhBx4H,EAAOoF,OACT0uG,EAAIjF,KAAK6e,GAAkB1tH,EAAOg3H,eAAe/5H,KAAK+C,EAAO22H,sBAAsBp4C,EAAU,IAC7Fu1B,EAAIjF,KAAK6e,GAAkB1tH,EAAOi3H,aAAah6H,KAAK+C,EAAO42H,oBAAoBiB,KAG7D,gBAAhB73H,EAAOoF,KAAwB,CACjC,IAAIqzH,EAGFA,EADEz4H,EAAOw2H,oBACc9lB,EAAOsD,eAAiB,WAAa,aAErCtD,EAAOsD,eAAiB,aAAe,WAGhE,MAAMx3E,GAAS+hD,EAAU,GAAKs5C,EAC9B,IAAIhqF,EAAS,EACTC,EAAS,EAEgB,eAAzB2qF,EACF5qF,EAASrR,EAETsR,EAAStR,EAGXs3E,EAAIjF,KAAK6e,GAAkB1tH,EAAOk3H,uBAAuBl6F,UAAU,6BAA6B6Q,aAAkBC,MAAWo+D,WAAWwE,EAAO1wG,OAAO49E,MACxJ,CAEoB,WAAhB59E,EAAOoF,MAAqBpF,EAAOu2H,cACrCziB,EAAItZ,KAAKx6F,EAAOu2H,aAAa7lB,EAAQnyB,EAAU,EAAGs5C,IAClDjkB,EAAK,mBAAoBE,EAAI,KAE7BF,EAAK,mBAAoBE,EAAI,IAG3BpD,EAAO1wG,OAAO+3G,eAAiBrH,EAAOj2B,SACxCq5B,EAAIpD,EAAOiY,SAAW,WAAa,eAAe3oH,EAAOq1H,UAE7D,CAEA,SAASpnE,IAEP,MAAMjuD,EAAS0wG,EAAO1wG,OAAO81H,WAC7B,GAAI4B,IAAwB,OAC5B,MAAM3iB,EAAerE,EAAOiE,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,QAAUi2B,EAAOiE,QAAQE,OAAOz2G,OAASsyG,EAAOmE,OAAOz2G,OAC9G01G,EAAMpD,EAAOolB,WAAWhiB,IAC9B,IAAI4kB,EAAiB,GAErB,GAAoB,YAAhB14H,EAAOoF,KAAoB,CAC7B,IAAIuzH,EAAkBjoB,EAAO1wG,OAAO4d,KAAOpT,KAAKwkC,MAAM+lE,EAAqC,EAAtBrE,EAAOmN,cAAoBnN,EAAO1wG,OAAO82G,gBAAkBpG,EAAOsE,SAAS52G,OAE5IsyG,EAAO1wG,OAAO0iH,UAAYhS,EAAO1wG,OAAO0iH,SAASjoC,UAAYi2B,EAAO1wG,OAAO4d,MAAQ+6G,EAAkB5jB,IACvG4jB,EAAkB5jB,GAGpB,IAAK,IAAIvuG,EAAI,EAAGA,EAAImyH,EAAiBnyH,GAAK,EACpCxG,EAAOo2H,aACTsC,GAAkB14H,EAAOo2H,aAAarvH,KAAK2pG,EAAQlqG,EAAGxG,EAAO62H,aAE7D6B,GAAkB,IAAI14H,EAAOm2H,wBAAwBn2H,EAAO62H,kBAAkB72H,EAAOm2H,iBAIzFriB,EAAItZ,KAAKk+B,GACThoB,EAAOolB,WAAW0B,QAAU1jB,EAAIjF,KAAK6e,GAAkB1tH,EAAO62H,aAChE,CAEoB,aAAhB72H,EAAOoF,OAEPszH,EADE14H,EAAOs2H,eACQt2H,EAAOs2H,eAAevvH,KAAK2pG,EAAQ1wG,EAAOg3H,aAAch3H,EAAOi3H,YAE/D,gBAAgBj3H,EAAOg3H,wCAAkDh3H,EAAOi3H,sBAGnGnjB,EAAItZ,KAAKk+B,IAGS,gBAAhB14H,EAAOoF,OAEPszH,EADE14H,EAAOq2H,kBACQr2H,EAAOq2H,kBAAkBtvH,KAAK2pG,EAAQ1wG,EAAOk3H,sBAE7C,gBAAgBl3H,EAAOk3H,gCAG1CpjB,EAAItZ,KAAKk+B,IAGS,WAAhB14H,EAAOoF,MACTwuG,EAAK,mBAAoBlD,EAAOolB,WAAWhiB,IAAI,GAEnD,CAEA,SAASvwF,IACPmtF,EAAO1wG,OAAO81H,WAAatI,GAA0B9c,EAAQA,EAAOgW,eAAeoP,WAAYplB,EAAO1wG,OAAO81H,WAAY,CACvH76H,GAAI,sBAEN,MAAM+E,EAAS0wG,EAAO1wG,OAAO81H,WAC7B,IAAK91H,EAAO/E,GAAI,OAChB,IAAI64G,EAAM,EAAE9zG,EAAO/E,IACA,IAAf64G,EAAI11G,SAEJsyG,EAAO1wG,OAAO+nH,mBAA0C,iBAAd/nH,EAAO/E,IAAmB64G,EAAI11G,OAAS,IACnF01G,EAAMpD,EAAOoD,IAAIjF,KAAK7uG,EAAO/E,IAEzB64G,EAAI11G,OAAS,IACf01G,EAAMA,EAAI1vG,QAAOnJ,GACX,EAAEA,GAAIuxG,QAAQ,WAAW,KAAOkE,EAAOz1G,OAM7B,YAAhB+E,EAAOoF,MAAsBpF,EAAO+1H,WACtCjiB,EAAI1hB,SAASpyF,EAAOo3H,gBAGtBtjB,EAAI1hB,SAASpyF,EAAO+2H,cAAgB/2H,EAAOoF,MAC3C0uG,EAAI1hB,SAASse,EAAOsD,eAAiBh0G,EAAOq3H,gBAAkBr3H,EAAOs3H,eAEjD,YAAhBt3H,EAAOoF,MAAsBpF,EAAOy2H,iBACtC3iB,EAAI1hB,SAAS,GAAGpyF,EAAO+2H,gBAAgB/2H,EAAOoF,gBAC9CqyH,EAAqB,EAEjBz3H,EAAO02H,mBAAqB,IAC9B12H,EAAO02H,mBAAqB,IAIZ,gBAAhB12H,EAAOoF,MAA0BpF,EAAOw2H,qBAC1C1iB,EAAI1hB,SAASpyF,EAAOm3H,0BAGlBn3H,EAAO+1H,WACTjiB,EAAIrpB,GAAG,QAASijC,GAAkB1tH,EAAO62H,cAAc,SAAiBp7H,GACtEA,EAAEC,iBACF,IAAI8oB,EAAQ,EAAEtpB,MAAMspB,QAAUksF,EAAO1wG,OAAO82G,eACxCpG,EAAO1wG,OAAO4d,OAAM4G,GAASksF,EAAOmN,cACxCnN,EAAOoM,QAAQt4F,EACjB,IAGF3d,OAAOswC,OAAOu5D,EAAOolB,WAAY,CAC/BhiB,MACA74G,GAAI64G,EAAI,KAGLpD,EAAOj2B,SACVq5B,EAAI1hB,SAASpyF,EAAOq1H,WAExB,CAEA,SAASt7G,IACP,MAAM/Z,EAAS0wG,EAAO1wG,OAAO81H,WAC7B,GAAI4B,IAAwB,OAC5B,MAAM5jB,EAAMpD,EAAOolB,WAAWhiB,IAC9BA,EAAIhhB,YAAY9yF,EAAO21H,aACvB7hB,EAAIhhB,YAAY9yF,EAAO+2H,cAAgB/2H,EAAOoF,MAC9C0uG,EAAIhhB,YAAY4d,EAAOsD,eAAiBh0G,EAAOq3H,gBAAkBr3H,EAAOs3H,eACpE5mB,EAAOolB,WAAW0B,SAAW9mB,EAAOolB,WAAW0B,QAAQ1kC,aAAa4d,EAAOolB,WAAW0B,QAAQ1kC,YAAY9yF,EAAO82H,mBAEjH92H,EAAO+1H,WACTjiB,EAAIlpB,IAAI,QAAS8iC,GAAkB1tH,EAAO62H,aAE9C,CAEApsC,EAAG,QAAQ,MACgC,IAArCimB,EAAO1wG,OAAO81H,WAAWr7C,QAE3BgkB,KAEAl7E,IACA0qC,IACAQ,IACF,IAEFg8B,EAAG,qBAAqB,MAClBimB,EAAO1wG,OAAO4d,WAEqB,IAArB8yF,EAAOkH,YADvBnpD,GAGF,IAEFg8B,EAAG,mBAAmB,KACfimB,EAAO1wG,OAAO4d,MACjB6wC,GACF,IAEFg8B,EAAG,sBAAsB,KACnBimB,EAAO1wG,OAAO4d,OAChBqwC,IACAQ,IACF,IAEFg8B,EAAG,wBAAwB,KACpBimB,EAAO1wG,OAAO4d,OACjBqwC,IACAQ,IACF,IAEFg8B,EAAG,WAAW,KACZ1wE,GAAS,IAEX0wE,EAAG,kBAAkB,KACnB,MAAM,IACJqpB,GACEpD,EAAOolB,WAEPhiB,GACFA,EAAIpD,EAAOj2B,QAAU,cAAgB,YAAYi2B,EAAO1wG,OAAO81H,WAAWT,UAC5E,IAEF5qC,EAAG,eAAe,KAChBh8B,GAAQ,IAEVg8B,EAAG,SAAS,CAACxmD,EAAIxoC,KACf,MAAMo6H,EAAWp6H,EAAEkI,QACb,IACJmwG,GACEpD,EAAOolB,WAEX,GAAIplB,EAAO1wG,OAAO81H,WAAW76H,IAAMy1G,EAAO1wG,OAAO81H,WAAWJ,aAAe5hB,GAAOA,EAAI11G,OAAS,IAAM,EAAEy3H,GAAUztB,SAASsI,EAAO1wG,OAAO81H,WAAWe,aAAc,CAC/J,GAAInmB,EAAOkU,aAAelU,EAAOkU,WAAWC,QAAUgR,IAAanlB,EAAOkU,WAAWC,QAAUnU,EAAOkU,WAAWE,QAAU+Q,IAAanlB,EAAOkU,WAAWE,QAAS,OACnK,MAAMkR,EAAWliB,EAAI1L,SAASsI,EAAO1wG,OAAO81H,WAAWH,aAGrD/hB,GADe,IAAboiB,EACG,iBAEA,kBAGPliB,EAAIhI,YAAY4E,EAAO1wG,OAAO81H,WAAWH,YAC3C,KAGF,MAYMl3B,EAAU,KACdiS,EAAOoD,IAAI1hB,SAASse,EAAO1wG,OAAO81H,WAAWyB,yBAEzC7mB,EAAOolB,WAAWhiB,KACpBpD,EAAOolB,WAAWhiB,IAAI1hB,SAASse,EAAO1wG,OAAO81H,WAAWyB,yBAG1Dx9G,GAAS,EAGXlT,OAAOswC,OAAOu5D,EAAOolB,WAAY,CAC/Bv3B,OAvBa,KACbmS,EAAOoD,IAAIhhB,YAAY4d,EAAO1wG,OAAO81H,WAAWyB,yBAE5C7mB,EAAOolB,WAAWhiB,KACpBpD,EAAOolB,WAAWhiB,IAAIhhB,YAAY4d,EAAO1wG,OAAO81H,WAAWyB,yBAG7Dh0G,IACA0qC,IACAQ,GAAQ,EAeRgwC,UACAxwC,SACAQ,SACAlrC,OACAxJ,WAEJ,ECpbe,UAAmB,OAChC22F,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAEA,MAAMz3G,EAAW4tG,IACjB,IAGI6uB,EACAC,EACAC,EACAC,EANA5Y,GAAY,EACZ9nB,EAAU,KACV2gC,EAAc,KA0BlB,SAAShd,IACP,IAAKtL,EAAO1wG,OAAOi5H,UAAUh+H,KAAOy1G,EAAOuoB,UAAUh+H,GAAI,OACzD,MAAM,UACJg+H,EACA1kB,aAAcC,EAAG,SACjBvmB,GACEyiB,GACE,QACJwoB,EAAO,IACPplB,GACEmlB,EACEj5H,EAAS0wG,EAAO1wG,OAAOi5H,UAC7B,IAAIE,EAAUN,EACVO,GAAUN,EAAYD,GAAY5qC,EAElCumB,GACF4kB,GAAUA,EAENA,EAAS,GACXD,EAAUN,EAAWO,EACrBA,EAAS,IACCA,EAASP,EAAWC,IAC9BK,EAAUL,EAAYM,IAEfA,EAAS,GAClBD,EAAUN,EAAWO,EACrBA,EAAS,GACAA,EAASP,EAAWC,IAC7BK,EAAUL,EAAYM,GAGpB1oB,EAAOsD,gBACTklB,EAAQl8F,UAAU,eAAeo8F,cACjCF,EAAQ,GAAGhtH,MAAMqL,MAAQ,GAAG4hH,QAE5BD,EAAQl8F,UAAU,oBAAoBo8F,WACtCF,EAAQ,GAAGhtH,MAAMsL,OAAS,GAAG2hH,OAG3Bn5H,EAAOokB,OACT0nE,aAAauM,GACbyb,EAAI,GAAG5nG,MAAM40C,QAAU,EACvBu3C,EAAUz5F,YAAW,KACnBk1G,EAAI,GAAG5nG,MAAM40C,QAAU,EACvBgzD,EAAI5H,WAAW,IAAI,GAClB,KAEP,CAOA,SAAS2H,IACP,IAAKnD,EAAO1wG,OAAOi5H,UAAUh+H,KAAOy1G,EAAOuoB,UAAUh+H,GAAI,OACzD,MAAM,UACJg+H,GACEvoB,GACE,QACJwoB,EAAO,IACPplB,GACEmlB,EACJC,EAAQ,GAAGhtH,MAAMqL,MAAQ,GACzB2hH,EAAQ,GAAGhtH,MAAMsL,OAAS,GAC1BshH,EAAYpoB,EAAOsD,eAAiBF,EAAI,GAAGnxG,YAAcmxG,EAAI,GAAG9tC,aAChE+yD,EAAUroB,EAAOnwG,MAAQmwG,EAAOkF,YAAclF,EAAO1wG,OAAOo1G,oBAAsB1E,EAAO1wG,OAAO61G,eAAiBnF,EAAOsE,SAAS,GAAK,IAGpI6jB,EADuC,SAArCnoB,EAAO1wG,OAAOi5H,UAAUJ,SACfC,EAAYC,EAEZ15G,SAASqxF,EAAO1wG,OAAOi5H,UAAUJ,SAAU,IAGpDnoB,EAAOsD,eACTklB,EAAQ,GAAGhtH,MAAMqL,MAAQ,GAAGshH,MAE5BK,EAAQ,GAAGhtH,MAAMsL,OAAS,GAAGqhH,MAI7B/kB,EAAI,GAAG5nG,MAAME,QADX2sH,GAAW,EACU,OAEA,GAGrBroB,EAAO1wG,OAAOi5H,UAAU70G,OAC1B0vF,EAAI,GAAG5nG,MAAM40C,QAAU,GAGrB4vD,EAAO1wG,OAAO+3G,eAAiBrH,EAAOj2B,SACxCw+C,EAAUnlB,IAAIpD,EAAOiY,SAAW,WAAa,eAAejY,EAAO1wG,OAAOi5H,UAAU5D,UAExF,CAEA,SAASgE,EAAmB59H,GAC1B,OAAIi1G,EAAOsD,eACS,eAAXv4G,EAAE2J,MAAoC,cAAX3J,EAAE2J,KAAuB3J,EAAE2lH,cAAc,GAAGkY,QAAU79H,EAAE69H,QAG1E,eAAX79H,EAAE2J,MAAoC,cAAX3J,EAAE2J,KAAuB3J,EAAE2lH,cAAc,GAAGmY,QAAU99H,EAAE89H,OAC5F,CAEA,SAASC,EAAgB/9H,GACvB,MAAM,UACJw9H,EACA1kB,aAAcC,GACZ9D,GACE,IACJoD,GACEmlB,EACJ,IAAIQ,EACJA,GAAiBJ,EAAmB59H,GAAKq4G,EAAIrzG,SAASiwG,EAAOsD,eAAiB,OAAS,QAA2B,OAAjB4kB,EAAwBA,EAAeC,EAAW,KAAOC,EAAYD,GACtKY,EAAgBjvH,KAAKO,IAAIP,KAAKS,IAAIwuH,EAAe,GAAI,GAEjDjlB,IACFilB,EAAgB,EAAIA,GAGtB,MAAMttH,EAAWukG,EAAO4I,gBAAkB5I,EAAOoJ,eAAiBpJ,EAAO4I,gBAAkBmgB,EAC3F/oB,EAAOiJ,eAAextG,GACtBukG,EAAOsL,aAAa7vG,GACpBukG,EAAOuK,oBACPvK,EAAO0J,qBACT,CAEA,SAASsf,EAAYj+H,GACnB,MAAMuE,EAAS0wG,EAAO1wG,OAAOi5H,WACvB,UACJA,EAAS,WACT5kB,GACE3D,GACE,IACJoD,EAAG,QACHolB,GACED,EACJ9Y,GAAY,EACZyY,EAAen9H,EAAEkI,SAAWu1H,EAAQ,IAAMz9H,EAAEkI,SAAWu1H,EAAUG,EAAmB59H,GAAKA,EAAEkI,OAAOR,wBAAwButG,EAAOsD,eAAiB,OAAS,OAAS,KACpKv4G,EAAEC,iBACFD,EAAE6jG,kBACF+U,EAAWnI,WAAW,KACtBgtB,EAAQhtB,WAAW,KACnBstB,EAAgB/9H,GAChBqwF,aAAaktC,GACbllB,EAAI5H,WAAW,GAEXlsG,EAAOokB,MACT0vF,EAAIrjB,IAAI,UAAW,GAGjBigB,EAAO1wG,OAAO81G,SAChBpF,EAAO2D,WAAW5jB,IAAI,mBAAoB,QAG5CmjB,EAAK,qBAAsBn4G,EAC7B,CAEA,SAASk+H,EAAWl+H,GAClB,MAAM,UACJw9H,EAAS,WACT5kB,GACE3D,GACE,IACJoD,EAAG,QACHolB,GACED,EACC9Y,IACD1kH,EAAEC,eAAgBD,EAAEC,iBAAsBD,EAAE+2H,aAAc,EAC9DgH,EAAgB/9H,GAChB44G,EAAWnI,WAAW,GACtB4H,EAAI5H,WAAW,GACfgtB,EAAQhtB,WAAW,GACnB0H,EAAK,oBAAqBn4G,GAC5B,CAEA,SAASm+H,EAAUn+H,GACjB,MAAMuE,EAAS0wG,EAAO1wG,OAAOi5H,WACvB,UACJA,EAAS,WACT5kB,GACE3D,GACE,IACJoD,GACEmlB,EACC9Y,IACLA,GAAY,EAERzP,EAAO1wG,OAAO81G,UAChBpF,EAAO2D,WAAW5jB,IAAI,mBAAoB,IAC1C4jB,EAAWnI,WAAW,KAGpBlsG,EAAOokB,OACT0nE,aAAaktC,GACbA,EAAc/pB,GAAS,KACrB6E,EAAIrjB,IAAI,UAAW,GACnBqjB,EAAI5H,WAAW,IAAI,GAClB,MAGL0H,EAAK,mBAAoBn4G,GAErBuE,EAAO65H,eACTnpB,EAAOkO,iBAEX,CAEA,SAAShX,EAAO3rG,GACd,MAAM,UACJg9H,EAAS,iBACT1O,EAAgB,mBAChBC,EAAkB,OAClBxqH,EAAM,QACNqxG,GACEX,EACEoD,EAAMmlB,EAAUnlB,IACtB,IAAKA,EAAK,OACV,MAAMnwG,EAASmwG,EAAI,GACbgmB,KAAiBzoB,EAAQO,kBAAmB5xG,EAAO8lH,mBAAmB,CAC1EjgB,SAAS,EACTuG,SAAS,GAELwF,KAAkBP,EAAQO,kBAAmB5xG,EAAO8lH,mBAAmB,CAC3EjgB,SAAS,EACTuG,SAAS,GAEX,IAAKzoG,EAAQ,OACb,MAAMo2H,EAAyB,OAAX99H,EAAkB,mBAAqB,sBAEtDo1G,EAAQK,OAKX/tG,EAAOo2H,GAAaxP,EAAiB9qH,MAAOi6H,EAAaI,GACzDn2H,EAAOo2H,GAAaxP,EAAiBxE,KAAM4T,EAAYG,GACvDn2H,EAAOo2H,GAAaxP,EAAiB/mG,IAAKo2G,EAAWhoB,KANrDjuG,EAAOo2H,GAAavP,EAAmB/qH,MAAOi6H,EAAaI,GAC3D39H,EAAS49H,GAAavP,EAAmBzE,KAAM4T,EAAYG,GAC3D39H,EAAS49H,GAAavP,EAAmBhnG,IAAKo2G,EAAWhoB,GAM7D,CAYA,SAASruF,IACP,MAAM,UACJ01G,EACAnlB,IAAKkmB,GACHtpB,EACJA,EAAO1wG,OAAOi5H,UAAYzL,GAA0B9c,EAAQA,EAAOgW,eAAeuS,UAAWvoB,EAAO1wG,OAAOi5H,UAAW,CACpHh+H,GAAI,qBAEN,MAAM+E,EAAS0wG,EAAO1wG,OAAOi5H,UAC7B,IAAKj5H,EAAO/E,GAAI,OAChB,IAAI64G,EAAM,EAAE9zG,EAAO/E,IAEfy1G,EAAO1wG,OAAO+nH,mBAA0C,iBAAd/nH,EAAO/E,IAAmB64G,EAAI11G,OAAS,GAA0C,IAArC47H,EAAUnrB,KAAK7uG,EAAO/E,IAAImD,SAClH01G,EAAMkmB,EAAUnrB,KAAK7uG,EAAO/E,KAG9B64G,EAAI1hB,SAASse,EAAOsD,eAAiBh0G,EAAOq3H,gBAAkBr3H,EAAOs3H,eACrE,IAAI4B,EAAUplB,EAAIjF,KAAK,IAAI6B,EAAO1wG,OAAOi5H,UAAUgB,aAE5B,IAAnBf,EAAQ96H,SACV86H,EAAU,EAAE,eAAexoB,EAAO1wG,OAAOi5H,UAAUgB,qBACnDnmB,EAAIx5F,OAAO4+G,IAGbryH,OAAOswC,OAAO8hF,EAAW,CACvBnlB,MACA74G,GAAI64G,EAAI,GACRolB,UACAgB,OAAQhB,EAAQ,KAGdl5H,EAAOm6H,WAxCNzpB,EAAO1wG,OAAOi5H,UAAUh+H,IAAOy1G,EAAOuoB,UAAUh+H,IACrD2sG,EAAO,MA2CHkM,GACFA,EAAIpD,EAAOj2B,QAAU,cAAgB,YAAYi2B,EAAO1wG,OAAOi5H,UAAU5D,UAE7E,CAEA,SAASt7G,IACP,MAAM/Z,EAAS0wG,EAAO1wG,OAAOi5H,UACvBnlB,EAAMpD,EAAOuoB,UAAUnlB,IAEzBA,GACFA,EAAIhhB,YAAY4d,EAAOsD,eAAiBh0G,EAAOq3H,gBAAkBr3H,EAAOs3H,eAjDrE5mB,EAAO1wG,OAAOi5H,UAAUh+H,IAAOy1G,EAAOuoB,UAAUh+H,IACrD2sG,EAAO,MAoDT,CAhUAuiB,EAAa,CACX8O,UAAW,CACTh+H,GAAI,KACJ49H,SAAU,OACVz0G,MAAM,EACN+1G,WAAW,EACXN,eAAe,EACfxE,UAAW,wBACX4E,UAAW,wBACXG,uBAAwB,4BACxB/C,gBAAiB,8BACjBC,cAAe,+BAGnB5mB,EAAOuoB,UAAY,CACjBh+H,GAAI,KACJi/H,OAAQ,KACRpmB,IAAK,KACLolB,QAAS,MAgTXzuC,EAAG,QAAQ,MAC+B,IAApCimB,EAAO1wG,OAAOi5H,UAAUx+C,QAE1BgkB,KAEAl7E,IACAswF,IACAmI,IACF,IAEFvxB,EAAG,4CAA4C,KAC7CopB,GAAY,IAEdppB,EAAG,gBAAgB,KACjBuxB,GAAc,IAEhBvxB,EAAG,iBAAiB,CAACxmD,EAAIloB,MA5QzB,SAAuBA,GAChB20F,EAAO1wG,OAAOi5H,UAAUh+H,IAAOy1G,EAAOuoB,UAAUh+H,IACrDy1G,EAAOuoB,UAAUC,QAAQhtB,WAAWnwF,EACtC,CA0QE28F,CAAc38F,EAAS,IAEzB0uE,EAAG,kBAAkB,KACnB,MAAM,IACJqpB,GACEpD,EAAOuoB,UAEPnlB,GACFA,EAAIpD,EAAOj2B,QAAU,cAAgB,YAAYi2B,EAAO1wG,OAAOi5H,UAAU5D,UAC3E,IAEF5qC,EAAG,WAAW,KACZ1wE,GAAS,IAGX,MAYM0kF,EAAU,KACdiS,EAAOoD,IAAI1hB,SAASse,EAAO1wG,OAAOi5H,UAAUmB,wBAExC1pB,EAAOuoB,UAAUnlB,KACnBpD,EAAOuoB,UAAUnlB,IAAI1hB,SAASse,EAAO1wG,OAAOi5H,UAAUmB,wBAGxDrgH,GAAS,EAGXlT,OAAOswC,OAAOu5D,EAAOuoB,UAAW,CAC9B16B,OAvBa,KACbmS,EAAOoD,IAAIhhB,YAAY4d,EAAO1wG,OAAOi5H,UAAUmB,wBAE3C1pB,EAAOuoB,UAAUnlB,KACnBpD,EAAOuoB,UAAUnlB,IAAIhhB,YAAY4d,EAAO1wG,OAAOi5H,UAAUmB,wBAG3D72G,IACAswF,IACAmI,GAAc,EAedvd,UACAoV,aACAmI,eACAz4F,OACAxJ,WAEJ,ECjZe,UAAkB,OAC/B22F,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACXkQ,SAAU,CACR5/C,SAAS,KAIb,MAAM/9C,EAAe,CAACzhC,EAAIgzF,KACxB,MAAM,IACJumB,GACE9D,EACEoD,EAAM,EAAE74G,GACRy4H,EAAYlf,GAAO,EAAI,EACvBjmG,EAAIulG,EAAIntG,KAAK,yBAA2B,IAC9C,IAAImhB,EAAIgsF,EAAIntG,KAAK,0BACbgqB,EAAImjF,EAAIntG,KAAK,0BACjB,MAAM61B,EAAQs3E,EAAIntG,KAAK,8BACjBm6C,EAAUgzD,EAAIntG,KAAK,gCAyBzB,GAvBImhB,GAAK6I,GACP7I,EAAIA,GAAK,IACT6I,EAAIA,GAAK,KACA+/E,EAAOsD,gBAChBlsF,EAAIvZ,EACJoiB,EAAI,MAEJA,EAAIpiB,EACJuZ,EAAI,KAIJA,EADEA,EAAEtS,QAAQ,MAAQ,EACb6J,SAASyI,EAAG,IAAMmmE,EAAWylC,EAAhC,IAEG5rG,EAAImmE,EAAWylC,EAAlB,KAIJ/iG,EADEA,EAAEnb,QAAQ,MAAQ,EACb6J,SAASsR,EAAG,IAAMs9D,EAArB,IAEGt9D,EAAIs9D,EAAP,KAGF,MAAOntC,EAA6C,CACtD,MAAMqd,EAAiBrd,GAAWA,EAAU,IAAM,EAAIt2C,KAAKc,IAAI2iF,IAC/D6lB,EAAI,GAAG5nG,MAAM40C,QAAUqd,CACzB,CAEA,GAAI,MAAO3hC,EACTs3E,EAAI92E,UAAU,eAAelV,MAAM6I,eAC9B,CACL,MAAM2pG,EAAe99F,GAASA,EAAQ,IAAM,EAAIhyB,KAAKc,IAAI2iF,IACzD6lB,EAAI92E,UAAU,eAAelV,MAAM6I,iBAAiB2pG,KACtD,GAGIte,EAAe,KACnB,MAAM,IACJlI,EAAG,OACHe,EAAM,SACN5mB,EAAQ,SACR+mB,GACEtE,EACJoD,EAAI3qC,SAAS,4IAA4IukC,MAAKzyG,IAC5JyhC,EAAazhC,EAAIgzF,EAAS,IAE5B4mB,EAAOnH,MAAK,CAACod,EAAS1T,KACpB,IAAIiC,EAAgByR,EAAQ78B,SAExByiB,EAAO1wG,OAAO82G,eAAiB,GAAqC,SAAhCpG,EAAO1wG,OAAOq2G,gBACpDgD,GAAiB7uG,KAAKwkC,KAAKooE,EAAa,GAAKnpB,GAAY+mB,EAAS52G,OAAS,IAG7Ei7G,EAAgB7uG,KAAKS,IAAIT,KAAKO,IAAIsuG,GAAgB,GAAI,GACtD,EAAEyR,GAASjc,KAAK,4IAA4InB,MAAKzyG,IAC/JyhC,EAAazhC,EAAIo+G,EAAc,GAC/B,GACF,EAeJ5uB,EAAG,cAAc,KACVimB,EAAO1wG,OAAOq6H,SAAS5/C,UAC5Bi2B,EAAO1wG,OAAOi4G,qBAAsB,EACpCvH,EAAOgW,eAAezO,qBAAsB,EAAI,IAElDxtB,EAAG,QAAQ,KACJimB,EAAO1wG,OAAOq6H,SAAS5/C,SAC5BuhC,GAAc,IAEhBvxB,EAAG,gBAAgB,KACZimB,EAAO1wG,OAAOq6H,SAAS5/C,SAC5BuhC,GAAc,IAEhBvxB,EAAG,iBAAiB,CAAC8vC,EAASx+G,KACvB20F,EAAO1wG,OAAOq6H,SAAS5/C,SA1BR,EAAC1+D,EAAW20F,EAAO1wG,OAAO49E,SAC9C,MAAM,IACJk2B,GACEpD,EACJoD,EAAIjF,KAAK,4IAA4InB,MAAK8sB,IACxJ,MAAMC,EAAc,EAAED,GACtB,IAAIE,EAAmBr7G,SAASo7G,EAAY9zH,KAAK,iCAAkC,KAAOoV,EACzE,IAAbA,IAAgB2+G,EAAmB,GACvCD,EAAYvuB,WAAWwuB,EAAiB,GACxC,EAkBFhiB,CAAc38F,EAAS,GAE3B,EC9Ge,UAAc,OAC3B20F,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAEA,MAAM91G,EAAS,IACfqsH,EAAa,CACX7qH,KAAM,CACJm7E,SAAS,EACTkgD,SAAU,EACVrT,SAAU,EACVz0B,QAAQ,EACR+nC,eAAgB,wBAChBC,iBAAkB,yBAGtBnqB,EAAOpxG,KAAO,CACZm7E,SAAS,GAEX,IAEIqgD,EACAC,EACAC,EAJAV,EAAe,EACfW,GAAY,EAIhB,MAAMC,EAAU,CACdnM,cAAU3vG,EACV+7G,gBAAY/7G,EACZg8G,iBAAah8G,EACbi8G,cAAUj8G,EACVk8G,kBAAcl8G,EACdu7G,SAAU,GAENrR,EAAQ,CACZnJ,eAAW/gG,EACXghG,aAAShhG,EACT8J,cAAU9J,EACVkiG,cAAUliG,EACVm8G,UAAMn8G,EACNo8G,UAAMp8G,EACNq8G,UAAMr8G,EACNs8G,UAAMt8G,EACN7H,WAAO6H,EACP5H,YAAQ4H,EACRoiG,YAAQpiG,EACRqiG,YAAQriG,EACRu8G,aAAc,CAAC,EACfC,eAAgB,CAAC,GAEbhnD,EAAW,CACf9sD,OAAG1I,EACHuR,OAAGvR,EACHy8G,mBAAez8G,EACf08G,mBAAe18G,EACf28G,cAAU38G,GAEZ,IAAIod,EAAQ,EAkBZ,SAASw/F,EAA0BvgI,GACjC,GAAIA,EAAE2lH,cAAchjH,OAAS,EAAG,OAAO,EACvC,MAAMosB,EAAK/uB,EAAE2lH,cAAc,GAAGC,MACxB52F,EAAKhvB,EAAE2lH,cAAc,GAAGG,MACxB72F,EAAKjvB,EAAE2lH,cAAc,GAAGC,MACxB12F,EAAKlvB,EAAE2lH,cAAc,GAAGG,MAE9B,OADiB/2G,KAAKG,MAAM+f,EAAKF,IAAO,GAAKG,EAAKF,IAAO,EAE3D,CAGA,SAASwxG,EAAexgI,GACtB,MAAM41G,EAAUX,EAAOW,QACjBrxG,EAAS0wG,EAAO1wG,OAAOV,KAI7B,GAHAy7H,GAAqB,EACrBC,GAAmB,GAEd3pB,EAAQU,SAAU,CACrB,GAAe,eAAXt2G,EAAE2J,MAAoC,eAAX3J,EAAE2J,MAAyB3J,EAAE2lH,cAAchjH,OAAS,EACjF,OAGF28H,GAAqB,EACrBG,EAAQgB,WAAaF,EAA0BvgI,EACjD,CAEKy/H,EAAQnM,UAAamM,EAAQnM,SAAS3wH,SACzC88H,EAAQnM,SAAW,EAAEtzH,EAAEkI,QAAQ0lG,QAAQ,IAAIqH,EAAO1wG,OAAO80G,cACzB,IAA5BomB,EAAQnM,SAAS3wH,SAAc88H,EAAQnM,SAAWre,EAAOmE,OAAO5G,GAAGyC,EAAOmI,cAC9EqiB,EAAQG,SAAWH,EAAQnM,SAASlgB,KAAK,IAAI7uG,EAAO46H,kBAAkB3sB,GAAG,GAAGY,KAAK,kDAAkDZ,GAAG,GACtIitB,EAAQI,aAAeJ,EAAQG,SAAStoF,OAAO,IAAI/yC,EAAO46H,kBAC1DM,EAAQP,SAAWO,EAAQI,aAAa30H,KAAK,qBAAuB3G,EAAO26H,SAEvC,IAAhCO,EAAQI,aAAal9H,SAMvB88H,EAAQG,UACVH,EAAQG,SAASnvB,WAAW,GAG9B+uB,GAAY,GATRC,EAAQG,cAAWj8G,CAUzB,CAEA,SAAS+8G,EAAgB1gI,GACvB,MAAM41G,EAAUX,EAAOW,QACjBrxG,EAAS0wG,EAAO1wG,OAAOV,KACvBA,EAAOoxG,EAAOpxG,KAEpB,IAAK+xG,EAAQU,SAAU,CACrB,GAAe,cAAXt2G,EAAE2J,MAAmC,cAAX3J,EAAE2J,MAAwB3J,EAAE2lH,cAAchjH,OAAS,EAC/E,OAGF48H,GAAmB,EACnBE,EAAQkB,UAAYJ,EAA0BvgI,EAChD,CAEKy/H,EAAQG,UAAwC,IAA5BH,EAAQG,SAASj9H,QAKtCizG,EAAQU,SACVzyG,EAAKk9B,MAAQ/gC,EAAE+gC,MAAQ89F,EAEvBh7H,EAAKk9B,MAAQ0+F,EAAQkB,UAAYlB,EAAQgB,WAAa5B,EAGpDh7H,EAAKk9B,MAAQ0+F,EAAQP,WACvBr7H,EAAKk9B,MAAQ0+F,EAAQP,SAAW,GAAKr7H,EAAKk9B,MAAQ0+F,EAAQP,SAAW,IAAM,IAGzEr7H,EAAKk9B,MAAQx8B,EAAOsnH,WACtBhoH,EAAKk9B,MAAQx8B,EAAOsnH,SAAW,GAAKtnH,EAAOsnH,SAAWhoH,EAAKk9B,MAAQ,IAAM,IAG3E0+F,EAAQG,SAASr+F,UAAU,4BAA4B19B,EAAKk9B,WAlB3C,kBAAX/gC,EAAE2J,MAA0B62H,EAAexgI,EAmBnD,CAEA,SAAS4gI,EAAa5gI,GACpB,MAAM42G,EAAS3B,EAAO2B,OAChBhB,EAAUX,EAAOW,QACjBrxG,EAAS0wG,EAAO1wG,OAAOV,KACvBA,EAAOoxG,EAAOpxG,KAEpB,IAAK+xG,EAAQU,SAAU,CACrB,IAAKgpB,IAAuBC,EAC1B,OAGF,GAAe,aAAXv/H,EAAE2J,MAAkC,aAAX3J,EAAE2J,MAAuB3J,EAAEonH,eAAezkH,OAAS,IAAMi0G,EAAOE,QAC3F,OAGFwoB,GAAqB,EACrBC,GAAmB,CACrB,CAEKE,EAAQG,UAAwC,IAA5BH,EAAQG,SAASj9H,SAC1CkB,EAAKk9B,MAAQhyB,KAAKO,IAAIP,KAAKS,IAAI3L,EAAKk9B,MAAO0+F,EAAQP,UAAW36H,EAAOsnH,UACrE4T,EAAQG,SAASnvB,WAAWwE,EAAO1wG,OAAO49E,OAAO5gD,UAAU,4BAA4B19B,EAAKk9B,UAC5F89F,EAAeh7H,EAAKk9B,MACpBy+F,GAAY,EACO,IAAf37H,EAAKk9B,QAAa0+F,EAAQnM,cAAW3vG,GAC3C,CAYA,SAASujG,EAAYlnH,GACnB,MAAM6D,EAAOoxG,EAAOpxG,KACpB,IAAK47H,EAAQG,UAAwC,IAA5BH,EAAQG,SAASj9H,OAAc,OAExD,GADAsyG,EAAOwQ,YAAa,GACfoI,EAAMnJ,YAAc+a,EAAQnM,SAAU,OAEtCzF,EAAMlJ,UACTkJ,EAAM/xG,MAAQ2jH,EAAQG,SAAS,GAAG14H,YAClC2mH,EAAM9xG,OAAS0jH,EAAQG,SAAS,GAAGr1D,aACnCsjD,EAAM9H,OAASrS,EAAa+rB,EAAQI,aAAa,GAAI,MAAQ,EAC7DhS,EAAM7H,OAAStS,EAAa+rB,EAAQI,aAAa,GAAI,MAAQ,EAC7DJ,EAAQC,WAAaD,EAAQnM,SAAS,GAAGpsH,YACzCu4H,EAAQE,YAAcF,EAAQnM,SAAS,GAAG/oD,aAC1Ck1D,EAAQI,aAAapvB,WAAW,IAIlC,MAAMowB,EAAchT,EAAM/xG,MAAQjY,EAAKk9B,MACjC+/F,EAAejT,EAAM9xG,OAASlY,EAAKk9B,MACzC,KAAI8/F,EAAcpB,EAAQC,YAAcoB,EAAerB,EAAQE,aAA/D,CAQA,GAPA9R,EAAMiS,KAAO/wH,KAAKS,IAAIiwH,EAAQC,WAAa,EAAImB,EAAc,EAAG,GAChEhT,EAAMmS,MAAQnS,EAAMiS,KACpBjS,EAAMkS,KAAOhxH,KAAKS,IAAIiwH,EAAQE,YAAc,EAAImB,EAAe,EAAG,GAClEjT,EAAMoS,MAAQpS,EAAMkS,KACpBlS,EAAMsS,eAAe9zG,EAAe,cAAXrsB,EAAE2J,KAAuB3J,EAAE2lH,cAAc,GAAGC,MAAQ5lH,EAAE4lH,MAC/EiI,EAAMsS,eAAejrG,EAAe,cAAXl1B,EAAE2J,KAAuB3J,EAAE2lH,cAAc,GAAGG,MAAQ9lH,EAAE8lH,OAE1E+H,EAAMlJ,UAAY6a,EAAW,CAChC,GAAIvqB,EAAOsD,iBAAmBxpG,KAAKK,MAAMy+G,EAAMiS,QAAU/wH,KAAKK,MAAMy+G,EAAM9H,SAAW8H,EAAMsS,eAAe9zG,EAAIwhG,EAAMqS,aAAa7zG,GAAKtd,KAAKK,MAAMy+G,EAAMmS,QAAUjxH,KAAKK,MAAMy+G,EAAM9H,SAAW8H,EAAMsS,eAAe9zG,EAAIwhG,EAAMqS,aAAa7zG,GAEvO,YADAwhG,EAAMnJ,WAAY,GAIpB,IAAKzP,EAAOsD,iBAAmBxpG,KAAKK,MAAMy+G,EAAMkS,QAAUhxH,KAAKK,MAAMy+G,EAAM7H,SAAW6H,EAAMsS,eAAejrG,EAAI24F,EAAMqS,aAAahrG,GAAKnmB,KAAKK,MAAMy+G,EAAMoS,QAAUlxH,KAAKK,MAAMy+G,EAAM7H,SAAW6H,EAAMsS,eAAejrG,EAAI24F,EAAMqS,aAAahrG,GAExO,YADA24F,EAAMnJ,WAAY,EAGtB,CAEI1kH,EAAE+tF,YACJ/tF,EAAEC,iBAGJD,EAAE6jG,kBACFgqB,EAAMlJ,SAAU,EAChBkJ,EAAMpgG,SAAWogG,EAAMsS,eAAe9zG,EAAIwhG,EAAMqS,aAAa7zG,EAAIwhG,EAAM9H,OACvE8H,EAAMhI,SAAWgI,EAAMsS,eAAejrG,EAAI24F,EAAMqS,aAAahrG,EAAI24F,EAAM7H,OAEnE6H,EAAMpgG,SAAWogG,EAAMiS,OACzBjS,EAAMpgG,SAAWogG,EAAMiS,KAAO,GAAKjS,EAAMiS,KAAOjS,EAAMpgG,SAAW,IAAM,IAGrEogG,EAAMpgG,SAAWogG,EAAMmS,OACzBnS,EAAMpgG,SAAWogG,EAAMmS,KAAO,GAAKnS,EAAMpgG,SAAWogG,EAAMmS,KAAO,IAAM,IAGrEnS,EAAMhI,SAAWgI,EAAMkS,OACzBlS,EAAMhI,SAAWgI,EAAMkS,KAAO,GAAKlS,EAAMkS,KAAOlS,EAAMhI,SAAW,IAAM,IAGrEgI,EAAMhI,SAAWgI,EAAMoS,OACzBpS,EAAMhI,SAAWgI,EAAMoS,KAAO,GAAKpS,EAAMhI,SAAWgI,EAAMoS,KAAO,IAAM,IAIpE9mD,EAASinD,gBAAejnD,EAASinD,cAAgBvS,EAAMsS,eAAe9zG,GACtE8sD,EAASknD,gBAAelnD,EAASknD,cAAgBxS,EAAMsS,eAAejrG,GACtEikD,EAASmnD,WAAUnnD,EAASmnD,SAAWx9H,KAAK81C,OACjDugC,EAAS9sD,GAAKwhG,EAAMsS,eAAe9zG,EAAI8sD,EAASinD,gBAAkBt9H,KAAK81C,MAAQugC,EAASmnD,UAAY,EACpGnnD,EAASjkD,GAAK24F,EAAMsS,eAAejrG,EAAIikD,EAASknD,gBAAkBv9H,KAAK81C,MAAQugC,EAASmnD,UAAY,EAChGvxH,KAAKc,IAAIg+G,EAAMsS,eAAe9zG,EAAI8sD,EAASinD,eAAiB,IAAGjnD,EAAS9sD,EAAI,GAC5Etd,KAAKc,IAAIg+G,EAAMsS,eAAejrG,EAAIikD,EAASknD,eAAiB,IAAGlnD,EAASjkD,EAAI,GAChFikD,EAASinD,cAAgBvS,EAAMsS,eAAe9zG,EAC9C8sD,EAASknD,cAAgBxS,EAAMsS,eAAejrG,EAC9CikD,EAASmnD,SAAWx9H,KAAK81C,MACzB6mF,EAAQI,aAAat+F,UAAU,eAAessF,EAAMpgG,eAAeogG,EAAMhI,gBAxDS,CAyDpF,CAsCA,SAASkb,IACP,MAAMl9H,EAAOoxG,EAAOpxG,KAEhB47H,EAAQnM,UAAYre,EAAOyK,gBAAkBzK,EAAOmI,cAClDqiB,EAAQG,UACVH,EAAQG,SAASr+F,UAAU,+BAGzBk+F,EAAQI,cACVJ,EAAQI,aAAat+F,UAAU,sBAGjC19B,EAAKk9B,MAAQ,EACb89F,EAAe,EACfY,EAAQnM,cAAW3vG,EACnB87G,EAAQG,cAAWj8G,EACnB87G,EAAQI,kBAAel8G,EAE3B,CAEA,SAASq9G,EAAOhhI,GACd,MAAM6D,EAAOoxG,EAAOpxG,KACdU,EAAS0wG,EAAO1wG,OAAOV,KAmB7B,GAjBK47H,EAAQnM,WACPtzH,GAAKA,EAAEkI,SACTu3H,EAAQnM,SAAW,EAAEtzH,EAAEkI,QAAQ0lG,QAAQ,IAAIqH,EAAO1wG,OAAO80G,eAGtDomB,EAAQnM,WACPre,EAAO1wG,OAAO20G,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,SAAWi2B,EAAOiE,QACnEumB,EAAQnM,SAAWre,EAAO2D,WAAWlrC,SAAS,IAAIunC,EAAO1wG,OAAOu6G,oBAEhE2gB,EAAQnM,SAAWre,EAAOmE,OAAO5G,GAAGyC,EAAOmI,cAI/CqiB,EAAQG,SAAWH,EAAQnM,SAASlgB,KAAK,IAAI7uG,EAAO46H,kBAAkB3sB,GAAG,GAAGY,KAAK,kDAAkDZ,GAAG,GACtIitB,EAAQI,aAAeJ,EAAQG,SAAStoF,OAAO,IAAI/yC,EAAO46H,oBAGvDM,EAAQG,UAAwC,IAA5BH,EAAQG,SAASj9H,SAAiB88H,EAAQI,cAAgD,IAAhCJ,EAAQI,aAAal9H,OAAc,OAQtH,IAAIs+H,EACAC,EACAC,EACAC,EACA7Z,EACAC,EACA6Z,EACAC,EACAC,EACAC,EACAX,EACAC,EACAW,EACAC,EACAC,EACAC,EACAlC,EACAC,EAvBA1qB,EAAO1wG,OAAO81G,UAChBpF,EAAOI,UAAU5kG,MAAMy/D,SAAW,SAClC+kC,EAAOI,UAAU5kG,MAAMoxH,YAAc,QAGvCpC,EAAQnM,SAAS38B,SAAS,GAAGpyF,EAAO66H,yBAoBA,IAAzBvR,EAAMqS,aAAa7zG,GAAqBrsB,GACjDihI,EAAoB,aAAXjhI,EAAE2J,KAAsB3J,EAAEonH,eAAe,GAAGxB,MAAQ5lH,EAAE4lH,MAC/Dsb,EAAoB,aAAXlhI,EAAE2J,KAAsB3J,EAAEonH,eAAe,GAAGtB,MAAQ9lH,EAAE8lH,QAE/Dmb,EAASpT,EAAMqS,aAAa7zG,EAC5B60G,EAASrT,EAAMqS,aAAahrG,GAG9BrxB,EAAKk9B,MAAQ0+F,EAAQI,aAAa30H,KAAK,qBAAuB3G,EAAO26H,SACrEL,EAAeY,EAAQI,aAAa30H,KAAK,qBAAuB3G,EAAO26H,SAEnEl/H,GACF0/H,EAAaD,EAAQnM,SAAS,GAAGpsH,YACjCy4H,EAAcF,EAAQnM,SAAS,GAAG/oD,aAClC42D,EAAU1B,EAAQnM,SAAStuH,SAASoC,KAAO/E,EAAOgnG,QAClD+3B,EAAU3B,EAAQnM,SAAStuH,SAASqC,IAAMhF,EAAOuE,QACjD2gH,EAAQ4Z,EAAUzB,EAAa,EAAIuB,EACnCzZ,EAAQ4Z,EAAUzB,EAAc,EAAIuB,EACpCK,EAAa9B,EAAQG,SAAS,GAAG14H,YACjCs6H,EAAc/B,EAAQG,SAAS,GAAGr1D,aAClCs2D,EAAcU,EAAa19H,EAAKk9B,MAChC+/F,EAAeU,EAAc39H,EAAKk9B,MAClC0gG,EAAgB1yH,KAAKS,IAAIkwH,EAAa,EAAImB,EAAc,EAAG,GAC3Da,EAAgB3yH,KAAKS,IAAImwH,EAAc,EAAImB,EAAe,EAAG,GAC7Da,GAAiBF,EACjBG,GAAiBF,EACjBL,EAAa9Z,EAAQ1jH,EAAKk9B,MAC1BugG,EAAa9Z,EAAQ3jH,EAAKk9B,MAEtBsgG,EAAaI,IACfJ,EAAaI,GAGXJ,EAAaM,IACfN,EAAaM,GAGXL,EAAaI,IACfJ,EAAaI,GAGXJ,EAAaM,IACfN,EAAaM,KAGfP,EAAa,EACbC,EAAa,GAGf7B,EAAQI,aAAapvB,WAAW,KAAKlvE,UAAU,eAAe8/F,QAAiBC,UAC/E7B,EAAQG,SAASnvB,WAAW,KAAKlvE,UAAU,4BAA4B19B,EAAKk9B,SAC9E,CAEA,SAAS+gG,IACP,MAAMj+H,EAAOoxG,EAAOpxG,KACdU,EAAS0wG,EAAO1wG,OAAOV,KAExB47H,EAAQnM,WACPre,EAAO1wG,OAAO20G,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,SAAWi2B,EAAOiE,QACnEumB,EAAQnM,SAAWre,EAAO2D,WAAWlrC,SAAS,IAAIunC,EAAO1wG,OAAOu6G,oBAEhE2gB,EAAQnM,SAAWre,EAAOmE,OAAO5G,GAAGyC,EAAOmI,aAG7CqiB,EAAQG,SAAWH,EAAQnM,SAASlgB,KAAK,IAAI7uG,EAAO46H,kBAAkB3sB,GAAG,GAAGY,KAAK,kDAAkDZ,GAAG,GACtIitB,EAAQI,aAAeJ,EAAQG,SAAStoF,OAAO,IAAI/yC,EAAO46H,mBAGvDM,EAAQG,UAAwC,IAA5BH,EAAQG,SAASj9H,QAAiB88H,EAAQI,cAAgD,IAAhCJ,EAAQI,aAAal9H,SAEpGsyG,EAAO1wG,OAAO81G,UAChBpF,EAAOI,UAAU5kG,MAAMy/D,SAAW,GAClC+kC,EAAOI,UAAU5kG,MAAMoxH,YAAc,IAGvCh+H,EAAKk9B,MAAQ,EACb89F,EAAe,EACfY,EAAQI,aAAapvB,WAAW,KAAKlvE,UAAU,sBAC/Ck+F,EAAQG,SAASnvB,WAAW,KAAKlvE,UAAU,+BAC3Ck+F,EAAQnM,SAASj8B,YAAY,GAAG9yF,EAAO66H,oBACvCK,EAAQnM,cAAW3vG,EACrB,CAGA,SAASo+G,EAAW/hI,GAClB,MAAM6D,EAAOoxG,EAAOpxG,KAEhBA,EAAKk9B,OAAwB,IAAfl9B,EAAKk9B,MAErB+gG,IAGAd,EAAOhhI,EAEX,CAEA,SAASgiI,IACP,MAAMpsB,EAAUX,EAAOW,QASvB,MAAO,CACLO,kBATmD,eAA7BlB,EAAOiV,YAAYlmH,QAA0B4xG,EAAQO,kBAAmBlB,EAAO1wG,OAAO8lH,mBAAmB,CAC/HjgB,SAAS,EACTuG,SAAS,GAQTsxB,2BANgCrsB,EAAQO,iBAAkB,CAC1D/L,SAAS,EACTuG,SAAS,GAMb,CAEA,SAASuxB,IACP,MAAO,IAAIjtB,EAAO1wG,OAAO80G,YAC3B,CAEA,SAAS8oB,EAAe3hI,GACtB,MAAM,gBACJ21G,GACE6rB,IACEI,EAAgBF,IACtBjtB,EAAO2D,WAAWp4G,GAAQ,eAAgB4hI,EAAe5B,EAAgBrqB,GACzElB,EAAO2D,WAAWp4G,GAAQ,gBAAiB4hI,EAAe1B,EAAiBvqB,GAC3ElB,EAAO2D,WAAWp4G,GAAQ,aAAc4hI,EAAexB,EAAczqB,EACvE,CAEA,SAASksB,IACHhD,IACJA,GAAkB,EAClB8C,EAAe,MACjB,CAEA,SAASG,IACFjD,IACLA,GAAkB,EAClB8C,EAAe,OACjB,CAGA,SAASr/B,IACP,MAAMj/F,EAAOoxG,EAAOpxG,KACpB,GAAIA,EAAKm7E,QAAS,OAClBn7E,EAAKm7E,SAAU,EACf,MAAM42B,EAAUX,EAAOW,SACjB,gBACJO,EAAe,0BACf8rB,GACED,IACEI,EAAgBF,IAElBtsB,EAAQU,UACVrB,EAAO2D,WAAW5pB,GAAGimB,EAAOiV,YAAYlmH,MAAOq+H,EAAgBlsB,GAC/DlB,EAAO2D,WAAW5pB,GAAGimB,EAAOiV,YAAYniG,IAAKu6G,EAAiBnsB,IACxB,eAA7BlB,EAAOiV,YAAYlmH,QAC5BixG,EAAO2D,WAAW5pB,GAAGimB,EAAOiV,YAAYlmH,MAAOo+H,EAAe5B,EAAgBrqB,GAC9ElB,EAAO2D,WAAW5pB,GAAGimB,EAAOiV,YAAYI,KAAM8X,EAAe1B,EAAiBuB,GAC9EhtB,EAAO2D,WAAW5pB,GAAGimB,EAAOiV,YAAYniG,IAAKq6G,EAAexB,EAAczqB,GAEtElB,EAAOiV,YAAYK,QACrBtV,EAAO2D,WAAW5pB,GAAGimB,EAAOiV,YAAYK,OAAQ6X,EAAexB,EAAczqB,IAKjFlB,EAAO2D,WAAW5pB,GAAGimB,EAAOiV,YAAYI,KAAM,IAAIrV,EAAO1wG,OAAOV,KAAKs7H,iBAAkBjY,EAAa+a,EACtG,CAEA,SAASj/B,IACP,MAAMn/F,EAAOoxG,EAAOpxG,KACpB,IAAKA,EAAKm7E,QAAS,OACnB,MAAM42B,EAAUX,EAAOW,QACvB/xG,EAAKm7E,SAAU,EACf,MAAM,gBACJm3B,EAAe,0BACf8rB,GACED,IACEI,EAAgBF,IAElBtsB,EAAQU,UACVrB,EAAO2D,WAAWzpB,IAAI8lB,EAAOiV,YAAYlmH,MAAOq+H,EAAgBlsB,GAChElB,EAAO2D,WAAWzpB,IAAI8lB,EAAOiV,YAAYniG,IAAKu6G,EAAiBnsB,IACzB,eAA7BlB,EAAOiV,YAAYlmH,QAC5BixG,EAAO2D,WAAWzpB,IAAI8lB,EAAOiV,YAAYlmH,MAAOo+H,EAAe5B,EAAgBrqB,GAC/ElB,EAAO2D,WAAWzpB,IAAI8lB,EAAOiV,YAAYI,KAAM8X,EAAe1B,EAAiBuB,GAC/EhtB,EAAO2D,WAAWzpB,IAAI8lB,EAAOiV,YAAYniG,IAAKq6G,EAAexB,EAAczqB,GAEvElB,EAAOiV,YAAYK,QACrBtV,EAAO2D,WAAWzpB,IAAI8lB,EAAOiV,YAAYK,OAAQ6X,EAAexB,EAAczqB,IAKlFlB,EAAO2D,WAAWzpB,IAAI8lB,EAAOiV,YAAYI,KAAM,IAAIrV,EAAO1wG,OAAOV,KAAKs7H,iBAAkBjY,EAAa+a,EACvG,CA/fA72H,OAAOolE,eAAeykC,EAAOpxG,KAAM,QAAS,CAC1CuoB,IAAG,IACM2U,EAGT,GAAAuuE,CAAItmG,GACF,GAAI+3B,IAAU/3B,EAAO,CACnB,MAAMykH,EAAUgS,EAAQG,SAAWH,EAAQG,SAAS,QAAKj8G,EACnD0rG,EAAUoQ,EAAQnM,SAAWmM,EAAQnM,SAAS,QAAK3vG,EACzDw0F,EAAK,aAAcnvG,EAAOykH,EAAS4B,EACrC,CAEAtuF,EAAQ/3B,CACV,IAofFgmF,EAAG,QAAQ,KACLimB,EAAO1wG,OAAOV,KAAKm7E,SACrB8jB,GACF,IAEF9T,EAAG,WAAW,KACZgU,GAAS,IAEXhU,EAAG,cAAc,CAACxmD,EAAIxoC,KACfi1G,EAAOpxG,KAAKm7E,SA5YnB,SAAsBh/E,GACpB,MAAM42G,EAAS3B,EAAO2B,OACjB6oB,EAAQG,UAAwC,IAA5BH,EAAQG,SAASj9H,SACtCkrH,EAAMnJ,YACN9N,EAAOE,SAAW92G,EAAE+tF,YAAY/tF,EAAEC,iBACtC4tH,EAAMnJ,WAAY,EAClBmJ,EAAMqS,aAAa7zG,EAAe,eAAXrsB,EAAE2J,KAAwB3J,EAAE2lH,cAAc,GAAGC,MAAQ5lH,EAAE4lH,MAC9EiI,EAAMqS,aAAahrG,EAAe,eAAXl1B,EAAE2J,KAAwB3J,EAAE2lH,cAAc,GAAGG,MAAQ9lH,EAAE8lH,OAChF,CAqYE5B,CAAalkH,EAAE,IAEjBgvF,EAAG,YAAY,CAACxmD,EAAIxoC,KACbi1G,EAAOpxG,KAAKm7E,SAxTnB,WACE,MAAMn7E,EAAOoxG,EAAOpxG,KACpB,IAAK47H,EAAQG,UAAwC,IAA5BH,EAAQG,SAASj9H,OAAc,OAExD,IAAKkrH,EAAMnJ,YAAcmJ,EAAMlJ,QAG7B,OAFAkJ,EAAMnJ,WAAY,OAClBmJ,EAAMlJ,SAAU,GAIlBkJ,EAAMnJ,WAAY,EAClBmJ,EAAMlJ,SAAU,EAChB,IAAI4d,EAAoB,IACpBC,EAAoB,IACxB,MAAMC,EAAoBtpD,EAAS9sD,EAAIk2G,EACjCG,EAAe7U,EAAMpgG,SAAWg1G,EAChCE,EAAoBxpD,EAASjkD,EAAIstG,EACjCI,EAAe/U,EAAMhI,SAAW8c,EAEnB,IAAfxpD,EAAS9sD,IAASk2G,EAAoBxzH,KAAKc,KAAK6yH,EAAe7U,EAAMpgG,UAAY0rD,EAAS9sD,IAC3E,IAAf8sD,EAASjkD,IAASstG,EAAoBzzH,KAAKc,KAAK+yH,EAAe/U,EAAMhI,UAAY1sC,EAASjkD,IAC9F,MAAM2tG,EAAmB9zH,KAAKO,IAAIizH,EAAmBC,GACrD3U,EAAMpgG,SAAWi1G,EACjB7U,EAAMhI,SAAW+c,EAEjB,MAAM/B,EAAchT,EAAM/xG,MAAQjY,EAAKk9B,MACjC+/F,EAAejT,EAAM9xG,OAASlY,EAAKk9B,MACzC8sF,EAAMiS,KAAO/wH,KAAKS,IAAIiwH,EAAQC,WAAa,EAAImB,EAAc,EAAG,GAChEhT,EAAMmS,MAAQnS,EAAMiS,KACpBjS,EAAMkS,KAAOhxH,KAAKS,IAAIiwH,EAAQE,YAAc,EAAImB,EAAe,EAAG,GAClEjT,EAAMoS,MAAQpS,EAAMkS,KACpBlS,EAAMpgG,SAAW1e,KAAKO,IAAIP,KAAKS,IAAIq+G,EAAMpgG,SAAUogG,EAAMmS,MAAOnS,EAAMiS,MACtEjS,EAAMhI,SAAW92G,KAAKO,IAAIP,KAAKS,IAAIq+G,EAAMhI,SAAUgI,EAAMoS,MAAOpS,EAAMkS,MACtEN,EAAQI,aAAapvB,WAAWoyB,GAAkBthG,UAAU,eAAessF,EAAMpgG,eAAeogG,EAAMhI,gBACxG,CAuREwC,EAAa,IAEfr5B,EAAG,aAAa,CAACxmD,EAAIxoC,MACdi1G,EAAO6L,WAAa7L,EAAO1wG,OAAOV,KAAKm7E,SAAWi2B,EAAOpxG,KAAKm7E,SAAWi2B,EAAO1wG,OAAOV,KAAKuzF,QAC/F2qC,EAAW/hI,EACb,IAEFgvF,EAAG,iBAAiB,KACdimB,EAAOpxG,KAAKm7E,SAAWi2B,EAAO1wG,OAAOV,KAAKm7E,SAC5C+hD,GACF,IAEF/xC,EAAG,eAAe,KACZimB,EAAOpxG,KAAKm7E,SAAWi2B,EAAO1wG,OAAOV,KAAKm7E,SAAWi2B,EAAO1wG,OAAO81G,SACrE0mB,GACF,IAEF31H,OAAOswC,OAAOu5D,EAAOpxG,KAAM,CACzBi/F,SACAE,UACA8/B,GAAI9B,EACJxqG,IAAKsrG,EACL1qC,OAAQ2qC,GAEZ,ECjmBe,UAAc,OAC3B9sB,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAEAuW,EAAa,CACXoG,KAAM,CACJiO,aAAa,EACb/jD,SAAS,EACTgkD,cAAc,EACdC,mBAAoB,EACpBC,uBAAuB,EACvBC,iBAAkB,GAClBC,aAAc,cACdC,aAAc,sBACdC,YAAa,qBACbC,eAAgB,2BAGpBtuB,EAAO6f,KAAO,CAAC,EACf,IAAI0O,GAAwB,EACxBC,GAAqB,EAEzB,SAASC,EAAY36G,EAAO46G,GAAkB,GAC5C,MAAMp/H,EAAS0wG,EAAO1wG,OAAOuwH,KAC7B,QAAqB,IAAV/rG,EAAuB,OAClC,GAA6B,IAAzBksF,EAAOmE,OAAOz2G,OAAc,OAChC,MACM2wH,EADYre,EAAOiE,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,QAC7Bi2B,EAAO2D,WAAWlrC,SAAS,IAAIunC,EAAO1wG,OAAO80G,uCAAuCtwF,OAAaksF,EAAOmE,OAAO5G,GAAGzpF,GACzI66G,EAAUtQ,EAASlgB,KAAK,IAAI7uG,EAAO6+H,qBAAqB7+H,EAAO++H,qBAAqB/+H,EAAO8+H,kBAE7F/P,EAAS3mB,SAASpoG,EAAO6+H,eAAkB9P,EAAS3mB,SAASpoG,EAAO++H,cAAiBhQ,EAAS3mB,SAASpoG,EAAO8+H,eAChHO,EAAQv3H,KAAKinH,EAAS,IAGD,IAAnBsQ,EAAQjhI,QACZihI,EAAQ3xB,MAAKwb,IACX,MAAMmS,EAAW,EAAEnS,GACnBmS,EAASjpC,SAASpyF,EAAO8+H,cACzB,MAAMQ,EAAajE,EAAS10H,KAAK,mBAC3B3E,EAAMq5H,EAAS10H,KAAK,YACpBwiH,EAASkS,EAAS10H,KAAK,eACvByiH,EAAQiS,EAAS10H,KAAK,cACtB44H,EAAalE,EAAStoF,OAAO,WACnC29D,EAAOuY,UAAUoS,EAAS,GAAIr5H,GAAOs9H,EAAYnW,EAAQC,GAAO,GAAO,KACrE,GAAI,MAAO1Y,GAA8CA,KAAUA,GAAWA,EAAO1wG,UAAU0wG,EAAOl4C,UAAtG,CAoCA,GAlCI8mE,GACFjE,EAAS5qC,IAAI,mBAAoB,QAAQ6uC,OACzCjE,EAASpvB,WAAW,qBAEhBkd,IACFkS,EAAS10H,KAAK,SAAUwiH,GACxBkS,EAASpvB,WAAW,gBAGlBmd,IACFiS,EAAS10H,KAAK,QAASyiH,GACvBiS,EAASpvB,WAAW,eAGlBszB,EAAWnhI,QACbmhI,EAAWp2D,SAAS,UAAUukC,MAAK8xB,IACjC,MAAMC,EAAU,EAAED,GAEdC,EAAQ94H,KAAK,iBACf84H,EAAQ94H,KAAK,SAAU84H,EAAQ94H,KAAK,gBACpC84H,EAAQxzB,WAAW,eACrB,IAIAjqG,IACFq5H,EAAS10H,KAAK,MAAO3E,GACrBq5H,EAASpvB,WAAW,cAIxBovB,EAASjpC,SAASpyF,EAAO++H,aAAajsC,YAAY9yF,EAAO8+H,cACzD/P,EAASlgB,KAAK,IAAI7uG,EAAOg/H,kBAAkB7hI,SAEvCuzG,EAAO1wG,OAAO4d,MAAQwhH,EAAiB,CACzC,MAAMM,EAAqB3Q,EAASpoH,KAAK,2BAEzC,GAAIooH,EAAS3mB,SAASsI,EAAO1wG,OAAO66G,qBAAsB,CAExDskB,EADsBzuB,EAAO2D,WAAWlrC,SAAS,6BAA6Bu2D,YAA6BhvB,EAAO1wG,OAAO66G,wBAC/Fr2F,SAAS,EACrC,KAAO,CAEL26G,EADwBzuB,EAAO2D,WAAWlrC,SAAS,IAAIunC,EAAO1wG,OAAO66G,gDAAgD6kB,OACzFl7G,SAAS,EACvC,CACF,CAEAovF,EAAK,iBAAkBmb,EAAS,GAAIsM,EAAS,IAEzC3qB,EAAO1wG,OAAOm6G,YAChBzJ,EAAO6H,kBAnD8G,CAoDvH,IAEF3E,EAAK,gBAAiBmb,EAAS,GAAIsM,EAAS,GAAG,GAEnD,CAEA,SAAS3lH,IACP,MAAM,WACJ2+F,EACAr0G,OAAQoqH,EAAY,OACpBvV,EAAM,YACNgE,GACEnI,EACEgE,EAAYhE,EAAOiE,SAAWyV,EAAazV,QAAQl6B,QACnDz6E,EAASoqH,EAAamG,KAC5B,IAAIla,EAAgB+T,EAAa/T,cAMjC,SAASspB,EAAWn7G,GAClB,GAAIkwF,GACF,GAAIL,EAAWlrC,SAAS,IAAIihD,EAAatV,uCAAuCtwF,OAAWpmB,OACzF,OAAO,OAEJ,GAAIy2G,EAAOrwF,GAAQ,OAAO,EAEjC,OAAO,CACT,CAEA,SAAS4yF,EAAW0T,GAClB,OAAIpW,EACK,EAAEoW,GAASnkH,KAAK,2BAGlB,EAAEmkH,GAAStmG,OACpB,CAIA,GAxBsB,SAAlB6xF,IACFA,EAAgB,GAqBb6oB,IAAoBA,GAAqB,GAE1CxuB,EAAO1wG,OAAOi4G,oBAChB5D,EAAWlrC,SAAS,IAAIihD,EAAalR,qBAAqBxL,MAAKod,IAE7DqU,EADczqB,EAAY,EAAEoW,GAASnkH,KAAK,2BAA6B,EAAEmkH,GAAStmG,QAChE,SAEf,GAAI6xF,EAAgB,EACzB,IAAK,IAAI7vG,EAAIqyG,EAAaryG,EAAIqyG,EAAcxC,EAAe7vG,GAAK,EAC1Dm5H,EAAWn5H,IAAI24H,EAAY34H,QAGjC24H,EAAYtmB,GAGd,GAAI74G,EAAOy+H,aACT,GAAIpoB,EAAgB,GAAKr2G,EAAO0+H,oBAAsB1+H,EAAO0+H,mBAAqB,EAAG,CACnF,MAAM15F,EAAShlC,EAAO0+H,mBAChBzT,EAAMzgH,KAAKwkC,KAAKqnE,GAChBupB,EAAWp1H,KAAKS,IAAI4tG,EAAcoS,EAAMzgH,KAAKO,IAAIi6B,EAAQimF,GAAMpW,EAAOz2G,QACtEyhI,EAAWr1H,KAAKO,IAAI8tG,EAAcruG,KAAKO,IAAIkgH,EAAKjmF,GAAS,GAE/D,IAAK,IAAIx+B,EAAIqyG,EAAcoS,EAAKzkH,EAAIo5H,EAAUp5H,GAAK,EAC7Cm5H,EAAWn5H,IAAI24H,EAAY34H,GAIjC,IAAK,IAAIA,EAAIq5H,EAAUr5H,EAAIqyG,EAAaryG,GAAK,EACvCm5H,EAAWn5H,IAAI24H,EAAY34H,EAEnC,KAAO,CACL,MAAMs0G,EAAYzG,EAAWlrC,SAAS,IAAIihD,EAAa5P,kBACnDM,EAAU18G,OAAS,GAAG+gI,EAAY/nB,EAAW0D,IACjD,MAAMC,EAAY1G,EAAWlrC,SAAS,IAAIihD,EAAa3P,kBACnDM,EAAU38G,OAAS,GAAG+gI,EAAY/nB,EAAW2D,GACnD,CAEJ,CAEA,SAAS+kB,IACP,MAAMhiI,EAAS,IACf,IAAK4yG,GAAUA,EAAOl4C,UAAW,OACjC,MAAMunE,EAAiBrvB,EAAO1wG,OAAOuwH,KAAKqO,iBAAmB,EAAEluB,EAAO1wG,OAAOuwH,KAAKqO,kBAAoB,EAAE9gI,GAClGkiI,EAAWD,EAAe,KAAOjiI,EACjCmiI,EAAqBD,EAAWliI,EAAOG,WAAa8hI,EAAe,GAAGp9H,YACtEu9H,EAAsBF,EAAWliI,EAAOunG,YAAc06B,EAAe,GAAG/5D,aACxEssD,EAAe5hB,EAAOoD,IAAIrzG,UAE9B8zG,aAAcC,GACZ9D,EACJ,IAAIuhB,GAAS,EACTzd,IAAK8d,EAAazvH,MAAQ6tG,EAAOoD,IAAI,GAAGpxG,YAC5C,MAAM6vH,EAAc,CAAC,CAACD,EAAazvH,KAAMyvH,EAAaxvH,KAAM,CAACwvH,EAAazvH,KAAO6tG,EAAOn5F,MAAO+6G,EAAaxvH,KAAM,CAACwvH,EAAazvH,KAAMyvH,EAAaxvH,IAAM4tG,EAAOl5F,QAAS,CAAC86G,EAAazvH,KAAO6tG,EAAOn5F,MAAO+6G,EAAaxvH,IAAM4tG,EAAOl5F,SAEtO,IAAK,IAAIhR,EAAI,EAAGA,EAAI+rH,EAAYn0H,OAAQoI,GAAK,EAAG,CAC9C,MAAMglB,EAAQ+mG,EAAY/rH,GAE1B,GAAIglB,EAAM,IAAM,GAAKA,EAAM,IAAMy0G,GAAsBz0G,EAAM,IAAM,GAAKA,EAAM,IAAM00G,EAAqB,CACvG,GAAiB,IAAb10G,EAAM,IAAyB,IAAbA,EAAM,GAAU,SAEtCymG,GAAS,CACX,CACF,CAEA,MAAMrgB,IAA+C,eAA7BlB,EAAOiV,YAAYlmH,QAA0BixG,EAAOW,QAAQO,kBAAmBlB,EAAO1wG,OAAO8lH,mBAAmB,CACtIjgB,SAAS,EACTuG,SAAS,GAGP6lB,GACFv8G,IACAqqH,EAAen1C,IAAI,SAAUk1C,EAAmBluB,IACtCqtB,IACVA,GAAwB,EACxBc,EAAet1C,GAAG,SAAUq1C,EAAmBluB,GAEnD,CAEAnnB,EAAG,cAAc,KACXimB,EAAO1wG,OAAOuwH,KAAK91C,SAAWi2B,EAAO1wG,OAAOghB,gBAC9C0vF,EAAO1wG,OAAOghB,eAAgB,EAChC,IAEFypE,EAAG,QAAQ,KACLimB,EAAO1wG,OAAOuwH,KAAK91C,UACjBi2B,EAAO1wG,OAAOuwH,KAAKiO,YACrBsB,IAEApqH,IAEJ,IAEF+0E,EAAG,UAAU,KACPimB,EAAO1wG,OAAO0iH,UAAYhS,EAAO1wG,OAAO0iH,SAASjoC,UAAYi2B,EAAO1wG,OAAO0iH,SAASkS,QACtFl/G,GACF,IAEF+0E,EAAG,uDAAuD,KACpDimB,EAAO1wG,OAAOuwH,KAAK91C,UACjBi2B,EAAO1wG,OAAOuwH,KAAKiO,YACrBsB,IAEApqH,IAEJ,IAEF+0E,EAAG,mBAAmB,KAChBimB,EAAO1wG,OAAOuwH,KAAK91C,UACjBi2B,EAAO1wG,OAAOuwH,KAAKoO,wBAA0BjuB,EAAO1wG,OAAOuwH,KAAKoO,wBAA0BO,KACxFxuB,EAAO1wG,OAAOuwH,KAAKiO,YACrBsB,IAEApqH,IAGN,IAEF+0E,EAAG,iBAAiB,KACdimB,EAAO1wG,OAAOuwH,KAAK91C,UAAYi2B,EAAO1wG,OAAOuwH,KAAKoO,wBAChDjuB,EAAO1wG,OAAOuwH,KAAKiO,YACrBsB,IAEApqH,IAEJ,IAEF+0E,EAAG,eAAe,KAChB,MAAM,KACJ8lC,EAAI,QACJza,EAAO,oBACPmC,EAAmB,oBACnB8K,EAAmB,gBACnBY,GACEjT,EAAO1wG,OAEPuwH,EAAK91C,UAAYq7B,GAAWmC,IAAwB8K,GAA2C,IAApBY,KAC7EjuG,GACF,IAEF+0E,EAAG,WAAW,KACPimB,EAAOoD,KACZpD,EAAOoD,IAAIjF,KAAK,IAAI6B,EAAO1wG,OAAOuwH,KAAKuO,gBAAgBhsC,YAAY4d,EAAO1wG,OAAOuwH,KAAKuO,aAAa,IAErGj4H,OAAOswC,OAAOu5D,EAAO6f,KAAM,CACzB76G,OACAypH,eAEJ,EC5Re,UAAoB,OACjCzuB,EAAM,aACNyZ,EAAY,GACZ1/B,IAcA,SAAS01C,EAAar4G,EAAG6I,GACvB,MAAMyvG,EAAe,WACnB,IAAIR,EACAC,EACAQ,EACJ,MAAO,CAACC,EAAO/0H,KAIb,IAHAs0H,GAAY,EACZD,EAAWU,EAAMliI,OAEVwhI,EAAWC,EAAW,GAC3BQ,EAAQT,EAAWC,GAAY,EAE3BS,EAAMD,IAAU90H,EAClBs0H,EAAWQ,EAEXT,EAAWS,EAIf,OAAOT,CAAQ,CAEnB,CApBqB,GA4BrB,IAAIphG,EACA+hG,EAYJ,OAnBArlI,KAAK4sB,EAAIA,EACT5sB,KAAKy1B,EAAIA,EACTz1B,KAAK80B,UAAYlI,EAAE1pB,OAAS,EAO5BlD,KAAKslI,YAAc,SAAqB91G,GACtC,OAAKA,GAEL61G,EAAKH,EAAallI,KAAK4sB,EAAG4C,GAC1B8T,EAAK+hG,EAAK,GAGF71G,EAAKxvB,KAAK4sB,EAAE0W,KAAQtjC,KAAKy1B,EAAE4vG,GAAMrlI,KAAKy1B,EAAE6N,KAAQtjC,KAAK4sB,EAAEy4G,GAAMrlI,KAAK4sB,EAAE0W,IAAOtjC,KAAKy1B,EAAE6N,IAN1E,CAOlB,EAEOtjC,IACT,CA+FA,SAASulI,IACF/vB,EAAOnmB,WAAWm2C,SAEnBhwB,EAAOnmB,WAAWo2C,SACpBjwB,EAAOnmB,WAAWo2C,YAASvhH,SACpBsxF,EAAOnmB,WAAWo2C,OAE7B,CA7JAxW,EAAa,CACX5/B,WAAY,CACVm2C,aAASthH,EACTwhH,SAAS,EACTruG,GAAI,WAIRm+E,EAAOnmB,WAAa,CAClBm2C,aAASthH,GAsJXqrE,EAAG,cAAc,KACfimB,EAAOnmB,WAAWm2C,QAAUhwB,EAAO1wG,OAAOuqF,WAAWm2C,OAAO,IAE9Dj2C,EAAG,UAAU,KACXg2C,GAAc,IAEhBh2C,EAAG,UAAU,KACXg2C,GAAc,IAEhBh2C,EAAG,kBAAkB,KACnBg2C,GAAc,IAEhBh2C,EAAG,gBAAgB,CAACxmD,EAAIpH,EAAWo/E,KAC5BvL,EAAOnmB,WAAWm2C,SACvBhwB,EAAOnmB,WAAWyxB,aAAan/E,EAAWo/E,EAAa,IAEzDxxB,EAAG,iBAAiB,CAACxmD,EAAIloB,EAAUkgG,KAC5BvL,EAAOnmB,WAAWm2C,SACvBhwB,EAAOnmB,WAAWmuB,cAAc38F,EAAUkgG,EAAa,IAEzDp1G,OAAOswC,OAAOu5D,EAAOnmB,WAAY,CAC/ByxB,aApHF,SAAsBhgF,EAAIigF,GACxB,MAAM4kB,EAAanwB,EAAOnmB,WAAWm2C,QACrC,IAAI9mB,EACAknB,EACJ,MAAMhX,EAASpZ,EAAO11G,YAEtB,SAAS+lI,EAAuBtsH,GAK9B,MAAMooB,EAAY6zE,EAAO6D,cAAgB7D,EAAO7zE,UAAY6zE,EAAO7zE,UAE/B,UAAhC6zE,EAAO1wG,OAAOuqF,WAAWh4D,MAnBjC,SAAgC9d,GACzBi8F,EAAOnmB,WAAWo2C,SACrBjwB,EAAOnmB,WAAWo2C,OAASjwB,EAAO1wG,OAAO4d,KAAO,IAAIuiH,EAAazvB,EAAOuE,WAAYxgG,EAAEwgG,YAAc,IAAIkrB,EAAazvB,EAAOsE,SAAUvgG,EAAEugG,UAE5I,CAgBMgsB,CAAuBvsH,GAGvBqsH,GAAuBpwB,EAAOnmB,WAAWo2C,OAAOH,aAAa3jG,IAG1DikG,GAAuD,cAAhCpwB,EAAO1wG,OAAOuqF,WAAWh4D,KACnDqnF,GAAcnlG,EAAEqlG,eAAiBrlG,EAAE6kG,iBAAmB5I,EAAOoJ,eAAiBpJ,EAAO4I,gBACrFwnB,GAAuBjkG,EAAY6zE,EAAO4I,gBAAkBM,EAAanlG,EAAE6kG,gBAGzE5I,EAAO1wG,OAAOuqF,WAAWq2C,UAC3BE,EAAsBrsH,EAAEqlG,eAAiBgnB,GAG3CrsH,EAAEklG,eAAemnB,GACjBrsH,EAAEunG,aAAa8kB,EAAqBpwB,GACpCj8F,EAAEwmG,oBACFxmG,EAAE2lG,qBACJ,CAEA,GAAI3wG,MAAMyrF,QAAQ2rC,GAChB,IAAK,IAAIr6H,EAAI,EAAGA,EAAIq6H,EAAWziI,OAAQoI,GAAK,EACtCq6H,EAAWr6H,KAAOy1G,GAAgB4kB,EAAWr6H,aAAcsjH,GAC7DiX,EAAuBF,EAAWr6H,SAG7Bq6H,aAAsB/W,GAAU7N,IAAiB4kB,GAC1DE,EAAuBF,EAE3B,EAyEEnoB,cAvEF,SAAuB38F,EAAUkgG,GAC/B,MAAM6N,EAASpZ,EAAO11G,YAChB6lI,EAAanwB,EAAOnmB,WAAWm2C,QACrC,IAAIl6H,EAEJ,SAASy6H,EAAwBxsH,GAC/BA,EAAEikG,cAAc38F,EAAU20F,GAET,IAAb30F,IACFtH,EAAE8oG,kBAEE9oG,EAAEzU,OAAOm6G,YACXlL,GAAS,KACPx6F,EAAE8jG,kBAAkB,IAIxB9jG,EAAE4/F,WAAWnH,eAAc,KACpB2zB,IAEDpsH,EAAEzU,OAAO4d,MAAwC,UAAhC8yF,EAAO1wG,OAAOuqF,WAAWh4D,IAC5C9d,EAAE2pG,UAGJ3pG,EAAEy4F,gBAAe,IAGvB,CAEA,GAAIzjG,MAAMyrF,QAAQ2rC,GAChB,IAAKr6H,EAAI,EAAGA,EAAIq6H,EAAWziI,OAAQoI,GAAK,EAClCq6H,EAAWr6H,KAAOy1G,GAAgB4kB,EAAWr6H,aAAcsjH,GAC7DmX,EAAwBJ,EAAWr6H,SAG9Bq6H,aAAsB/W,GAAU7N,IAAiB4kB,GAC1DI,EAAwBJ,EAE5B,GAmCF,EC5Le,UAAc,OAC3BnwB,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACX+W,KAAM,CACJzmD,SAAS,EACT0mD,kBAAmB,sBACnBC,iBAAkB,iBAClBC,iBAAkB,aAClBC,kBAAmB,0BACnBC,iBAAkB,yBAClBC,wBAAyB,wBACzBC,kBAAmB,+BACnBC,iBAAkB,KAClBC,gCAAiC,KACjCC,2BAA4B,KAC5BC,UAAW,QACXj+H,GAAI,QAGR8sG,EAAOwwB,KAAO,CACZY,SAAS,GAEX,IAAIC,EAAa,KAEjB,SAASC,EAAOnlI,GACd,MAAMolI,EAAeF,EACO,IAAxBE,EAAa7jI,SACjB6jI,EAAaznC,KAAK,IAClBynC,EAAaznC,KAAK39F,GACpB,CAQA,SAASqlI,EAAgBpuB,GACvBA,EAAIntG,KAAK,WAAY,IACvB,CAEA,SAASw7H,EAAmBruB,GAC1BA,EAAIntG,KAAK,WAAY,KACvB,CAEA,SAASy7H,EAAUtuB,EAAK/U,GACtB+U,EAAIntG,KAAK,OAAQo4F,EACnB,CAEA,SAASsjC,EAAqBvuB,EAAKj8C,GACjCi8C,EAAIntG,KAAK,uBAAwBkxD,EACnC,CAMA,SAASyqE,EAAWxuB,EAAK3Z,GACvB2Z,EAAIntG,KAAK,aAAcwzF,EACzB,CAUA,SAASooC,EAAUzuB,GACjBA,EAAIntG,KAAK,iBAAiB,EAC5B,CAEA,SAAS67H,EAAS1uB,GAChBA,EAAIntG,KAAK,iBAAiB,EAC5B,CAEA,SAAS87H,EAAkBhnI,GACzB,GAAkB,KAAdA,EAAE21H,SAAgC,KAAd31H,EAAE21H,QAAgB,OAC1C,MAAMpxH,EAAS0wG,EAAO1wG,OAAOkhI,KACvBnhB,EAAY,EAAEtkH,EAAEkI,QAElB+sG,EAAOkU,YAAclU,EAAOkU,WAAW0Q,SAAWvV,EAAUnmF,GAAG82E,EAAOkU,WAAW0Q,WAC7E5kB,EAAOsJ,QAAUtJ,EAAO1wG,OAAO4d,MACnC8yF,EAAOoN,YAGLpN,EAAOsJ,MACTgoB,EAAOhiI,EAAOuhI,kBAEdS,EAAOhiI,EAAOqhI,mBAId3wB,EAAOkU,YAAclU,EAAOkU,WAAW2Q,SAAWxV,EAAUnmF,GAAG82E,EAAOkU,WAAW2Q,WAC7E7kB,EAAOqJ,cAAgBrJ,EAAO1wG,OAAO4d,MACzC8yF,EAAO6N,YAGL7N,EAAOqJ,YACTioB,EAAOhiI,EAAOshI,mBAEdU,EAAOhiI,EAAOohI,mBAId1wB,EAAOolB,YAAc/V,EAAUnmF,GAAG8zF,GAAkBhd,EAAO1wG,OAAO81H,WAAWe,eAC/E9W,EAAU,GAAG3gB,OAEjB,CA8BA,SAASsjC,IACP,OAAOhyB,EAAOolB,YAAcplB,EAAOolB,WAAW0B,SAAW9mB,EAAOolB,WAAW0B,QAAQp5H,MACrF,CAEA,SAASukI,IACP,OAAOD,KAAmBhyB,EAAO1wG,OAAO81H,WAAWC,SACrD,CAyBA,MAAM6M,EAAY,CAAC9uB,EAAK+uB,EAAWhmI,KACjCqlI,EAAgBpuB,GAEO,WAAnBA,EAAI,GAAGrL,UACT25B,EAAUtuB,EAAK,UACfA,EAAIrpB,GAAG,UAAWg4C,IAGpBH,EAAWxuB,EAAKj3G,GA7HlB,SAAuBi3G,EAAKv0G,GAC1Bu0G,EAAIntG,KAAK,gBAAiBpH,EAC5B,CA4HEujI,CAAchvB,EAAK+uB,EAAU,EAGzBE,EAAoB,KACxBryB,EAAOwwB,KAAKY,SAAU,CAAI,EAGtBkB,EAAkB,KACtBt9G,uBAAsB,KACpBA,uBAAsB,KACfgrF,EAAOl4C,YACVk4C,EAAOwwB,KAAKY,SAAU,EACxB,GACA,GACF,EAGEmB,EAAcxnI,IAClB,GAAIi1G,EAAOwwB,KAAKY,QAAS,OACzB,MAAMhX,EAAUrvH,EAAEkI,OAAO0lG,QAAQ,IAAIqH,EAAO1wG,OAAO80G,cACnD,IAAKgW,IAAYpa,EAAOmE,OAAOlZ,SAASmvB,GAAU,OAClD,MAAMoY,EAAWxyB,EAAOmE,OAAOr/F,QAAQs1G,KAAapa,EAAOmI,YACrD38D,EAAYw0D,EAAO1wG,OAAOi4G,qBAAuBvH,EAAOkI,eAAiBlI,EAAOkI,cAAcjd,SAASmvB,GACzGoY,GAAYhnF,GACZzgD,EAAE0nI,oBAAsB1nI,EAAE0nI,mBAAmBC,mBAE7C1yB,EAAOsD,eACTtD,EAAOz1G,GAAGyH,WAAa,EAEvBguG,EAAOz1G,GAAGwtF,UAAY,EAGxBioB,EAAOoM,QAAQpM,EAAOmE,OAAOr/F,QAAQs1G,GAAU,GAAE,EAG7C3U,EAAa,KACjB,MAAMn2G,EAAS0wG,EAAO1wG,OAAOkhI,KAEzBlhI,EAAO4hI,4BACTS,EAAqB,EAAE3xB,EAAOmE,QAAS70G,EAAO4hI,4BAG5C5hI,EAAO6hI,WACTO,EAAU,EAAE1xB,EAAOmE,QAAS70G,EAAO6hI,WAGrC,MAAM9sB,EAAerE,EAAO1wG,OAAO4d,KAAO8yF,EAAOmE,OAAOzwG,QAAOnJ,IAAOA,EAAGsB,UAAUyB,SAAS0yG,EAAO1wG,OAAO66G,uBAAsBz8G,OAASsyG,EAAOmE,OAAOz2G,OAEnJ4B,EAAOyhI,mBACT/wB,EAAOmE,OAAOnH,MAAK,CAACod,EAAStmG,KAC3B,MAAMuqG,EAAW,EAAEjE,GACb1T,EAAa1G,EAAO1wG,OAAO4d,KAAOyB,SAAS0vG,EAASpoH,KAAK,2BAA4B,IAAM6d,EAEjG89G,EAAWvT,EADc/uH,EAAOyhI,kBAAkB/9H,QAAQ,gBAAiB0zG,EAAa,GAAG1zG,QAAQ,uBAAwBqxG,GACrF,GAE1C,EAGIxxF,EAAO,KACX,MAAMvjB,EAAS0wG,EAAO1wG,OAAOkhI,KAC7BxwB,EAAOoD,IAAIx5F,OAAOynH,GAElB,MAAMsB,EAAe3yB,EAAOoD,IAExB9zG,EAAO2hI,iCACTU,EAAqBgB,EAAcrjI,EAAO2hI,iCAGxC3hI,EAAO0hI,kBACTY,EAAWe,EAAcrjI,EAAO0hI,kBAIlC,MAAMrtB,EAAa3D,EAAO2D,WACpBwuB,EAAY7iI,EAAO4D,IAAMywG,EAAW1tG,KAAK,OAAS,kBA9N1D,SAAyBpG,EAAO,IAG9B,MAAO,IAAI+iI,OAAO/iI,GAAMmD,QAAQ,MAFb,IAAM8G,KAAKuB,MAAM,GAAKvB,KAAKa,UAAU+D,SAAS,KAGnE,CA0N4Em0H,CAAgB,MACpFC,EAAO9yB,EAAO1wG,OAAO2d,UAAY+yF,EAAO1wG,OAAO2d,SAAS88D,QAAU,MAAQ,SAjMlF,IAAsB72E,EAuMpB,IAAI0xH,EACAC,EAxMgB3xH,EAkMAi/H,EAAZxuB,EAjMJ1tG,KAAK,KAAM/C,GAGjB,SAAmBkwG,EAAK0vB,GACtB1vB,EAAIntG,KAAK,YAAa68H,EACxB,CA6LEC,CAAUpvB,EAAYmvB,GAEtBrtB,IAKIzF,EAAOkU,YAAclU,EAAOkU,WAAW0Q,UACzCA,EAAU5kB,EAAOkU,WAAW0Q,SAG1B5kB,EAAOkU,YAAclU,EAAOkU,WAAW2Q,UACzCA,EAAU7kB,EAAOkU,WAAW2Q,SAG1BD,GAAWA,EAAQl3H,QACrBwkI,EAAUtN,EAASuN,EAAW7iI,EAAOqhI,kBAGnC9L,GAAWA,EAAQn3H,QACrBwkI,EAAUrN,EAASsN,EAAW7iI,EAAOohI,kBAInCuB,KACFjyB,EAAOolB,WAAWhiB,IAAIrpB,GAAG,UAAWijC,GAAkBhd,EAAO1wG,OAAO81H,WAAWe,aAAc4L,GAI/F/xB,EAAOoD,IAAIrpB,GAAG,QAASw4C,GAAa,GACpCvyB,EAAOoD,IAAIrpB,GAAG,cAAes4C,GAAmB,GAChDryB,EAAOoD,IAAIrpB,GAAG,YAAau4C,GAAiB,EAAK,EAmCnDv4C,EAAG,cAAc,KACfs3C,EAAa,EAAE,gBAAgBrxB,EAAO1wG,OAAOkhI,KAAKC,sEAAsE,IAE1H12C,EAAG,aAAa,KACTimB,EAAO1wG,OAAOkhI,KAAKzmD,SACxBl3D,GAAM,IAERknE,EAAG,kEAAkE,KAC9DimB,EAAO1wG,OAAOkhI,KAAKzmD,SACxB07B,GAAY,IAEd1rB,EAAG,yCAAyC,KACrCimB,EAAO1wG,OAAOkhI,KAAKzmD,SA/N1B,WACE,GAAIi2B,EAAO1wG,OAAO4d,MAAQ8yF,EAAO1wG,OAAOs+G,SAAW5N,EAAOkU,WAAY,OACtE,MAAM,QACJ0Q,EAAO,QACPC,GACE7kB,EAAOkU,WAEP2Q,GAAWA,EAAQn3H,OAAS,IAC1BsyG,EAAOqJ,aACTwoB,EAAUhN,GACV4M,EAAmB5M,KAEnBiN,EAASjN,GACT2M,EAAgB3M,KAIhBD,GAAWA,EAAQl3H,OAAS,IAC1BsyG,EAAOsJ,OACTuoB,EAAUjN,GACV6M,EAAmB7M,KAEnBkN,EAASlN,GACT4M,EAAgB5M,IAGtB,CAsMEoO,EAAkB,IAEpBj5C,EAAG,oBAAoB,KAChBimB,EAAO1wG,OAAOkhI,KAAKzmD,SA/L1B,WACE,MAAMz6E,EAAS0wG,EAAO1wG,OAAOkhI,KACxBwB,KACLhyB,EAAOolB,WAAW0B,QAAQ9pB,MAAKi2B,IAC7B,MAAM/L,EAAY,EAAE+L,GAEhBjzB,EAAO1wG,OAAO81H,WAAWC,YAC3BmM,EAAgBtK,GAEXlnB,EAAO1wG,OAAO81H,WAAWM,eAC5BgM,EAAUxK,EAAW,UACrB0K,EAAW1K,EAAW53H,EAAOwhI,wBAAwB99H,QAAQ,gBAAiBk0H,EAAUpzG,QAAU,MAIlGozG,EAAUh+F,GAAG,IAAI82E,EAAO1wG,OAAO81H,WAAWgB,qBAC5Cc,EAAUjxH,KAAK,eAAgB,QAE/BixH,EAAU3rB,WAAW,eACvB,GAEJ,CA2KE23B,EAAkB,IAEpBn5C,EAAG,WAAW,KACPimB,EAAO1wG,OAAOkhI,KAAKzmD,SApD1B,WAEE,IAAI66C,EACAC,EAFAwM,GAAcA,EAAW3jI,OAAS,GAAG2jI,EAAW5kI,SAIhDuzG,EAAOkU,YAAclU,EAAOkU,WAAW0Q,UACzCA,EAAU5kB,EAAOkU,WAAW0Q,SAG1B5kB,EAAOkU,YAAclU,EAAOkU,WAAW2Q,UACzCA,EAAU7kB,EAAOkU,WAAW2Q,SAG1BD,GACFA,EAAQ1qC,IAAI,UAAW63C,GAGrBlN,GACFA,EAAQ3qC,IAAI,UAAW63C,GAIrBE,KACFjyB,EAAOolB,WAAWhiB,IAAIlpB,IAAI,UAAW8iC,GAAkBhd,EAAO1wG,OAAO81H,WAAWe,aAAc4L,GAIhG/xB,EAAOoD,IAAIlpB,IAAI,QAASq4C,GAAa,GACrCvyB,EAAOoD,IAAIlpB,IAAI,cAAem4C,GAAmB,GACjDryB,EAAOoD,IAAIlpB,IAAI,YAAao4C,GAAiB,EAC/C,CAuBEjpH,EAAS,GAEb,EC7Ve,UAAiB,OAC9B22F,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACXjgB,QAAS,CACPzvB,SAAS,EACTjqC,KAAM,GACN25D,cAAc,EACdhoG,IAAK,SACL0hI,WAAW,KAGf,IAAIzhD,GAAc,EACd5pD,EAAQ,CAAC,EAEb,MAAMsrG,EAAU7mI,GACPA,EAAKmS,WAAW1L,QAAQ,OAAQ,KAAKA,QAAQ,WAAY,IAAIA,QAAQ,OAAQ,KAAKA,QAAQ,MAAO,IAAIA,QAAQ,MAAO,IAGvHqgI,EAAgBC,IACpB,MAAMlmI,EAAS,IACf,IAAIgZ,EAGFA,EADEktH,EACS,IAAI/yH,IAAI+yH,GAERlmI,EAAOgZ,SAGpB,MAAMmtH,EAAYntH,EAASE,SAASgP,MAAM,GAAG7S,MAAM,KAAK/O,QAAO8/H,GAAiB,KAATA,IACjErM,EAAQoM,EAAU7lI,OAGxB,MAAO,CACL+D,IAHU8hI,EAAUpM,EAAQ,GAI5BpzH,MAHYw/H,EAAUpM,EAAQ,GAI/B,EAGGsM,EAAa,CAAChiI,EAAKqiB,KACvB,MAAM1mB,EAAS,IACf,IAAKskF,IAAgBsuB,EAAO1wG,OAAOkqG,QAAQzvB,QAAS,OACpD,IAAI3jE,EAGFA,EADE45F,EAAO1wG,OAAOqE,IACL,IAAI4M,IAAIy/F,EAAO1wG,OAAOqE,KAEtBvG,EAAOgZ,SAGpB,MAAMw/F,EAAQ5F,EAAOmE,OAAO5G,GAAGzpF,GAC/B,IAAI/f,EAAQq/H,EAAQxtB,EAAM3vG,KAAK,iBAE/B,GAAI+pG,EAAO1wG,OAAOkqG,QAAQ15D,KAAKpyC,OAAS,EAAG,CACzC,IAAIoyC,EAAOkgE,EAAO1wG,OAAOkqG,QAAQ15D,KACH,MAA1BA,EAAKA,EAAKpyC,OAAS,KAAYoyC,EAAOA,EAAKxqB,MAAM,EAAGwqB,EAAKpyC,OAAS,IACtEqG,EAAQ,GAAG+rC,KAAQruC,KAAOsC,GAC5B,MAAYqS,EAASE,SAAS2kF,SAASx5F,KACrCsC,EAAQ,GAAGtC,KAAOsC,KAGhBisG,EAAO1wG,OAAOkqG,QAAQ25B,YACxBp/H,GAASqS,EAASqlF,QAGpB,MAAMioC,EAAetmI,EAAOosG,QAAQt7B,MAEhCw1D,GAAgBA,EAAa3/H,QAAUA,IAIvCisG,EAAO1wG,OAAOkqG,QAAQC,aACxBrsG,EAAOosG,QAAQC,aAAa,CAC1B1lG,SACC,KAAMA,GAET3G,EAAOosG,QAAQE,UAAU,CACvB3lG,SACC,KAAMA,GACX,EAGI4/H,EAAgB,CAACzmD,EAAOn5E,EAAO23G,KACnC,GAAI33G,EACF,IAAK,IAAI+B,EAAI,EAAGpI,EAASsyG,EAAOmE,OAAOz2G,OAAQoI,EAAIpI,EAAQoI,GAAK,EAAG,CACjE,MAAM8vG,EAAQ5F,EAAOmE,OAAO5G,GAAGznG,GAG/B,GAFqBs9H,EAAQxtB,EAAM3vG,KAAK,mBAEnBlC,IAAU6xG,EAAMlO,SAASsI,EAAO1wG,OAAO66G,qBAAsB,CAChF,MAAMr2F,EAAQ8xF,EAAM9xF,QACpBksF,EAAOoM,QAAQt4F,EAAOo5D,EAAOw+B,EAC/B,CACF,MAEA1L,EAAOoM,QAAQ,EAAGl/B,EAAOw+B,EAC3B,EAGIkoB,EAAqB,KACzB9rG,EAAQurG,EAAcrzB,EAAO1wG,OAAOqE,KACpCggI,EAAc3zB,EAAO1wG,OAAO49E,MAAOplD,EAAM/zB,OAAO,EAAM,EA+BxDgmF,EAAG,QAAQ,KACLimB,EAAO1wG,OAAOkqG,QAAQzvB,SA7Bf,MACX,MAAM38E,EAAS,IACf,GAAK4yG,EAAO1wG,OAAOkqG,QAAnB,CAEA,IAAKpsG,EAAOosG,UAAYpsG,EAAOosG,QAAQE,UAGrC,OAFAsG,EAAO1wG,OAAOkqG,QAAQzvB,SAAU,OAChCi2B,EAAO1wG,OAAOukI,eAAe9pD,SAAU,GAIzC2H,GAAc,EACd5pD,EAAQurG,EAAcrzB,EAAO1wG,OAAOqE,MAC/Bm0B,EAAMr2B,KAAQq2B,EAAM/zB,SACzB4/H,EAAc,EAAG7rG,EAAM/zB,MAAOisG,EAAO1wG,OAAOw7G,oBAEvC9K,EAAO1wG,OAAOkqG,QAAQC,cACzBrsG,EAAOtC,iBAAiB,WAAY8oI,GAdJ,CAelC,EAaE/gH,EACF,IAEFknE,EAAG,WAAW,KACRimB,EAAO1wG,OAAOkqG,QAAQzvB,SAdZ,MACd,MAAM38E,EAAS,IAEV4yG,EAAO1wG,OAAOkqG,QAAQC,cACzBrsG,EAAOid,oBAAoB,WAAYupH,EACzC,EAUEvqH,EACF,IAEF0wE,EAAG,4CAA4C,KACzCrI,GACF+hD,EAAWzzB,EAAO1wG,OAAOkqG,QAAQ/nG,IAAKuuG,EAAOmI,YAC/C,IAEFpuB,EAAG,eAAe,KACZrI,GAAesuB,EAAO1wG,OAAO81G,SAC/BquB,EAAWzzB,EAAO1wG,OAAOkqG,QAAQ/nG,IAAKuuG,EAAOmI,YAC/C,GAEJ,ECxJe,UAAwB,OACrCnI,EAAM,aACNyZ,EAAY,KACZvW,EAAI,GACJnpB,IAEA,IAAIrI,GAAc,EAClB,MAAMjmF,EAAW4tG,IACXjsG,EAAS,IACfqsH,EAAa,CACXoa,eAAgB,CACd9pD,SAAS,EACT0vB,cAAc,EACdq6B,YAAY,KAIhB,MAAMC,EAAe,KACnB7wB,EAAK,cACL,MAAM8wB,EAAUvoI,EAAS2a,SAAS6yF,KAAKjmG,QAAQ,IAAK,IAGpD,GAAIghI,IAFoBh0B,EAAOmE,OAAO5G,GAAGyC,EAAOmI,aAAalyG,KAAK,aAEjC,CAC/B,MAAMi3G,EAAWlN,EAAO2D,WAAWlrC,SAAS,IAAIunC,EAAO1wG,OAAO80G,yBAAyB4vB,OAAalgH,QACpG,QAAwB,IAAbo5F,EAA0B,OACrClN,EAAOoM,QAAQc,EACjB,GAGI+mB,EAAU,KACd,GAAKviD,GAAgBsuB,EAAO1wG,OAAOukI,eAAe9pD,QAElD,GAAIi2B,EAAO1wG,OAAOukI,eAAep6B,cAAgBrsG,EAAOosG,SAAWpsG,EAAOosG,QAAQC,aAChFrsG,EAAOosG,QAAQC,aAAa,KAAM,KAAM,IAAIuG,EAAOmE,OAAO5G,GAAGyC,EAAOmI,aAAalyG,KAAK,gBAAkB,IACxGitG,EAAK,eACA,CACL,MAAM0C,EAAQ5F,EAAOmE,OAAO5G,GAAGyC,EAAOmI,aAChClP,EAAO2M,EAAM3vG,KAAK,cAAgB2vG,EAAM3vG,KAAK,gBACnDxK,EAAS2a,SAAS6yF,KAAOA,GAAQ,GACjCiK,EAAK,UACP,GAiCFnpB,EAAG,QAAQ,KACLimB,EAAO1wG,OAAOukI,eAAe9pD,SA/BtB,MACX,IAAKi2B,EAAO1wG,OAAOukI,eAAe9pD,SAAWi2B,EAAO1wG,OAAOkqG,SAAWwG,EAAO1wG,OAAOkqG,QAAQzvB,QAAS,OACrG2H,GAAc,EACd,MAAMunB,EAAOxtG,EAAS2a,SAAS6yF,KAAKjmG,QAAQ,IAAK,IAEjD,GAAIimG,EAAM,CACR,MAAM/rB,EAAQ,EAEd,IAAK,IAAIp3E,EAAI,EAAGpI,EAASsyG,EAAOmE,OAAOz2G,OAAQoI,EAAIpI,EAAQoI,GAAK,EAAG,CACjE,MAAM8vG,EAAQ5F,EAAOmE,OAAO5G,GAAGznG,GAG/B,IAFkB8vG,EAAM3vG,KAAK,cAAgB2vG,EAAM3vG,KAAK,mBAEtCgjG,IAAS2M,EAAMlO,SAASsI,EAAO1wG,OAAO66G,qBAAsB,CAC5E,MAAMr2F,EAAQ8xF,EAAM9xF,QACpBksF,EAAOoM,QAAQt4F,EAAOo5D,EAAO8yB,EAAO1wG,OAAOw7G,oBAAoB,EACjE,CACF,CACF,CAEI9K,EAAO1wG,OAAOukI,eAAeC,YAC/B,EAAE1mI,GAAQ2sF,GAAG,aAAcg6C,EAC7B,EAWElhH,EACF,IAEFknE,EAAG,WAAW,KACRimB,EAAO1wG,OAAOukI,eAAe9pD,SAX7Bi2B,EAAO1wG,OAAOukI,eAAeC,YAC/B,EAAE1mI,GAAQ8sF,IAAI,aAAc65C,EAY9B,IAEFh6C,EAAG,4CAA4C,KACzCrI,GACFuiD,GACF,IAEFl6C,EAAG,eAAe,KACZrI,GAAesuB,EAAO1wG,OAAO81G,SAC/B6uB,GACF,GAEJ,EC1Fe,UAAkB,OAC/Bj0B,EAAM,aACNyZ,EAAY,GACZ1/B,EAAE,KACFmpB,IAEA,IAAIvb,EAiBJ,SAAS8sB,IACP,IAAKzU,EAAOnwG,KAGV,OAFAmwG,EAAO/yF,SAASsnG,SAAU,OAC1BvU,EAAO/yF,SAASunG,QAAS,GAI3B,MAAM0f,EAAiBl0B,EAAOmE,OAAO5G,GAAGyC,EAAOmI,aAC/C,IAAI3J,EAAQwB,EAAO1wG,OAAO2d,SAASuxF,MAE/B01B,EAAej+H,KAAK,0BACtBuoG,EAAQ01B,EAAej+H,KAAK,yBAA2B+pG,EAAO1wG,OAAO2d,SAASuxF,OAGhFpjB,aAAauM,GACbA,EAAU4W,GAAS,KACjB,IAAI41B,EAEAn0B,EAAO1wG,OAAO2d,SAASmnH,iBACrBp0B,EAAO1wG,OAAO4d,MAChB8yF,EAAO0N,UACPymB,EAAiBn0B,EAAO6N,UAAU7N,EAAO1wG,OAAO49E,OAAO,GAAM,GAC7Dg2B,EAAK,aACKlD,EAAOqJ,YAGPrJ,EAAO1wG,OAAO2d,SAASonH,gBAIjC5iH,KAHA0iH,EAAiBn0B,EAAOoM,QAAQpM,EAAOmE,OAAOz2G,OAAS,EAAGsyG,EAAO1wG,OAAO49E,OAAO,GAAM,GACrFg2B,EAAK,cAJLixB,EAAiBn0B,EAAO6N,UAAU7N,EAAO1wG,OAAO49E,OAAO,GAAM,GAC7Dg2B,EAAK,aAOElD,EAAO1wG,OAAO4d,MACvB8yF,EAAO0N,UACPymB,EAAiBn0B,EAAOoN,UAAUpN,EAAO1wG,OAAO49E,OAAO,GAAM,GAC7Dg2B,EAAK,aACKlD,EAAOsJ,MAGPtJ,EAAO1wG,OAAO2d,SAASonH,gBAIjC5iH,KAHA0iH,EAAiBn0B,EAAOoM,QAAQ,EAAGpM,EAAO1wG,OAAO49E,OAAO,GAAM,GAC9Dg2B,EAAK,cAJLixB,EAAiBn0B,EAAOoN,UAAUpN,EAAO1wG,OAAO49E,OAAO,GAAM,GAC7Dg2B,EAAK,cAQHlD,EAAO1wG,OAAO81G,SAAWpF,EAAO/yF,SAASsnG,UAA2C,IAAnB4f,IAAf1f,GAEtD,GACCjW,EACL,CAEA,SAASzvG,IACP,YAAuB,IAAZ44F,KACPqY,EAAO/yF,SAASsnG,UACpBvU,EAAO/yF,SAASsnG,SAAU,EAC1BrR,EAAK,iBACLuR,KACO,GACT,CAEA,SAAShjG,IACP,QAAKuuF,EAAO/yF,SAASsnG,eACE,IAAZ5sB,IAEPA,IACFvM,aAAauM,GACbA,OAAUj5E,GAGZsxF,EAAO/yF,SAASsnG,SAAU,EAC1BrR,EAAK,iBACE,GACT,CAEA,SAAS7rG,EAAM61E,GACR8yB,EAAO/yF,SAASsnG,UACjBvU,EAAO/yF,SAASunG,SAChB7sB,GAASvM,aAAauM,GAC1BqY,EAAO/yF,SAASunG,QAAS,EAEX,IAAVtnC,GAAgB8yB,EAAO1wG,OAAO2d,SAASqnH,kBAIzC,CAAC,gBAAiB,uBAAuB3nI,SAAQU,IAC/C2yG,EAAO2D,WAAW,GAAG74G,iBAAiBuC,EAAOy+H,EAAgB,KAJ/D9rB,EAAO/yF,SAASunG,QAAS,EACzBC,MAMJ,CAEA,SAAS8f,IACP,MAAM9oI,EAAW4tG,IAEgB,WAA7B5tG,EAAS+oI,iBAAgCx0B,EAAO/yF,SAASsnG,SAC3Dl9G,IAG+B,YAA7B5L,EAAS+oI,iBAAiCx0B,EAAO/yF,SAASunG,SAC5DC,IACAzU,EAAO/yF,SAASunG,QAAS,EAE7B,CAEA,SAASsX,EAAgB/gI,GAClBi1G,IAAUA,EAAOl4C,WAAck4C,EAAO2D,YACvC54G,EAAEkI,SAAW+sG,EAAO2D,WAAW,KACnC,CAAC,gBAAiB,uBAAuBh3G,SAAQU,IAC/C2yG,EAAO2D,WAAW,GAAGt5F,oBAAoBhd,EAAOy+H,EAAgB,IAElE9rB,EAAO/yF,SAASunG,QAAS,EAEpBxU,EAAO/yF,SAASsnG,QAGnBE,IAFAhjG,IAIJ,CAEA,SAASgjH,IACHz0B,EAAO1wG,OAAO2d,SAASynH,qBACzBjjH,KAEAyxF,EAAK,iBACL7rG,KAGF,CAAC,gBAAiB,uBAAuB1K,SAAQU,IAC/C2yG,EAAO2D,WAAW,GAAGt5F,oBAAoBhd,EAAOy+H,EAAgB,GAEpE,CAEA,SAAS6I,IACH30B,EAAO1wG,OAAO2d,SAASynH,uBAI3B10B,EAAO/yF,SAASunG,QAAS,EACzBtR,EAAK,kBACLuR,IACF,CA5JAzU,EAAO/yF,SAAW,CAChBsnG,SAAS,EACTC,QAAQ,GAEViF,EAAa,CACXxsG,SAAU,CACR88D,SAAS,EACTy0B,MAAO,IACP81B,mBAAmB,EACnBI,sBAAsB,EACtBL,iBAAiB,EACjBD,kBAAkB,EAClBQ,mBAAmB,KA8JvB76C,EAAG,QAAQ,KACT,GAAIimB,EAAO1wG,OAAO2d,SAAS88D,QAAS,CAClCh7E,IACiBsqG,IACRvuG,iBAAiB,mBAAoBypI,GAf5Cv0B,EAAO1wG,OAAO2d,SAAS2nH,oBACzB50B,EAAOoD,IAAIrpB,GAAG,aAAc06C,GAC5Bz0B,EAAOoD,IAAIrpB,GAAG,aAAc46C,GAe9B,KAEF56C,EAAG,yBAAyB,CAACxmD,EAAI25C,EAAO0+B,KAClC5L,EAAO/yF,SAASsnG,UACd3I,IAAa5L,EAAO1wG,OAAO2d,SAASynH,qBACtC10B,EAAO/yF,SAAS5V,MAAM61E,GAEtBz7D,IAEJ,IAEFsoE,EAAG,mBAAmB,KAChBimB,EAAO/yF,SAASsnG,UACdvU,EAAO1wG,OAAO2d,SAASynH,qBACzBjjH,IAEApa,IAEJ,IAEF0iF,EAAG,YAAY,KACTimB,EAAO1wG,OAAO81G,SAAWpF,EAAO/yF,SAASunG,SAAWxU,EAAO1wG,OAAO2d,SAASynH,sBAC7EjgB,GACF,IAEF16B,EAAG,WAAW,KAnCZimB,EAAOoD,IAAIlpB,IAAI,aAAcu6C,GAC7Bz0B,EAAOoD,IAAIlpB,IAAI,aAAcy6C,GAqCzB30B,EAAO/yF,SAASsnG,SAClB9iG,IAGe4nF,IACRhvF,oBAAoB,mBAAoBkqH,EAAmB,IAEtEp+H,OAAOswC,OAAOu5D,EAAO/yF,SAAU,CAC7B5V,QACAo9G,MACA1lH,QACA0iB,QAEJ,ECnOe,UAAe,OAC5BuuF,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACXob,OAAQ,CACN70B,OAAQ,KACR80B,sBAAsB,EACtBC,iBAAkB,EAClBC,sBAAuB,4BACvBC,qBAAsB,mBAG1B,IAAIvjD,GAAc,EACdwjD,GAAgB,EAKpB,SAASC,IACP,MAAMC,EAAep1B,EAAO60B,OAAO70B,OACnC,IAAKo1B,GAAgBA,EAAattE,UAAW,OAC7C,MAAMojD,EAAekqB,EAAalqB,aAC5BD,EAAemqB,EAAanqB,aAClC,GAAIA,GAAgB,EAAEA,GAAcvT,SAASsI,EAAO1wG,OAAOulI,OAAOG,uBAAwB,OAC1F,GAAI,MAAO9pB,EAAuD,OAClE,IAAIkD,EAQJ,GALEA,EADEgnB,EAAa9lI,OAAO4d,KACPyB,SAAS,EAAEymH,EAAanqB,cAAch1G,KAAK,2BAA4B,IAEvEi1G,EAGblL,EAAO1wG,OAAO4d,KAAM,CACtB,IAAIoxC,EAAe0hD,EAAOmI,YAEtBnI,EAAOmE,OAAO5G,GAAGj/C,GAAco5C,SAASsI,EAAO1wG,OAAO66G,uBACxDnK,EAAO0N,UAEP1N,EAAO2N,YAAc3N,EAAO2D,WAAW,GAAG5G,WAC1Cz+C,EAAe0hD,EAAOmI,aAGxB,MAAMzuE,EAAYsmE,EAAOmE,OAAO5G,GAAGj/C,GAAc2/C,QAAQ,6BAA6BmQ,OAAkB7Q,GAAG,GAAGzpF,QACxG6lB,EAAYqmE,EAAOmE,OAAO5G,GAAGj/C,GAAcw/C,QAAQ,6BAA6BsQ,OAAkB7Q,GAAG,GAAGzpF,QACxEs6F,OAAb,IAAd10E,EAA0CC,OAAwC,IAAdA,EAA0CD,EAAmBC,EAAY2kB,EAAeA,EAAe5kB,EAA0BC,EAA8BD,CAChP,CAEAsmE,EAAOoM,QAAQgC,EACjB,CAEA,SAASv7F,IACP,MACEgiH,OAAQQ,GACNr1B,EAAO1wG,OACX,GAAIoiF,EAAa,OAAO,EACxBA,GAAc,EACd,MAAM4jD,EAAct1B,EAAO11G,YAE3B,GAAI+qI,EAAar1B,kBAAkBs1B,EACjCt1B,EAAO60B,OAAO70B,OAASq1B,EAAar1B,OACpC7pG,OAAOswC,OAAOu5D,EAAO60B,OAAO70B,OAAOgW,eAAgB,CACjDzO,qBAAqB,EACrB4D,qBAAqB,IAEvBh1G,OAAOswC,OAAOu5D,EAAO60B,OAAO70B,OAAO1wG,OAAQ,CACzCi4G,qBAAqB,EACrB4D,qBAAqB,SAElB,GAAI,EAASkqB,EAAar1B,QAAS,CACxC,MAAMu1B,EAAqBp/H,OAAOswC,OAAO,CAAC,EAAG4uF,EAAar1B,QAC1D7pG,OAAOswC,OAAO8uF,EAAoB,CAChChuB,qBAAqB,EACrB4D,qBAAqB,IAEvBnL,EAAO60B,OAAO70B,OAAS,IAAIs1B,EAAYC,GACvCL,GAAgB,CAClB,CAIA,OAFAl1B,EAAO60B,OAAO70B,OAAOoD,IAAI1hB,SAASse,EAAO1wG,OAAOulI,OAAOI,sBACvDj1B,EAAO60B,OAAO70B,OAAOjmB,GAAG,MAAOo7C,IACxB,CACT,CAEA,SAASp3E,EAAOsuD,GACd,MAAM+oB,EAAep1B,EAAO60B,OAAO70B,OACnC,IAAKo1B,GAAgBA,EAAattE,UAAW,OAC7C,MAAM69C,EAAsD,SAAtCyvB,EAAa9lI,OAAOq2G,cAA2ByvB,EAAa7nB,uBAAyB6nB,EAAa9lI,OAAOq2G,cAE/H,IAAI6vB,EAAmB,EACvB,MAAMC,EAAmBz1B,EAAO1wG,OAAOulI,OAAOG,sBAa9C,GAXIh1B,EAAO1wG,OAAOq2G,cAAgB,IAAM3F,EAAO1wG,OAAO61G,iBACpDqwB,EAAmBx1B,EAAO1wG,OAAOq2G,eAG9B3F,EAAO1wG,OAAOulI,OAAOC,uBACxBU,EAAmB,GAGrBA,EAAmB17H,KAAKK,MAAMq7H,GAC9BJ,EAAajxB,OAAO/hB,YAAYqzC,GAE5BL,EAAa9lI,OAAO4d,MAAQkoH,EAAa9lI,OAAO20G,SAAWmxB,EAAa9lI,OAAO20G,QAAQl6B,QACzF,IAAK,IAAIj0E,EAAI,EAAGA,EAAI0/H,EAAkB1/H,GAAK,EACzCs/H,EAAazxB,WAAWlrC,SAAS,6BAA6BunC,EAAO2J,UAAY7zG,OAAO4rF,SAAS+zC,QAGnG,IAAK,IAAI3/H,EAAI,EAAGA,EAAI0/H,EAAkB1/H,GAAK,EACzCs/H,EAAajxB,OAAO5G,GAAGyC,EAAO2J,UAAY7zG,GAAG4rF,SAAS+zC,GAI1D,MAAMV,EAAmB/0B,EAAO1wG,OAAOulI,OAAOE,iBACxCW,EAAYX,IAAqBK,EAAa9lI,OAAO4d,KAE3D,GAAI8yF,EAAO2J,YAAcyrB,EAAazrB,WAAa+rB,EAAW,CAC5D,IACIC,EACAr5H,EAFAs5H,EAAqBR,EAAajtB,YAItC,GAAIitB,EAAa9lI,OAAO4d,KAAM,CACxBkoH,EAAajxB,OAAO5G,GAAGq4B,GAAoBl+B,SAAS09B,EAAa9lI,OAAO66G,uBAC1EirB,EAAa1nB,UAEb0nB,EAAaznB,YAAcynB,EAAazxB,WAAW,GAAG5G,WACtD64B,EAAqBR,EAAajtB,aAIpC,MAAM0tB,EAAkBT,EAAajxB,OAAO5G,GAAGq4B,GAAoB33B,QAAQ,6BAA6B+B,EAAO2J,eAAepM,GAAG,GAAGzpF,QAC9HgiH,EAAkBV,EAAajxB,OAAO5G,GAAGq4B,GAAoB93B,QAAQ,6BAA6BkC,EAAO2J,eAAepM,GAAG,GAAGzpF,QAGlI6hH,OAD6B,IAApBE,EACQC,OACmB,IAApBA,EACCD,EACRC,EAAkBF,GAAuBA,EAAqBC,EACtDT,EAAa9lI,OAAO82G,eAAiB,EAAI0vB,EAAkBF,EACnEE,EAAkBF,EAAqBA,EAAqBC,EACpDC,EAEAD,EAGnBv5H,EAAY0jG,EAAOmI,YAAcnI,EAAOyK,cAAgB,OAAS,MACnE,MACEkrB,EAAiB31B,EAAO2J,UACxBrtG,EAAYq5H,EAAiB31B,EAAOyK,cAAgB,OAAS,OAG3DirB,IACFC,GAAgC,SAAdr5H,EAAuBy4H,GAAoB,EAAIA,GAG/DK,EAAa3sB,sBAAwB2sB,EAAa3sB,qBAAqB3jG,QAAQ6wH,GAAkB,IAC/FP,EAAa9lI,OAAO61G,eAEpBwwB,EADEA,EAAiBC,EACFD,EAAiB77H,KAAKK,MAAMwrG,EAAgB,GAAK,EAEjDgwB,EAAiB77H,KAAKK,MAAMwrG,EAAgB,GAAK,EAE3DgwB,EAAiBC,GAAsBR,EAAa9lI,OAAO82G,eAGtEgvB,EAAahpB,QAAQupB,EAAgBtpB,EAAU,OAAI39F,GAEvD,CACF,CA1JAsxF,EAAO60B,OAAS,CACd70B,OAAQ,MA2JVjmB,EAAG,cAAc,KACf,MAAM,OACJ86C,GACE70B,EAAO1wG,OACNulI,GAAWA,EAAO70B,SACvBntF,IACAkrC,GAAO,GAAK,IAEdg8B,EAAG,4CAA4C,KAC7Ch8B,GAAQ,IAEVg8B,EAAG,iBAAiB,CAACxmD,EAAIloB,KACvB,MAAM+pH,EAAep1B,EAAO60B,OAAO70B,OAC9Bo1B,IAAgBA,EAAattE,WAClCstE,EAAaptB,cAAc38F,EAAS,IAEtC0uE,EAAG,iBAAiB,KAClB,MAAMq7C,EAAep1B,EAAO60B,OAAO70B,OAC9Bo1B,IAAgBA,EAAattE,WAE9BotE,GACFE,EAAa/rH,SACf,IAEFlT,OAAOswC,OAAOu5D,EAAO60B,OAAQ,CAC3BhiH,OACAkrC,UAEJ,ECzMe,UAAkB,OAC/BiiD,EAAM,aACNyZ,EAAY,KACZvW,EAAI,KACJP,IAEA8W,EAAa,CACXzH,SAAU,CACRjoC,SAAS,EACTgsD,UAAU,EACVC,cAAe,EACfC,gBAAgB,EAChBC,oBAAqB,EACrBC,sBAAuB,EACvBjS,QAAQ,EACRkS,gBAAiB,OAwOrBjgI,OAAOswC,OAAOu5D,EAAQ,CACpBgS,SAAU,CACR/C,aAtOJ,WACE,MAAM9iF,EAAY6zE,EAAOvB,eACzBuB,EAAOsL,aAAan/E,GACpB6zE,EAAOgI,cAAc,GACrBhI,EAAOkP,gBAAgB8K,WAAWtsH,OAAS,EAC3CsyG,EAAOgS,SAASoB,WAAW,CACzBl0D,WAAY8gD,EAAO8D,IAAM9D,EAAO7zE,WAAa6zE,EAAO7zE,WAExD,EA+NI8lF,YA7NJ,WACE,MACE/C,gBAAiBh7G,EAAI,QACrBi7G,GACEnP,EAE2B,IAA3B9rG,EAAK8lH,WAAWtsH,QAClBwG,EAAK8lH,WAAW5iH,KAAK,CACnBqE,SAAU0zG,EAAQnP,EAAOsD,eAAiB,SAAW,UACrDn4F,KAAMjX,EAAKq9G,iBAIfr9G,EAAK8lH,WAAW5iH,KAAK,CACnBqE,SAAU0zG,EAAQnP,EAAOsD,eAAiB,WAAa,YACvDn4F,KAAMw4B,KAEV,EA6MIyvE,WA3MJ,UAAoB,WAClBl0D,IAEA,MAAM,OACJ5vD,EAAM,WACNq0G,EACAE,aAAcC,EAAG,SACjBQ,EACA4K,gBAAiBh7G,GACf8rG,EAGEsT,EADe3vE,IACWzvC,EAAKq9G,eAErC,GAAIryD,GAAc8gD,EAAO4I,eACvB5I,EAAOoM,QAAQpM,EAAOmI,kBAIxB,GAAIjpD,GAAc8gD,EAAOoJ,eACnBpJ,EAAOmE,OAAOz2G,OAAS42G,EAAS52G,OAClCsyG,EAAOoM,QAAQ9H,EAAS52G,OAAS,GAEjCsyG,EAAOoM,QAAQpM,EAAOmE,OAAOz2G,OAAS,OAJ1C,CAUA,GAAI4B,EAAO0iH,SAAS+jB,SAAU,CAC5B,GAAI7hI,EAAK8lH,WAAWtsH,OAAS,EAAG,CAC9B,MAAM2oI,EAAgBniI,EAAK8lH,WAAWnmF,MAChCyiG,EAAgBpiI,EAAK8lH,WAAWnmF,MAChC2L,EAAW62F,EAAc56H,SAAW66H,EAAc76H,SAClD0P,EAAOkrH,EAAclrH,KAAOmrH,EAAcnrH,KAChD60F,EAAO97B,SAAW1kC,EAAWr0B,EAC7B60F,EAAO97B,UAAY,EAEfpqE,KAAKc,IAAIolG,EAAO97B,UAAY50E,EAAO0iH,SAASokB,kBAC9Cp2B,EAAO97B,SAAW,IAKhB/4D,EAAO,KAAOw4B,IAAQ0yF,EAAclrH,KAAO,OAC7C60F,EAAO97B,SAAW,EAEtB,MACE87B,EAAO97B,SAAW,EAGpB87B,EAAO97B,UAAY50E,EAAO0iH,SAASmkB,sBACnCjiI,EAAK8lH,WAAWtsH,OAAS,EACzB,IAAIkgI,EAAmB,IAAOt+H,EAAO0iH,SAASgkB,cAC9C,MAAMO,EAAmBv2B,EAAO97B,SAAW0pD,EAC3C,IAAI4I,EAAcx2B,EAAO7zE,UAAYoqG,EACjCzyB,IAAK0yB,GAAeA,GACxB,IACIC,EADAC,GAAW,EAEf,MAAMC,EAA2C,GAA5B78H,KAAKc,IAAIolG,EAAO97B,UAAiB50E,EAAO0iH,SAASkkB,oBACtE,IAAIU,EAEJ,GAAIJ,EAAcx2B,EAAOoJ,eACnB95G,EAAO0iH,SAASikB,gBACdO,EAAcx2B,EAAOoJ,gBAAkButB,IACzCH,EAAcx2B,EAAOoJ,eAAiButB,GAGxCF,EAAsBz2B,EAAOoJ,eAC7BstB,GAAW,EACXxiI,EAAK0+G,qBAAsB,GAE3B4jB,EAAcx2B,EAAOoJ,eAGnB95G,EAAO4d,MAAQ5d,EAAO61G,iBAAgByxB,GAAe,QACpD,GAAIJ,EAAcx2B,EAAO4I,eAC1Bt5G,EAAO0iH,SAASikB,gBACdO,EAAcx2B,EAAO4I,eAAiB+tB,IACxCH,EAAcx2B,EAAO4I,eAAiB+tB,GAGxCF,EAAsBz2B,EAAO4I,eAC7B8tB,GAAW,EACXxiI,EAAK0+G,qBAAsB,GAE3B4jB,EAAcx2B,EAAO4I,eAGnBt5G,EAAO4d,MAAQ5d,EAAO61G,iBAAgByxB,GAAe,QACpD,GAAItnI,EAAO0iH,SAASkS,OAAQ,CACjC,IAAI9Z,EAEJ,IAAK,IAAItpG,EAAI,EAAGA,EAAIwjG,EAAS52G,OAAQoT,GAAK,EACxC,GAAIwjG,EAASxjG,IAAM01H,EAAa,CAC9BpsB,EAAYtpG,EACZ,KACF,CAIA01H,EADE18H,KAAKc,IAAI0pG,EAAS8F,GAAaosB,GAAe18H,KAAKc,IAAI0pG,EAAS8F,EAAY,GAAKosB,IAA0C,SAA1Bx2B,EAAOwR,eAC5FlN,EAAS8F,GAET9F,EAAS8F,EAAY,GAGrCosB,GAAeA,CACjB,CASA,GAPII,GACFj0B,EAAK,iBAAiB,KACpB3C,EAAO0N,SAAS,IAKI,IAApB1N,EAAO97B,UAOT,GALE0pD,EADE9pB,EACiBhqG,KAAKc,MAAM47H,EAAcx2B,EAAO7zE,WAAa6zE,EAAO97B,UAEpDpqE,KAAKc,KAAK47H,EAAcx2B,EAAO7zE,WAAa6zE,EAAO97B,UAGpE50E,EAAO0iH,SAASkS,OAAQ,CAQ1B,MAAM2S,EAAe/8H,KAAKc,KAAKkpG,GAAO0yB,EAAcA,GAAex2B,EAAO7zE,WACpE2qG,EAAmB92B,EAAOwE,gBAAgBxE,EAAOmI,aAGrDylB,EADEiJ,EAAeC,EACExnI,EAAO49E,MACjB2pD,EAAe,EAAIC,EACM,IAAfxnI,EAAO49E,MAEQ,IAAf59E,EAAO49E,KAE9B,OACK,GAAI59E,EAAO0iH,SAASkS,OAEzB,YADAlkB,EAAOkO,iBAIL5+G,EAAO0iH,SAASikB,gBAAkBS,GACpC12B,EAAOiJ,eAAewtB,GACtBz2B,EAAOgI,cAAc4lB,GACrB5tB,EAAOsL,aAAakrB,GACpBx2B,EAAO6M,iBAAgB,EAAM7M,EAAOwR,gBACpCxR,EAAO6L,WAAY,EACnBlI,EAAWnH,eAAc,KAClBwD,IAAUA,EAAOl4C,WAAc5zD,EAAK0+G,sBACzC1P,EAAK,kBACLlD,EAAOgI,cAAc14G,EAAO49E,OAC5Bh/E,YAAW,KACT8xG,EAAOsL,aAAamrB,GACpB9yB,EAAWnH,eAAc,KAClBwD,IAAUA,EAAOl4C,WACtBk4C,EAAOxD,eAAe,GACtB,GACD,GAAE,KAEEwD,EAAO97B,UAChBg/B,EAAK,8BACLlD,EAAOiJ,eAAeutB,GACtBx2B,EAAOgI,cAAc4lB,GACrB5tB,EAAOsL,aAAakrB,GACpBx2B,EAAO6M,iBAAgB,EAAM7M,EAAOwR,gBAE/BxR,EAAO6L,YACV7L,EAAO6L,WAAY,EACnBlI,EAAWnH,eAAc,KAClBwD,IAAUA,EAAOl4C,WACtBk4C,EAAOxD,eAAe,MAI1BwD,EAAOiJ,eAAeutB,GAGxBx2B,EAAOuK,oBACPvK,EAAO0J,qBACT,KAAO,IAAIp6G,EAAO0iH,SAASkS,OAEzB,YADAlkB,EAAOkO,iBAEE5+G,EAAO0iH,UAChB9O,EAAK,6BACP,GAEK5zG,EAAO0iH,SAAS+jB,UAAYziB,GAAYhkH,EAAOwkH,gBAClD9T,EAAOiJ,iBACPjJ,EAAOuK,oBACPvK,EAAO0J,sBAxKT,CA0KF,IASF,EC/Pe,UAAc,OAC3B1J,EAAM,aACNyZ,IAQA,IAAIsd,EACAC,EACAC,EARJxd,EAAa,CACXnU,KAAM,CACJC,KAAM,EACN94C,KAAM,YAuGVuzC,EAAOsF,KAAO,CACZG,WAjGiBpB,IACjB,MAAM,cACJsB,GACE3F,EAAO1wG,QACL,KACJi2G,EAAI,KACJ94C,GACEuzC,EAAO1wG,OAAOg2G,KAClB0xB,EAAeD,EAAyBxxB,EACxC0xB,EAAiBn9H,KAAKK,MAAMkqG,EAAekB,GAGzCwxB,EADEj9H,KAAKK,MAAMkqG,EAAekB,KAAUlB,EAAekB,EAC5BlB,EAEAvqG,KAAKwkC,KAAK+lE,EAAekB,GAAQA,EAGtC,SAAlBI,GAAqC,QAATl5C,IAC9BsqE,EAAyBj9H,KAAKO,IAAI08H,EAAwBpxB,EAAgBJ,GAC5E,EA+EAM,YA5EkB,CAAC/vG,EAAG8vG,EAAOvB,EAAcZ,KAC3C,MAAM,eACJ2C,EAAc,aACdrB,GACE/E,EAAO1wG,QACL,KACJi2G,EAAI,KACJ94C,GACEuzC,EAAO1wG,OAAOg2G,KAElB,IAAI4xB,EACAC,EACAC,EAEJ,GAAa,QAAT3qE,GAAkB25C,EAAiB,EAAG,CACxC,MAAMixB,EAAav9H,KAAKK,MAAMrE,GAAKswG,EAAiBb,IAC9C+xB,EAAoBxhI,EAAIyvG,EAAOa,EAAiBixB,EAChDE,EAAgC,IAAfF,EAAmBjxB,EAAiBtsG,KAAKS,IAAIT,KAAKwkC,MAAM+lE,EAAegzB,EAAa9xB,EAAOa,GAAkBb,GAAOa,GAC3IgxB,EAAMt9H,KAAKK,MAAMm9H,EAAoBC,GACrCJ,EAASG,EAAoBF,EAAMG,EAAiBF,EAAajxB,EACjE8wB,EAAqBC,EAASC,EAAML,EAAyBxxB,EAC7DK,EAAM7lB,IAAI,CACR,gBAAiBm3C,EACjBM,MAAON,GAEX,KAAoB,WAATzqE,GACT0qE,EAASr9H,KAAKK,MAAMrE,EAAIyvG,GACxB6xB,EAAMthI,EAAIqhI,EAAS5xB,GAEf4xB,EAASF,GAAkBE,IAAWF,GAAkBG,IAAQ7xB,EAAO,KACzE6xB,GAAO,EAEHA,GAAO7xB,IACT6xB,EAAM,EACND,GAAU,MAIdC,EAAMt9H,KAAKK,MAAMrE,EAAIkhI,GACrBG,EAASrhI,EAAIshI,EAAMJ,GAGrBpxB,EAAM7lB,IAAI0jB,EAAkB,cAAuB,IAAR2zB,EAAYryB,GAAgB,GAAGA,MAAmB,GAAG,EAmChGwB,kBAhCwB,CAACf,EAAWlB,EAAUb,KAC9C,MAAM,aACJsB,EAAY,eACZI,EAAc,aACda,GACEhG,EAAO1wG,QACL,KACJi2G,GACEvF,EAAO1wG,OAAOg2G,KAOlB,GANAtF,EAAOkF,aAAeM,EAAYT,GAAgBgyB,EAClD/2B,EAAOkF,YAAcprG,KAAKwkC,KAAK0hE,EAAOkF,YAAcK,GAAQR,EAC5D/E,EAAO2D,WAAW5jB,IAAI,CACpB,CAAC0jB,EAAkB,UAAW,GAAGzD,EAAOkF,YAAcH,QAGpDI,EAAgB,CAClBb,EAASh6F,OAAO,EAAGg6F,EAAS52G,QAC5B,MAAM84G,EAAgB,GAEtB,IAAK,IAAI1wG,EAAI,EAAGA,EAAIwuG,EAAS52G,OAAQoI,GAAK,EAAG,CAC3C,IAAI2wG,EAAiBnC,EAASxuG,GAC1BkwG,IAAcS,EAAiB3sG,KAAKK,MAAMssG,IAC1CnC,EAASxuG,GAAKkqG,EAAOkF,YAAcZ,EAAS,IAAIkC,EAAcpvG,KAAKqvG,EACzE,CAEAnC,EAASltG,QAAQovG,EACnB,GAQJ,EC9Ge,UAAsB,OACnCxG,IAEA7pG,OAAOswC,OAAOu5D,EAAQ,CACpBid,YAAaA,GAAY10G,KAAKy3F,GAC9Bkd,aAAcA,GAAa30G,KAAKy3F,GAChCmd,SAAUA,GAAS50G,KAAKy3F,GACxBwd,YAAaA,GAAYj1G,KAAKy3F,GAC9B2d,gBAAiBA,GAAgBp1G,KAAKy3F,IAE1C,ECZe,UAAoB,OACjCA,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACXge,WAAY,CACVC,WAAW,EACXpZ,YAAa,QA4CjBV,GAAW,CACTzrE,OAAQ,OACR6tD,SACAjmB,KACAuxB,aA5CmB,KACnB,MAAM,OACJnH,GACEnE,EACE1wG,EAAS0wG,EAAO1wG,OAAOmoI,WAE7B,IAAK,IAAI3hI,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAAG,CACzC,MAAMuoH,EAAWre,EAAOmE,OAAO5G,GAAGznG,GAElC,IAAIs2B,GADWiyF,EAAS,GAAGjW,kBAEtBpI,EAAO1wG,OAAO87G,mBAAkBh/E,GAAM4zE,EAAO7zE,WAClD,IAAI3qB,EAAK,EAEJw+F,EAAOsD,iBACV9hG,EAAK4qB,EACLA,EAAK,GAGP,MAAMurG,EAAe33B,EAAO1wG,OAAOmoI,WAAWC,UAAY59H,KAAKO,IAAI,EAAIP,KAAKc,IAAIyjH,EAAS,GAAG9gC,UAAW,GAAK,EAAIzjF,KAAKS,IAAIT,KAAKO,IAAIgkH,EAAS,GAAG9gC,UAAW,GAAI,GAC3I4gC,GAAa7uH,EAAQ+uH,GAC7Bt+B,IAAI,CACZ3vC,QAASunF,IACRrrG,UAAU,eAAeF,QAAS5qB,YACvC,GAsBAwmG,cAnBoB38F,IACpB,MAAM,YACJizG,GACEte,EAAO1wG,OAAOmoI,YACUnZ,EAActe,EAAOmE,OAAOhG,KAAKmgB,GAAete,EAAOmE,QAC/D3I,WAAWnwF,GAC/BkzG,GAA2B,CACzBve,SACA30F,WACAizG,cACAE,WAAW,GACX,EASFX,gBAAiB,KAAM,CACrBlY,cAAe,EACfS,eAAgB,EAChBmB,qBAAqB,EACrBxC,aAAc,EACdqG,kBAAmBpL,EAAO1wG,OAAO81G,WAGvC,ECnEe,UAAoB,OACjCpF,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACXme,WAAY,CACV1Z,cAAc,EACd2Z,QAAQ,EACRC,aAAc,GACdC,YAAa,OAIjB,MAAMC,EAAqB,CAAC3Z,EAAU9gC,EAAU+lB,KAC9C,IAAI20B,EAAe30B,EAAe+a,EAASlgB,KAAK,6BAA+BkgB,EAASlgB,KAAK,4BACzF+5B,EAAc50B,EAAe+a,EAASlgB,KAAK,8BAAgCkgB,EAASlgB,KAAK,+BAEjE,IAAxB85B,EAAavqI,SACfuqI,EAAe,EAAE,mCAAmC30B,EAAe,OAAS,iBAC5E+a,EAASz0G,OAAOquH,IAGS,IAAvBC,EAAYxqI,SACdwqI,EAAc,EAAE,mCAAmC50B,EAAe,QAAU,oBAC5E+a,EAASz0G,OAAOsuH,IAGdD,EAAavqI,SAAQuqI,EAAa,GAAGz8H,MAAM40C,QAAUt2C,KAAKO,KAAKkjF,EAAU,IACzE26C,EAAYxqI,SAAQwqI,EAAY,GAAG18H,MAAM40C,QAAUt2C,KAAKO,IAAIkjF,EAAU,GAAE,EAgJ9EqgC,GAAW,CACTzrE,OAAQ,OACR6tD,SACAjmB,KACAuxB,aAxImB,KACnB,MAAM,IACJlI,EAAG,WACHO,EAAU,OACVQ,EACAt9F,MAAO26G,EACP16G,OAAQ26G,EACR5d,aAAcC,EACdj0G,KAAM+zG,EAAU,QAChBpmC,GACEwiC,EACE1wG,EAAS0wG,EAAO1wG,OAAOsoI,WACvBt0B,EAAetD,EAAOsD,eACtBU,EAAYhE,EAAOiE,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,QAC1D,IACIouD,EADAC,EAAgB,EAGhB9oI,EAAOuoI,SACLv0B,GACF60B,EAAgBx0B,EAAWxF,KAAK,uBAEH,IAAzBg6B,EAAczqI,SAChByqI,EAAgB,EAAE,0CAClBx0B,EAAW/5F,OAAOuuH,IAGpBA,EAAcp4C,IAAI,CAChBj5E,OAAQ,GAAG06G,UAGb2W,EAAgB/0B,EAAIjF,KAAK,uBAEI,IAAzBg6B,EAAczqI,SAChByqI,EAAgB,EAAE,0CAClB/0B,EAAIx5F,OAAOuuH,MAKjB,IAAK,IAAIriI,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAAG,CACzC,MAAMuoH,EAAWla,EAAO5G,GAAGznG,GAC3B,IAAI4wG,EAAa5wG,EAEbkuG,IACF0C,EAAa/3F,SAAS0vG,EAASpoH,KAAK,2BAA4B,KAGlE,IAAIoiI,EAA0B,GAAb3xB,EACbrrG,EAAQvB,KAAKK,MAAMk+H,EAAa,KAEhCv0B,IACFu0B,GAAcA,EACdh9H,EAAQvB,KAAKK,OAAOk+H,EAAa,MAGnC,MAAM96C,EAAWzjF,KAAKO,IAAIP,KAAKS,IAAI8jH,EAAS,GAAG9gC,SAAU,IAAK,GAC9D,IAAInxD,EAAK,EACL5qB,EAAK,EACL6qB,EAAK,EAELq6E,EAAa,GAAM,GACrBt6E,EAAc,GAAR/wB,EAAYuoG,EAClBv3E,EAAK,IACKq6E,EAAa,GAAK,GAAM,GAClCt6E,EAAK,EACLC,EAAc,GAARhxB,EAAYuoG,IACR8C,EAAa,GAAK,GAAM,GAClCt6E,EAAKw3E,EAAqB,EAARvoG,EAAYuoG,EAC9Bv3E,EAAKu3E,IACK8C,EAAa,GAAK,GAAM,IAClCt6E,GAAMw3E,EACNv3E,EAAK,EAAIu3E,EAA0B,EAAbA,EAAiBvoG,GAGrCyoG,IACF13E,GAAMA,GAGHk3E,IACH9hG,EAAK4qB,EACLA,EAAK,GAGP,MAAME,EAAY,WAAWg3E,EAAe,GAAK+0B,iBAA0B/0B,EAAe+0B,EAAa,qBAAqBjsG,QAAS5qB,QAAS6qB,OAE1IkxD,GAAY,GAAKA,GAAY,IAC/B66C,EAA6B,GAAb1xB,EAA6B,GAAXnpB,EAC9BumB,IAAKs0B,EAA8B,IAAb1xB,EAA6B,GAAXnpB,IAG9C8gC,EAAS/xF,UAAUA,GAEfh9B,EAAO4uH,cACT8Z,EAAmB3Z,EAAU9gC,EAAU+lB,EAE3C,CAOA,GALAK,EAAW5jB,IAAI,CACb,2BAA4B,YAAY6jB,EAAa,MACrD,mBAAoB,YAAYA,EAAa,QAG3Ct0G,EAAOuoI,OACT,GAAIv0B,EACF60B,EAAc7rG,UAAU,oBAAoBk1F,EAAc,EAAIlyH,EAAOwoI,oBAAoBtW,EAAc,2CAA2ClyH,EAAOyoI,oBACpJ,CACL,MAAMO,EAAcx+H,KAAKc,IAAIw9H,GAA4D,GAA3Ct+H,KAAKK,MAAML,KAAKc,IAAIw9H,GAAiB,IAC7ElvB,EAAa,KAAOpvG,KAAKmoB,IAAkB,EAAdq2G,EAAkBx+H,KAAKmB,GAAK,KAAO,EAAInB,KAAKgpB,IAAkB,EAAdw1G,EAAkBx+H,KAAKmB,GAAK,KAAO,GAChHqmB,EAAShyB,EAAOyoI,YAChBQ,EAASjpI,EAAOyoI,YAAc7uB,EAC9Bn5G,EAAST,EAAOwoI,aACtBK,EAAc7rG,UAAU,WAAWhL,SAAci3G,uBAA4B9W,EAAe,EAAI1xH,SAAc0xH,EAAe,EAAI8W,uBACnI,CAGF,MAAMC,EAAUh7D,EAAQ/jE,UAAY+jE,EAAQ+kC,WAAaqB,EAAa,EAAI,EAC1ED,EAAWr3E,UAAU,qBAAqBksG,gBAAsBx4B,EAAOsD,eAAiB,EAAI80B,iBAA6Bp4B,EAAOsD,gBAAkB80B,EAAgB,SAClKz0B,EAAW,GAAGnoG,MAAMskG,YAAY,4BAA6B,GAAG04B,MAAY,EAoB5ExwB,cAjBoB38F,IACpB,MAAM,IACJ+3F,EAAG,OACHe,GACEnE,EACJmE,EAAO3I,WAAWnwF,GAAU8yF,KAAK,gHAAgH3C,WAAWnwF,GAExJ20F,EAAO1wG,OAAOsoI,WAAWC,SAAW73B,EAAOsD,gBAC7CF,EAAIjF,KAAK,uBAAuB3C,WAAWnwF,EAC7C,EASAyyG,gBAnJsB,KAEtB,MAAMxa,EAAetD,EAAOsD,eAC5BtD,EAAOmE,OAAOnH,MAAKod,IACjB,MAAM78B,EAAWzjF,KAAKO,IAAIP,KAAKS,IAAI6/G,EAAQ78B,SAAU,IAAK,GAC1Dy6C,EAAmB,EAAE5d,GAAU78B,EAAU+lB,EAAa,GACtD,EA8IFya,gBAAiB,IAAM/d,EAAO1wG,OAAOsoI,WACrCt+D,YAAa,KAAM,EACnBukD,gBAAiB,KAAM,CACrBlY,cAAe,EACfS,eAAgB,EAChBmB,qBAAqB,EACrB0L,gBAAiB,EACjBlO,aAAc,EACdI,gBAAgB,EAChBiG,kBAAkB,KAGxB,EC7Le,UAAoB,OACjCpL,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACXgf,WAAY,CACVva,cAAc,EACdwa,eAAe,EACfpa,YAAa,QAIjB,MAAM0Z,EAAqB,CAAC3Z,EAAU9gC,EAAUjuF,KAC9C,IAAI2oI,EAAej4B,EAAOsD,eAAiB+a,EAASlgB,KAAK,6BAA+BkgB,EAASlgB,KAAK,4BAClG+5B,EAAcl4B,EAAOsD,eAAiB+a,EAASlgB,KAAK,8BAAgCkgB,EAASlgB,KAAK,+BAE1E,IAAxB85B,EAAavqI,SACfuqI,EAAerZ,GAAatvH,EAAQ+uH,EAAUre,EAAOsD,eAAiB,OAAS,QAGtD,IAAvB40B,EAAYxqI,SACdwqI,EAActZ,GAAatvH,EAAQ+uH,EAAUre,EAAOsD,eAAiB,QAAU,WAG7E20B,EAAavqI,SAAQuqI,EAAa,GAAGz8H,MAAM40C,QAAUt2C,KAAKO,KAAKkjF,EAAU,IACzE26C,EAAYxqI,SAAQwqI,EAAY,GAAG18H,MAAM40C,QAAUt2C,KAAKO,IAAIkjF,EAAU,GAAE,EA0E9EqgC,GAAW,CACTzrE,OAAQ,OACR6tD,SACAjmB,KACAuxB,aA5DmB,KACnB,MAAM,OACJnH,EACAN,aAAcC,GACZ9D,EACE1wG,EAAS0wG,EAAO1wG,OAAOmpI,WAE7B,IAAK,IAAI3iI,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAAG,CACzC,MAAMuoH,EAAWla,EAAO5G,GAAGznG,GAC3B,IAAIynF,EAAW8gC,EAAS,GAAG9gC,SAEvByiB,EAAO1wG,OAAOmpI,WAAWC,gBAC3Bn7C,EAAWzjF,KAAKO,IAAIP,KAAKS,IAAI8jH,EAAS,GAAG9gC,SAAU,IAAK,IAG1D,MAAMxtF,EAASsuH,EAAS,GAAGjW,kBAE3B,IAAI58E,GADY,IAAM+xD,EAElBhyD,EAAU,EACVa,EAAK4zE,EAAO1wG,OAAO81G,SAAWr1G,EAASiwG,EAAO7zE,WAAap8B,EAC3DyR,EAAK,EAEJw+F,EAAOsD,eAKDQ,IACTt4E,GAAWA,IALXhqB,EAAK4qB,EACLA,EAAK,EACLb,GAAWC,EACXA,EAAU,GAKZ6yF,EAAS,GAAG7iH,MAAMm9H,QAAU7+H,KAAKc,IAAId,KAAKuB,MAAMkiF,IAAa4mB,EAAOz2G,OAEhE4B,EAAO4uH,cACT8Z,EAAmB3Z,EAAU9gC,EAAUjuF,GAGzC,MAAMg9B,EAAY,eAAeF,QAAS5qB,qBAAsB+pB,iBAAuBC,QACrE2yF,GAAa7uH,EAAQ+uH,GAC7B/xF,UAAUA,EACtB,GAqBA07E,cAlBoB38F,IACpB,MAAM,YACJizG,GACEte,EAAO1wG,OAAOmpI,YACUna,EAActe,EAAOmE,OAAOhG,KAAKmgB,GAAete,EAAOmE,QAC/D3I,WAAWnwF,GAAU8yF,KAAK,gHAAgH3C,WAAWnwF,GACzKkzG,GAA2B,CACzBve,SACA30F,WACAizG,eACA,EASFR,gBA7EsB,KAEtB,MAAMxuH,EAAS0wG,EAAO1wG,OAAOmpI,WAC7Bz4B,EAAOmE,OAAOnH,MAAKod,IACjB,MAAMiE,EAAW,EAAEjE,GACnB,IAAI78B,EAAW8gC,EAAS,GAAG9gC,SAEvByiB,EAAO1wG,OAAOmpI,WAAWC,gBAC3Bn7C,EAAWzjF,KAAKO,IAAIP,KAAKS,IAAI6/G,EAAQ78B,SAAU,IAAK,IAGtDy6C,EAAmB3Z,EAAU9gC,EAAUjuF,EAAO,GAC9C,EAkEFyuH,gBAAiB,IAAM/d,EAAO1wG,OAAOmpI,WACrCn/D,YAAa,KAAM,EACnBukD,gBAAiB,KAAM,CACrBlY,cAAe,EACfS,eAAgB,EAChBmB,qBAAqB,EACrBxC,aAAc,EACdqG,kBAAmBpL,EAAO1wG,OAAO81G,WAGvC,ECvHe,UAAyB,OACtCpF,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACXmf,gBAAiB,CACfztG,OAAQ,GACR0tG,QAAS,EACTjhG,MAAO,IACP9L,MAAO,EACP2xB,SAAU,EACVygE,cAAc,EACdI,YAAa,QA4EjBV,GAAW,CACTzrE,OAAQ,YACR6tD,SACAjmB,KACAuxB,aA5EmB,KACnB,MACEzkG,MAAO26G,EACP16G,OAAQ26G,EAAY,OACpBtd,EAAM,gBACNK,GACExE,EACE1wG,EAAS0wG,EAAO1wG,OAAOspI,gBACvBt1B,EAAetD,EAAOsD,eACtBh3E,EAAY0zE,EAAO7zE,UACnBx9B,EAAS20G,EAA4Bke,EAAc,EAA1Bl1F,EAA2Cm1F,EAAe,EAA3Bn1F,EACxDnB,EAASm4E,EAAeh0G,EAAO67B,QAAU77B,EAAO67B,OAChDgB,EAAY78B,EAAOsoC,MAEzB,IAAK,IAAI9hC,EAAI,EAAGpI,EAASy2G,EAAOz2G,OAAQoI,EAAIpI,EAAQoI,GAAK,EAAG,CAC1D,MAAMuoH,EAAWla,EAAO5G,GAAGznG,GACrB0vG,EAAYhB,EAAgB1uG,GAE5BgjI,GAAgBnqI,EADF0vH,EAAS,GAAGjW,kBACa5C,EAAY,GAAKA,EACxDuzB,EAA8C,mBAApBzpI,EAAOmuD,SAA0BnuD,EAAOmuD,SAASq7E,GAAgBA,EAAexpI,EAAOmuD,SACvH,IAAIjyB,EAAU83E,EAAen4E,EAAS4tG,EAAmB,EACrDxtG,EAAU+3E,EAAe,EAAIn4E,EAAS4tG,EAEtCC,GAAc7sG,EAAYryB,KAAKc,IAAIm+H,GACnCF,EAAUvpI,EAAOupI,QAEE,iBAAZA,IAAkD,IAA1BA,EAAQ/zH,QAAQ,OACjD+zH,EAAUh6C,WAAWvvF,EAAOupI,SAAW,IAAMrzB,GAG/C,IAAI6mB,EAAa/oB,EAAe,EAAIu1B,EAAUE,EAC1C3M,EAAa9oB,EAAeu1B,EAAUE,EAAmB,EACzDjtG,EAAQ,GAAK,EAAIx8B,EAAOw8B,OAAShyB,KAAKc,IAAIm+H,GAE1Cj/H,KAAKc,IAAIwxH,GAAc,OAAOA,EAAa,GAC3CtyH,KAAKc,IAAIyxH,GAAc,OAAOA,EAAa,GAC3CvyH,KAAKc,IAAIo+H,GAAc,OAAOA,EAAa,GAC3Cl/H,KAAKc,IAAI4wB,GAAW,OAAOA,EAAU,GACrC1xB,KAAKc,IAAI2wB,GAAW,OAAOA,EAAU,GACrCzxB,KAAKc,IAAIkxB,GAAS,OAAOA,EAAQ,GACrC,MAAMmtG,EAAiB,eAAe7M,OAAgBC,OAAgB2M,iBAA0BztG,iBAAuBC,eAAqBM,KAK5I,GAJkBqyF,GAAa7uH,EAAQ+uH,GAC7B/xF,UAAU2sG,GACpB5a,EAAS,GAAG7iH,MAAMm9H,OAAmD,EAAzC7+H,KAAKc,IAAId,KAAKuB,MAAM09H,IAE5CzpI,EAAO4uH,aAAc,CAEvB,IAAIgb,EAAkB51B,EAAe+a,EAASlgB,KAAK,6BAA+BkgB,EAASlgB,KAAK,4BAC5Fg7B,EAAiB71B,EAAe+a,EAASlgB,KAAK,8BAAgCkgB,EAASlgB,KAAK,+BAEjE,IAA3B+6B,EAAgBxrI,SAClBwrI,EAAkBta,GAAatvH,EAAQ+uH,EAAU/a,EAAe,OAAS,QAG7C,IAA1B61B,EAAezrI,SACjByrI,EAAiBva,GAAatvH,EAAQ+uH,EAAU/a,EAAe,QAAU,WAGvE41B,EAAgBxrI,SAAQwrI,EAAgB,GAAG19H,MAAM40C,QAAU2oF,EAAmB,EAAIA,EAAmB,GACrGI,EAAezrI,SAAQyrI,EAAe,GAAG39H,MAAM40C,SAAW2oF,EAAmB,GAAKA,EAAmB,EAC3G,CACF,GAgBA/wB,cAboB38F,IACpB,MAAM,YACJizG,GACEte,EAAO1wG,OAAOspI,iBACUta,EAActe,EAAOmE,OAAOhG,KAAKmgB,GAAete,EAAOmE,QAC/D3I,WAAWnwF,GAAU8yF,KAAK,gHAAgH3C,WAAWnwF,EAAS,EASlLiuD,YAAa,KAAM,EACnBukD,gBAAiB,KAAM,CACrBtW,qBAAqB,KAG3B,ECnGe,UAAwB,OACrCvH,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACX2f,eAAgB,CACd9a,YAAa,KACb+a,cAAe,EACfC,mBAAmB,EACnBC,mBAAoB,EACpBjgE,aAAa,EACbznE,KAAM,CACJs6B,UAAW,CAAC,EAAG,EAAG,GAClBhB,OAAQ,CAAC,EAAG,EAAG,GACfilB,QAAS,EACTtkB,MAAO,GAETh6B,KAAM,CACJq6B,UAAW,CAAC,EAAG,EAAG,GAClBhB,OAAQ,CAAC,EAAG,EAAG,GACfilB,QAAS,EACTtkB,MAAO,MAKb,MAAM0tG,EAAoBzlI,GACH,iBAAVA,EAA2BA,EAC/B,GAAGA,MA4GZ6pH,GAAW,CACTzrE,OAAQ,WACR6tD,SACAjmB,KACAuxB,aA7GmB,KACnB,MAAM,OACJnH,EAAM,WACNR,EAAU,gBACVa,GACExE,EACE1wG,EAAS0wG,EAAO1wG,OAAO8pI,gBAE3BG,mBAAoBrwB,GAClB55G,EACEmqI,EAAmBz5B,EAAO1wG,OAAO61G,eAEvC,GAAIs0B,EAAkB,CACpB,MAAMxgE,EAASurC,EAAgB,GAAK,EAAIxE,EAAO1wG,OAAOo1G,oBAAsB,EAC5Ef,EAAWr3E,UAAU,yBAAyB2sC,QAChD,CAEA,IAAK,IAAInjE,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAAG,CACzC,MAAMuoH,EAAWla,EAAO5G,GAAGznG,GACrB6yG,EAAgB0V,EAAS,GAAG9gC,SAC5BA,EAAWzjF,KAAKS,IAAIT,KAAKO,IAAIgkH,EAAS,GAAG9gC,UAAWjuF,EAAO+pI,eAAgB/pI,EAAO+pI,eACxF,IAAIrwB,EAAmBzrB,EAElBk8C,IACHzwB,EAAmBlvG,KAAKS,IAAIT,KAAKO,IAAIgkH,EAAS,GAAGrV,kBAAmB15G,EAAO+pI,eAAgB/pI,EAAO+pI,gBAGpG,MAAMtpI,EAASsuH,EAAS,GAAGjW,kBACrBrqG,EAAI,CAACiiG,EAAO1wG,OAAO81G,SAAWr1G,EAASiwG,EAAO7zE,WAAap8B,EAAQ,EAAG,GACtE0N,EAAI,CAAC,EAAG,EAAG,GACjB,IAAIi8H,GAAS,EAER15B,EAAOsD,iBACVvlG,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAK,GAGT,IAAI7J,EAAO,CACTi4B,UAAW,CAAC,EAAG,EAAG,GAClBhB,OAAQ,CAAC,EAAG,EAAG,GACfW,MAAO,EACPskB,QAAS,GAGPmtC,EAAW,GACbrpF,EAAO5E,EAAOwC,KACd4nI,GAAS,GACAn8C,EAAW,IACpBrpF,EAAO5E,EAAOuC,KACd6nI,GAAS,GAIX37H,EAAEpR,SAAQ,CAACoH,EAAO+f,KAChB/V,EAAE+V,GAAS,QAAQ/f,UAAcylI,EAAkBtlI,EAAKi4B,UAAUrY,SAAaha,KAAKc,IAAI2iF,EAAW2rB,MAAe,IAGpHzrG,EAAE9Q,SAAQ,CAACoH,EAAO+f,KAChBrW,EAAEqW,GAAS5f,EAAKi3B,OAAOrX,GAASha,KAAKc,IAAI2iF,EAAW2rB,EAAW,IAEjEmV,EAAS,GAAG7iH,MAAMm9H,QAAU7+H,KAAKc,IAAId,KAAKuB,MAAMstG,IAAkBxE,EAAOz2G,OACzE,MAAMisI,EAAkB57H,EAAE0H,KAAK,MACzBm0H,EAAe,WAAWn8H,EAAE,kBAAkBA,EAAE,kBAAkBA,EAAE,SACpEo8H,EAAc7wB,EAAmB,EAAI,SAAS,GAAK,EAAI90G,EAAK43B,OAASk9E,EAAmBE,KAAgB,SAAS,GAAK,EAAIh1G,EAAK43B,OAASk9E,EAAmBE,KAC3J4wB,EAAgB9wB,EAAmB,EAAI,GAAK,EAAI90G,EAAKk8C,SAAW44D,EAAmBE,EAAa,GAAK,EAAIh1G,EAAKk8C,SAAW44D,EAAmBE,EAC5I58E,EAAY,eAAeqtG,MAAoBC,KAAgBC,IAErE,GAAIH,GAAUxlI,EAAK2jI,SAAW6B,EAAQ,CACpC,IAAI3a,EAAYV,EAAS5lD,SAAS,wBAMlC,GAJyB,IAArBsmD,EAAUrxH,QAAgBwG,EAAK2jI,SACjC9Y,EAAYH,GAAatvH,EAAQ+uH,IAG/BU,EAAUrxH,OAAQ,CACpB,MAAMqsI,EAAgBzqI,EAAOgqI,kBAAoB/7C,GAAY,EAAIjuF,EAAO+pI,eAAiB97C,EACzFwhC,EAAU,GAAGvjH,MAAM40C,QAAUt2C,KAAKS,IAAIT,KAAKO,IAAIP,KAAKc,IAAIm/H,GAAgB,GAAI,EAC9E,CACF,CAEA,MAAM1qB,EAAY8O,GAAa7uH,EAAQ+uH,GACvChP,EAAU/iF,UAAUA,GAAWyzD,IAAI,CACjC3vC,QAAS0pF,IAGP5lI,EAAKmS,QACPgpG,EAAUtvB,IAAI,mBAAoB7rF,EAAKmS,OAE3C,GAsBA2hG,cAnBoB38F,IACpB,MAAM,YACJizG,GACEte,EAAO1wG,OAAO8pI,gBACU9a,EAActe,EAAOmE,OAAOhG,KAAKmgB,GAAete,EAAOmE,QAC/D3I,WAAWnwF,GAAU8yF,KAAK,wBAAwB3C,WAAWnwF,GACjFkzG,GAA2B,CACzBve,SACA30F,WACAizG,cACAE,WAAW,GACX,EASFllD,YAAa,IAAM0mC,EAAO1wG,OAAO8pI,eAAe9/D,YAChDukD,gBAAiB,KAAM,CACrBtW,qBAAqB,EACrB6D,kBAAmBpL,EAAO1wG,OAAO81G,WAGvC,ECrJe,UAAqB,OAClCpF,EAAM,aACNyZ,EAAY,GACZ1/B,IAEA0/B,EAAa,CACXugB,YAAa,CACX9b,cAAc,EACdI,YAAa,KACbnzF,QAAQ,EACR8uG,eAAgB,EAChBC,eAAgB,KAqGpBtc,GAAW,CACTzrE,OAAQ,QACR6tD,SACAjmB,KACAuxB,aArGmB,KACnB,MAAM,OACJnH,EAAM,YACNgE,GACEnI,EACE1wG,EAAS0wG,EAAO1wG,OAAO0qI,aACvB,eACJrnB,EAAc,UACdlD,GACEzP,EAAOkP,gBACL7D,EAAmBrL,EAAO7zE,UAEhC,IAAK,IAAIr2B,EAAI,EAAGA,EAAIquG,EAAOz2G,OAAQoI,GAAK,EAAG,CACzC,MAAMuoH,EAAWla,EAAO5G,GAAGznG,GACrB6yG,EAAgB0V,EAAS,GAAG9gC,SAC5BA,EAAWzjF,KAAKS,IAAIT,KAAKO,IAAIsuG,GAAgB,GAAI,GACvD,IAAI54G,EAASsuH,EAAS,GAAGjW,kBAErBpI,EAAO1wG,OAAO61G,iBAAmBnF,EAAO1wG,OAAO81G,SACjDpF,EAAO2D,WAAWr3E,UAAU,cAAc0zE,EAAO4I,qBAG/C5I,EAAO1wG,OAAO61G,gBAAkBnF,EAAO1wG,OAAO81G,UAChDr1G,GAAUo0G,EAAO,GAAGiE,mBAGtB,IAAI+xB,EAAKn6B,EAAO1wG,OAAO81G,SAAWr1G,EAASiwG,EAAO7zE,WAAap8B,EAC3DqqI,EAAK,EACT,MAAMC,GAAM,IAAMvgI,KAAKc,IAAI2iF,GAC3B,IAAIzxD,EAAQ,EACRX,GAAU77B,EAAO2qI,eAAiB18C,EAClC+8C,EAAQhrI,EAAO4qI,eAAsC,IAArBpgI,KAAKc,IAAI2iF,GAC7C,MAAMmpB,EAAa1G,EAAOiE,SAAWjE,EAAO1wG,OAAO20G,QAAQl6B,QAAUi2B,EAAOiE,QAAQhS,KAAOn8F,EAAIA,EACzFykI,GAAiB7zB,IAAeyB,GAAezB,IAAeyB,EAAc,IAAM5qB,EAAW,GAAKA,EAAW,IAAMkyB,GAAazP,EAAO1wG,OAAO81G,UAAYiG,EAAmBsH,EAC7K6nB,GAAiB9zB,IAAeyB,GAAezB,IAAeyB,EAAc,IAAM5qB,EAAW,GAAKA,GAAY,IAAMkyB,GAAazP,EAAO1wG,OAAO81G,UAAYiG,EAAmBsH,EAEpL,GAAI4nB,GAAiBC,EAAe,CAClC,MAAMC,GAAe,EAAI3gI,KAAKc,KAAKd,KAAKc,IAAI2iF,GAAY,IAAO,MAAS,GACxEpyD,IAAW,GAAKoyD,EAAWk9C,EAC3B3uG,IAAU,GAAM2uG,EAChBH,GAAS,GAAKG,EACdL,GAAS,GAAKK,EAAc3gI,KAAKc,IAAI2iF,GAAhC,GACP,CAYA,GARE48C,EAFE58C,EAAW,EAER,QAAQ48C,UAAWG,EAAQxgI,KAAKc,IAAI2iF,QAChCA,EAAW,EAEf,QAAQ48C,WAAYG,EAAQxgI,KAAKc,IAAI2iF,QAErC,GAAG48C,OAGLn6B,EAAOsD,eAAgB,CAC1B,MAAMo3B,EAAQN,EACdA,EAAKD,EACLA,EAAKO,CACP,CAEA,MAAMb,EAAct8C,EAAW,EAAI,IAAG,GAAK,EAAIzxD,GAASyxD,GAAa,IAAG,GAAK,EAAIzxD,GAASyxD,GACpFjxD,EAAY,yBACF6tG,MAAOC,MAAOC,yBAClB/qI,EAAO67B,OAASA,EAAS,wBAC3B0uG,aAGV,GAAIvqI,EAAO4uH,aAAc,CAEvB,IAAIa,EAAYV,EAASlgB,KAAK,wBAEL,IAArB4gB,EAAUrxH,SACZqxH,EAAYH,GAAatvH,EAAQ+uH,IAG/BU,EAAUrxH,SAAQqxH,EAAU,GAAGvjH,MAAM40C,QAAUt2C,KAAKS,IAAIT,KAAKO,KAAKP,KAAKc,IAAI2iF,GAAY,IAAO,GAAK,GAAI,GAC7G,CAEA8gC,EAAS,GAAG7iH,MAAMm9H,QAAU7+H,KAAKc,IAAId,KAAKuB,MAAMstG,IAAkBxE,EAAOz2G,OACvDywH,GAAa7uH,EAAQ+uH,GAC7B/xF,UAAUA,EACtB,GAqBA07E,cAlBoB38F,IACpB,MAAM,YACJizG,GACEte,EAAO1wG,OAAO0qI,aACU1b,EAActe,EAAOmE,OAAOhG,KAAKmgB,GAAete,EAAOmE,QAC/D3I,WAAWnwF,GAAU8yF,KAAK,wBAAwB3C,WAAWnwF,GACjFkzG,GAA2B,CACzBve,SACA30F,WACAizG,eACA,EASFhlD,YAAa,KAAM,EACnBukD,gBAAiB,KAAM,CACrBtW,qBAAqB,EACrB6D,kBAAmBpL,EAAO1wG,OAAO81G,WAGvC,GChIA,SAASu1B,GAAuB/yC,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIgzC,eAAe,6DAAgE,OAAOhzC,CAAM,CAErK,SAASizC,GAAeC,EAAUC,GAAcD,EAAS5kI,UAAYC,OAAO6kI,OAAOD,EAAW7kI,WAAY4kI,EAAS5kI,UAAU5L,YAAcwwI,EAAUA,EAAS1gC,UAAY2gC,CAAY,CzBuCtL,GAAOtf,IAAIlC,IyB1BX,IAaI0hB,GACAC,GACAC,GA+CAC,GACAC,GACAC,GACAC,GAGAC,GA+BAC,GAs3BAC,GAgRJC,GA4SWz7G,GAAGnc,GACRoqB,GAGAw2C,GAzhDFi3D,GAAU,CACZC,UAAW,IACXC,QAAS,OACTC,eAAgB,EAChBzoD,MAAO,CACLhb,WAAY,KAGZ0jE,GAAY,CACd3wH,SAAU,GACV4wH,WAAW,EACXz9B,MAAO,GAKL09B,GAAU,IACVC,GAAW,KACXC,GAAiB,EAAVtiI,KAAKmB,GACZohI,GAAWD,GAAO,EAClBE,GAAQ,EACRC,GAAQziI,KAAKG,KACb4wB,GAAO/wB,KAAKgpB,IACZgI,GAAOhxB,KAAKmoB,IACZu6G,GAAY,SAAmBzoI,GACjC,MAAwB,iBAAVA,CAChB,EACI0oI,GAAc,SAAqB1oI,GACrC,MAAwB,mBAAVA,CAChB,EACI2oI,GAAY,SAAmB3oI,GACjC,MAAwB,iBAAVA,CAChB,EACI4oI,GAAe,SAAsB5oI,GACvC,YAAwB,IAAVA,CAChB,EACI6oI,GAAY,SAAmB7oI,GACjC,MAAwB,iBAAVA,CAChB,EACI8oI,GAAc,SAAqB9oI,GACrC,OAAiB,IAAVA,CACT,EACI+oI,GAAgB,WAClB,MAAyB,oBAAX1vI,MAChB,EACI2vI,GAAkB,SAAyBhpI,GAC7C,OAAO0oI,GAAY1oI,IAAUyoI,GAAUzoI,EACzC,EACIipI,GAAuC,mBAAhBC,aAA8BA,YAAYC,QAAU,WAAa,EAE5FC,GAAWpkI,MAAMyrF,QACb44C,GAAgB,oBAEpBC,GAAU,mCAEVC,GAAkB,8BACdC,GAAuB,mCAE3BC,GAAU,gBACNC,GAAqB,kBAEzBC,GAAW,wCAKPC,GAAW,CAAC,EACZC,GAAgB,CAAC,EAEjBC,GAAW,SAAkBC,GAC/B,OAAQF,GAAgBG,GAAOD,EAAOH,MAAcK,EACtD,EACIC,GAAiB,SAAwBx8D,EAAU1tE,GACrD,OAAO/H,QAAQ45C,KAAK,mBAAoB67B,EAAU,SAAU1tE,EAAO,wCACrE,EACImqI,GAAQ,SAAe/xI,EAASgyI,GAClC,OAAQA,GAAYnyI,QAAQ45C,KAAKz5C,EACnC,EACIiyI,GAAa,SAAoB3pI,EAAMyE,GACzC,OAAOzE,IAASkpI,GAASlpI,GAAQyE,IAAQ0kI,KAAkBA,GAAcnpI,GAAQyE,IAAQykI,EAC3F,EACIU,GAAa,WACf,OAAO,CACT,EACIC,GAAuB,CACzBpgD,gBAAgB,EAChBqgD,SAAS,EACTC,MAAM,GAEJC,GAAsB,CACxBvgD,gBAAgB,EAChBsgD,MAAM,GAEJE,GAAgB,CAClBxgD,gBAAgB,GAEdygD,GAAiB,CAAC,EAClBC,GAAc,GACdC,GAAc,CAAC,EAEfC,GAAW,CAAC,EACZC,GAAW,CAAC,EACZC,GAAe,GACfC,GAAkB,GAClBC,GAAiB,GACjBC,GAAW,SAAkBC,GAC/B,IACIC,EACAvpI,EAFA7C,EAASmsI,EAAQ,GAKrB,GAFAxC,GAAU3pI,IAAWwpI,GAAYxpI,KAAYmsI,EAAU,CAACA,MAElDC,GAAiBpsI,EAAOqsI,OAAS,CAAC,GAAGC,SAAU,CAInD,IAFAzpI,EAAImpI,GAAgBvxI,OAEboI,MAAQmpI,GAAgBnpI,GAAG0pI,WAAWvsI,KAE7CosI,EAAgBJ,GAAgBnpI,EAClC,CAIA,IAFAA,EAAIspI,EAAQ1xI,OAELoI,KACLspI,EAAQtpI,KAAOspI,EAAQtpI,GAAGwpI,QAAUF,EAAQtpI,GAAGwpI,MAAQ,IAAIG,GAAQL,EAAQtpI,GAAIupI,MAAoBD,EAAQ90H,OAAOxU,EAAG,GAGvH,OAAOspI,CACT,EACIM,GAAY,SAAmBzsI,GACjC,OAAOA,EAAOqsI,OAASH,GAASQ,GAAQ1sI,IAAS,GAAGqsI,KACtD,EACIM,GAAe,SAAsB3sI,EAAQwuE,EAAUjkE,GACzD,OAAQA,EAAIvK,EAAOwuE,KAAcg7D,GAAYj/H,GAAKvK,EAAOwuE,KAAck7D,GAAan/H,IAAMvK,EAAO3H,cAAgB2H,EAAO3H,aAAam2E,IAAajkE,CACpJ,EACIqiI,GAAe,SAAsBpjD,EAAO8H,GAC9C,OAAQ9H,EAAQA,EAAMh6E,MAAM,MAAM9V,QAAQ43F,IAAS9H,CACrD,EAEAqjD,GAAS,SAAgB/rI,GACvB,OAAO+F,KAAKuB,MAAc,IAARtH,GAAkB,KAAU,CAChD,EACIgsI,GAAgB,SAAuBhsI,GACzC,OAAO+F,KAAKuB,MAAc,IAARtH,GAAoB,KAAY,CACpD,EAEAisI,GAAiB,SAAwBjxI,EAAOgF,GAC9C,IAAIksI,EAAWlsI,EAAM8qD,OAAO,GACxB/rC,EAAM+rE,WAAW9qF,EAAMib,OAAO,IAElC,OADAjgB,EAAQ8vF,WAAW9vF,GACC,MAAbkxI,EAAmBlxI,EAAQ+jB,EAAmB,MAAbmtH,EAAmBlxI,EAAQ+jB,EAAmB,MAAbmtH,EAAmBlxI,EAAQ+jB,EAAM/jB,EAAQ+jB,CACpH,EACIotH,GAAoB,SAA2BC,EAAUC,GAK3D,IAHA,IAAIn0G,EAAIm0G,EAAO1yI,OACXoI,EAAI,EAEDqqI,EAASr7H,QAAQs7H,EAAOtqI,IAAM,KAAOA,EAAIm2B,IAEhD,OAAOn2B,EAAIm2B,CACb,EACIo0G,GAAc,WAChB,IAEIvqI,EACAwqI,EAHAr0G,EAAI2yG,GAAYlxI,OAChB8V,EAAIo7H,GAAYtpH,MAAM,GAO1B,IAHAupH,GAAc,CAAC,EACfD,GAAYlxI,OAAS,EAEhBoI,EAAI,EAAGA,EAAIm2B,EAAGn2B,KACjBwqI,EAAQ98H,EAAE1N,KACDwqI,EAAMC,QAAUD,EAAM/iF,OAAO+iF,EAAMC,MAAM,GAAID,EAAMC,MAAM,IAAI,GAAMA,MAAQ,EAExF,EACIC,GAAkB,SAAyB36H,EAAWsF,EAAM+yE,EAAgBghC,GAC9E0f,GAAYlxI,SAAWwtI,IAAcmF,KACrCx6H,EAAU03C,OAAOpyC,EAAM+yE,EAAgBghC,GAASgc,IAAc/vH,EAAO,IAAMtF,EAAU46H,UAAY56H,EAAU66H,WAC3G9B,GAAYlxI,SAAWwtI,IAAcmF,IACvC,EACIM,GAAqB,SAA4B5sI,GACnD,IAAImsB,EAAI2+D,WAAW9qF,GACnB,OAAQmsB,GAAW,IAANA,KAAansB,EAAQ,IAAI6qF,MAAM6+C,IAAoB/vI,OAAS,EAAIwyB,EAAIs8G,GAAUzoI,GAASA,EAAM8W,OAAS9W,CACrH,EACI6sI,GAAe,SAAsB/iI,GACvC,OAAOA,CACT,EACIgjI,GAAe,SAAsB3nI,EAAK09E,GAC5C,IAAK,IAAI/4E,KAAK+4E,EACZ/4E,KAAK3E,IAAQA,EAAI2E,GAAK+4E,EAAS/4E,IAGjC,OAAO3E,CACT,EAQI6kI,GAAS,SAAgB5tB,EAAM2wB,GACjC,IAAK,IAAIjjI,KAAKijI,EACZ3wB,EAAKtyG,GAAKijI,EAAQjjI,GAGpB,OAAOsyG,CACT,EACI4wB,GAAa,SAASA,EAAW5wB,EAAM2wB,GACzC,IAAK,IAAIjjI,KAAKijI,EACN,cAANjjI,GAA2B,gBAANA,GAA6B,cAANA,IAAsBsyG,EAAKtyG,GAAK++H,GAAUkE,EAAQjjI,IAAMkjI,EAAW5wB,EAAKtyG,KAAOsyG,EAAKtyG,GAAK,CAAC,GAAIijI,EAAQjjI,IAAMijI,EAAQjjI,IAGlK,OAAOsyG,CACT,EACI6wB,GAAiB,SAAwB9nI,EAAK+nI,GAChD,IACIpjI,EADA0+D,EAAO,CAAC,EAGZ,IAAK1+D,KAAK3E,EACR2E,KAAKojI,IAAc1kE,EAAK1+D,GAAK3E,EAAI2E,IAGnC,OAAO0+D,CACT,EACI2kE,GAAmB,SAA0B9vG,GAC/C,IAhCuD+vG,EAgCnD9+F,EAASjR,EAAKiR,QAAU+4F,GACxB72C,EAAOnzD,EAAK7R,WAjCuC4hH,EAiCNhE,GAAS/rG,EAAK7R,WAhCxD,SAAUrmB,EAAK09E,GACpB,IAAK,IAAI/4E,KAAK+4E,EACZ/4E,KAAK3E,GAAa,aAAN2E,GAAoBsjI,GAAyB,SAANtjI,IAAiB3E,EAAI2E,GAAK+4E,EAAS/4E,GAE1F,GA4B6EgjI,GAE7E,GAAIhE,GAAYzrG,EAAKgwG,SACnB,KAAO/+F,GACLkiD,EAAKnzD,EAAMiR,EAAOjR,KAAKwlD,UACvBv0C,EAASA,EAAOA,QAAUA,EAAOg/F,IAIrC,OAAOjwG,CACT,EASIkwG,GAAqB,SAA4Bj/F,EAAQg7D,EAAOkkC,EAAWC,EAAUC,QACrE,IAAdF,IACFA,EAAY,eAGG,IAAbC,IACFA,EAAW,SAGb,IACIzjI,EADAlM,EAAOwwC,EAAOm/F,GAGlB,GAAIC,EAGF,IAFA1jI,EAAIs/F,EAAMokC,GAEH5vI,GAAQA,EAAK4vI,GAAU1jI,GAC5BlM,EAAOA,EAAK6vI,MAoBhB,OAhBI7vI,GACFwrG,EAAMskC,MAAQ9vI,EAAK8vI,MACnB9vI,EAAK8vI,MAAQtkC,IAEbA,EAAMskC,MAAQt/F,EAAOk/F,GACrBl/F,EAAOk/F,GAAalkC,GAGlBA,EAAMskC,MACRtkC,EAAMskC,MAAMD,MAAQrkC,EAEpBh7D,EAAOm/F,GAAYnkC,EAGrBA,EAAMqkC,MAAQ7vI,EACdwrG,EAAMh7D,OAASg7D,EAAMgkC,IAAMh/F,EACpBg7D,CACT,EACIukC,GAAwB,SAA+Bv/F,EAAQg7D,EAAOkkC,EAAWC,QACjE,IAAdD,IACFA,EAAY,eAGG,IAAbC,IACFA,EAAW,SAGb,IAAI3vI,EAAOwrG,EAAMqkC,MACb5vI,EAAOurG,EAAMskC,MAEb9vI,EACFA,EAAK8vI,MAAQ7vI,EACJuwC,EAAOk/F,KAAelkC,IAC/Bh7D,EAAOk/F,GAAazvI,GAGlBA,EACFA,EAAK4vI,MAAQ7vI,EACJwwC,EAAOm/F,KAAcnkC,IAC9Bh7D,EAAOm/F,GAAY3vI,GAGrBwrG,EAAMskC,MAAQtkC,EAAMqkC,MAAQrkC,EAAMh7D,OAAS,IAC7C,EACIw/F,GAAoB,SAA2BxkC,EAAOykC,GACxDzkC,EAAMh7D,UAAYy/F,GAA6BzkC,EAAMh7D,OAAO0/F,qBAAuB1kC,EAAMh7D,OAAO51C,QAAU4wG,EAAMh7D,OAAO51C,OAAO4wG,GAC9HA,EAAM2kC,KAAO,CACf,EACIC,GAAW,SAAkBp8H,EAAWw3F,GAC1C,GAAIx3F,KAAew3F,GAASA,EAAM6kC,KAAOr8H,EAAUs8H,MAAQ9kC,EAAM+kC,OAAS,GAIxE,IAFA,IAAI5+H,EAAIqC,EAEDrC,GACLA,EAAE6+H,OAAS,EACX7+H,EAAIA,EAAE6+B,OAIV,OAAOx8B,CACT,EAaIy8H,GAAiB,SAAwBhC,EAAOlkI,EAAW8hF,EAAgBghC,GAC7E,OAAOohB,EAAMI,WAAaxF,GAAaoF,EAAMI,SAAS6B,OAAO9D,IAAuB6B,EAAMlvG,KAAKoxG,kBAAoBlC,EAAMlvG,KAAKqxG,YAAcnC,EAAMI,SAASnjF,OAAOnhD,GAAW,EAAM8iH,GACrL,EACIwjB,GAAwB,SAASA,EAAsB78H,GACzD,OAAQA,GAAaA,EAAU88H,KAAOD,EAAsB78H,EAAUw8B,OACxE,EACIugG,GAAwB,SAA+B/8H,GACzD,OAAOA,EAAUg9H,QAAUC,GAAgBj9H,EAAUk9H,OAAQl9H,EAAYA,EAAUwF,WAAaxF,EAAUm9H,SAAWn9H,EAAY,CACnI,EAEAi9H,GAAkB,SAAyBG,EAAO11D,GAChD,IAAI21D,EAAQppI,KAAKK,MAAM8oI,GAAS11D,GAChC,OAAO01D,GAASC,IAAUD,EAAQC,EAAQ,EAAIA,CAChD,EACIC,GAA0B,SAAiCC,EAAY/lC,GACzE,OAAQ+lC,EAAa/lC,EAAM+kC,QAAU/kC,EAAMslC,KAAOtlC,EAAMslC,KAAO,EAAI,EAAItlC,EAAMglC,OAAShlC,EAAMgmC,gBAAkBhmC,EAAMimC,MACtH,EACIC,GAAU,SAAiB19H,GAC7B,OAAOA,EAAUq8H,KAAOnC,GAAcl6H,EAAUu8H,QAAUv8H,EAAUy9H,MAAQxpI,KAAKc,IAAIiL,EAAU88H,KAAO98H,EAAU29H,MAAQrH,KAAa,GACvI,EACIsH,GAAiB,SAAwB59H,EAAWzJ,GAEtD,IAAIimC,EAASx8B,EAAUw7H,IAUvB,OARIh/F,GAAUA,EAAOqhG,mBAAqB79H,EAAU88H,MAClD98H,EAAUu8H,OAASrC,GAAc19F,EAAOshG,OAAS99H,EAAU88H,IAAM,EAAIvmI,EAAYyJ,EAAU88H,MAAQ98H,EAAUw8H,OAASx8H,EAAUw9H,gBAAkBx9H,EAAUy9H,OAASlnI,IAAcyJ,EAAU88H,MAE7LY,GAAQ19H,GAERw8B,EAAOggG,QAAUJ,GAAS5/F,EAAQx8B,IAG7BA,CACT,EAYA+9H,GAAiB,SAAwBC,EAAUxmC,GACjD,IAAIt/F,EAYJ,IAVIs/F,EAAMsmC,QAAUtmC,EAAM8kC,MAAQ9kC,EAAMojC,UAAYpjC,EAAM+kC,OAASyB,EAASF,QAAUtmC,EAAM8kC,OAAS9kC,EAAMvxG,QAEzGiS,EAAIolI,GAAwBU,EAASC,UAAWzmC,KAE3CA,EAAM8kC,MAAQ4B,GAAO,EAAG1mC,EAAMgmC,gBAAiBtlI,GAAKs/F,EAAM0lC,OAAS5G,KACtE9+B,EAAM9/C,OAAOx/C,GAAG,IAKhBkkI,GAAS4B,EAAUxmC,GAAOgkC,KAAOwC,EAASpD,UAAYoD,EAASF,OAASE,EAAS1B,MAAQ0B,EAASlB,IAAK,CAEzG,GAAIkB,EAAS1B,KAAO0B,EAASx4H,WAG3B,IAFAtN,EAAI8lI,EAEG9lI,EAAEsjI,KACPtjI,EAAE+lI,WAAa,GAAK/lI,EAAE3B,UAAU2B,EAAEglI,QAElChlI,EAAIA,EAAEsjI,IAIVwC,EAASG,QAAS,IACpB,CACF,EACIC,GAAiB,SAAwBJ,EAAUxmC,EAAO5hG,EAAUyoI,GAWtE,OAVA7mC,EAAMh7D,QAAUw/F,GAAkBxkC,GAClCA,EAAM+kC,OAASrC,IAAerD,GAAUjhI,GAAYA,EAAWA,GAAYooI,IAAazI,GAAkB+I,GAAeN,EAAUpoI,EAAU4hG,GAASwmC,EAASF,OAAStmC,EAAM+mC,QAC9K/mC,EAAM6kC,KAAOnC,GAAc1iC,EAAM+kC,QAAU/kC,EAAMgmC,gBAAkBvpI,KAAKc,IAAIyiG,EAAMgnC,cAAgB,IAElG/C,GAAmBuC,EAAUxmC,EAAO,SAAU,QAASwmC,EAASS,MAAQ,SAAW,GAEnFC,GAAmBlnC,KAAWwmC,EAASW,QAAUnnC,GACjD6mC,GAAcN,GAAeC,EAAUxmC,GACvCwmC,EAASlB,IAAM,GAAKc,GAAeI,EAAUA,EAASd,QAE/Cc,CACT,EACIY,GAAiB,SAAwB5+H,EAAWqJ,GACtD,OAAQyuH,GAAS+G,eAAiBzG,GAAe,gBAAiB/uH,KAAayuH,GAAS+G,cAAc1J,OAAO9rH,EAASrJ,EACxH,EACI8+H,GAAoB,SAA2BrE,EAAOn1H,EAAM+zG,EAAOhhC,EAAgB+kD,GAGrF,OAFA2B,GAAWtE,EAAOn1H,EAAM83H,GAEnB3C,EAAMG,UAINvhB,GAASohB,EAAMuE,MAAQ3J,KAAeoF,EAAM6B,OAA4B,IAApB7B,EAAMlvG,KAAKyuF,OAAmBygB,EAAM6B,MAAQ7B,EAAMlvG,KAAKyuF,OAAS4b,KAAuBqJ,GAAQC,OACtJnG,GAAYxnI,KAAKkpI,GAEjBA,EAAMC,MAAQ,CAAC0C,EAAO/kD,GACf,QAJT,EAHS,CASX,EACI8mD,GAA+B,SAASA,EAA6BC,GACvE,IAAI5iG,EAAS4iG,EAAK5iG,OAClB,OAAOA,GAAUA,EAAOsgG,KAAOtgG,EAAOo+F,WAAap+F,EAAO6iG,QAAU7iG,EAAOyhG,UAAY,GAAKkB,EAA6B3iG,GAC3H,EAEAkiG,GAAqB,SAA4BY,GAC/C,IAAIjxI,EAAOixI,EAAMjxI,KACjB,MAAgB,gBAATA,GAAmC,YAATA,CACnC,EAwFIkxI,GAAe,SAAsBv/H,EAAWwF,EAAUg6H,EAAaC,GACzE,IAAI1S,EAAS/sH,EAAUg9H,QACnB0C,EAAMxF,GAAc10H,IAAa,EACjCm6H,EAAgB3/H,EAAUk9H,OAASl9H,EAAUy9H,MAOjD,OANAkC,IAAkBF,IAAkBz/H,EAAU89H,OAAS4B,EAAM1/H,EAAUs8H,MACvEt8H,EAAUs8H,KAAOoD,EACjB1/H,EAAUy9H,MAAS1Q,EAAeA,EAAS,EAAI,KAAOmN,GAAcwF,GAAO3S,EAAS,GAAK/sH,EAAUm9H,QAAUpQ,GAAjF2S,EAC5BC,EAAgB,IAAMF,GAAiB7B,GAAe59H,EAAWA,EAAUk9H,OAASl9H,EAAUy9H,MAAQkC,GACtG3/H,EAAUw8B,QAAUkhG,GAAQ19H,GAC5Bw/H,GAAepD,GAASp8H,EAAUw8B,OAAQx8B,GACnCA,CACT,EACI4/H,GAAyB,SAAgC5/H,GAC3D,OAAOA,aAAqB6/H,GAAWzD,GAASp8H,GAAau/H,GAAav/H,EAAWA,EAAUs8H,KACjG,EACIwD,GAAgB,CAClBvD,OAAQ,EACR9+G,QAAS+6G,GACTgF,cAAehF,IAEb8F,GAAiB,SAASA,EAAet+H,EAAWpK,EAAUmqI,GAChE,IAIA9vI,EACI/F,EACA81I,EANAC,EAASjgI,EAAUigI,OACnBC,EAASlgI,EAAU2+H,SAAWmB,GAC9BK,EAAkBngI,EAAUwF,YAAc6wH,GAAU6J,EAAOziH,SAAQ,GAASzd,EAAUs8H,KAM1F,OAAI3F,GAAU/gI,KAAcwW,MAAMxW,IAAaA,KAAYqqI,IAEzD/1I,EAAS0L,EAASojD,OAAO,GACzBgnF,EAAoC,MAAxBpqI,EAASuT,QAAQ,GAC7BlZ,EAAI2F,EAASqJ,QAAQ,KAEN,MAAX/U,GAA6B,MAAXA,GACpB+F,GAAK,IAAM2F,EAAWA,EAASzI,QAAQ,IAAK,MACzB,MAAXjD,EAAiBg2I,EAAO3D,OAAS2D,EAAOziH,QAAQyiH,EAAOlD,SAAW,KAAOhkD,WAAWpjF,EAASuT,OAAO,KAAO,IAAM62H,GAAa/vI,EAAI,EAAIiwI,EAASH,GAAkBvC,gBAAkB,IAAM,IAG/LvtI,EAAI,GACN2F,KAAYqqI,IAAWA,EAAOrqI,GAAYuqI,GACnCF,EAAOrqI,KAGhB1L,EAAS8uF,WAAWpjF,EAASojD,OAAO/oD,EAAI,GAAK2F,EAASuT,OAAOlZ,EAAI,IAE7D+vI,GAAaD,IACf71I,EAASA,EAAS,KAAOotI,GAASyI,GAAoBA,EAAiB,GAAKA,GAAkBvC,iBAGzFvtI,EAAI,EAAIquI,EAAet+H,EAAWpK,EAASuT,OAAO,EAAGlZ,EAAI,GAAI8vI,GAAoB71I,EAASi2I,EAAkBj2I,IAGlG,MAAZ0L,EAAmBuqI,GAAmBvqI,CAC/C,EACIwqI,GAAmB,SAA0BvxI,EAAMpF,EAAQu0I,GAC7D,IAGIqC,EACA7jG,EAJA8jG,EAAWzJ,GAAUptI,EAAO,IAC5B82I,GAAaD,EAAW,EAAI,IAAMzxI,EAAO,EAAI,EAAI,GACjD08B,EAAO9hC,EAAO82I,GAOlB,GAHAD,IAAa/0G,EAAK/lB,SAAW/b,EAAO,IACpC8hC,EAAKiR,OAASwhG,EAEVnvI,EAAM,CAIR,IAHAwxI,EAAS90G,EACTiR,EAASwhG,EAEFxhG,KAAY,oBAAqB6jG,IAEtCA,EAAS7jG,EAAOjR,KAAKwlD,UAAY,CAAC,EAClCv0C,EAASw6F,GAAYx6F,EAAOjR,KAAKgwG,UAAY/+F,EAAOA,OAGtDjR,EAAKoxG,gBAAkB3F,GAAYqJ,EAAO1D,iBAC1C9tI,EAAO,EAAI08B,EAAKi1G,aAAe,EAAIj1G,EAAKk1G,QAAUh3I,EAAO82I,EAAY,EACvE,CAEA,OAAO,IAAIG,GAAMj3I,EAAO,GAAI8hC,EAAM9hC,EAAO82I,EAAY,GACvD,EACII,GAAqB,SAA4BzyI,EAAOwwF,GAC1D,OAAOxwF,GAAmB,IAAVA,EAAcwwF,EAAKxwF,GAASwwF,CAC9C,EACIw/C,GAAS,SAAgBxpI,EAAKF,EAAKtG,GACrC,OAAOA,EAAQwG,EAAMA,EAAMxG,EAAQsG,EAAMA,EAAMtG,CACjD,EACI0yI,GAAU,SAAiB1yI,EAAOyJ,GACpC,OAAQg/H,GAAUzoI,KAAYyJ,EAAIkgI,GAASgJ,KAAK3yI,IAAeyJ,EAAE,GAAP,EAC5D,EAOImpI,GAAS,GAAGrxH,MACZsxH,GAAe,SAAsB7yI,EAAO8yI,GAC9C,OAAO9yI,GAAS6oI,GAAU7oI,IAAU,WAAYA,KAAW8yI,IAAa9yI,EAAMrG,QAAUqG,EAAMrG,OAAS,KAAKqG,GAAS6oI,GAAU7oI,EAAM,OAASA,EAAM4wF,UAAY5wF,IAAUsnI,EAC5K,EACIyL,GAAW,SAAkBC,EAAIC,EAAcC,GAKjD,YAJoB,IAAhBA,IACFA,EAAc,IAGTF,EAAGp6I,SAAQ,SAAUoH,GAC1B,IAAImzI,EAEJ,OAAO1K,GAAUzoI,KAAWizI,GAAgBJ,GAAa7yI,EAAO,IAAMmzI,EAAeD,GAAa7vI,KAAK4B,MAAMkuI,EAAcvH,GAAQ5rI,IAAUkzI,EAAY7vI,KAAKrD,EAChK,KAAMkzI,CACR,EAEAtH,GAAU,SAAiB5rI,EAAO+pI,EAAOkJ,GACvC,OAAO7L,KAAa2C,GAAS3C,GAASr2C,SAAWq2C,GAASr2C,SAAS/wF,IAASyoI,GAAUzoI,IAAWizI,IAAiB1L,IAAiB6L,KAAqEhK,GAASppI,GAAS+yI,GAAS/yI,EAAOizI,GAAgBJ,GAAa7yI,GAAS4yI,GAAOtwI,KAAKtC,EAAO,GAAKA,EAAQ,CAACA,GAAS,GAA5K4yI,GAAOtwI,MAAMynI,GAASvC,IAAM7uI,iBAAiBqH,GAAQ,EACrM,EACI+wF,GAAW,SAAkB/wF,GAE/B,OADAA,EAAQ4rI,GAAQ5rI,GAAO,IAAMmqI,GAAM,kBAAoB,CAAC,EACjD,SAAU1gI,GACf,IAAIjT,EAAKwJ,EAAM85E,SAAW95E,EAAMqzI,eAAiBrzI,EACjD,OAAO4rI,GAAQniI,EAAGjT,EAAGmC,iBAAmBnC,EAAKA,IAAOwJ,EAAQmqI,GAAM,kBAAoB3C,GAAK7lI,cAAc,OAAS3B,EACpH,CACF,EACIszI,GAAU,SAAiB7jI,GAC7B,OAAOA,EAAEg2E,MAAK,WACZ,MAAO,GAAK1/E,KAAKa,QACnB,GACF,EAGA2sI,GAAa,SAAoB9pI,GAC/B,GAAIi/H,GAAYj/H,GACd,OAAOA,EAGT,IAAI4zB,EAAOwrG,GAAUp/H,GAAKA,EAAI,CAC5Bw/F,KAAMx/F,GAGRwnE,EAAOuiE,GAAWn2G,EAAK4zC,MACnBitB,EAAO7gE,EAAK6gE,MAAQ,EACpBke,EAAOtxB,WAAWztD,EAAK++E,OAAS,EAChCrrE,EAAQ,CAAC,EACT0iG,EAAYv1C,EAAO,GAAKA,EAAO,EAC/Bw1C,EAASx1H,MAAMggF,IAASu1C,EACxB9oC,EAAOttE,EAAKstE,KACZgpC,EAASz1C,EACT01C,EAAS11C,EAab,OAXIuqC,GAAUvqC,GACZy1C,EAASC,EAAS,CAChBh5I,OAAQ,GACR8kC,MAAO,GACP3gB,IAAK,GACLm/E,IAAS,GACDu1C,GAAaC,IACvBC,EAASz1C,EAAK,GACd01C,EAAS11C,EAAK,IAGT,SAAUn8F,EAAG7C,EAAQuQ,GAC1B,IAEIokI,EACAC,EACAzwH,EACA6I,EACAhiB,EACA6C,EACAzG,EACAE,EACAutI,EAVA77G,GAAKzoB,GAAK4tB,GAAM1jC,OAChBq6I,EAAYjjG,EAAM7Y,GAWtB,IAAK87G,EAAW,CAGd,KAFAD,EAAuB,SAAd12G,EAAKk0E,KAAkB,GAAKl0E,EAAKk0E,MAAQ,CAAC,EAAG42B,KAAU,IAEnD,CAGX,IAFA7hI,GAAO6hI,GAEA7hI,GAAOA,EAAMmJ,EAAEskI,KAAUr1I,wBAAwBN,OAAS21I,EAAS77G,IAE1E67G,GACF,CAQA,IANAC,EAAYjjG,EAAM7Y,GAAK,GACvB27G,EAAUH,EAAS3tI,KAAKS,IAAIutI,EAAQ77G,GAAKy7G,EAAS,GAAKz1C,EAAO61C,EAC9DD,EAAUC,IAAW5L,GAAU,EAAIuL,EAASx7G,EAAI07G,EAASG,EAAS,GAAK71C,EAAO61C,EAAS,EACvFztI,EAAM,EACNE,EAAM2hI,GAEDp7H,EAAI,EAAGA,EAAImrB,EAAGnrB,IACjBsW,EAAItW,EAAIgnI,EAASF,EACjB3nH,EAAI4nH,GAAW/mI,EAAIgnI,EAAS,GAC5BC,EAAUjnI,GAAK7C,EAAKygG,EAA8B5kG,KAAKc,IAAa,MAAT8jG,EAAez+E,EAAI7I,GAAnDmlH,GAAMnlH,EAAIA,EAAI6I,EAAIA,GAC7ChiB,EAAI5D,IAAQA,EAAM4D,GAClBA,EAAI1D,IAAQA,EAAM0D,GAGX,WAATg0F,GAAqBo1C,GAAQU,GAC7BA,EAAU1tI,IAAMA,EAAME,EACtBwtI,EAAUxtI,IAAMA,EAChBwtI,EAAUvqI,EAAIyuB,GAAK4yD,WAAWztD,EAAKkD,SAAWuqD,WAAWztD,EAAK4rE,OAAS8qC,EAAS77G,EAAIA,EAAI,EAAKyyE,EAA+C,MAATA,EAAezyE,EAAI67G,EAASA,EAA3DhuI,KAAKO,IAAIytI,EAAQ77G,EAAI67G,KAAiD,IAAe,UAAT71C,GAAoB,EAAI,GACxM81C,EAAUpqI,EAAIsuB,EAAI,EAAIkkF,EAAOlkF,EAAIkkF,EACjC43B,EAAUhgI,EAAI0+H,GAAQr1G,EAAKkD,QAAUlD,EAAK4rE,OAAS,EAEnDh4B,EAAOA,GAAQ/4C,EAAI,EAAI+7G,GAAYhjE,GAAQA,CAC7C,CAGA,OADA/4C,GAAK87G,EAAUjyI,GAAKiyI,EAAUxtI,KAAOwtI,EAAU1tI,KAAO,EAC/C0lI,GAAcgI,EAAUpqI,GAAKqnE,EAAOA,EAAK/4C,GAAKA,GAAK87G,EAAUvqI,GAAKuqI,EAAUhgI,CACrF,CACF,EACIkgI,GAAiB,SAAwBzqI,GAE3C,IAAIK,EAAI/D,KAAKC,IAAI,KAAMyD,EAAI,IAAIiF,MAAM,KAAK,IAAM,IAAI/U,QAEpD,OAAO,SAAUq1H,GACf,IAAI7iG,EAAI6/G,GAAcjmI,KAAKuB,MAAMwjF,WAAWkkC,GAAOvlH,GAAKA,EAAIK,GAE5D,OAAQqiB,EAAIA,EAAI,GAAKriB,GAAK6+H,GAAU3Z,GAAO,EAAI0jB,GAAQ1jB,GACzD,CACF,EACIhc,GAAO,SAAcmhC,EAAQn0I,GAC/B,IACIsnC,EACA8sG,EAFA3jD,EAAU24C,GAAS+K,GAkBvB,OAdK1jD,GAAWo4C,GAAUsL,KACxB7sG,EAASmpD,EAAU0jD,EAAO7sG,QAAU6gG,GAEhCgM,EAAOtlH,QACTslH,EAASvI,GAAQuI,EAAOtlH,SAEpBulH,GAAQzL,GAAUwL,EAAO,OAC3B7sG,GAAUA,IAGZ6sG,EAASD,GAAeC,EAAO16B,YAI5Bg5B,GAAmBzyI,EAAQywF,EAAmCi4C,GAAYyL,GAAU,SAAUnlB,GAEnG,OADAolB,EAAOD,EAAOnlB,GACPjpH,KAAKc,IAAIutI,EAAOplB,IAAQ1nF,EAAS8sG,EAAOplB,CACjD,EAAI,SAAUA,GASZ,IARA,IAKIqlB,EACAC,EANAjxH,EAAIynE,WAAWspD,EAAOplB,EAAI3rG,EAAI2rG,GAC9B9iG,EAAI4+D,WAAWspD,EAAOplB,EAAI9iG,EAAI,GAC9B1lB,EAAM2hI,GACNvjC,EAAU,EACV7iG,EAAIoyI,EAAOx6I,OAIRoI,MAIHsyI,EAHED,GACFC,EAAKF,EAAOpyI,GAAGshB,EAAIA,GAETgxH,GADVC,EAAKH,EAAOpyI,GAAGmqB,EAAIA,GACCooH,EAEfvuI,KAAKc,IAAIstI,EAAOpyI,GAAKshB,IAGnB7c,IACPA,EAAM6tI,EACNzvC,EAAU7iG,GAKd,OADA6iG,GAAWt9D,GAAU9gC,GAAO8gC,EAAS6sG,EAAOvvC,GAAWoqB,EAChDolB,GAAQxvC,IAAYoqB,GAAO2Z,GAAU3Z,GAAOpqB,EAAUA,EAAU8tC,GAAQ1jB,EACjF,EA7B4CklB,GAAeC,GA8B7D,EACIvtI,GAAS,SAAgBJ,EAAKF,EAAKiuI,EAAmBC,GACxD,OAAO/B,GAAmBrJ,GAAS5iI,IAAQF,GAA4B,IAAtBiuI,KAAgCA,EAAoB,IAAMC,GAAgB,WACzH,OAAOpL,GAAS5iI,GAAOA,KAAOT,KAAKa,SAAWJ,EAAI7M,UAAY46I,EAAoBA,GAAqB,QAAUC,EAAiBD,EAAoB,EAAIxuI,KAAKC,IAAI,IAAKuuI,EAAoB,IAAI56I,OAAS,GAAK,IAAMoM,KAAKK,MAAML,KAAKuB,OAAOd,EAAM+tI,EAAoB,EAAIxuI,KAAKa,UAAYN,EAAME,EAA0B,IAApB+tI,IAA4BA,GAAqBA,EAAoBC,GAAkBA,CAC/X,GACF,EAoBIC,GAAa,SAAoBhlI,EAAG2K,EAASpa,GAC/C,OAAOyyI,GAAmBzyI,GAAO,SAAU+f,GACzC,OAAOtQ,IAAI2K,EAAQ2F,GACrB,GACF,EAgBI20H,GAAiB,SAAwB10I,GAS3C,IAPA,IAEI+B,EACA4yI,EACA51H,EACA0xE,EALA3yF,EAAO,EACP0L,EAAI,KAMCzH,EAAI/B,EAAM+Q,QAAQ,UAAWjT,KACpCihB,EAAM/e,EAAM+Q,QAAQ,IAAKhP,GACzB0uF,EAAkC,MAAxBzwF,EAAM8qD,OAAO/oD,EAAI,GAC3B4yI,EAAO30I,EAAMib,OAAOlZ,EAAI,EAAGgd,EAAMhd,EAAI,GAAG8oF,MAAM4F,EAAUi5C,GAAqBL,IAC7E7/H,GAAKxJ,EAAMib,OAAOnd,EAAMiE,EAAIjE,GAAQ8I,GAAO6pF,EAAUkkD,GAAQA,EAAK,GAAIlkD,EAAU,GAAKkkD,EAAK,IAAKA,EAAK,IAAM,MAC1G72I,EAAOihB,EAAM,EAGf,OAAOvV,EAAIxJ,EAAMib,OAAOnd,EAAMkC,EAAMrG,OAASmE,EAC/C,EACI82I,GAAW,SAAkBC,EAAOC,EAAOC,EAAQC,EAAQh1I,GAC7D,IAAIi1I,EAAUH,EAAQD,EAClBK,EAAWF,EAASD,EACxB,OAAOtC,GAAmBzyI,GAAO,SAAUA,GACzC,OAAO+0I,IAAW/0I,EAAQ60I,GAASI,EAAUC,GAAY,EAC3D,GACF,EA2DIC,GAAuB,SAA8BrF,EAAUsF,EAAUC,GAE3E,IAEIvrI,EACA2hC,EACAiqD,EAJAq8C,EAASjC,EAASiC,OAClBvrI,EAAM2hI,GAKV,IAAKr+H,KAAKioI,GACRtmG,EAAWsmG,EAAOjoI,GAAKsrI,GAER,KAAQC,GAAY5pG,GAAYjlC,GAAOilC,EAAW1lC,KAAKc,IAAI4kC,MACxEiqD,EAAQ5rF,EACRtD,EAAMilC,GAIV,OAAOiqD,CACT,EACI4/C,GAAY,SAAmBxjI,EAAWnR,EAAM40I,GAClD,IAIIh6I,EACAwuI,EACArhE,EANAj/D,EAAIqI,EAAUurB,KACdlsB,EAAW1H,EAAE9I,GACb60I,EAAcpO,GACd1sE,EAAU5oD,EAAU2jI,KAKxB,GAAKtkI,EAWL,OAPA5V,EAASkO,EAAE9I,EAAO,UAClBopI,EAAQtgI,EAAEisI,eAAiB5jI,EAC3ByjI,GAAoB1K,GAAYlxI,QAAU2yI,KAE1C5xE,IAAY0sE,GAAW1sE,GACvBgO,EAASntE,EAAS4V,EAASlM,MAAM8kI,EAAOxuI,GAAU4V,EAAS7O,KAAKynI,GAChE3C,GAAWoO,EACJ9sE,CACT,EACIitE,GAAa,SAAoB7jI,GAKnC,OAJAg8H,GAAkBh8H,GAElBA,EAAU8jI,eAAiB9jI,EAAU8jI,cAAcnL,OAAOtD,IAC1Dr1H,EAAU03E,WAAa,GAAK8rD,GAAUxjI,EAAW,eAC1CA,CACT,EAEI+jI,GAAuB,GACvBC,GAAgB,SAAuBhjF,GACzC,GAAIi2E,MAAmBj2E,EAAQ,CAI7B,IAAIpyD,GAFJoyD,GAAUA,EAAOpyD,MAAQoyD,EAAgB,SAAKA,GAE5BpyD,KACdq1I,EAASrN,GAAY51E,GACrBkjF,EAASt1I,IAASq1I,GAAUjjF,EAAOh0C,KAAO,WAC5CroB,KAAKw/I,OAAS,EAChB,EAAInjF,EAEJojF,EAAmB,CACjBp3H,KAAMwrH,GACN9gF,OAAQ2sF,GACRp+I,IAAKq+I,GACL3L,KAAM4L,GACN3sF,SAAU4sF,GACVC,QAAS,GAEPC,EAAU,CACZ/K,WAAY,EACZroH,IAAK,EACLqzH,UAAWC,GACXC,QAAS,CAAC,EACVC,SAAU,GAKZ,GAFAxD,KAEItgF,IAAWkjF,EAAQ,CACrB,GAAIjL,GAASrqI,GACX,OAGFosI,GAAakJ,EAAQlJ,GAAaG,GAAen6E,EAAQojF,GAAmBM,IAG5ExM,GAAOgM,EAAO7zI,UAAW6nI,GAAOkM,EAAkBjJ,GAAen6E,EAAQ0jF,KAGzEzL,GAASiL,EAAOvzI,KAAO/B,GAAQs1I,EAE3BljF,EAAO24E,aACTP,GAAgB7nI,KAAK2yI,GAErBpL,GAAelqI,GAAQ,GAGzBA,GAAiB,QAATA,EAAiB,MAAQA,EAAKoqD,OAAO,GAAGukC,cAAgB3uF,EAAKua,OAAO,IAAM,QACpF,CAEAovH,GAAW3pI,EAAMs1I,GAEjBljF,EAAO8jF,UAAY9jF,EAAO8jF,SAAS3M,GAAM+L,EAAQa,GACnD,MACE/jF,GAAU+iF,GAAqBxyI,KAAKyvD,EAExC,EAOAgkF,GAAO,IACHC,GAAe,CACjBC,KAAM,CAAC,EAAGF,GAAMA,IAChBG,KAAM,CAAC,EAAGH,GAAM,GAChBI,OAAQ,CAAC,IAAK,IAAK,KACnBC,MAAO,CAAC,EAAG,EAAG,GACdC,OAAQ,CAAC,IAAK,EAAG,GACjBC,KAAM,CAAC,EAAG,IAAK,KACfC,KAAM,CAAC,EAAG,EAAGR,IACbS,KAAM,CAAC,EAAG,EAAG,KACbC,MAAO,CAACV,GAAMA,GAAMA,IACpBW,MAAO,CAAC,IAAK,IAAK,GAClBC,OAAQ,CAACZ,GAAMA,GAAM,GACrBa,OAAQ,CAACb,GAAM,IAAK,GACpBc,KAAM,CAAC,IAAK,IAAK,KACjBC,OAAQ,CAAC,IAAK,EAAG,KACjBC,MAAO,CAAC,EAAG,IAAK,GAChBC,IAAK,CAACjB,GAAM,EAAG,GACfkB,KAAM,CAAClB,GAAM,IAAK,KAClBmB,KAAM,CAAC,EAAGnB,GAAMA,IAChBoB,YAAa,CAACpB,GAAMA,GAAMA,GAAM,IAKlCqB,GAAO,SAAc5uI,EAAG4wB,EAAIhB,GAE1B,OAAY,GADZ5vB,GAAKA,EAAI,EAAI,EAAIA,EAAI,GAAK,EAAI,GACd,EAAI4wB,GAAMhB,EAAKgB,GAAM5wB,EAAI,EAAIA,EAAI,GAAK4vB,EAAS,EAAJ5vB,EAAQ,EAAI4wB,GAAMhB,EAAKgB,IAAO,EAAI,EAAI5wB,GAAK,EAAI4wB,GAAM28G,GAAO,GAAK,CAC9H,EACIsB,GAAa,SAAoB3uI,EAAG4uI,EAAOC,GAC7C,IACI5uI,EACAC,EACAC,EACAL,EACAC,EACA0uB,EACA5xB,EACAE,EACA0D,EACAquI,EAVA9oI,EAAKhG,EAAyBk/H,GAAUl/H,GAAK,CAACA,GAAK,GAAIA,GAAK,EAAIqtI,GAAMrtI,EAAIqtI,IAAQ,EAAzEC,GAAaI,MAY1B,IAAK1nI,EAAG,CAMN,GALqB,MAAjBhG,EAAEwR,QAAQ,KAEZxR,EAAIA,EAAEwR,OAAO,EAAGxR,EAAE9P,OAAS,IAGzBo9I,GAAattI,GACfgG,EAAIsnI,GAAattI,QACZ,GAAoB,MAAhBA,EAAEqhD,OAAO,GAAY,CAS9B,GARIrhD,EAAE9P,OAAS,IAEb+P,EAAID,EAAEqhD,OAAO,GACbnhD,EAAIF,EAAEqhD,OAAO,GACblhD,EAAIH,EAAEqhD,OAAO,GACbrhD,EAAI,IAAMC,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,GAAkB,IAAbH,EAAE9P,OAAe8P,EAAEqhD,OAAO,GAAKrhD,EAAEqhD,OAAO,GAAK,KAGjE,IAAbrhD,EAAE9P,OAGJ,MAAO,EADP8V,EAAImL,SAASnR,EAAEwR,OAAO,EAAG,GAAI,MAChB,GAAIxL,GAAK,EAAIqnI,GAAMrnI,EAAIqnI,GAAMl8H,SAASnR,EAAEwR,OAAO,GAAI,IAAM,KAIxExL,EAAI,EADJhG,EAAImR,SAASnR,EAAEwR,OAAO,GAAI,MAChB,GAAIxR,GAAK,EAAIqtI,GAAMrtI,EAAIqtI,GACnC,MAAO,GAAuB,QAAnBrtI,EAAEwR,OAAO,EAAG,GAGrB,GAFAxL,EAAI8oI,EAAS9uI,EAAEohF,MAAMw+C,IAEhBgP,GAWE,IAAK5uI,EAAEsH,QAAQ,KAIpB,OAFAtB,EAAIhG,EAAEohF,MAAMy+C,IACZgP,GAAc7oI,EAAE9V,OAAS,IAAM8V,EAAE,GAAK,GAC/BA,OAdPlG,GAAKkG,EAAE,GAAK,IAAM,IAClBjG,GAAKiG,EAAE,GAAK,IAGZ/F,EAAQ,GAFRwuB,GAAKzoB,EAAE,GAAK,MACZ9F,EAAIuuB,GAAK,GAAKA,GAAK1uB,EAAI,GAAK0uB,EAAI1uB,EAAI0uB,EAAI1uB,GAExCiG,EAAE9V,OAAS,IAAM8V,EAAE,IAAM,GAEzBA,EAAE,GAAK0oI,GAAK5uI,EAAI,EAAI,EAAGG,EAAGC,GAC1B8F,EAAE,GAAK0oI,GAAK5uI,EAAGG,EAAGC,GAClB8F,EAAE,GAAK0oI,GAAK5uI,EAAI,EAAI,EAAGG,EAAGC,QAQ5B8F,EAAIhG,EAAEohF,MAAMw+C,KAAkB0N,GAAamB,YAG7CzoI,EAAIA,EAAErT,IAAI6hB,OACZ,CAyBA,OAvBIo6H,IAAUE,IACZ7uI,EAAI+F,EAAE,GAAKqnI,GACXntI,EAAI8F,EAAE,GAAKqnI,GACXltI,EAAI6F,EAAE,GAAKqnI,GAGX5+G,IAFA5xB,EAAMP,KAAKO,IAAIoD,EAAGC,EAAGC,KACrBpD,EAAMT,KAAKS,IAAIkD,EAAGC,EAAGC,KACH,EAEdtD,IAAQE,EACV+C,EAAIC,EAAI,GAERU,EAAI5D,EAAME,EACVgD,EAAI0uB,EAAI,GAAMhuB,GAAK,EAAI5D,EAAME,GAAO0D,GAAK5D,EAAME,GAC/C+C,EAAIjD,IAAQoD,GAAKC,EAAIC,GAAKM,GAAKP,EAAIC,EAAI,EAAI,GAAKtD,IAAQqD,GAAKC,EAAIF,GAAKQ,EAAI,GAAKR,EAAIC,GAAKO,EAAI,EAC5FX,GAAK,IAGPkG,EAAE,MAAQlG,EAAI,IACdkG,EAAE,MAAY,IAAJjG,EAAU,IACpBiG,EAAE,MAAY,IAAJyoB,EAAU,KAGtBogH,GAAc7oI,EAAE9V,OAAS,IAAM8V,EAAE,GAAK,GAC/BA,CACT,EACI+oI,GAAkB,SAAyB/uI,GAE7C,IAAIolB,EAAS,GACT7e,EAAI,GACJjO,GAAK,EAOT,OANA0H,EAAEiF,MAAM+pI,IAAW7/I,SAAQ,SAAU6Q,GACnC,IAAIgG,EAAIhG,EAAEohF,MAAM0+C,KAAoB,GACpC16G,EAAOxrB,KAAK4B,MAAM4pB,EAAQpf,GAC1BO,EAAE3M,KAAKtB,GAAK0N,EAAE9V,OAAS,EACzB,IACAk1B,EAAO7e,EAAIA,EACJ6e,CACT,EACI6pH,GAAgB,SAAuBlvI,EAAG6uI,EAAOM,GACnD,IAII3oI,EACA4oI,EACA1uI,EACAguB,EAPAwwC,EAAS,GACTmwE,GAAUrvI,EAAIk/D,GAAQmiB,MAAM4tD,IAC5B93I,EAAO03I,EAAQ,QAAU,QACzBt2I,EAAI,EAMR,IAAK82I,EACH,OAAOrvI,EAOT,GAJAqvI,EAASA,EAAOz8I,KAAI,SAAUgO,GAC5B,OAAQA,EAAQguI,GAAWhuI,EAAOiuI,EAAO,KAAO13I,GAAQ03I,EAAQjuI,EAAM,GAAK,IAAMA,EAAM,GAAK,KAAOA,EAAM,GAAK,KAAOA,EAAM,GAAKA,EAAMsH,KAAK,MAAQ,GACrJ,IAEIinI,IACFzuI,EAAIsuI,GAAgBhvI,IACpBwG,EAAI2oI,EAAe3oI,GAEb0B,KAAKg3D,KAAYx+D,EAAE8F,EAAE0B,KAAKg3D,IAI9B,IAFAxwC,GADA0gH,EAAQpvI,EAAEvK,QAAQw5I,GAAW,KAAK/pI,MAAM66H,KAC9B5vI,OAAS,EAEZoI,EAAIm2B,EAAGn2B,IACZ2mE,GAAUkwE,EAAM72I,KAAOiO,EAAEe,QAAQhP,GAAK82I,EAAO38H,SAAWvb,EAAO,YAAcuJ,EAAEvQ,OAASuQ,EAAI2uI,EAAOl/I,OAASk/I,EAASF,GAAgBz8H,SAK3I,IAAK08H,EAIH,IAFA1gH,GADA0gH,EAAQpvI,EAAEkF,MAAM+pI,KACN9+I,OAAS,EAEZoI,EAAIm2B,EAAGn2B,IACZ2mE,GAAUkwE,EAAM72I,GAAK82I,EAAO92I,GAIhC,OAAO2mE,EAASkwE,EAAM1gH,EACxB,EACIugH,GAAY,WACd,IAEA3uI,EAFIN,EAAI,yEAIR,IAAKM,KAAKitI,GACRvtI,GAAK,IAAMM,EAAI,MAGjB,OAAO,IAAIwnF,OAAO9nF,EAAI,IAAK,KAC7B,CAVgB,GAWZsvI,GAAU,YACVC,GAAqB,SAA4BtpI,GACnD,IACI4oI,EADAW,EAAWvpI,EAAEiC,KAAK,KAItB,GAFA+mI,GAAUltH,UAAY,EAElBktH,GAAU9yI,KAAKqzI,GAKjB,OAJAX,EAAQS,GAAQnzI,KAAKqzI,GACrBvpI,EAAE,GAAKipI,GAAcjpI,EAAE,GAAI4oI,GAC3B5oI,EAAE,GAAKipI,GAAcjpI,EAAE,GAAI4oI,EAAOG,GAAgB/oI,EAAE,MAE7C,CAEX,EAQIshI,GAAU,WACZ,IAQIkI,EACAC,EACAC,EACAC,EACAC,EACAt0F,EAbAu0F,EAAWx/I,KAAK81C,IAChB2pG,EAAgB,IAChBC,EAAe,GACfC,EAAaH,IACbI,EAAcD,EACdE,EAAO,IAAO,IACdC,EAAYD,EACZlxD,EAAa,GAOboxD,EAAQ,SAASA,EAAMpwI,GACzB,IAEIqwI,EACAC,EACA3iI,EACA45H,EALAgJ,EAAUV,IAAaI,EACvBO,GAAe,IAANxwI,EAqBb,GAfAuwI,EAAUT,IAAkBE,GAAcO,EAAUR,KAGpDM,GADA1iI,GADAsiI,GAAeM,GACMP,GACJG,GAEH,GAAKK,KACjBjJ,IAAUoI,EAAMpI,MAChBqI,EAASjiI,EAAoB,IAAbgiI,EAAMhiI,KACtBgiI,EAAMhiI,KAAOA,GAAc,IAC3BwiI,GAAaE,GAAWA,GAAWH,EAAO,EAAIA,EAAOG,GACrDC,EAAW,GAGbE,IAAWhB,EAAMC,EAAKW,IAElBE,EACF,IAAKh1F,EAAK,EAAGA,EAAK0jC,EAAW9uF,OAAQorD,IAEnC0jC,EAAW1jC,GAAI3tC,EAAMiiI,EAAQrI,EAAOvnI,EAG1C,EAuEA,OArEA2vI,EAAQ,CACNhiI,KAAM,EACN45H,MAAO,EACPkJ,KAAM,WACJL,GAAM,EACR,EACAM,WAAY,SAAoB5oE,GAC9B,OAAO8nE,GAAU,KAAQ9nE,GAAO,IAClC,EACA6oE,KAAM,WACA3S,MACGF,IAAgBwB,OACnBzB,GAAOC,GAAeluI,OACtBmuI,GAAOF,GAAK5vI,UAAY,CAAC,EACzBkyI,GAASK,KAAOA,IACf3C,GAAK+S,eAAiB/S,GAAK+S,aAAe,KAAKh3I,KAAK4mI,GAAKrsG,SAE1DksG,GAASD,IAAiBvC,GAAKgT,mBAAqBhT,GAAK2C,MAAQ3C,IAAQ,CAAC,GAE1E6R,EAAO7R,GAAKrmH,sBAEZ40H,GAAqBj9I,QAAQk9I,KAG/BmD,GAAOG,EAAMmB,QAEbrB,EAAOC,GAAQ,SAAUtvI,GACvB,OAAO1P,WAAW0P,EAAG+vI,EAAyB,IAAbR,EAAMhiI,KAAc,EAAI,EAC3D,EAEAwwH,GAAgB,EAEhBiS,EAAM,GAEV,EACAU,MAAO,YACJpB,EAAO7R,GAAKv3C,qBAAuB1I,cAAc4xD,GAClDrR,GAAgB,EAChBsR,EAAO5O,EACT,EACAkQ,aAAc,SAAsBp7I,EAAWq7I,GAC7ClB,EAAgBn6I,GAAas7I,IAE7BlB,EAAezzI,KAAKS,IAAIi0I,GAAe,GAAIlB,EAC7C,EACAhoE,IAAK,SAAaopE,GAChBhB,EAAO,KAAQgB,GAAQ,KACvBf,EAAyB,IAAbR,EAAMhiI,KAAcuiI,CAClC,EACA5hJ,IAAK,SAAaoZ,EAAUy9F,EAAMgsC,GAChC,IAAIpqD,EAAOoe,EAAO,SAAU5kG,EAAGE,EAAGL,EAAGJ,GACnC0H,EAASnH,EAAGE,EAAGL,EAAGJ,GAElB2vI,EAAM1gJ,OAAO83F,EACf,EAAIr/E,EAQJ,OANAioI,EAAM1gJ,OAAOyY,GAEbs3E,EAAWmyD,EAAa,UAAY,QAAQpqD,GAE5C4iD,KAEO5iD,CACT,EACA93F,OAAQ,SAAgByY,EAAUpP,KAC9BA,EAAI0mF,EAAW13E,QAAQI,KAAcs3E,EAAWlyE,OAAOxU,EAAG,IAAMgjD,GAAMhjD,GAAKgjD,GAC/E,EACA0jC,WAAYA,GAEP2wD,CACT,CApHc,GAqHVhG,GAAQ,WACV,OAAQxL,IAAiBmJ,GAAQqJ,MACnC,EAQAS,GAAW,CAAC,EACRC,GAAiB,sBACjBC,GAAa,QACbC,GAAuB,SAA8Bh7I,GAWvD,IATA,IAKI+f,EACAjZ,EACAm0I,EAPA91I,EAAM,CAAC,EACPuJ,EAAQ1O,EAAMib,OAAO,EAAGjb,EAAMrG,OAAS,GAAG+U,MAAM,KAChDhR,EAAMgR,EAAM,GACZ3M,EAAI,EACJm2B,EAAIxpB,EAAM/U,OAKPoI,EAAIm2B,EAAGn2B,IACZ+E,EAAM4H,EAAM3M,GACZge,EAAQhe,IAAMm2B,EAAI,EAAIpxB,EAAIkU,YAAY,KAAOlU,EAAInN,OACjDshJ,EAAYn0I,EAAImU,OAAO,EAAG8E,GAC1B5a,EAAIzH,GAAOwgB,MAAM+8H,GAAaA,EAAUh8I,QAAQ87I,GAAY,IAAIjkI,QAAUmkI,EAC1Ev9I,EAAMoJ,EAAImU,OAAO8E,EAAQ,GAAGjJ,OAG9B,OAAO3R,CACT,EAaI8uI,GAAc,SAAqBhjE,GACrC,OAAO,SAAUnnE,GACf,OAAO,EAAImnE,EAAK,EAAInnE,EACtB,CACF,EAEAoxI,GAAqB,SAASA,EAAmBpL,EAAUqL,GAIzD,IAHA,IACIlqE,EADAq4B,EAAQwmC,EAASsL,OAGd9xC,GACDA,aAAiBqoC,GACnBuJ,EAAmB5xC,EAAO6xC,IACjB7xC,EAAMjsE,KAAKg+G,UAAc/xC,EAAMgyC,OAAUhyC,EAAMwlC,SAAYxlC,EAAMgyC,QAAUH,IAChF7xC,EAAMwmC,SACRoL,EAAmB5xC,EAAMwmC,SAAUqL,IAEnClqE,EAAOq4B,EAAMiyC,MACbjyC,EAAMiyC,MAAQjyC,EAAMkyC,OACpBlyC,EAAMkyC,OAASvqE,EACfq4B,EAAMgyC,MAAQH,IAIlB7xC,EAAQA,EAAMskC,KAElB,EACI4F,GAAa,SAAoBviE,EAAMwqE,GACzC,OAAQxqE,IAAsBy3D,GAAYz3D,GAAQA,EAAO4pE,GAAS5pE,IAlCxC,SAA+BvwE,GAEzD,IAAIgO,GAAShO,EAAO,IAAIgO,MAAM,KAC1BuiE,EAAO4pE,GAASnsI,EAAM,IAC1B,OAAOuiE,GAAQviE,EAAM/U,OAAS,GAAKs3E,EAAKne,OAASme,EAAKne,OAAO7tD,MAAM,MAAOvE,EAAKqQ,QAAQ,KAAO,CAACiqI,GAAqBtsI,EAAM,KAVlG,SAA6B1O,GACrD,IAAIxC,EAAOwC,EAAM+Q,QAAQ,KAAO,EAC5BtT,EAAQuC,EAAM+Q,QAAQ,KACtB4tG,EAAS3+G,EAAM+Q,QAAQ,IAAKvT,GAChC,OAAOwC,EAAM2xE,UAAUn0E,GAAOmhH,GAAUA,EAASlhH,EAAQuC,EAAM+Q,QAAQ,IAAKtT,EAAQ,GAAKA,EAC3F,CAKmIi+I,CAAoBh7I,GAAMgO,MAAM,KAAKtS,IAAIwwI,KAAuBiO,GAASc,KAAOb,GAAen1I,KAAKjF,GAAQm6I,GAASc,IAAI,GAAIj7I,GAAQuwE,CACxQ,CA6B6E2qE,CAAsB3qE,KAAlFwqE,CACjB,EACII,GAAc,SAAqBnzD,EAAO1X,EAAQJ,EAASkrE,QAC7C,IAAZlrE,IACFA,EAAU,SAAiB9mE,GACzB,OAAO,EAAIknE,EAAO,EAAIlnE,EACxB,QAGgB,IAAdgyI,IACFA,EAAY,SAAmBhyI,GAC7B,OAAOA,EAAI,GAAKknE,EAAW,EAAJlnE,GAAS,EAAI,EAAIknE,EAAiB,GAAT,EAAIlnE,IAAU,CAChE,GAGF,IAKIiyI,EALA9qE,EAAO,CACTD,OAAQA,EACRJ,QAASA,EACTkrE,UAAWA,GAab,OATAhQ,GAAapjD,GAAO,SAAUhoF,GAI5B,IAAK,IAAIoJ,KAHT+wI,GAASn6I,GAAQkpI,GAASlpI,GAAQuwE,EAClC4pE,GAASkB,EAAgBr7I,EAAK+nC,eAAiBmoC,EAEjCK,EACZ4pE,GAASkB,GAAuB,WAANjyI,EAAiB,MAAc,YAANA,EAAkB,OAAS,WAAa+wI,GAASn6I,EAAO,IAAMoJ,GAAKmnE,EAAKnnE,EAE/H,IAEOmnE,CACT,EACI+qE,GAAoB,SAA2BprE,GACjD,OAAO,SAAU9mE,GACf,OAAOA,EAAI,IAAM,EAAI8mE,EAAQ,EAAQ,EAAJ9mE,IAAU,EAAI,GAAK8mE,EAAmB,GAAV9mE,EAAI,KAAW,CAC9E,CACF,EACImyI,GAAiB,SAASA,EAAet7I,EAAMskC,EAAWi3G,GAC5D,IAAIvnH,EAAKsQ,GAAa,EAAIA,EAAY,EAEtC3L,GAAM4iH,IAAWv7I,EAAO,GAAK,OAASskC,EAAY,EAAIA,EAAY,GAC9DrC,EAAKtJ,EAAK+uG,IAAQtiI,KAAK4oB,KAAK,EAAIgG,IAAO,GACvCi8C,EAAU,SAAiB9mE,GAC7B,OAAa,IAANA,EAAU,EAAI6qB,EAAK5uB,KAAKC,IAAI,GAAI,GAAK8D,GAAKitB,IAAMjtB,EAAI84B,GAAMtJ,GAAM,CACzE,EACI23C,EAAgB,QAATtwE,EAAiBiwE,EAAmB,OAATjwE,EAAgB,SAAUmJ,GAC9D,OAAO,EAAI8mE,EAAQ,EAAI9mE,EACzB,EAAIkyI,GAAkBprE,GAQtB,OANAt3C,EAAK+uG,GAAO/uG,EAEZ23C,EAAKne,OAAS,SAAU7tB,EAAWi3G,GACjC,OAAOD,EAAet7I,EAAMskC,EAAWi3G,EACzC,EAEOjrE,CACT,EACIkrE,GAAc,SAASA,EAAYx7I,EAAMy7I,QACzB,IAAdA,IACFA,EAAY,SAGd,IAAIxrE,EAAU,SAAiB9mE,GAC7B,OAAOA,IAAMA,EAAIA,IAAMsyI,EAAY,GAAKtyI,EAAIsyI,GAAa,EAAI,CAC/D,EACInrE,EAAgB,QAATtwE,EAAiBiwE,EAAmB,OAATjwE,EAAgB,SAAUmJ,GAC9D,OAAO,EAAI8mE,EAAQ,EAAI9mE,EACzB,EAAIkyI,GAAkBprE,GAMtB,OAJAK,EAAKne,OAAS,SAAUspF,GACtB,OAAOD,EAAYx7I,EAAMy7I,EAC3B,EAEOnrE,CACT,EAeA66D,GAAa,wCAAwC,SAAUprI,EAAMqB,GACnE,IAAIs6I,EAAQt6I,EAAI,EAAIA,EAAI,EAAIA,EAE5B85I,GAAYn7I,EAAO,UAAY27I,EAAQ,GAAIt6I,EAAI,SAAU+H,GACvD,OAAO/D,KAAKC,IAAI8D,EAAGuyI,EACrB,EAAI,SAAUvyI,GACZ,OAAOA,CACT,GAAG,SAAUA,GACX,OAAO,EAAI/D,KAAKC,IAAI,EAAI8D,EAAGuyI,EAC7B,IAAG,SAAUvyI,GACX,OAAOA,EAAI,GAAK/D,KAAKC,IAAQ,EAAJ8D,EAAOuyI,GAAS,EAAI,EAAIt2I,KAAKC,IAAc,GAAT,EAAI8D,GAAQuyI,GAAS,CAClF,GACF,IAEAxB,GAASyB,OAAOC,SAAW1B,GAAS2B,KAAO3B,GAASyB,OAAOtrE,OAE3D6qE,GAAY,UAAWI,GAAe,MAAOA,GAAe,OAAQA,MAEzD9vH,GAWR,OAVGiO,GAAK,GADGpqB,GAWH,MAHT6rI,GAAY,UAAU,SAAU/xI,GAC9B,OAAO,EAAI8mE,GAAQ,EAAI9mE,EACzB,GANI8mE,GAAU,SAAiB9mE,GAC7B,OAAOA,EAAIswB,GAAKjO,GAAIriB,EAAIA,EAAIA,EAHrB,kBAG8BqiB,GAAIpmB,KAAKC,IAAI8D,EAAI,IAAMkG,GAAG,GAAK,IAAMlG,EAFnE,kBAE4EqiB,IAAKriB,GAAK,KAAOkG,IAAKlG,EAAI,MAAQqiB,GAAIpmB,KAAKC,IAAI8D,EAAI,MAAQkG,GAAG,GAAK,OACxJ,GAOF6rI,GAAY,QAAQ,SAAU/xI,GAC5B,OAAOA,EAAI/D,KAAKC,IAAI,EAAG,IAAM8D,EAAI,IAAM,CACzC,IAEA+xI,GAAY,QAAQ,SAAU/xI,GAC5B,QAAS0+H,GAAM,EAAI1+H,EAAIA,GAAK,EAC9B,IAEA+xI,GAAY,QAAQ,SAAU/xI,GAC5B,OAAa,IAANA,EAAU,EAA0B,EAArBgtB,GAAKhtB,EAAIw+H,GACjC,IAEAuT,GAAY,OAAQM,GAAY,MAAOA,GAAY,OAAQA,MAE3DtB,GAAS4B,YAAc5B,GAAS6B,MAAQ9S,GAAS6S,YAAc,CAC7D3pF,OAAQ,SAAgB4pF,EAAOC,QACf,IAAVD,IACFA,EAAQ,GAGV,IAAI/nH,EAAK,EAAI+nH,EACTpjH,EAAKojH,GAASC,EAAiB,EAAI,GACnC/5G,EAAK+5G,EAAiB,EAAI,EAE9B,OAAO,SAAU7yI,GACf,QAASwvB,EAAK02G,GAAO,EAFb,UAEqBlmI,GAAK,GAAK84B,GAAMjO,CAC/C,CACF,GAEFszG,GAAUh3D,KAAO4pE,GAAS,YAE1B/O,GAAa,sEAAsE,SAAUprI,GAC3F,OAAOyqI,IAAkBzqI,EAAO,IAAMA,EAAO,SAC/C,IAQO,IAAIgrI,GAAU,SAAiBxsI,EAAQssI,GAC5C/0I,KAAK0I,GAAKopI,KACVrpI,EAAOqsI,MAAQ90I,KACfA,KAAKyI,OAASA,EACdzI,KAAK+0I,QAAUA,EACf/0I,KAAK2sB,IAAMooH,EAAUA,EAAQpoH,IAAMyoH,GACnCp1I,KAAK6vG,IAAMklC,EAAUA,EAAQiL,UAAYC,EAC3C,EAOWkG,GAAyB,WAClC,SAASA,EAAUv/G,GACjB5mC,KAAK4mC,KAAOA,EACZ5mC,KAAK45I,QAAUhzG,EAAKotE,OAAS,GAEzBh0G,KAAKq4I,QAAUzxG,EAAKwhG,SAAW6b,KAAY,EAAIr9G,EAAKwhG,QAAU,KAEhEpoI,KAAKw4I,QAAU5xG,EAAKw/G,aAAe,EACnCpmJ,KAAK6kJ,QAAUj+G,EAAKy/G,QAAUz/G,EAAKg+G,UAGrC5kJ,KAAKm4I,IAAM,EAEXyC,GAAa56I,MAAO4mC,EAAK/lB,SAAU,EAAG,GAEtC7gB,KAAK0J,KAAOk9B,EAAKl9B,KAEbinI,KACF3wI,KAAKg/I,KAAOrO,GAEZA,GAASjnI,KAAKkD,KAAK5M,OAGrBmxI,IAAiBmJ,GAAQqJ,MAC3B,CAEA,IAAI2C,EAASH,EAAUz6I,UAgUvB,OA9TA46I,EAAOtyC,MAAQ,SAAezqG,GAC5B,OAAIA,GAAmB,IAAVA,GACXvJ,KAAK63C,QAAU73C,KAAK63C,OAAOqhG,mBAAqBl5I,KAAKy+E,UAAUz+E,KAAK43I,OAASruI,EAAQvJ,KAAK45I,QAC1F55I,KAAK45I,OAASrwI,EACPvJ,MAGFA,KAAK45I,MACd,EAEA0M,EAAOzlI,SAAW,SAAkBtX,GAClC,OAAOqlF,UAAU1rF,OAASlD,KAAK64I,cAAc74I,KAAKq4I,QAAU,EAAI9uI,GAASA,EAAQvJ,KAAKw4I,SAAWx4I,KAAKq4I,QAAU9uI,GAASvJ,KAAK64I,iBAAmB74I,KAAK23I,IACxJ,EAEA2O,EAAOzN,cAAgB,SAAuBtvI,GAC5C,OAAKqlF,UAAU1rF,QAIflD,KAAK63I,OAAS,EACP+C,GAAa56I,KAAMA,KAAKq4I,QAAU,EAAI9uI,GAASA,EAAQvJ,KAAKq4I,QAAUr4I,KAAKw4I,UAAYx4I,KAAKq4I,QAAU,KAJpGr4I,KAAK84I,KAKhB,EAEAwN,EAAO10I,UAAY,SAAmB20I,EAAY7yD,GAGhD,GAFAipD,MAEK/tD,UAAU1rF,OACb,OAAOlD,KAAKu4I,OAGd,IAAI1gG,EAAS73C,KAAK62I,IAElB,GAAIh/F,GAAUA,EAAOqhG,mBAAqBl5I,KAAKm4I,IAAK,CAMlD,IALAc,GAAej5I,KAAMumJ,IAEpB1uG,EAAOg/F,KAAOh/F,EAAOA,QAAUuhG,GAAevhG,EAAQ73C,MAGhD63C,GAAUA,EAAOA,QAClBA,EAAOA,OAAOshG,QAAUthG,EAAO+/F,QAAU//F,EAAOsgG,KAAO,EAAItgG,EAAO0gG,OAAS1gG,EAAOsgG,KAAOtgG,EAAOghG,gBAAkBhhG,EAAO0gG,SAAW1gG,EAAOsgG,MAC7ItgG,EAAOjmC,UAAUimC,EAAO0gG,QAAQ,GAGlC1gG,EAASA,EAAOA,QAGb73C,KAAK63C,QAAU73C,KAAK62I,IAAIU,qBAAuBv3I,KAAKm4I,IAAM,GAAKoO,EAAavmJ,KAAK84I,OAAS94I,KAAKm4I,IAAM,GAAKoO,EAAa,IAAMvmJ,KAAK84I,QAAUyN,IAE/I9M,GAAez5I,KAAK62I,IAAK72I,KAAMA,KAAK43I,OAAS53I,KAAK45I,OAEtD,CAaA,OAXI55I,KAAKu4I,SAAWgO,IAAevmJ,KAAK23I,OAASjkD,GAAkB1zF,KAAKi2I,UAAY3mI,KAAKc,IAAIpQ,KAAKw5I,UAAY7H,KAAa4U,IAAevmJ,KAAKi2I,WAAaj2I,KAAKsB,KAAOtB,KAAKwmJ,cAE3KxmJ,KAAKm4I,MAAQn4I,KAAKymJ,OAASF,GAI3BvQ,GAAgBh2I,KAAMumJ,EAAY7yD,IAK7B1zF,IACT,EAEAsmJ,EAAO3lI,KAAO,SAAcpX,EAAOmqF,GACjC,OAAO9E,UAAU1rF,OAASlD,KAAK4R,UAAUtC,KAAKS,IAAI/P,KAAK64I,gBAAiBtvI,EAAQ6uI,GAAsBp4I,QAAUA,KAAK23I,KAAO33I,KAAKw4I,WAAajvI,EAAQvJ,KAAK23I,KAAO,GAAIjkD,GAAkB1zF,KAAKm5I,KAC/L,EAEAmN,EAAOtL,cAAgB,SAAuBzxI,EAAOmqF,GACnD,OAAO9E,UAAU1rF,OAASlD,KAAK4R,UAAU5R,KAAK64I,gBAAkBtvI,EAAOmqF,GAAkB1zF,KAAK64I,gBAAkBvpI,KAAKS,IAAI,EAAG/P,KAAKu4I,OAASv4I,KAAK84I,OAAS94I,KAAKqpH,KAC/J,EAEAi9B,EAAOvzD,SAAW,SAAkBxpF,EAAOmqF,GACzC,OAAO9E,UAAU1rF,OAASlD,KAAK4R,UAAU5R,KAAK6gB,aAAc7gB,KAAK6kJ,OAA8B,EAAnB7kJ,KAAKy0C,YAA+BlrC,EAAZ,EAAIA,GAAiB6uI,GAAsBp4I,MAAO0zF,GAAkB1zF,KAAK6gB,WAAavR,KAAKS,IAAI,EAAG/P,KAAKm5I,MAAQn5I,KAAK23I,MAAQ33I,KAAKqpH,KACvO,EAEAi9B,EAAO7xG,UAAY,SAAmBlrC,EAAOmqF,GAC3C,IAAI3Q,EAAgB/iF,KAAK6gB,WAAa7gB,KAAKw4I,QAE3C,OAAO5pD,UAAU1rF,OAASlD,KAAK4R,UAAU5R,KAAKm5I,OAAS5vI,EAAQ,GAAKw5E,EAAe2Q,GAAkB1zF,KAAKq4I,QAAUC,GAAgBt4I,KAAKu4I,OAAQx1D,GAAiB,EAAI,CACxK,EAYAujE,EAAOzM,UAAY,SAAmBtwI,GACpC,IAAKqlF,UAAU1rF,OACb,OAAqB,OAAdlD,KAAKg5I,KAAqB,EAAIh5I,KAAKg5I,KAG5C,GAAIh5I,KAAKg5I,OAASzvI,EAChB,OAAOvJ,KAGT,IAAIy4I,EAAQz4I,KAAK63C,QAAU73C,KAAKm4I,IAAMQ,GAAwB34I,KAAK63C,OAAOshG,MAAOn5I,MAAQA,KAAKu4I,OAa9F,OARAv4I,KAAKg5I,MAAQzvI,GAAS,EACtBvJ,KAAKm4I,IAAMn4I,KAAK0mJ,MAAiB,OAAVn9I,EAAsB,EAAIvJ,KAAKg5I,KAEtDh5I,KAAK4R,UAAU2nI,IAAQjqI,KAAKc,IAAIpQ,KAAK45I,QAAS55I,KAAK84I,MAAOL,IAAQ,GAElEM,GAAQ/4I,MAh6CY,SAA2Bqb,GAGjD,IAFA,IAAIw8B,EAASx8B,EAAUw8B,OAEhBA,GAAUA,EAAOA,QAEtBA,EAAOggG,OAAS,EAChBhgG,EAAOghG,gBACPhhG,EAASA,EAAOA,OAGlB,OAAOx8B,CACT,CAw5CWsrI,CAAkB3mJ,KAC3B,EAEAsmJ,EAAOt8B,OAAS,SAAgBzgH,GAC9B,OAAKqlF,UAAU1rF,QAIXlD,KAAK0mJ,MAAQn9I,IACfvJ,KAAK0mJ,IAAMn9I,EAEPA,GACFvJ,KAAKymJ,OAASzmJ,KAAKu4I,QAAUjpI,KAAKO,KAAK7P,KAAK45I,OAAQ55I,KAAKs5I,WAEzDt5I,KAAKm4I,IAAMn4I,KAAKw3I,KAAO,IAEvBmF,KAEA38I,KAAKm4I,IAAMn4I,KAAKg5I,KAEhBh5I,KAAK4R,UAAU5R,KAAK63C,SAAW73C,KAAK63C,OAAOqhG,kBAAoBl5I,KAAKs5I,UAAYt5I,KAAKu4I,QAAUv4I,KAAKymJ,OAA4B,IAApBzmJ,KAAK+yF,YAAoBzjF,KAAKc,IAAIpQ,KAAKw5I,UAAY7H,KAAa3xI,KAAKu4I,QAAU5G,OAIxL3xI,MAnBEA,KAAK0mJ,GAoBhB,EAEAJ,EAAO7nE,UAAY,SAAmBl1E,GACpC,GAAIqlF,UAAU1rF,OAAQ,CACpBlD,KAAK43I,OAASruI,EACd,IAAIsuC,EAAS73C,KAAK63C,QAAU73C,KAAK62I,IAEjC,OADAh/F,IAAWA,EAAOiiG,QAAU95I,KAAK63C,SAAW4hG,GAAe5hG,EAAQ73C,KAAMuJ,EAAQvJ,KAAK45I,QAC/E55I,IACT,CAEA,OAAOA,KAAK43I,MACd,EAEA0O,EAAOxtH,QAAU,SAAiB8tH,GAChC,OAAO5mJ,KAAK43I,QAAUvF,GAAYuU,GAAkB5mJ,KAAK64I,gBAAkB74I,KAAK6gB,YAAcvR,KAAKc,IAAIpQ,KAAKm4I,KAAO,EACrH,EAEAmO,EAAOhN,QAAU,SAAiBuN,GAChC,IAAIhvG,EAAS73C,KAAK63C,QAAU73C,KAAK62I,IAEjC,OAAQh/F,EAAuBgvG,KAAiB7mJ,KAAKm4I,KAAOn4I,KAAKq4I,SAAWr4I,KAAKm5I,OAASn5I,KAAKg7I,gBAAkB,GAAKh7I,KAAKu4I,QAAUv4I,KAAK23I,KAAO33I,KAAKw4I,SAAYx4I,KAAKm4I,IAAoBQ,GAAwB9gG,EAAOyhG,QAAQuN,GAAc7mJ,MAAnEA,KAAKu4I,OAAjKv4I,KAAKu4I,MACxB,EAEA+N,EAAOvO,OAAS,SAAgB17E,QACf,IAAXA,IACFA,EAAS63E,IAGX,IAAI4S,EAAkBpW,GAUtB,OATAA,GAAar0E,GAETr8D,KAAKi2I,UAAYj2I,KAAKk2I,YACxBl2I,KAAKq5I,UAAYr5I,KAAKq5I,SAAStB,OAAO17E,GACtCr8D,KAAK4R,WAAW,IAAMyqD,EAAOq3B,iBAGjB,WAAd1zF,KAAK0J,OAAqC,IAAhB2yD,EAAO23E,MAAkBh0I,KAAKg0I,OACxDtD,GAAaoW,EACN9mJ,IACT,EAEAsmJ,EAAOS,WAAa,SAAoBzN,GAItC,IAHA,IAAIj+H,EAAYrb,KACZ2gB,EAAOiuE,UAAU1rF,OAASo2I,EAAUj+H,EAAUi+H,UAE3Cj+H,GACLsF,EAAOtF,EAAUu8H,OAASj3H,GAAQtF,EAAU88H,KAAO,GACnD98H,EAAYA,EAAUw7H,IAGxB,OAAQ72I,KAAK63C,QAAU73C,KAAKgnJ,KAAOhnJ,KAAKgnJ,KAAKpgH,KAAKoxG,iBAAmBiM,IAAWjkJ,KAAKgnJ,KAAKD,WAAWzN,GAAW34H,CAClH,EAEA2lI,EAAOle,OAAS,SAAgB7+H,GAC9B,OAAIqlF,UAAU1rF,QACZlD,KAAKq4I,QAAU9uI,IAAU06I,KAAY,EAAI16I,EAClC0xI,GAAuBj7I,QAGP,IAAlBA,KAAKq4I,QAAiB4L,IAAWjkJ,KAAKq4I,OAC/C,EAEAiO,EAAOF,YAAc,SAAqB78I,GACxC,GAAIqlF,UAAU1rF,OAAQ,CACpB,IAAIyd,EAAO3gB,KAAKm5I,MAKhB,OAJAn5I,KAAKw4I,QAAUjvI,EAEf0xI,GAAuBj7I,MAEhB2gB,EAAO3gB,KAAK2gB,KAAKA,GAAQ3gB,IAClC,CAEA,OAAOA,KAAKw4I,OACd,EAEA8N,EAAOD,KAAO,SAAc98I,GAC1B,OAAIqlF,UAAU1rF,QACZlD,KAAK6kJ,MAAQt7I,EACNvJ,MAGFA,KAAK6kJ,KACd,EAEAyB,EAAOh5I,KAAO,SAAc2D,EAAUyiF,GACpC,OAAO1zF,KAAK4R,UAAU+nI,GAAe35I,KAAMiR,GAAWohI,GAAY3+C,GACpE,EAEA4yD,EAAOW,QAAU,SAAiBC,EAAcxzD,GAC9C,OAAO1zF,KAAKqN,OAAOuE,UAAUs1I,GAAgBlnJ,KAAK45I,OAAS,EAAGvH,GAAY3+C,GAC5E,EAEA4yD,EAAOj5I,KAAO,SAAco6F,EAAM/T,GAEhC,OADQ,MAAR+T,GAAgBznG,KAAKsN,KAAKm6F,EAAM/T,GACzB1zF,KAAKmnJ,UAAS,GAAOn9B,QAAO,EACrC,EAEAs8B,EAAOzqH,QAAU,SAAiB4rE,EAAM/T,GAEtC,OADQ,MAAR+T,GAAgBznG,KAAKsN,KAAKm6F,GAAQznG,KAAK64I,gBAAiBnlD,GACjD1zF,KAAKmnJ,UAAS,GAAMn9B,QAAO,EACpC,EAEAs8B,EAAOz5I,MAAQ,SAAeu6I,EAAQ1zD,GAEpC,OADU,MAAV0zD,GAAkBpnJ,KAAKsN,KAAK85I,EAAQ1zD,GAC7B1zF,KAAKgqH,QAAO,EACrB,EAEAs8B,EAAOx5I,OAAS,WACd,OAAO9M,KAAKgqH,QAAO,EACrB,EAEAs8B,EAAOa,SAAW,SAAkB59I,GAClC,OAAIqlF,UAAU1rF,UACVqG,IAAUvJ,KAAKmnJ,YAAcnnJ,KAAK65I,WAAW75I,KAAKg5I,OAASzvI,GAAQ,KAAY,IAE1EvJ,MAGFA,KAAKg5I,KAAO,CACrB,EAEAsN,EAAOe,WAAa,WAGlB,OAFArnJ,KAAKi2I,SAAWj2I,KAAKw3I,KAAO,EAC5Bx3I,KAAKw5I,QAAS,KACPx5I,IACT,EAEAsmJ,EAAOte,SAAW,WAChB,IAEIsR,EAFAzhG,EAAS73C,KAAK63C,QAAU73C,KAAK62I,IAC7BtyI,EAAQvE,KAAK43I,OAEjB,QAAW//F,KAAU73C,KAAKm4I,KAAOn4I,KAAKi2I,UAAYp+F,EAAOmwF,aAAesR,EAAUzhG,EAAOyhG,SAAQ,KAAU/0I,GAAS+0I,EAAUt5I,KAAK84B,SAAQ,GAAQ64G,IACrJ,EAEA2U,EAAOgB,cAAgB,SAAuBp9I,EAAMwQ,EAAU5V,GAC5D,IAAI8hC,EAAO5mC,KAAK4mC,KAEhB,OAAIgoD,UAAU1rF,OAAS,GAChBwX,GAGHksB,EAAK18B,GAAQwQ,EACb5V,IAAW8hC,EAAK18B,EAAO,UAAYpF,GAC1B,aAAToF,IAAwBlK,KAAKunJ,UAAY7sI,WAJlCksB,EAAK18B,GAOPlK,MAGF4mC,EAAK18B,EACd,EAEAo8I,EAAO78I,KAAO,SAAc+9I,GAC1B,IAAIpqD,EAAOp9F,KACX,OAAO,IAAIknG,SAAQ,SAAUugD,GAC3B,IAAIr0I,EAAI6+H,GAAYuV,GAAeA,EAAcpR,GAC7CsR,EAAW,WACb,IAAIC,EAAQvqD,EAAK3zF,KACjB2zF,EAAK3zF,KAAO,KAEZwoI,GAAY7+H,KAAOA,EAAIA,EAAEgqF,MAAWhqF,EAAE3J,MAAQ2J,IAAMgqF,KAAUA,EAAK3zF,KAAOk+I,GAC1EF,EAAQr0I,GACRgqF,EAAK3zF,KAAOk+I,CACd,EAEIvqD,EAAK64C,UAAqC,IAAzB74C,EAAK49C,iBAAyB59C,EAAK+6C,KAAO,IAAM/6C,EAAKm7C,QAAUn7C,EAAK+6C,IAAM,EAC7FuP,IAEAtqD,EAAKwqD,MAAQF,CAEjB,GACF,EAEApB,EAAOtS,KAAO,WACZkL,GAAWl/I,KACb,EAEOmmJ,CACT,CA3VoC,GA6VpC9P,GAAa8P,GAAUz6I,UAAW,CAChCytI,MAAO,EACPvB,OAAQ,EACRF,KAAM,EACNa,OAAQ,EACRO,MAAO,EACPjB,OAAQ,EACRQ,QAAS,EACTwM,OAAO,EACPhtG,OAAQ,KACRo+F,UAAU,EACVuC,QAAS,EACTL,IAAK,EACLtB,IAAK,EACLxtB,MAAO,EACPmwB,QAAQ,KACRoO,MAAO,EACPlB,KAAK,EACL1N,KAAM,IASD,IAAIkC,GAAwB,SAAU2M,GAG3C,SAAS3M,EAASt0G,EAAM31B,GACtB,IAAI62I,EAeJ,YAba,IAATlhH,IACFA,EAAO,CAAC,IAGVkhH,EAAQD,EAAWh8I,KAAK7L,KAAM4mC,IAAS5mC,MACjCs7I,OAAS,CAAC,EAChBwM,EAAM5O,oBAAsBtyG,EAAKsyG,kBACjC4O,EAAMvQ,qBAAuB3wG,EAAK2wG,mBAClCuQ,EAAMhO,MAAQzH,GAAYzrG,EAAKmhH,cAC/BnX,IAAmB6I,GAAe7yG,EAAKiR,QAAU+4F,GAAiBT,GAAuB2X,GAAQ72I,GACjG21B,EAAKugH,UAAYW,EAAMjsH,UACvB+K,EAAKojF,QAAU89B,EAAM99B,QAAO,GAC5BpjF,EAAKu4G,eAAiBlF,GAAe9J,GAAuB2X,GAAQlhH,EAAKu4G,eAClE2I,CACT,CAnBAzX,GAAe6K,EAAU2M,GAqBzB,IAAIG,EAAU9M,EAASxvI,UAkqBvB,OAhqBAs8I,EAAQ5yH,GAAK,SAAYw/G,EAAShuG,EAAM31B,GAGtC,OAFAwqI,GAAiB,EAAG7sD,UAAW5uF,MAExBA,IACT,EAEAgoJ,EAAQvgD,KAAO,SAAcmtC,EAAShuG,EAAM31B,GAG1C,OAFAwqI,GAAiB,EAAG7sD,UAAW5uF,MAExBA,IACT,EAEAgoJ,EAAQC,OAAS,SAAgBrT,EAASsT,EAAUC,EAAQl3I,GAG1D,OAFAwqI,GAAiB,EAAG7sD,UAAW5uF,MAExBA,IACT,EAEAgoJ,EAAQn4C,IAAM,SAAa+kC,EAAShuG,EAAM31B,GAMxC,OALA21B,EAAK/lB,SAAW,EAChB+lB,EAAKiR,OAAS73C,KACd02I,GAAiB9vG,GAAMw/G,cAAgBx/G,EAAKwhG,OAAS,GACrDxhG,EAAKoxG,kBAAoBpxG,EAAKoxG,gBAC9B,IAAI+D,GAAMnH,EAAShuG,EAAM+yG,GAAe35I,KAAMiR,GAAW,GAClDjR,IACT,EAEAgoJ,EAAQn8I,KAAO,SAAc6O,EAAU5V,EAAQmM,GAC7C,OAAOwoI,GAAez5I,KAAM+7I,GAAMqM,YAAY,EAAG1tI,EAAU5V,GAASmM,EACtE,EAGA+2I,EAAQK,UAAY,SAAmBzT,EAAS/zH,EAAU+lB,EAAM0hH,EAASr3I,EAAUs3I,EAAeC,GAOhG,OANA5hH,EAAK/lB,SAAWA,EAChB+lB,EAAK0hH,QAAU1hH,EAAK0hH,SAAWA,EAC/B1hH,EAAKrrB,WAAagtI,EAClB3hH,EAAK6hH,iBAAmBD,EACxB5hH,EAAKiR,OAAS73C,KACd,IAAI+7I,GAAMnH,EAAShuG,EAAM+yG,GAAe35I,KAAMiR,IACvCjR,IACT,EAEAgoJ,EAAQU,YAAc,SAAqB9T,EAAS/zH,EAAU+lB,EAAM0hH,EAASr3I,EAAUs3I,EAAeC,GAGpG,OAFA5hH,EAAKi1G,aAAe,EACpBnF,GAAiB9vG,GAAMoxG,gBAAkB3F,GAAYzrG,EAAKoxG,iBACnDh4I,KAAKqoJ,UAAUzT,EAAS/zH,EAAU+lB,EAAM0hH,EAASr3I,EAAUs3I,EAAeC,EACnF,EAEAR,EAAQW,cAAgB,SAAuB/T,EAAS/zH,EAAUqnI,EAAUC,EAAQG,EAASr3I,EAAUs3I,EAAeC,GAGpH,OAFAL,EAAOrM,QAAUoM,EACjBxR,GAAiByR,GAAQnQ,gBAAkB3F,GAAY8V,EAAOnQ,iBACvDh4I,KAAKqoJ,UAAUzT,EAAS/zH,EAAUsnI,EAAQG,EAASr3I,EAAUs3I,EAAeC,EACrF,EAEAR,EAAQj1F,OAAS,SAAgBnhD,EAAW8hF,EAAgBghC,GAC1D,IAMI/zG,EACAkyF,EACAvrG,EACAmtC,EACAsuC,EACA6lE,EACAC,EACAhP,EACAiP,EACAC,EACA1C,EACA3B,EAjBA7jB,EAAW7gI,KAAKm5I,MAChB6P,EAAOhpJ,KAAK63I,OAAS73I,KAAK64I,gBAAkB74I,KAAK84I,MACjDiC,EAAM/6I,KAAK23I,KACXc,EAAQ7mI,GAAa,EAAI,EAAI2jI,GAAc3jI,GAE/Cq3I,EAAgBjpJ,KAAKw5I,OAAS,GAAM5nI,EAAY,IAAM5R,KAAKi2I,WAAa8E,GAexE,GAFA/6I,OAAS4wI,IAAmB6H,EAAQuQ,GAAQp3I,GAAa,IAAM6mI,EAAQuQ,GAEnEvQ,IAAUz4I,KAAKu4I,QAAU7jB,GAASu0B,EAAe,CAkBnD,GAjBIpoB,IAAa7gI,KAAKm5I,OAAS4B,IAE7BtC,GAASz4I,KAAKm5I,MAAQtY,EACtBjvH,GAAa5R,KAAKm5I,MAAQtY,GAG5BlgH,EAAO83H,EACPqQ,EAAY9oJ,KAAK43I,OAEjBgR,IADA/O,EAAY75I,KAAKm4I,KAGb8Q,IACFlO,IAAQla,EAAW7gI,KAAKw5I,SAEvB5nI,IAAc8hF,KAAoB1zF,KAAKw5I,OAAS5nI,IAG/C5R,KAAKq4I,QAAS,CAKhB,GAHAgO,EAAOrmJ,KAAK6kJ,MACZ9hE,EAAgBg4D,EAAM/6I,KAAKw4I,QAEvBx4I,KAAKq4I,SAAW,GAAKzmI,EAAY,EACnC,OAAO5R,KAAK4R,UAA0B,IAAhBmxE,EAAsBnxE,EAAW8hF,EAAgBghC,GAqCzE,GAlCA/zG,EAAO40H,GAAckD,EAAQ11D,GAEzB01D,IAAUuQ,GAEZv0G,EAAYz0C,KAAKq4I,QACjB13H,EAAOo6H,KAEPtmG,KAAegkG,EAAQ11D,KAENtuC,IAAcgkG,EAAQ11D,IACrCpiE,EAAOo6H,EACPtmG,KAGF9zB,EAAOo6H,IAAQp6H,EAAOo6H,IAGxBgO,EAAgBzQ,GAAgBt4I,KAAKu4I,OAAQx1D,IAC5C89C,GAAY7gI,KAAKu4I,QAAUwQ,IAAkBt0G,GAAaz0C,KAAKu4I,OAASwQ,EAAgBhmE,EAAgB/iF,KAAK23I,MAAQ,IAAMoR,EAAgBt0G,GAExI4xG,GAAoB,EAAZ5xG,IACV9zB,EAAOo6H,EAAMp6H,EACb+jI,EAAS,GAYPjwG,IAAcs0G,IAAkB/oJ,KAAK06I,MAAO,CAC9C,IAAIwO,EAAY7C,GAAwB,EAAhB0C,EACpBI,EAAWD,KAAe7C,GAAoB,EAAZ5xG,GAWtC,GAVAA,EAAYs0G,IAAkBG,GAAaA,GAC3CroB,EAAWqoB,EAAY,EAAIzQ,EAAQsC,EAAMA,EAAMtC,EAE/Cz4I,KAAK06I,MAAQ,EACb16I,KAAK+yD,OAAO8tE,IAAa6jB,EAAS,EAAInP,GAAc9gG,EAAYsuC,IAAiB2Q,GAAiBqnD,GAAKL,MAAQ,EAC/G16I,KAAKu4I,OAASE,GAEb/kD,GAAkB1zF,KAAK63C,QAAUgnG,GAAU7+I,KAAM,YAClDA,KAAK4mC,KAAKwiH,gBAAkB1E,IAAW1kJ,KAAKqnJ,aAAa3M,MAAQ,GAE7D7Z,GAAYA,IAAa7gI,KAAKm5I,OAASyP,KAAgB5oJ,KAAKm4I,KAAOn4I,KAAK4mC,KAAKyiH,WAAarpJ,KAAK63C,SAAW73C,KAAKw3I,KAEjH,OAAOx3I,KAgBT,GAbA+6I,EAAM/6I,KAAK23I,KAEXqR,EAAOhpJ,KAAK84I,MAERqQ,IACFnpJ,KAAK06I,MAAQ,EACb7Z,EAAWqoB,EAAYnO,GAAO,KAC9B/6I,KAAK+yD,OAAO8tE,GAAU,GACtB7gI,KAAK4mC,KAAKwiH,gBAAkB1E,GAAU1kJ,KAAKqnJ,cAG7CrnJ,KAAK06I,MAAQ,GAER16I,KAAKm4I,MAAQyQ,EAChB,OAAO5oJ,KAITykJ,GAAmBzkJ,KAAM0kJ,EAC3B,CACF,CAqBA,GAnBI1kJ,KAAKspJ,YAActpJ,KAAKupJ,UAAYvpJ,KAAK06I,MAAQ,IACnDmO,EA1pDkB,SAA6BxtI,EAAWwlH,EAAUlgH,GAC1E,IAAIkyF,EAEJ,GAAIlyF,EAAOkgH,EAGT,IAFAhuB,EAAQx3F,EAAUspI,OAEX9xC,GAASA,EAAM+kC,QAAUj3H,GAAM,CACpC,GAAmB,YAAfkyF,EAAMnpG,MAAsBmpG,EAAM+kC,OAAS/W,EAC7C,OAAOhuB,EAGTA,EAAQA,EAAMskC,KAChB,MAIA,IAFAtkC,EAAQx3F,EAAUmuI,MAEX32C,GAASA,EAAM+kC,QAAUj3H,GAAM,CACpC,GAAmB,YAAfkyF,EAAMnpG,MAAsBmpG,EAAM+kC,OAAS/W,EAC7C,OAAOhuB,EAGTA,EAAQA,EAAMqkC,KAChB,CAEJ,CAkoDqBuS,CAAoBzpJ,KAAMu1I,GAAc1U,GAAW0U,GAAc50H,IAE1EkoI,IACFpQ,GAAS93H,GAAQA,EAAOkoI,EAAWjR,UAIvC53I,KAAKu4I,OAASE,EACdz4I,KAAKm5I,MAAQx4H,EACb3gB,KAAKw3I,MAAQqC,EAER75I,KAAKi2I,WACRj2I,KAAKunJ,UAAYvnJ,KAAK4mC,KAAK8iH,SAC3B1pJ,KAAKi2I,SAAW,EAChBj2I,KAAKw5I,OAAS5nI,EACdivH,EAAW,IAGRA,GAAYlgH,IAAS+yE,IAAmBj/C,IAC3CoqG,GAAU7+I,KAAM,WAEZA,KAAKu4I,SAAWE,GAElB,OAAOz4I,KAIX,GAAI2gB,GAAQkgH,GAAYjvH,GAAa,EAGnC,IAFAihG,EAAQ7yG,KAAK2kJ,OAEN9xC,GAAO,CAGZ,GAFAvrG,EAAOurG,EAAMskC,OAERtkC,EAAM2kC,MAAQ72H,GAAQkyF,EAAM+kC,SAAW/kC,EAAMslC,KAAO0Q,IAAeh2C,EAAO,CAC7E,GAAIA,EAAMh7D,SAAW73C,KAEnB,OAAOA,KAAK+yD,OAAOnhD,EAAW8hF,EAAgBghC,GAKhD,GAFA7hB,EAAM9/C,OAAO8/C,EAAMslC,IAAM,GAAKx3H,EAAOkyF,EAAM+kC,QAAU/kC,EAAMslC,KAAOtlC,EAAMglC,OAAShlC,EAAMgmC,gBAAkBhmC,EAAMimC,QAAUn4H,EAAOkyF,EAAM+kC,QAAU/kC,EAAMslC,IAAKzkD,EAAgBghC,GAEvK/zG,IAAS3gB,KAAKm5I,QAAUn5I,KAAKm4I,MAAQyQ,EAAY,CAEnDC,EAAa,EACbvhJ,IAASmxI,GAASz4I,KAAKw5I,QAAS,MAEhC,KACF,CACF,CAEA3mC,EAAQvrG,CACV,KACK,CACLurG,EAAQ7yG,KAAKwpJ,MAGb,IAFA,IAAIG,EAAe/3I,EAAY,EAAIA,EAAY+O,EAExCkyF,GAAO,CAGZ,GAFAvrG,EAAOurG,EAAMqkC,OAERrkC,EAAM2kC,MAAQmS,GAAgB92C,EAAM6kC,OAAS7kC,EAAMslC,KAAO0Q,IAAeh2C,EAAO,CACnF,GAAIA,EAAMh7D,SAAW73C,KAEnB,OAAOA,KAAK+yD,OAAOnhD,EAAW8hF,EAAgBghC,GAKhD,GAFA7hB,EAAM9/C,OAAO8/C,EAAMslC,IAAM,GAAKwR,EAAe92C,EAAM+kC,QAAU/kC,EAAMslC,KAAOtlC,EAAMglC,OAAShlC,EAAMgmC,gBAAkBhmC,EAAMimC,QAAU6Q,EAAe92C,EAAM+kC,QAAU/kC,EAAMslC,IAAKzkD,EAAgBghC,GAASgc,KAAe79B,EAAMojC,UAAYpjC,EAAMqjC,WAEvOv1H,IAAS3gB,KAAKm5I,QAAUn5I,KAAKm4I,MAAQyQ,EAAY,CAEnDC,EAAa,EACbvhJ,IAASmxI,GAASz4I,KAAKw5I,OAASmQ,GAAe,KAAYhY,IAE3D,KACF,CACF,CAEA9+B,EAAQvrG,CACV,CACF,CAEA,GAAIuhJ,IAAen1D,IACjB1zF,KAAK6M,QACLg8I,EAAW91F,OAAOpyC,GAAQkgH,EAAW,GAAI,MAAW2Y,OAAS74H,GAAQkgH,EAAW,GAAK,EAEjF7gI,KAAKm4I,KAMP,OAJAn4I,KAAK43I,OAASkR,EAEd/P,GAAQ/4I,MAEDA,KAAK+yD,OAAOnhD,EAAW8hF,EAAgBghC,GAIlD10H,KAAKunJ,YAAc7zD,GAAkBmrD,GAAU7+I,KAAM,YAAY,IAC7Dy4I,IAAUuQ,GAAQhpJ,KAAKu4I,QAAUv4I,KAAK64I,kBAAoBJ,GAAS5X,KAAcioB,IAAc9oJ,KAAK43I,QAAUtoI,KAAKc,IAAIypI,KAAevqI,KAAKc,IAAIpQ,KAAKm4I,MAAWn4I,KAAK06I,SAErK9oI,IAAcmpI,KAAStC,IAAUuQ,GAAQhpJ,KAAKm4I,IAAM,IAAMM,GAASz4I,KAAKm4I,IAAM,IAAMd,GAAkBr3I,KAAM,GAExG0zF,GAAoB9hF,EAAY,IAAMivH,IAAc4X,IAAS5X,GAAamoB,IAC7EnK,GAAU7+I,KAAMy4I,IAAUuQ,GAAQp3I,GAAa,EAAI,aAAe,qBAAqB,GAEvF5R,KAAK4nJ,SAAWnP,EAAQuQ,GAAQhpJ,KAAK65I,YAAc,IAAM75I,KAAK4nJ,UAGpE,CAEA,OAAO5nJ,IACT,EAEAgoJ,EAAQ1mJ,IAAM,SAAauxG,EAAO5hG,GAChC,IAAI24I,EAAS5pJ,KAIb,GAFAkyI,GAAUjhI,KAAcA,EAAW0oI,GAAe35I,KAAMiR,EAAU4hG,MAE5DA,aAAiBszC,IAAY,CACjC,GAAIxT,GAAS9/B,GAIX,OAHAA,EAAM1wG,SAAQ,SAAUuM,GACtB,OAAOk7I,EAAOtoJ,IAAIoN,EAAKuC,EACzB,IACOjR,KAGT,GAAIgyI,GAAUn/B,GACZ,OAAO7yG,KAAK6pJ,SAASh3C,EAAO5hG,GAG9B,IAAIghI,GAAYp/B,GAGd,OAAO7yG,KAFP6yG,EAAQkpC,GAAMqM,YAAY,EAAGv1C,EAIjC,CAEA,OAAO7yG,OAAS6yG,EAAQ4mC,GAAez5I,KAAM6yG,EAAO5hG,GAAYjR,IAClE,EAEAgoJ,EAAQ8B,YAAc,SAAqB5hC,EAAQ6hC,EAAQC,EAAWC,QACrD,IAAX/hC,IACFA,GAAS,QAGI,IAAX6hC,IACFA,GAAS,QAGO,IAAdC,IACFA,GAAY,QAGW,IAArBC,IACFA,GAAoBvY,IAMtB,IAHA,IAAI14H,EAAI,GACJ65F,EAAQ7yG,KAAK2kJ,OAEV9xC,GACDA,EAAM+kC,QAAUqS,IACdp3C,aAAiBkpC,GACnBgO,GAAU/wI,EAAEpM,KAAKimG,IAEjBm3C,GAAahxI,EAAEpM,KAAKimG,GACpBqV,GAAUlvG,EAAEpM,KAAK4B,MAAMwK,EAAG65F,EAAMi3C,aAAY,EAAMC,EAAQC,MAI9Dn3C,EAAQA,EAAMskC,MAGhB,OAAOn+H,CACT,EAEAgvI,EAAQkC,QAAU,SAAiBxhJ,GAIjC,IAHA,IAAI4iB,EAAatrB,KAAK8pJ,YAAY,EAAG,EAAG,GACpCx+I,EAAIggB,EAAWpoB,OAEZoI,KACL,GAAIggB,EAAWhgB,GAAGs7B,KAAKl+B,KAAOA,EAC5B,OAAO4iB,EAAWhgB,EAGxB,EAEA08I,EAAQ/lJ,OAAS,SAAgB4wG,GAC/B,OAAIm/B,GAAUn/B,GACL7yG,KAAKmqJ,YAAYt3C,GAGtBo/B,GAAYp/B,GACP7yG,KAAKoqJ,aAAav3C,IAG3BukC,GAAsBp3I,KAAM6yG,GAExBA,IAAU7yG,KAAKg6I,UACjBh6I,KAAKg6I,QAAUh6I,KAAKwpJ,OAGf/R,GAASz3I,MAClB,EAEAgoJ,EAAQp2I,UAAY,SAAmBy4I,EAAa32D,GAClD,OAAK9E,UAAU1rF,QAIflD,KAAKupJ,SAAW,GAEXvpJ,KAAK62I,KAAO72I,KAAKm4I,MAEpBn4I,KAAK43I,OAASrC,GAAc+E,GAAQ35H,MAAQ3gB,KAAKm4I,IAAM,EAAIkS,EAAcrqJ,KAAKm4I,KAAOn4I,KAAK64I,gBAAkBwR,IAAgBrqJ,KAAKm4I,OAGnI0P,EAAWn8I,UAAUkG,UAAU/F,KAAK7L,KAAMqqJ,EAAa32D,GAEvD1zF,KAAKupJ,SAAW,EACTvpJ,MAbEA,KAAKu4I,MAchB,EAEAyP,EAAQ6B,SAAW,SAAkB5qD,EAAOhuF,GAE1C,OADAjR,KAAKs7I,OAAOr8C,GAAS06C,GAAe35I,KAAMiR,GACnCjR,IACT,EAEAgoJ,EAAQmC,YAAc,SAAqBlrD,GAEzC,cADOj/F,KAAKs7I,OAAOr8C,GACZj/F,IACT,EAEAgoJ,EAAQsC,SAAW,SAAkBr5I,EAAUyJ,EAAU5V,GACvD,IAAIyO,EAAIwoI,GAAMqM,YAAY,EAAG1tI,GAAYm5H,GAAY/uI,GAGrD,OAFAyO,EAAE7J,KAAO,UACT1J,KAAKspJ,UAAY,EACV7P,GAAez5I,KAAMuT,EAAGomI,GAAe35I,KAAMiR,GACtD,EAEA+2I,EAAQuC,YAAc,SAAqBt5I,GACzC,IAAI4hG,EAAQ7yG,KAAK2kJ,OAGjB,IAFA1zI,EAAW0oI,GAAe35I,KAAMiR,GAEzB4hG,GACDA,EAAM+kC,SAAW3mI,GAA2B,YAAf4hG,EAAMnpG,MACrC2tI,GAAkBxkC,GAGpBA,EAAQA,EAAMskC,KAElB,EAEA6Q,EAAQoC,aAAe,SAAsBxV,EAASl0G,EAAO8pH,GAI3D,IAHA,IAAIT,EAAS/pJ,KAAKyqJ,YAAY7V,EAAS4V,GACnCl/I,EAAIy+I,EAAO7mJ,OAERoI,KACLo/I,KAAsBX,EAAOz+I,IAAMy+I,EAAOz+I,GAAG0oI,KAAKY,EAASl0G,GAG7D,OAAO1gC,IACT,EAEAgoJ,EAAQyC,YAAc,SAAqB7V,EAAS4V,GAQlD,IAPA,IAKAv8E,EALIj1D,EAAI,GACJ2xI,EAAgBxV,GAAQP,GACxB/hC,EAAQ7yG,KAAK2kJ,OACbiG,EAAe1Y,GAAUsY,GAItB33C,GACDA,aAAiBkpC,GACfrG,GAAkB7iC,EAAMg4C,SAAUF,KAAmBC,IAAiBF,IAAqB73C,EAAMojC,UAAYpjC,EAAMslC,MAAQtlC,EAAMk0C,WAAW,IAAMyD,GAAc33C,EAAMk0C,WAAWl0C,EAAMgmC,iBAAmB2R,GAAcA,GAAc33C,EAAMm1B,aAE9OhvH,EAAEpM,KAAKimG,IAEC5kC,EAAW4kC,EAAM43C,YAAYE,EAAeH,IAAatnJ,QACnE8V,EAAEpM,KAAK4B,MAAMwK,EAAGi1D,GAGlB4kC,EAAQA,EAAMskC,MAGhB,OAAOn+H,CACT,EAQAgvI,EAAQ8C,QAAU,SAAiB75I,EAAU21B,GAC3CA,EAAOA,GAAQ,CAAC,EAEhB,IAOImkH,EAPAC,EAAKhrJ,KACL84B,EAAU6gH,GAAeqR,EAAI/5I,GAC7Bg6I,EAAQrkH,EACRk1G,EAAUmP,EAAMnP,QAChBoP,EAAWD,EAAME,QACjBC,EAAgBH,EAAMG,cACtBpT,EAAkBiT,EAAMjT,gBAExBlC,EAAQiG,GAAM3mH,GAAG41H,EAAI3U,GAAa,CACpC77D,KAAM5zC,EAAK4zC,MAAQ,OACnB66C,MAAM,EACN2iB,iBAAiB,EACjBr3H,KAAMmY,EACN24G,UAAW,OACX5wH,SAAU+lB,EAAK/lB,UAAYvR,KAAKc,KAAK0oB,GAAWgjH,GAAW,SAAUA,EAAUA,EAAQn7H,KAAOqqI,EAAG7R,QAAU6R,EAAGnR,cAAgBlI,GAC9HwZ,QAAS,WAGP,GAFAH,EAAGn+I,SAEEk+I,EAAS,CACZ,IAAIlqI,EAAW+lB,EAAK/lB,UAAYvR,KAAKc,KAAK0oB,GAAWgjH,GAAW,SAAUA,EAAUA,EAAQn7H,KAAOqqI,EAAG7R,QAAU6R,EAAGnR,aACnH/D,EAAM6B,OAAS92H,GAAY+5H,GAAa9E,EAAOj1H,EAAU,EAAG,GAAGkyC,OAAO+iF,EAAMqD,OAAO,GAAM,GACzF4R,EAAU,CACZ,CAEAG,GAAYA,EAAS18I,MAAMsnI,EAAOsV,GAAiB,GACrD,GACCxkH,IAEH,OAAOoxG,EAAkBlC,EAAM/iF,OAAO,GAAK+iF,CAC7C,EAEAkS,EAAQqD,YAAc,SAAqBC,EAAcC,EAAY3kH,GACnE,OAAO5mC,KAAK8qJ,QAAQS,EAAYlV,GAAa,CAC3CyF,QAAS,CACPn7H,KAAMg5H,GAAe35I,KAAMsrJ,KAE5B1kH,GACL,EAEAohH,EAAQzM,OAAS,WACf,OAAOv7I,KAAKg6I,OACd,EAEAgO,EAAQwD,UAAY,SAAmBC,GAKrC,YAJkB,IAAdA,IACFA,EAAYzrJ,KAAKm5I,OAGZuF,GAAqB1+I,KAAM25I,GAAe35I,KAAMyrJ,GACzD,EAEAzD,EAAQ0D,cAAgB,SAAuBC,GAK7C,YAJmB,IAAfA,IACFA,EAAa3rJ,KAAKm5I,OAGbuF,GAAqB1+I,KAAM25I,GAAe35I,KAAM2rJ,GAAa,EACtE,EAEA3D,EAAQ4D,aAAe,SAAsBriJ,GAC3C,OAAOqlF,UAAU1rF,OAASlD,KAAKsN,KAAK/D,GAAO,GAAQvJ,KAAK0rJ,cAAc1rJ,KAAKm5I,MAAQxH,GACrF,EAEAqW,EAAQ6D,cAAgB,SAAuB/hH,EAAQgiH,EAAc7B,QAC1C,IAArBA,IACFA,EAAmB,GAOrB,IAJA,IAEI52I,EAFAw/F,EAAQ7yG,KAAK2kJ,OACbrJ,EAASt7I,KAAKs7I,OAGXzoC,GACDA,EAAM+kC,QAAUqS,IAClBp3C,EAAM+kC,QAAU9tG,EAChB+oE,EAAM6kC,MAAQ5tG,GAGhB+oE,EAAQA,EAAMskC,MAGhB,GAAI2U,EACF,IAAKz4I,KAAKioI,EACJA,EAAOjoI,IAAM42I,IACf3O,EAAOjoI,IAAMy2B,GAKnB,OAAO2tG,GAASz3I,KAClB,EAEAgoJ,EAAQX,WAAa,SAAoB0E,GACvC,IAAIl5C,EAAQ7yG,KAAK2kJ,OAGjB,IAFA3kJ,KAAK06I,MAAQ,EAEN7nC,GACLA,EAAMw0C,WAAW0E,GACjBl5C,EAAQA,EAAMskC,MAGhB,OAAO0Q,EAAWn8I,UAAU27I,WAAWx7I,KAAK7L,KAAM+rJ,EACpD,EAEA/D,EAAQgE,MAAQ,SAAeC,QACP,IAAlBA,IACFA,GAAgB,GAMlB,IAHA,IACI3kJ,EADAurG,EAAQ7yG,KAAK2kJ,OAGV9xC,GACLvrG,EAAOurG,EAAMskC,MACbn3I,KAAKiC,OAAO4wG,GACZA,EAAQvrG,EAKV,OAFAtH,KAAK62I,MAAQ72I,KAAKm5I,MAAQn5I,KAAKu4I,OAASv4I,KAAKymJ,OAAS,GACtDwF,IAAkBjsJ,KAAKs7I,OAAS,CAAC,GAC1B7D,GAASz3I,KAClB,EAEAgoJ,EAAQnP,cAAgB,SAAuBtvI,GAC7C,IAIIlC,EACA9C,EACAszC,EANAhoC,EAAM,EACNutF,EAAOp9F,KACP6yG,EAAQzV,EAAKosD,MACbV,EAAYpX,GAKhB,GAAI9iD,UAAU1rF,OACZ,OAAOk6F,EAAKy8C,WAAWz8C,EAAKi7C,QAAU,EAAIj7C,EAAKv8E,WAAau8E,EAAKy7C,kBAAoBz7C,EAAK+pD,YAAc59I,EAAQA,IAGlH,GAAI6zF,EAAKy6C,OAAQ,CAGf,IAFAhgG,EAASulD,EAAKvlD,OAEPg7D,GACLxrG,EAAOwrG,EAAMqkC,MAEbrkC,EAAMglC,QAAUhlC,EAAMgmC,iBAEtBt0I,EAAQsuG,EAAM+kC,QAEFkR,GAAa1rD,EAAK08C,OAASjnC,EAAMslC,MAAQ/6C,EAAKs9C,OAExDt9C,EAAKs9C,MAAQ,EAEbjB,GAAer8C,EAAMyV,EAAOtuG,EAAQsuG,EAAM+mC,OAAQ,GAAGc,MAAQ,GAE7DoO,EAAYvkJ,EAGVA,EAAQ,GAAKsuG,EAAMslC,MAErBtoI,GAAOtL,IAEFszC,IAAWulD,EAAKy5C,KAAOh/F,GAAUA,EAAOqhG,qBAC3C97C,EAAKw6C,QAAUrzI,EAAQ64F,EAAK+6C,IAC5B/6C,EAAK+7C,OAAS50I,EACd64F,EAAKm7C,QAAUh0I,GAGjB64F,EAAKyuD,eAAetnJ,GAAO,GAAQ,UACnCukJ,EAAY,GAGdj2C,EAAM6kC,KAAO7nI,GAAOgjG,EAAMslC,MAAQtoI,EAAMgjG,EAAM6kC,MAC9C7kC,EAAQxrG,EAGVuzI,GAAax9C,EAAMA,IAASwzC,IAAmBxzC,EAAK+7C,MAAQtpI,EAAMutF,EAAK+7C,MAAQtpI,EAAK,EAAG,GAEvFutF,EAAKy6C,OAAS,CAChB,CAEA,OAAOz6C,EAAK07C,KACd,EAEAoC,EAASgR,WAAa,SAAoBvrI,GAOxC,GANIiwH,GAAgBuH,MAClBnC,GAAgBpF,GAAiB+H,GAAwBh4H,EAAMiwH,KAE/DK,GAAqBqJ,GAAQC,OAG3BD,GAAQC,OAAS/F,GAAc,CACjCA,IAAgBpD,GAAQC,WAAa,IACrC,IAAIx+B,EAAQ+9B,GAAgB+T,OAC5B,KAAK9xC,IAAUA,EAAMslC,MAAS/G,GAAQC,WAAaiJ,GAAQtoD,WAAW9uF,OAAS,EAAG,CAChF,KAAO2vG,IAAUA,EAAMslC,KACrBtlC,EAAQA,EAAMskC,MAGhBtkC,GAASynC,GAAQwJ,OACnB,CACF,CACF,EAEO5I,CACT,CAzrBmC,CAyrBjCiL,IAEF9P,GAAa6E,GAASxvI,UAAW,CAC/BgvI,MAAO,EACP4O,UAAW,EACXC,SAAU,IAGZ,IA6IImB,GAEJyB,GA/IIC,GAA6B,SAAoC3jJ,EAAQuD,EAAMzH,EAAO+jB,EAAK+jI,EAAQC,EAAcC,GAEnH,IAGIt6E,EACAu6E,EACA74I,EACA84I,EACAC,EACAC,EACAC,EACA5zI,EAVAlC,EAAK,IAAIspI,GAAUpgJ,KAAKq6I,IAAK5xI,EAAQuD,EAAM,EAAG,EAAG6gJ,GAAsB,KAAMR,GAC7E/iI,EAAQ,EACRwjI,EAAa,EA6BjB,IApBAh2I,EAAG3D,EAAI5O,EACPuS,EAAGvW,EAAI+nB,EACP/jB,GAAS,IAILqoJ,IAFJtkI,GAAO,IAEchO,QAAQ,cAC3BgO,EAAM21H,GAAe31H,IAGnBgkI,IAEFA,EADAtzI,EAAI,CAACzU,EAAO+jB,GACI7f,EAAQuD,GAExBzH,EAAQyU,EAAE,GACVsP,EAAMtP,EAAE,IAGVwzI,EAAYjoJ,EAAM6vF,MAAM2+C,KAAyB,GAE1C9gE,EAAS8gE,GAAqBmJ,KAAK5zH,IACxCmkI,EAASx6E,EAAO,GAChBy6E,EAAQpkI,EAAI4yD,UAAU5xD,EAAO2oD,EAAO3oD,OAEhC3V,EACFA,GAASA,EAAQ,GAAK,EACQ,UAArB+4I,EAAMloI,QAAQ,KACvB7Q,EAAQ,GAGN84I,IAAWD,EAAUM,OACvBH,EAAWt4D,WAAWm4D,EAAUM,EAAa,KAAO,EAEpDh2I,EAAGujI,IAAM,CACPlD,MAAOrgI,EAAGujI,IACVhnI,EAAGq5I,GAAwB,IAAfI,EAAmBJ,EAAQ,IAEvC35I,EAAG45I,EACHpzI,EAAwB,MAArBkzI,EAAOp4F,OAAO,GAAamhF,GAAemX,EAAUF,GAAUE,EAAWt4D,WAAWo4D,GAAUE,EACjGjrH,EAAG/tB,GAASA,EAAQ,EAAIrE,KAAKuB,MAAQ,GAEvCyY,EAAQypH,GAAqBj+G,WAcjC,OAVAhe,EAAGyC,EAAI+P,EAAQhB,EAAIplB,OAASolB,EAAI4yD,UAAU5xD,EAAOhB,EAAIplB,QAAU,GAE/D4T,EAAGi2I,GAAKR,GAEJvZ,GAAQ9jI,KAAKoZ,IAAQskI,KACvB91I,EAAGvW,EAAI,GAGTP,KAAKq6I,IAAMvjI,EAEJA,CACT,EACI6oI,GAAgB,SAAuBl3I,EAAQuD,EAAMzH,EAAO+jB,EAAKgB,EAAOsrH,EAAS3hF,EAAUq5F,EAAcC,EAAWS,GACtH/a,GAAY3pH,KAASA,EAAMA,EAAIgB,GAAS,EAAG7gB,EAAQmsI,IACnD,IAGI99H,EAHA+8C,EAAeprD,EAAOuD,GACtBihJ,EAAwB,QAAV1oJ,EAAkBA,EAAS0tI,GAAYp+E,GAA+B04F,EAAY9jJ,EAAOuD,EAAKsO,QAAQ,SAAW23H,GAAYxpI,EAAO,MAAQuD,EAAKwY,OAAO,KAAOxY,EAAO,MAAQA,EAAKwY,OAAO,IAAI+nI,GAAa9jJ,EAAOuD,KAA3J6nD,EACrEw4F,EAAUpa,GAAYp+E,GAA+B04F,EAAYW,GAAuBC,GAAlDC,GAkB1C,GAfIpb,GAAU1pH,MACPA,EAAIhO,QAAQ,aACfgO,EAAM21H,GAAe31H,IAGD,MAAlBA,EAAI+rC,OAAO,MACbv9C,EAAK0+H,GAAeyX,EAAa3kI,IAAQ2zH,GAAQgR,IAAgB,KAEhD,IAAPn2I,KAERwR,EAAMxR,KAKPk2I,GAAYC,IAAgB3kI,GAAO6jI,GACtC,OAAK1kI,MAAMwlI,EAAc3kI,IAAgB,KAARA,IAQhCurC,KAAkB7nD,KAAQvD,IAAWgrI,GAAeznI,EAAMsc,GACpD8jI,GAA2BvgJ,KAAK7L,KAAMyI,EAAQuD,EAAMihJ,EAAa3kI,EAAK+jI,EAAQC,GAAgBlb,GAAQkb,aAAcC,KAPzHz1I,EAAK,IAAIspI,GAAUpgJ,KAAKq6I,IAAK5xI,EAAQuD,GAAOihJ,GAAe,EAAG3kI,GAAO2kI,GAAe,GAA4B,kBAAjBp5F,EAA6Bw5F,GAAiBC,GAAc,EAAGjB,GAC9JE,IAAcz1I,EAAGi2I,GAAKR,GACtBt5F,GAAYn8C,EAAGm8C,SAASA,EAAUjzD,KAAMyI,GACjCzI,KAAKq6I,IAAMvjI,EAMxB,EAkBIy2I,GAAe,SAAsBt2E,EAAUrwC,EAAMkvG,EAAOxsH,EAAO7gB,EAAQmsI,GAC7E,IAAItuG,EAAQxvB,EAAI02I,EAAUliJ,EAE1B,GAAIgpI,GAASr9D,KAAwL,KAA1K3wC,EAAS,IAAIguG,GAASr9D,IAAa5uD,KAAK5f,EAAQ69B,EAAOw5G,QAAUl5G,EAAKqwC,GAnBpF,SAAsBrwC,EAAMtd,EAAO7gB,EAAQmsI,EAASkB,GAGjE,GAFA7D,GAAYrrG,KAAUA,EAAO6mH,GAAmB7mH,EAAMkvG,EAAOxsH,EAAO7gB,EAAQmsI,KAEvExC,GAAUxrG,IAASA,EAAK51B,OAAS41B,EAAKuzD,UAAYw4C,GAAS/rG,IAAS4rG,GAAc5rG,GACrF,OAAOorG,GAAUprG,GAAQ6mH,GAAmB7mH,EAAMkvG,EAAOxsH,EAAO7gB,EAAQmsI,GAAWhuG,EAGrF,IACIvzB,EADA0+D,EAAO,CAAC,EAGZ,IAAK1+D,KAAKuzB,EACRmrC,EAAK1+D,GAAKo6I,GAAmB7mH,EAAKvzB,GAAIyiI,EAAOxsH,EAAO7gB,EAAQmsI,GAG9D,OAAO7iE,CACT,CAI+G27E,CAAa9mH,EAAKqwC,GAAW3tD,EAAO7gB,EAAQmsI,EAASkB,GAAQA,EAAOxsH,EAAOsrH,KACtLkB,EAAMuE,IAAMvjI,EAAK,IAAIspI,GAAUtK,EAAMuE,IAAK5xI,EAAQwuE,EAAU,EAAG,EAAG3wC,EAAOysB,OAAQzsB,EAAQ,EAAGA,EAAO2xE,UAE/F69B,IAAU5E,IAKZ,IAJAsc,EAAW1X,EAAM0Q,UAAU1Q,EAAM+U,SAASvwI,QAAQ7R,IAElD6C,EAAIg7B,EAAOk5G,OAAOt8I,OAEXoI,KACLkiJ,EAASlnH,EAAOk5G,OAAOl0I,IAAMwL,EAKnC,OAAOwvB,CACT,EAII8zG,GAAa,SAASA,EAAWtE,EAAOn1H,EAAM83H,GAChD,IAmBIkV,EACAriJ,EACA+H,EACAyD,EACArO,EACAmlJ,EACAC,EACA9Y,EACAzuG,EACAknH,EACAlkI,EACAwkI,EACAC,EA/BAnnH,EAAOkvG,EAAMlvG,KACb4zC,EAAO5zC,EAAK4zC,KACZshE,EAAUl1G,EAAKk1G,QACf9D,EAAkBpxG,EAAKoxG,gBACvB3iB,EAAOzuF,EAAKyuF,KACZq0B,EAAW9iH,EAAK8iH,SAChBsE,EAAiBpnH,EAAKonH,eACtB/O,EAAgBr4G,EAAKq4G,cACrBpD,EAAej1G,EAAKi1G,aACpB+I,EAAWh+G,EAAKg+G,SAChB7vH,EAAY6R,EAAK7R,UACjBkjH,EAAarxG,EAAKqxG,WAClB8C,EAAMjF,EAAM6B,KACZsW,EAAcnY,EAAMI,SACpBtB,EAAUkB,EAAM+U,SAChBhzG,EAASi+F,EAAMj+F,OACfq2G,EAAcr2G,GAA0B,WAAhBA,EAAOnuC,KAAoBmuC,EAAOjR,KAAKguG,QAAUA,EACzEuZ,EAAqC,SAArBrY,EAAMsY,aAA0B3d,GAChDua,EAAKlV,EAAMuD,SA2Bf,GAbA2R,KAAQj2H,IAAcylD,KAAUA,EAAO,QACvCs7D,EAAMgP,MAAQ/H,GAAWviE,EAAMg3D,GAAUh3D,MACzCs7D,EAAMiP,OAASH,EAAWpH,GAAYT,IAAwB,IAAb6H,EAAoBpqE,EAAOoqE,EAAUpT,GAAUh3D,OAAS,EAErGoqE,GAAY9O,EAAM+O,QAAU/O,EAAMuC,UAEpCuM,EAAW9O,EAAMiP,OACjBjP,EAAMiP,OAASjP,EAAMgP,MACrBhP,EAAMgP,MAAQF,GAGhB9O,EAAMuY,OAASrD,KAAQpkH,EAAKi1G,cAEvBmP,GAAMj2H,IAAc6R,EAAK0hH,QAAS,CAgBrC,GAbAwF,GADA/Y,EAAUH,EAAQ,GAAKM,GAAUN,EAAQ,IAAIG,QAAU,IAC9BnuG,EAAKmuG,EAAQ/oI,MAEtC2hJ,EAAYnX,GAAe5vG,EAAMutG,IAE7B8Z,IACFA,EAAYzU,OAAS,GAAKyU,EAAYl7D,SAAS,GAE/CpyE,EAAO,GAAKk7H,GAAgB7D,IAAoBC,EAAagW,EAAYl7F,QAAQ,GAAG,GAAQk7F,EAAYlW,OAAO8D,GAAgBd,EAAM9G,GAAsBH,IAG3Jma,EAAYlY,MAAQ,GAGlB+F,GAsBF,GArBAzE,GAAkBvB,EAAMI,SAAW6F,GAAMlsC,IAAI+kC,EAASyB,GAAa,CACjE3sI,KAAM,UACN+nI,WAAW,EACX55F,OAAQA,EACRmgG,iBAAiB,EACjB3iB,MAAO44B,GAAe5b,GAAYhd,GAClCymB,QAAS,KACT9nC,MAAO,EACP01C,SAAUA,EACVsE,eAAgBA,EAChB/O,cAAeA,EACfqJ,QAAS,GACRxM,KAGHhG,EAAMI,SAASW,IAAM,EAErBf,EAAMI,SAAS8Q,KAAOlR,EAEtBn1H,EAAO,IAAM+vH,KAAesH,IAAoBC,IAAenC,EAAMI,SAAS6B,OAAO9D,IAEjF+D,GACE+C,GAAOp6H,GAAQ,GAAK83H,GAAS,EAG/B,YADA93H,IAASm1H,EAAM0D,OAAS74H,SAIvB,GAAIk7H,GAAgBd,IAEpBkT,EAyBH,GAxBAttI,IAASq3H,GAAkB,GAE3B3kI,EAAIgjI,GAAa,CACf5E,WAAW,EACX/nI,KAAM,cAEN2rH,KAAM2iB,IAAoBiW,GAAe5b,GAAYhd,GACrD2iB,gBAAiBA,EAEjBsQ,QAAS,EACTzwG,OAAQA,GAEP81G,GACHG,IAAgBz6I,EAAE0hI,EAAQ/oI,MAAQ8hJ,GAElCzW,GAAkBvB,EAAMI,SAAW6F,GAAMlsC,IAAI+kC,EAASvhI,IAEtDyiI,EAAMI,SAASW,IAAM,EAErBf,EAAMI,SAAS8Q,KAAOlR,EAEtBn1H,EAAO,IAAM+vH,GAAaoF,EAAMI,SAAS6B,OAAO9D,IAAuB6B,EAAMI,SAASnjF,QAAQ,GAAG,IACjG+iF,EAAM0D,OAAS74H,EAEVq3H,GAGE,IAAKr3H,EACV,YAHAy5H,EAAWtE,EAAMI,SAAUvE,GAAUA,IAW3C,IAHAmE,EAAMuE,IAAMvE,EAAMwY,SAAW,EAC7Bj5B,EAAO0lB,GAAO1I,GAAYhd,IAASA,IAAS0lB,EAEvCzvI,EAAI,EAAGA,EAAIspI,EAAQ1xI,OAAQoI,IAAK,CAkBnC,GAhBAuiJ,GADAplJ,EAASmsI,EAAQtpI,IACDwpI,OAASH,GAASC,GAAStpI,GAAGwpI,MAC9CgB,EAAM0Q,UAAUl7I,GAAKkiJ,EAAW,CAAC,EACjCnZ,GAAYwZ,EAAOnlJ,KAAO0rI,GAAYlxI,QAAU2yI,KAEhDvsH,EAAQ4kI,IAAgBtZ,EAAUtpI,EAAI4iJ,EAAY5zI,QAAQ7R,GAEtDssI,IAA0G,KAA9FzuG,EAAS,IAAIyuG,GAAW1sH,KAAK5f,EAAQqlJ,GAAeH,EAAW7X,EAAOxsH,EAAO4kI,KAC3FpY,EAAMuE,IAAMvjI,EAAK,IAAIspI,GAAUtK,EAAMuE,IAAK5xI,EAAQ69B,EAAOr8B,KAAM,EAAG,EAAGq8B,EAAOysB,OAAQzsB,EAAQ,EAAGA,EAAO2xE,UAEtG3xE,EAAOk5G,OAAOr9I,SAAQ,SAAU8H,GAC9BujJ,EAASvjJ,GAAQ6M,CACnB,IAEAwvB,EAAO2xE,WAAa21C,EAAc,KAG/B7Y,GAAW+Y,EACd,IAAKz6I,KAAKs6I,EACJrZ,GAASjhI,KAAOizB,EAASinH,GAAal6I,EAAGs6I,EAAW7X,EAAOxsH,EAAO7gB,EAAQylJ,IAC5E5nH,EAAO2xE,WAAa21C,EAAc,GAElCJ,EAASn6I,GAAKyD,EAAK6oI,GAAc9zI,KAAKiqI,EAAOrtI,EAAQ4K,EAAG,MAAOs6I,EAAUt6I,GAAIiW,EAAO4kI,EAAa,EAAGtnH,EAAK0lH,cAK/GxW,EAAMyY,KAAOzY,EAAMyY,IAAIjjJ,IAAMwqI,EAAM9B,KAAKvrI,EAAQqtI,EAAMyY,IAAIjjJ,IAEtD6iJ,GAAiBrY,EAAMuE,MACzBqQ,GAAoB5U,EAEpBlF,GAAgBwZ,aAAa3hJ,EAAQ+kJ,EAAU1X,EAAMiR,WAAWpmI,IAGhEotI,GAAejY,EAAMj+F,OACrB6yG,GAAoB,GAGtB5U,EAAMuE,KAAOhlB,IAASgf,GAAYwZ,EAAOnlJ,IAAM,EACjD,CAEAklJ,GAAeY,GAA0B1Y,GACzCA,EAAM2Y,SAAW3Y,EAAM2Y,QAAQ3Y,EACjC,CAEAA,EAAMyR,UAAYmC,EAClB5T,EAAMG,WAAaH,EAAMyY,KAAOzY,EAAMuE,OAAS0T,EAE/Ch5H,GAAapU,GAAQ,GAAKqqI,EAAGj4F,OAAO2+E,IAAS,GAAM,EACrD,EAoFAgd,GAAiB,SAAwB1iJ,EAAM0C,EAAKigJ,EAAUC,GAC5D,IACIv7I,EACA2F,EAFAwhE,EAAO9rE,EAAI8rE,MAAQo0E,GAAY,eAInC,GAAIjc,GAASjkI,GACXsK,EAAI21I,EAAS3iJ,KAAU2iJ,EAAS3iJ,GAAQ,IAExC0C,EAAIvM,SAAQ,SAAUoH,EAAO+B,GAC3B,OAAO0N,EAAEpM,KAAK,CACZ2G,EAAGjI,GAAKoD,EAAIxL,OAAS,GAAK,IAC1B8P,EAAGzJ,EACHhJ,EAAGi6E,GAEP,SAEA,IAAKnnE,KAAK3E,EACRsK,EAAI21I,EAASt7I,KAAOs7I,EAASt7I,GAAK,IAC5B,SAANA,GAAgB2F,EAAEpM,KAAK,CACrB2G,EAAG8gF,WAAWroF,GACdgH,EAAGtE,EAAI2E,GACP9S,EAAGi6E,GAIX,EACIizE,GAAqB,SAA4BlkJ,EAAOusI,EAAOxqI,EAAG7C,EAAQmsI,GAC5E,OAAO3C,GAAY1oI,GAASA,EAAMsC,KAAKiqI,EAAOxqI,EAAG7C,EAAQmsI,GAAW5C,GAAUzoI,KAAWA,EAAM+Q,QAAQ,WAAa2jI,GAAe10I,GAASA,CAC9I,EACIslJ,GAAqBna,GAAiB,4DACtCoa,GAAsB,CAAC,EAE3BzZ,GAAawZ,GAAqB,mDAAmD,SAAU5kJ,GAC7F,OAAO6kJ,GAAoB7kJ,GAAQ,CACrC,IAQO,IAAI8xI,GAAqB,SAAUgT,GAGxC,SAAShT,EAAMnH,EAAShuG,EAAM31B,EAAU+9I,GACtC,IAAIC,EAEgB,iBAATroH,IACT31B,EAAS4P,SAAW+lB,EACpBA,EAAO31B,EACPA,EAAW,MAIb,IAYI+5I,EACA1/I,EACAymE,EACAtwC,EACApuB,EACA67I,EACAC,EACAC,EAnBAC,GADJJ,EAASF,EAAYljJ,KAAK7L,KAAMgvJ,EAAcpoH,EAAO8vG,GAAiB9vG,KAAU5mC,MACvD4mC,KACrB/lB,EAAWwuI,EAAYxuI,SACvBmzF,EAAQq7C,EAAYr7C,MACpBgkC,EAAkBqX,EAAYrX,gBAC9BsQ,EAAU+G,EAAY/G,QACtB7W,EAAY4d,EAAY5d,UACxB18G,EAAYs6H,EAAYt6H,UACxBq3D,EAAWijE,EAAYjjE,SACvB+yD,EAAgBkQ,EAAYlQ,cAC5ByF,EAAWyK,EAAYzK,SACvB/sG,EAASjR,EAAKiR,QAAU+4F,GACxB+Z,GAAiBhY,GAASiC,IAAYpC,GAAcoC,GAAW1C,GAAU0C,EAAQ,IAAM,WAAYhuG,GAAQ,CAACguG,GAAWO,GAAQP,GAcnI,GALAqa,EAAOpE,SAAWF,EAAcznJ,OAASyxI,GAASgW,GAAiBjX,GAAM,eAAiBkB,EAAU,qCAAsCxD,GAAQG,iBAAmB,GACrK0d,EAAOzI,UAAY,GAEnByI,EAAOb,WAAa3c,EAEhB18G,GAAauzH,GAAW/V,GAAgB1xH,IAAa0xH,GAAgBv+B,GAAQ,CAY/E,GAXAptE,EAAOqoH,EAAOroH,MACdokH,EAAKiE,EAAO5V,SAAW,IAAI6B,GAAS,CAClCxxI,KAAM,SACN0iF,SAAUA,GAAY,CAAC,EACvBwoD,QAAS/8F,GAA0B,WAAhBA,EAAOnuC,KAAoBmuC,EAAOjR,KAAKguG,QAAU+V,KAGnE3W,OACHgX,EAAGnzG,OAASmzG,EAAGnU,IAAM1G,GAAuB8e,GAC5CjE,EAAGpT,OAAS,EAER0Q,GAAW/V,GAAgB1xH,IAAa0xH,GAAgBv+B,GAAQ,CAIlE,GAHAvyE,EAAIkpH,EAAcznJ,OAClBisJ,EAAc7G,GAAWxL,GAAWwL,GAEhClW,GAAUkW,GAEZ,IAAKj1I,KAAKi1I,GACHuG,GAAmBv0I,QAAQjH,KAC9B+7I,IAAuBA,EAAqB,CAAC,GAC7CA,EAAmB/7I,GAAKi1I,EAAQj1I,IAKtC,IAAK/H,EAAI,EAAGA,EAAIm2B,EAAGn2B,KACjBymE,EAAOykE,GAAe5vG,EAAMkoH,KACvBxG,QAAU,EACf1D,IAAa7yE,EAAK6yE,SAAWA,GAC7BwK,GAAsB7b,GAAOxhE,EAAMq9E,GACnCF,EAAYvE,EAAcr/I,GAE1BymE,EAAKlxD,UAAY4sI,GAAmB5sI,EAAUsvH,GAAuB8e,GAAS3jJ,EAAG4jJ,EAAWvE,GAC5F54E,EAAKiiC,QAAUy5C,GAAmBz5C,EAAOm8B,GAAuB8e,GAAS3jJ,EAAG4jJ,EAAWvE,IAAkB,GAAKsE,EAAOrV,QAEhH0O,GAAiB,IAAN7mH,GAAWswC,EAAKiiC,QAE9Bi7C,EAAOrV,OAAS5lC,EAAQjiC,EAAKiiC,MAC7Bi7C,EAAOrX,QAAU5jC,EACjBjiC,EAAKiiC,MAAQ,GAGfg3C,EAAG51H,GAAG85H,EAAWn9E,EAAMo9E,EAAcA,EAAY7jJ,EAAG4jJ,EAAWvE,GAAiB,GAChFK,EAAGlG,MAAQV,GAAS2B,KAGtBiF,EAAGnqI,WAAaA,EAAWmzF,EAAQ,EAAIi7C,EAAO5V,SAAW,CAC3D,MAAO,GAAItkH,EAAW,CACpB2hH,GAAiBL,GAAa2U,EAAGpkH,KAAKwlD,SAAU,CAC9C5R,KAAM,UAGRwwE,EAAGlG,MAAQ/H,GAAWhoH,EAAUylD,MAAQ5zC,EAAK4zC,MAAQ,QACrD,IACIxhE,EACA2gB,EACA3mB,EAHA2N,EAAO,EAKX,GAAIgyH,GAAS59G,GACXA,EAAU5yB,SAAQ,SAAUo4I,GAC1B,OAAOyQ,EAAG51H,GAAGu1H,EAAepQ,EAAO,IACrC,IACAyQ,EAAGnqI,eACE,CAGL,IAAKxN,KAFL0+D,EAAO,CAAC,EAEEh9C,EACF,SAAN1hB,GAAsB,aAANA,GAAoBq7I,GAAer7I,EAAG0hB,EAAU1hB,GAAI0+D,EAAMh9C,EAAU65H,UAGtF,IAAKv7I,KAAK0+D,EAMR,IALA/4D,EAAI+4D,EAAK1+D,GAAG27E,MAAK,SAAUh2E,EAAG7F,GAC5B,OAAO6F,EAAEzF,EAAIJ,EAAEI,CACjB,IACAoN,EAAO,EAEFrV,EAAI,EAAGA,EAAI0N,EAAE9V,OAAQoI,KAExB0H,EAAI,CACFwnE,MAFF7gD,EAAK3gB,EAAE1N,IAEI/K,EACTsgB,UAAW8Y,EAAGpmB,GAAKjI,EAAI0N,EAAE1N,EAAI,GAAGiI,EAAI,IAAM,IAAMsN,IAEhDxN,GAAKsmB,EAAG3mB,EACVg4I,EAAG51H,GAAGu1H,EAAe33I,EAAG2N,GACxBA,GAAQ3N,EAAE6N,SAIdmqI,EAAGnqI,WAAaA,GAAYmqI,EAAG51H,GAAG,CAAC,EAAG,CACpCvU,SAAUA,EAAWmqI,EAAGnqI,YAE5B,CACF,CAEAA,GAAYouI,EAAOpuI,SAASA,EAAWmqI,EAAGnqI,WAC5C,MACEouI,EAAO5V,SAAW,EAwBpB,OArBkB,IAAd5H,GAAuBhB,KACzBia,GAAoBva,GAAuB8e,GAE3Cre,GAAgBwZ,aAAaO,GAE7BD,GAAoB,GAGtBjR,GAAe5hG,EAAQs4F,GAAuB8e,GAASh+I,GAEvD21B,EAAKugH,UAAY8H,EAAOpzH,UACxB+K,EAAKojF,QAAUilC,EAAOjlC,QAAO,IAEzBguB,IAAoBn3H,IAAakU,GAAak6H,EAAOrX,SAAWrC,GAAc19F,EAAOshG,QAAU9G,GAAY2F,IAAoBE,GAAsB/H,GAAuB8e,KAA4B,WAAhBp3G,EAAOnuC,QACjMulJ,EAAO1W,QAAS,KAEhB0W,EAAOl8F,OAAOzjD,KAAKO,IAAI,GAAImkG,IAAU,IAIvCmrC,GAAiBlF,GAAe9J,GAAuB8e,GAAS9P,GACzD8P,CACT,CA/JA5e,GAAe0L,EAAOgT,GAiKtB,IAAIO,EAAUvT,EAAMrwI,UA8TpB,OA5TA4jJ,EAAQv8F,OAAS,SAAgBnhD,EAAW8hF,EAAgBghC,GAC1D,IAKI/zG,EACA7J,EACA29B,EACAsuC,EACAgmE,EACArE,EACAr7B,EACAgwB,EACAuL,EAbA/jB,EAAW7gI,KAAKm5I,MAChB6P,EAAOhpJ,KAAK84I,MACZiC,EAAM/6I,KAAK23I,KACX4X,EAAa39I,EAAY,EACzB6mI,EAAQ7mI,EAAYo3I,EAAOrX,KAAa4d,EAAavG,EAAOp3I,EAAY+/H,GAAW,EAAI//H,EAW3F,GAAKmpI,GAEE,GAAItC,IAAUz4I,KAAKu4I,SAAW3mI,GAAa8iH,IAAU10H,KAAKi2I,UAAYj2I,KAAKu4I,QAAUv4I,KAAKk2I,UAAYl2I,KAAKw5I,OAAS,IAAM+V,EAAY,CAK3I,GAHA5uI,EAAO83H,EACPY,EAAWr5I,KAAKq5I,SAEZr5I,KAAKq4I,QAAS,CAIhB,GAFAt1D,EAAgBg4D,EAAM/6I,KAAKw4I,QAEvBx4I,KAAKq4I,SAAW,GAAKkX,EACvB,OAAOvvJ,KAAK4R,UAA0B,IAAhBmxE,EAAsBnxE,EAAW8hF,EAAgBghC,GA6BzE,GA1BA/zG,EAAO40H,GAAckD,EAAQ11D,GAEzB01D,IAAUuQ,GAEZv0G,EAAYz0C,KAAKq4I,QACjB13H,EAAOo6H,KAEPtmG,KAAegkG,EAAQ11D,KAENtuC,IAAcgkG,EAAQ11D,IACrCpiE,EAAOo6H,EACPtmG,KAGF9zB,EAAOo6H,IAAQp6H,EAAOo6H,KAGxB2J,EAAS1kJ,KAAK6kJ,OAAqB,EAAZpwG,KAGrBmwG,EAAW5kJ,KAAK+kJ,OAChBpkI,EAAOo6H,EAAMp6H,GAGfooI,EAAgBzQ,GAAgBt4I,KAAKu4I,OAAQx1D,GAEzCpiE,IAASkgH,IAAanM,GAAS10H,KAAKi2I,SAGtC,OADAj2I,KAAKu4I,OAASE,EACPz4I,KAGLy0C,IAAcs0G,IAChB1P,GAAYr5I,KAAK+kJ,QAAUN,GAAmBpL,EAAUqL,IAEpD1kJ,KAAK4mC,KAAKwiH,eAAkB1E,GAAW1kJ,KAAK06I,QAC9C16I,KAAK06I,MAAQhmB,EAAQ,EAErB10H,KAAK+yD,OAAOwiF,GAAcxyD,EAAgBtuC,IAAY,GAAM4yG,aAAa3M,MAAQ,GAGvF,CAEA,IAAK16I,KAAKi2I,SAAU,CAClB,GAAIkE,GAAkBn6I,KAAMuvJ,EAAa39I,EAAY+O,EAAM+zG,EAAOhhC,EAAgB+kD,GAGhF,OAFAz4I,KAAKu4I,OAAS,EAEPv4I,KAGT,GAAI6gI,IAAa7gI,KAAKm5I,MAEpB,OAAOn5I,KAGT,GAAI+6I,IAAQ/6I,KAAK23I,KAEf,OAAO33I,KAAK+yD,OAAOnhD,EAAW8hF,EAAgBghC,EAElD,CAiBA,GAfA10H,KAAKu4I,OAASE,EACdz4I,KAAKm5I,MAAQx4H,GAER3gB,KAAKw3I,MAAQx3I,KAAKm4I,MACrBn4I,KAAKw3I,KAAO,EAEZx3I,KAAK+1I,MAAQ,GAGf/1I,KAAKqpH,MAAQA,GAASu7B,GAAY5kJ,KAAK8kJ,OAAOnkI,EAAOo6H,GAEjD/6I,KAAKquJ,QACPruJ,KAAKqpH,MAAQA,EAAQ,EAAIA,GAGvB1oG,IAASkgH,IAAantC,IAAmBj/C,IAC3CoqG,GAAU7+I,KAAM,WAEZA,KAAKu4I,SAAWE,GAElB,OAAOz4I,KAMX,IAFA8W,EAAK9W,KAAKq6I,IAEHvjI,GACLA,EAAG7D,EAAEo2G,EAAOvyG,EAAGrD,GACfqD,EAAKA,EAAGqgI,MAGVkC,GAAYA,EAAStmF,OAAOnhD,EAAY,EAAIA,GAAa+O,GAAQ+jI,GAAS,KAAYrL,EAAS1B,KAAO0B,EAASyL,MAAMnkI,EAAO3gB,KAAK23I,MAAOjkD,EAAgBghC,IAAU10H,KAAKk2I,WAAal2I,KAAKw5I,OAAS5nI,GAE9L5R,KAAKunJ,YAAc7zD,IACrB67D,GAAczX,GAAe93I,KAAM4R,EAAW8hF,EAAgBghC,GAE9DmqB,GAAU7+I,KAAM,aAGlBA,KAAKq4I,SAAW5jG,IAAcs0G,GAAiB/oJ,KAAK4mC,KAAKyiH,WAAa31D,GAAkB1zF,KAAK63C,QAAUgnG,GAAU7+I,KAAM,YAElHy4I,IAAUz4I,KAAK84I,OAAUL,GAAUz4I,KAAKu4I,SAAWE,IACtD8W,IAAevvJ,KAAKunJ,WAAazP,GAAe93I,KAAM4R,EAAW,GAAM,IACtEA,IAAcmpI,KAAStC,IAAUz4I,KAAK84I,OAAS94I,KAAKm4I,IAAM,IAAMM,GAASz4I,KAAKm4I,IAAM,IAAMd,GAAkBr3I,KAAM,GAE9G0zF,GAAoB67D,IAAe1uB,KAAc4X,GAAS5X,GAAY6jB,KAEzE7F,GAAU7+I,KAAMy4I,IAAUuQ,EAAO,aAAe,qBAAqB,GAErEhpJ,KAAK4nJ,SAAWnP,EAAQuQ,GAAQhpJ,KAAK65I,YAAc,IAAM75I,KAAK4nJ,SAGpE,OAv8F2B,SAAkC9R,EAAOlkI,EAAW8hF,EAAgBghC,GACjG,IAKI59G,EACA29B,EACAs0G,EAPAyG,EAAY1Z,EAAMzsB,MAClBA,EAAQz3G,EAAY,IAAMA,KAAekkI,EAAM8B,QAAU4C,GAA6B1E,KAAaA,EAAMG,WAAY8D,GAAmBjE,MAAYA,EAAMqC,IAAM,GAAKrC,EAAMe,IAAIsB,IAAM,KAAO4B,GAAmBjE,IAAU,EAAI,EAEjOsQ,EAActQ,EAAM0C,QAChBC,EAAQ,EAkBZ,GAbI2N,GAAetQ,EAAMuC,UAEvBI,EAAQc,GAAO,EAAGzD,EAAMgD,MAAOlnI,GAC/B6iC,EAAY6jG,GAAgBG,EAAO2N,GACnCtQ,EAAM+O,OAAqB,EAAZpwG,IAAkB40E,EAAQ,EAAIA,GAEzC50E,IAAc6jG,GAAgBxC,EAAMyC,OAAQ6N,KAE9CoJ,EAAY,EAAInmC,EAChBysB,EAAMlvG,KAAKwiH,eAAiBtT,EAAMG,UAAYH,EAAMuR,eAIpDh+B,IAAUmmC,GAAa9e,IAAchc,GAASohB,EAAM0D,SAAW7H,KAAa//H,GAAakkI,EAAM0D,OAAQ,CACzG,IAAK1D,EAAMG,UAAYkE,GAAkBrE,EAAOlkI,EAAW8iH,EAAOhhC,EAAgB+kD,GAEhF,OAcF,IAXAsQ,EAAgBjT,EAAM0D,OACtB1D,EAAM0D,OAAS5nI,IAAc8hF,EAAiBi+C,GAAW,GAEzDj+C,IAAmBA,EAAiB9hF,IAAcm3I,GAElDjT,EAAMzsB,MAAQA,EACdysB,EAAMuY,QAAUhlC,EAAQ,EAAIA,GAC5BysB,EAAMqD,MAAQ,EACdrD,EAAMyC,OAASE,EACf3hI,EAAKg/H,EAAMuE,IAEJvjI,GACLA,EAAG7D,EAAEo2G,EAAOvyG,EAAGrD,GACfqD,EAAKA,EAAGqgI,MAGVvlI,EAAY,GAAKkmI,GAAehC,EAAOlkI,EAAW8hF,GAAgB,GAClEoiD,EAAMyR,YAAc7zD,GAAkBmrD,GAAU/I,EAAO,YACvD2C,GAAS3C,EAAMuC,UAAY3kD,GAAkBoiD,EAAMj+F,QAAUgnG,GAAU/I,EAAO,aAEzElkI,GAAakkI,EAAMgD,OAASlnI,EAAY,IAAMkkI,EAAMzsB,QAAUA,IACjEA,GAASguB,GAAkBvB,EAAO,GAE7BpiD,GAAmBg9C,KACtBmO,GAAU/I,EAAOzsB,EAAQ,aAAe,qBAAqB,GAE7DysB,EAAM8R,OAAS9R,EAAM8R,SAG3B,MAAY9R,EAAM0D,SAChB1D,EAAM0D,OAAS5nI,EAEnB,CA2wFM69I,CAAyBzvJ,KAAM4R,EAAW8hF,EAAgBghC,GAiI5D,OAAO10H,IACT,EAEAsvJ,EAAQ1a,QAAU,WAChB,OAAO50I,KAAK6qJ,QACd,EAEAyE,EAAQjI,WAAa,SAAoB0E,GAMvC,QAJEA,IAAS/rJ,KAAK4mC,KAAKi1G,gBAAkB77I,KAAKk2I,SAAW,GACvDl2I,KAAKq6I,IAAMr6I,KAAKuuJ,IAAMvuJ,KAAKunJ,UAAYvnJ,KAAK+1I,MAAQ/1I,KAAKqpH,MAAQ,EACjErpH,KAAKwmJ,UAAY,GACjBxmJ,KAAKq5I,UAAYr5I,KAAKq5I,SAASgO,WAAW0E,GACnCgD,EAAYrjJ,UAAU27I,WAAWx7I,KAAK7L,KAAM+rJ,EACrD,EAEAuD,EAAQI,QAAU,SAAiBz4E,EAAU1tE,EAAOhF,EAAOorJ,GACzDxe,IAAiBmJ,GAAQqJ,OACzB3jJ,KAAKm4I,KAAOn4I,KAAKqN,OACjB,IAAIsT,EAAOrR,KAAKS,IAAI/P,KAAK23I,MAAO33I,KAAK62I,IAAIsC,MAAQn5I,KAAK43I,QAAU53I,KAAKm4I,KAarE,OAXAn4I,KAAKi2I,UAAYmE,GAAWp6I,KAAM2gB,GAxcd,SAA2Bm1H,EAAO7+D,EAAU1tE,EAAOhF,EAAOorJ,EAAiBtmC,EAAO1oG,GACxG,IACI7J,EACA84I,EACAC,EACAvkJ,EAJAwkJ,GAAWha,EAAMuE,KAAOvE,EAAMwY,WAAaxY,EAAMwY,SAAW,CAAC,IAAIr3E,GAMrE,IAAK64E,EAKH,IAJAA,EAAUha,EAAMwY,SAASr3E,GAAY,GACrC44E,EAAS/Z,EAAM0Q,UACfl7I,EAAIwqI,EAAM+U,SAAS3nJ,OAEZoI,KAAK,CAGV,IAFAwL,EAAK+4I,EAAOvkJ,GAAG2rE,KAELngE,EAAGrD,GAAKqD,EAAGrD,EAAE4mI,IAIrB,IAFAvjI,EAAKA,EAAGrD,EAAE4mI,IAEHvjI,GAAMA,EAAGzD,IAAM4jE,GAAYngE,EAAGi2I,KAAO91E,GAE1CngE,EAAKA,EAAGqgI,MAIZ,IAAKrgI,EAUH,OAPAq1I,GAAsB,EAEtBrW,EAAMlvG,KAAKqwC,GAAY,MAEvBmjE,GAAWtE,EAAOn1H,GAElBwrI,GAAsB,EACf,EAGT2D,EAAQljJ,KAAKkK,EACf,CAKF,IAFAxL,EAAIwkJ,EAAQ5sJ,OAELoI,MAELwL,GADA84I,EAASE,EAAQxkJ,IACL+uI,KAAOuV,GAEhB78I,GAAKxO,GAAmB,IAAVA,GAAiBorJ,EAA0B74I,EAAG/D,GAAKxO,GAAS,GAAK8kH,EAAQvyG,EAAGyC,EAAzChV,EACpDuS,EAAGyC,EAAIhQ,EAAQuN,EAAG/D,EAClB68I,EAAOrvJ,IAAMqvJ,EAAOrvJ,EAAI+0I,GAAO/rI,GAAS0yI,GAAQ2T,EAAOrvJ,IAEvDqvJ,EAAOz8I,IAAMy8I,EAAOz8I,EAAI2D,EAAG/D,EAAIkpI,GAAQ2T,EAAOz8I,GAElD,CA6ZQ48I,CAAkB/vJ,KAAMi3E,EAAU1tE,EAAOhF,EAAOorJ,EAV5C3vJ,KAAK8kJ,MAAMnkI,EAAO3gB,KAAK23I,MAU6Ch3H,GACnE3gB,KAAK0vJ,QAAQz4E,EAAU1tE,EAAOhF,EAAOorJ,IAI9C1W,GAAej5I,KAAM,GAErBA,KAAK63C,QAAUi/F,GAAmB92I,KAAK62I,IAAK72I,KAAM,SAAU,QAASA,KAAK62I,IAAIiD,MAAQ,SAAW,GAC1F95I,KAAK+yD,OAAO,GACrB,EAEAu8F,EAAQtb,KAAO,SAAcY,EAAShuG,GAKpC,QAJa,IAATA,IACFA,EAAO,SAGJguG,GAAahuG,GAAiB,QAATA,GAExB,OADA5mC,KAAK+1I,MAAQ/1I,KAAKq6I,IAAM,EACjBr6I,KAAK63C,OAASqnG,GAAWl/I,MAAQA,KAG1C,GAAIA,KAAKq5I,SAAU,CACjB,IAAI2P,EAAOhpJ,KAAKq5I,SAASR,gBAKzB,OAJA74I,KAAKq5I,SAAS+Q,aAAaxV,EAAShuG,EAAM8jH,KAA0D,IAArCA,GAAkB9jH,KAAK6qG,WAAoBkT,QAAUzF,GAAWl/I,MAE/HA,KAAK63C,QAAUmxG,IAAShpJ,KAAKq5I,SAASR,iBAAmB+B,GAAa56I,KAAMA,KAAK23I,KAAO33I,KAAKq5I,SAASP,MAAQkQ,EAAM,EAAG,GAEhHhpJ,IACT,CAEA,IAIIgwJ,EACAC,EACAC,EACAxvH,EACArtB,EACAyD,EACAxL,EAVAq/I,EAAgB3qJ,KAAK6qJ,SACrBsF,EAAiBvb,EAAUO,GAAQP,GAAW+V,EAC9CyF,EAAkBpwJ,KAAKwmJ,UACvB6J,EAAUrwJ,KAAKq6I,IASnB,KAAMzzG,GAAiB,QAATA,IAxuGC,SAAsB7D,EAAIhB,GAI3C,IAHA,IAAIz2B,EAAIy3B,EAAG7/B,OACPkxF,EAAQ9oF,IAAMy2B,EAAG7+B,OAEdkxF,GAAS9oF,KAAOy3B,EAAGz3B,KAAOy2B,EAAGz2B,KAEpC,OAAOA,EAAI,CACb,CAiuGqCglJ,CAAa3F,EAAewF,GAE3D,MADS,QAATvpH,IAAmB5mC,KAAKq6I,IAAM,GACvB6E,GAAWl/I,MAsBpB,IAnBAgwJ,EAAmBhwJ,KAAKuuJ,IAAMvuJ,KAAKuuJ,KAAO,GAE7B,QAAT3nH,IAEEorG,GAAUprG,KACZvzB,EAAI,CAAC,EAELgiI,GAAazuG,GAAM,SAAU38B,GAC3B,OAAOoJ,EAAEpJ,GAAQ,CACnB,IAEA28B,EAAOvzB,GAGTuzB,EAzdkB,SAA2BguG,EAAShuG,GAC1D,IAEImrC,EACA1+D,EACA/H,EACA40I,EALAnL,EAAUH,EAAQ,GAAKM,GAAUN,EAAQ,IAAIG,QAAU,EACvDwb,EAAkBxb,GAAWA,EAAQmL,QAMzC,IAAKqQ,EACH,OAAO3pH,EAKT,IAAKvzB,KAFL0+D,EAAOwhE,GAAO,CAAC,EAAG3sG,GAER2pH,EACR,GAAIl9I,KAAK0+D,EAIP,IAFAzmE,GADA40I,EAAUqQ,EAAgBl9I,GAAG4E,MAAM,MACvB/U,OAELoI,KACLymE,EAAKmuE,EAAQ50I,IAAMymE,EAAK1+D,GAK9B,OAAO0+D,CACT,CA+bay+E,CAAkB7F,EAAe/jH,IAG1Ct7B,EAAIq/I,EAAcznJ,OAEXoI,KACL,IAAK6kJ,EAAe71I,QAAQqwI,EAAcr/I,IAYxC,IAAK+H,KAXL48I,EAAYG,EAAgB9kJ,GAEf,QAATs7B,GACFopH,EAAiB1kJ,GAAKs7B,EACtBlG,EAAQuvH,EACRC,EAAoB,CAAC,IAErBA,EAAoBF,EAAiB1kJ,GAAK0kJ,EAAiB1kJ,IAAM,CAAC,EAClEo1B,EAAQkG,GAGAlG,GACR5pB,EAAKm5I,GAAaA,EAAU58I,MAGpB,SAAUyD,EAAGrD,IAAuB,IAAjBqD,EAAGrD,EAAEugI,KAAK3gI,IACjC+jI,GAAsBp3I,KAAM8W,EAAI,cAG3Bm5I,EAAU58I,IAGO,QAAtB68I,IACFA,EAAkB78I,GAAK,GAQ/B,OAFArT,KAAKi2I,WAAaj2I,KAAKq6I,KAAOgW,GAAWnR,GAAWl/I,MAE7CA,IACT,EAEA+7I,EAAM3mH,GAAK,SAAYw/G,EAAShuG,GAC9B,OAAO,IAAIm1G,EAAMnH,EAAShuG,EAAMgoD,UAAU,GAC5C,EAEAmtD,EAAMt0C,KAAO,SAAcmtC,EAAShuG,GAClC,OAAO60G,GAAiB,EAAG7sD,UAC7B,EAEAmtD,EAAMqM,YAAc,SAAqBp0C,EAAOt5F,EAAU5V,EAAQwuI,GAChE,OAAO,IAAIyI,EAAMrhI,EAAU,EAAG,CAC5Bs9H,iBAAiB,EACjB3iB,MAAM,EACNoc,WAAW,EACXz9B,MAAOA,EACPz4F,WAAYb,EACZ+1I,kBAAmB/1I,EACnB+tI,iBAAkB3jJ,EAClB4rJ,wBAAyB5rJ,EACzBm6I,cAAe3L,GAEnB,EAEAyI,EAAMkM,OAAS,SAAgBrT,EAASsT,EAAUC,GAChD,OAAO1M,GAAiB,EAAG7sD,UAC7B,EAEAmtD,EAAMlsC,IAAM,SAAa+kC,EAAShuG,GAGhC,OAFAA,EAAK/lB,SAAW,EAChB+lB,EAAKw/G,cAAgBx/G,EAAKwhG,OAAS,GAC5B,IAAI2T,EAAMnH,EAAShuG,EAC5B,EAEAm1G,EAAMqO,aAAe,SAAsBxV,EAASl0G,EAAO8pH,GACzD,OAAO5Z,GAAgBwZ,aAAaxV,EAASl0G,EAAO8pH,EACtD,EAEOzO,CACT,CAjegC,CAie9BoK,IAEF9P,GAAa0F,GAAMrwI,UAAW,CAC5Bm/I,SAAU,GACV9U,MAAO,EACPG,SAAU,EACVqY,IAAK,EACLE,QAAS,IAWXpZ,GAAa,uCAAuC,SAAUprI,GAC5D8xI,GAAM9xI,GAAQ,WACZ,IAAI+gJ,EAAK,IAAI9P,GACTp2I,EAASq3I,GAAOtwI,KAAK+iF,UAAW,GAGpC,OADA9pF,EAAOgb,OAAgB,kBAAT7V,EAA2B,EAAI,EAAG,EAAG,GAC5C+gJ,EAAG/gJ,GAAMuE,MAAMw8I,EAAIlmJ,EAC5B,CACF,IAQA,IAAIsoJ,GAAe,SAAsB3kJ,EAAQwuE,EAAU1tE,GACzD,OAAOd,EAAOwuE,GAAY1tE,CAC5B,EACI4jJ,GAAc,SAAqB1kJ,EAAQwuE,EAAU1tE,GACvD,OAAOd,EAAOwuE,GAAU1tE,EAC1B,EACI2jJ,GAAuB,SAA8BzkJ,EAAQwuE,EAAU1tE,EAAOG,GAChF,OAAOjB,EAAOwuE,GAAUvtE,EAAKqjJ,GAAIxjJ,EACnC,EACIonJ,GAAmB,SAA0BloJ,EAAQwuE,EAAU1tE,GACjE,OAAOd,EAAO0B,aAAa8sE,EAAU1tE,EACvC,EACI02I,GAAa,SAAoBx3I,EAAQwuE,GAC3C,OAAOg7D,GAAYxpI,EAAOwuE,IAAak2E,GAAchb,GAAa1pI,EAAOwuE,KAAcxuE,EAAO0B,aAAewmJ,GAAmBvD,EAClI,EACIE,GAAe,SAAsBjkC,EAAO3/G,GAC9C,OAAOA,EAAKmmG,IAAInmG,EAAK6J,EAAG7J,EAAK2J,EAAG/D,KAAKuB,MAAkC,KAA3BnH,EAAKqJ,EAAIrJ,EAAK6P,EAAI8vG,IAAoB,IAAS3/G,EAC7F,EACI2jJ,GAAiB,SAAwBhkC,EAAO3/G,GAClD,OAAOA,EAAKmmG,IAAInmG,EAAK6J,EAAG7J,EAAK2J,KAAM3J,EAAKqJ,EAAIrJ,EAAK6P,EAAI8vG,GAAQ3/G,EAC/D,EACImjJ,GAAuB,SAA8BxjC,EAAO3/G,GAC9D,IAAIoN,EAAKpN,EAAK2wI,IACVtnI,EAAI,GAER,IAAKs2G,GAAS3/G,EAAKyJ,EAEjBJ,EAAIrJ,EAAKyJ,OACJ,GAAc,IAAVk2G,GAAe3/G,EAAKnJ,EAE7BwS,EAAIrJ,EAAKnJ,MACJ,CACL,KAAOuW,GACL/D,EAAI+D,EAAGzD,GAAKyD,EAAG4qB,EAAI5qB,EAAG4qB,EAAE5qB,EAAG/D,EAAI+D,EAAGyC,EAAI8vG,GAAS/5G,KAAKuB,MAA8B,KAAvBiG,EAAG/D,EAAI+D,EAAGyC,EAAI8vG,IAAkB,KAASt2G,EAEpG+D,EAAKA,EAAGqgI,MAGVpkI,GAAKrJ,EAAK6P,CACZ,CAEA7P,EAAKmmG,IAAInmG,EAAK6J,EAAG7J,EAAK2J,EAAGN,EAAGrJ,EAC9B,EACIg2I,GAAoB,SAA2Br2B,EAAO3/G,GAGxD,IAFA,IAAIoN,EAAKpN,EAAK2wI,IAEPvjI,GACLA,EAAG7D,EAAEo2G,EAAOvyG,EAAGrD,GACfqD,EAAKA,EAAGqgI,KAEZ,EACI0I,GAAqB,SAA4B5sF,EAAU6iF,EAAOrtI,EAAQwuE,GAI5E,IAHA,IACI3vE,EADAwP,EAAK9W,KAAKq6I,IAGPvjI,GACLxP,EAAOwP,EAAGqgI,MACVrgI,EAAGzD,IAAM4jE,GAAYngE,EAAGm8C,SAASA,EAAU6iF,EAAOrtI,GAClDqO,EAAKxP,CAET,EACIs4I,GAAoB,SAA2B3oE,GAKjD,IAJA,IACI25E,EACAtpJ,EAFAwP,EAAK9W,KAAKq6I,IAIPvjI,GACLxP,EAAOwP,EAAGqgI,MAENrgI,EAAGzD,IAAM4jE,IAAangE,EAAG+B,IAAM/B,EAAG+B,KAAOo+D,EAC3CmgE,GAAsBp3I,KAAM8W,EAAI,OACtBA,EAAG+5I,MACbD,EAA2B,GAG7B95I,EAAKxP,EAGP,OAAQspJ,CACV,EACIE,GAAsB,SAA6BroJ,EAAQwuE,EAAU1tE,EAAOG,GAC9EA,EAAKqnJ,KAAKtoJ,EAAQwuE,EAAUvtE,EAAKg4B,EAAE71B,KAAKnC,EAAKosI,MAAOvsI,EAAOG,EAAKsnJ,IAAKtnJ,EACvE,EACI8kJ,GAA4B,SAAmC32G,GAOjE,IANA,IACIvwC,EACAyoB,EACAtF,EACAwmI,EAJAn6I,EAAK+gC,EAAOwiG,IAMTvjI,GAAI,CAIT,IAHAxP,EAAOwP,EAAGqgI,MACVpnH,EAAMtF,EAECsF,GAAOA,EAAIy6B,GAAK1zC,EAAG0zC,IACxBz6B,EAAMA,EAAIonH,OAGRrgI,EAAGogI,MAAQnnH,EAAMA,EAAImnH,MAAQ+Z,GAC/Bn6I,EAAGogI,MAAMC,MAAQrgI,EAEjB2T,EAAQ3T,GAGNA,EAAGqgI,MAAQpnH,GACbA,EAAImnH,MAAQpgI,EAEZm6I,EAAOn6I,EAGTA,EAAKxP,CACP,CAEAuwC,EAAOwiG,IAAM5vH,CACf,EAGW21H,GAAyB,WAClC,SAASA,EAAU94I,EAAMmB,EAAQuD,EAAMzH,EAAO+wF,EAAQ3yE,EAAUjZ,EAAM2iJ,EAAQp0C,GAC5Ej4G,KAAKuT,EAAI9K,EACTzI,KAAK+S,EAAIxO,EACTvE,KAAKuZ,EAAI+7E,EACTt1F,KAAKqT,EAAIrH,EACThM,KAAKiT,EAAI0P,GAAY2qI,GACrBttJ,KAAKyT,EAAI/J,GAAQ1J,KACjBA,KAAK6vG,IAAMw8C,GAAUe,GACrBptJ,KAAKwqD,GAAKytD,GAAY,EACtBj4G,KAAKm3I,MAAQ7vI,EAETA,IACFA,EAAK4vI,MAAQl3I,KAEjB,CAcA,OAZcogJ,EAAU10I,UAEhBunD,SAAW,SAAkB8mC,EAAM+7C,EAAOrtI,GAChDzI,KAAK+wJ,KAAO/wJ,KAAK+wJ,MAAQ/wJ,KAAK6vG,IAE9B7vG,KAAK6vG,IAAMihD,GACX9wJ,KAAK0hC,EAAIq4D,EACT/5F,KAAKgxJ,GAAKvoJ,EAEVzI,KAAK81I,MAAQA,CACf,EAEOsK,CACT,CA9BoC,GAgCpC/K,GAAaX,GAAiB,uOAAuO,SAAUzqI,GAC7Q,OAAOkqI,GAAelqI,GAAQ,CAChC,IAEAkpI,GAAS+d,SAAW/d,GAASge,UAAYpV,GACzC5I,GAASie,aAAeje,GAASke,YAAcnW,GAC/CtK,GAAkB,IAAIsK,GAAS,CAC7B6M,cAAc,EACd37D,SAAUolD,GACV+F,oBAAoB,EACpB7uI,GAAI,OACJwwI,mBAAmB,IAErB9H,GAAQkb,aAAehK,GAEvB,IAAIgP,GAAS,GACTt/D,GAAa,CAAC,EACdu/D,GAAc,GACdC,GAAiB,EACjBC,GAAa,EACbC,GAAY,SAAmBxnJ,GACjC,OAAQ8nF,GAAW9nF,IAASqnJ,IAAa5rJ,KAAI,SAAUyN,GACrD,OAAOA,GACT,GACF,EACIu+I,GAAiB,WACnB,IAAIhxI,EAAOtd,KAAK81C,MACZu5D,EAAU,GAEV/xF,EAAO6wI,GAAiB,IAC1BE,GAAU,kBAEVJ,GAAOnvJ,SAAQ,SAAUoX,GACvB,IAEI66E,EACA/gF,EACAu+I,EACAC,EALAC,EAAUv4I,EAAEu4I,QACZC,EAAax4I,EAAEw4I,WAMnB,IAAK1+I,KAAKy+I,GACR19D,EAAQy8C,GAAKthC,WAAWuiD,EAAQz+I,IAAIq/F,WAE1Bk/C,EAAW,GAEjBx9D,IAAU29D,EAAW1+I,KACvB0+I,EAAW1+I,GAAK+gF,EAChBy9D,EAAU,GAIVA,IACFt4I,EAAEw+H,SACF6Z,GAAYl/C,EAAQ9lG,KAAK2M,GAE7B,IAEAm4I,GAAU,oBAEVh/C,EAAQvwG,SAAQ,SAAUoX,GACxB,OAAOA,EAAEy4I,QAAQz4I,EACnB,IACAi4I,GAAiB7wI,EAEjB+wI,GAAU,cAEd,EAEIO,GAAuB,WACzB,SAASA,EAAQl4D,EAAMu5C,GACrBtzI,KAAKs6F,SAAWg5C,GAASh5C,GAASg5C,GAClCtzI,KAAK0J,KAAO,GACZ1J,KAAKkyJ,GAAK,GAEVlyJ,KAAKmyJ,YAAa,EAClBnyJ,KAAK0I,GAAK+oJ,KAEV13D,GAAQ/5F,KAAKsB,IAAIy4F,EACnB,CAEA,IAAIq4D,EAAUH,EAAQvmJ,UA8GtB,OA5GA0mJ,EAAQ9wJ,IAAM,SAAa2I,EAAM8vF,EAAMu5C,GAMjCrB,GAAYhoI,KACdqpI,EAAQv5C,EACRA,EAAO9vF,EACPA,EAAOgoI,IAGT,IAAI70C,EAAOp9F,KACPoT,EAAI,WACN,IAEI6+D,EAFA5qE,EAAOspI,GACP0hB,EAAej1D,EAAK9C,SAUxB,OARAjzF,GAAQA,IAAS+1F,GAAQ/1F,EAAKqC,KAAKkD,KAAKwwF,GACxCk2C,IAAUl2C,EAAK9C,SAAWA,GAASg5C,IACnC3C,GAAWvzC,EACXnrB,EAAS8nB,EAAKvrF,MAAM4uF,EAAMxO,WAC1BqjD,GAAYhgE,IAAWmrB,EAAK80D,GAAGtlJ,KAAKqlE,GACpC0+D,GAAWtpI,EACX+1F,EAAK9C,SAAW+3D,EAChBj1D,EAAK+0D,YAAa,EACXlgF,CACT,EAGA,OADAmrB,EAAK6zD,KAAO79I,EACLnJ,IAASgoI,GAAc7+H,EAAEgqF,GAAQnzF,EAAOmzF,EAAKnzF,GAAQmJ,EAAIA,CAClE,EAEAg/I,EAAQE,OAAS,SAAgBv4D,GAC/B,IAAI1yF,EAAOspI,GACXA,GAAW,KACX52C,EAAK/5F,MACL2wI,GAAWtpI,CACb,EAEA+qJ,EAAQG,UAAY,WAClB,IAAIv5I,EAAI,GAIR,OAHAhZ,KAAK0J,KAAKvH,SAAQ,SAAU5B,GAC1B,OAAOA,aAAa0xJ,EAAUj5I,EAAEpM,KAAK4B,MAAMwK,EAAGzY,EAAEgyJ,aAAehyJ,aAAaw7I,MAAWx7I,EAAEs3C,QAA4B,WAAlBt3C,EAAEs3C,OAAOnuC,OAAsBsP,EAAEpM,KAAKrM,EAC3I,IACOyY,CACT,EAEAo5I,EAAQpG,MAAQ,WACdhsJ,KAAKkyJ,GAAGhvJ,OAASlD,KAAK0J,KAAKxG,OAAS,CACtC,EAEAkvJ,EAAQpe,KAAO,SAAc+D,EAAQxoC,GACnC,IAAIijD,EAASxyJ,KAEb,GAAI+3I,EAAQ,CACV,IAAIgS,EAAS/pJ,KAAKuyJ,YAClBvyJ,KAAK0J,KAAKvH,SAAQ,SAAUoR,GAEX,WAAXA,EAAE7J,OACJ6J,EAAEwkI,SACFxkI,EAAEu2I,aAAY,GAAM,GAAM,GAAO3nJ,SAAQ,SAAU2zI,GACjD,OAAOiU,EAAOjqI,OAAOiqI,EAAOzvI,QAAQw7H,GAAQ,EAC9C,IAEJ,IAEAiU,EAAOpkJ,KAAI,SAAU4N,GACnB,MAAO,CACLL,EAAGK,EAAEwzI,WAAW,GAChBxzI,EAAGA,EAEP,IAAGy7E,MAAK,SAAUh2E,EAAG7F,GACnB,OAAOA,EAAED,EAAI8F,EAAE9F,IAAM+wI,GACvB,IAAG9hJ,SAAQ,SAAUyV,GACnB,OAAOA,EAAErE,EAAEwkI,OAAOA,EACpB,IAEA/3I,KAAK0J,KAAKvH,SAAQ,SAAU5B,GAC1B,QAASA,aAAaw7I,KAAUx7I,EAAEw3I,QAAUx3I,EAAEw3I,OAAOA,EACvD,IAEA/3I,KAAKkyJ,GAAG/vJ,SAAQ,SAAUiR,GACxB,OAAOA,EAAE2kI,EAAQya,EACnB,IAEAxyJ,KAAKmyJ,YAAa,CACpB,MACEnyJ,KAAK0J,KAAKvH,SAAQ,SAAU5B,GAC1B,OAAOA,EAAEyzI,MAAQzzI,EAAEyzI,MACrB,IAKF,GAFAh0I,KAAKgsJ,QAEDz8C,EAGF,IAFA,IAAIjkG,EAAIgmJ,GAAOpuJ,OAERoI,KAELgmJ,GAAOhmJ,GAAG5C,KAAO1I,KAAK0I,IAAM4oJ,GAAOxxI,OAAOxU,EAAG,EAGnD,EAEA8mJ,EAAQra,OAAS,SAAgB17E,GAC/Br8D,KAAKg0I,KAAK33E,GAAU,CAAC,EACvB,EAEO41F,CACT,CA3H2B,GA6HvBQ,GAA0B,WAC5B,SAASA,EAAWnf,GAClBtzI,KAAK0yJ,SAAW,GAChB1yJ,KAAKszI,MAAQA,CACf,CAEA,IAAIqf,EAAUF,EAAW/mJ,UAsDzB,OApDAinJ,EAAQrxJ,IAAM,SAAaywJ,EAAYh4D,EAAMu5C,GAC3ClB,GAAU2f,KAAgBA,EAAa,CACrCr/C,QAASq/C,IAEX,IAEIa,EACAv/I,EACA0lE,EAJA9U,EAAU,IAAIguF,GAAQ,EAAG3e,GAAStzI,KAAKszI,OACvCuf,EAAO5uF,EAAQ8tF,WAAa,CAAC,EAUjC,IAAK1+I,KANLs9H,KAAa1sE,EAAQq2B,WAAar2B,EAAQq2B,SAAWq2C,GAASr2C,UAE9Dt6F,KAAK0yJ,SAAS9lJ,KAAKq3D,GACnB81B,EAAO91B,EAAQ3iE,IAAI,UAAWy4F,GAC9B91B,EAAQ6tF,QAAUC,EAERA,EACE,QAAN1+I,EACF0lE,EAAS,GAET65E,EAAK/hB,GAAKthC,WAAWwiD,EAAW1+I,OAG9Bi+I,GAAOh3I,QAAQ2pD,GAAW,GAAKqtF,GAAO1kJ,KAAKq3D,IAC1C4uF,EAAKx/I,GAAKu/I,EAAGlgD,WAAa35B,EAAS,GACpC65E,EAAGE,YAAcF,EAAGE,YAAYnB,IAAkBiB,EAAGtyJ,iBAAiB,SAAUqxJ,KAMtF,OADA54E,GAAUghB,EAAK91B,GACRjkE,IACT,EAWA2yJ,EAAQ5a,OAAS,SAAgB17E,GAC/Br8D,KAAKg0I,KAAK33E,GAAU,CAAC,EACvB,EAEAs2F,EAAQ3e,KAAO,SAAc+D,GAC3B/3I,KAAK0yJ,SAASvwJ,SAAQ,SAAUoX,GAC9B,OAAOA,EAAEy6H,KAAK+D,GAAQ,EACxB,GACF,EAEO0a,CACT,CA7D8B,GAqE1B3d,GAAQ,CACVie,eAAgB,WACd,IAAK,IAAIC,EAAQpkE,UAAU1rF,OAAQwc,EAAO,IAAInR,MAAMykJ,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFvzI,EAAKuzI,GAASrkE,UAAUqkE,GAG1BvzI,EAAKvd,SAAQ,SAAUk6D,GACrB,OAAOgjF,GAAchjF,EACvB,GACF,EACAg9E,SAAU,SAAkBzyG,GAC1B,OAAO,IAAIs0G,GAASt0G,EACtB,EACA6jH,YAAa,SAAqB7V,EAAS4V,GACzC,OAAO5Z,GAAgB6Z,YAAY7V,EAAS4V,EAC9C,EACA0I,YAAa,SAAqBzqJ,EAAQwuE,EAAUk8E,EAAMC,GACxDphB,GAAUvpI,KAAYA,EAAS0sI,GAAQ1sI,GAAQ,IAE/C,IAAIkzF,EAASu5C,GAAUzsI,GAAU,CAAC,GAAGkkB,IACjC0mI,EAASF,EAAO/c,GAAeD,GAGnC,MADS,WAATgd,IAAsBA,EAAO,IACrB1qJ,EAAmBwuE,EAEvBo8E,GAAQ/e,GAASr9D,IAAaq9D,GAASr9D,GAAUtqD,KAAOgvE,GAAQlzF,EAAQwuE,EAAUk8E,EAAMC,IAFtD,SAAUn8E,EAAUk8E,EAAMC,GAC9D,OAAOC,GAAQ/e,GAASr9D,IAAaq9D,GAASr9D,GAAUtqD,KAAOgvE,GAAQlzF,EAAQwuE,EAAUk8E,EAAMC,GACjG,EAFiB3qJ,CAGnB,EACA6qJ,YAAa,SAAqB7qJ,EAAQwuE,EAAUk8E,GAGlD,IAFA1qJ,EAAS0sI,GAAQ1sI,IAENvF,OAAS,EAAG,CACrB,IAAIqwJ,EAAU9qJ,EAAO9C,KAAI,SAAU4N,GACjC,OAAOigI,GAAK8f,YAAY//I,EAAG0jE,EAAUk8E,EACvC,IACI1xH,EAAI8xH,EAAQrwJ,OAChB,OAAO,SAAUqG,GAGf,IAFA,IAAI+B,EAAIm2B,EAEDn2B,KACLioJ,EAAQjoJ,GAAG/B,EAEf,CACF,CAEAd,EAASA,EAAO,IAAM,CAAC,EAEvB,IAAI82I,EAASjL,GAASr9D,GAClB38B,EAAQ46F,GAAUzsI,GAClB4K,EAAIinC,EAAMy6F,UAAYz6F,EAAMy6F,QAAQmL,SAAW,CAAC,GAAGjpE,IAAaA,EAEpEo1E,EAAS9M,EAAS,SAAUh2I,GAC1B,IAAI8J,EAAI,IAAIksI,EACZrO,GAAYmJ,IAAM,EAClBhnI,EAAEgV,KAAK5f,EAAQ0qJ,EAAO5pJ,EAAQ4pJ,EAAO5pJ,EAAO2nI,GAAa,EAAG,CAACzoI,IAC7D4K,EAAE0/C,OAAO,EAAG1/C,GACZ69H,GAAYmJ,KAAOqF,GAAkB,EAAGxO,GAC1C,EAAI52F,EAAMu1D,IAAIpnG,EAAQ4K,GAEtB,OAAOksI,EAAS8M,EAAS,SAAU9iJ,GACjC,OAAO8iJ,EAAO5jJ,EAAQ4K,EAAG8/I,EAAO5pJ,EAAQ4pJ,EAAO5pJ,EAAO+wC,EAAO,EAC/D,CACF,EACAk5G,QAAS,SAAiB/qJ,EAAQwuE,EAAUrwC,GAC1C,IAAI6sH,EAEA3d,EAAQtC,GAAKp+G,GAAG3sB,EAAQ8qI,KAAQkgB,EAAU,CAAC,GAAWx8E,GAAY,QAASw8E,EAAQzpC,QAAS,EAAMypC,GAAU7sH,GAAQ,CAAC,IACrHmzD,EAAO,SAAcxwF,EAAOhF,EAAOorJ,GACrC,OAAO7Z,EAAM4Z,QAAQz4E,EAAU1tE,EAAOhF,EAAOorJ,EAC/C,EAGA,OADA51D,EAAK+7C,MAAQA,EACN/7C,CACT,EACA25D,WAAY,SAAoB9e,GAC9B,OAAOhE,GAAgB6Z,YAAY7V,GAAS,GAAM1xI,OAAS,CAC7D,EACAkpF,SAAU,SAAkB7iF,GAE1B,OADAA,GAASA,EAAMixE,OAASjxE,EAAMixE,KAAOuiE,GAAWxzI,EAAMixE,KAAMg3D,GAAUh3D,OAC/D+7D,GAAW/E,GAAWjoI,GAAS,CAAC,EACzC,EACA8yD,OAAQ,SAAgB9yD,GACtB,OAAOgtI,GAAWnF,GAAS7nI,GAAS,CAAC,EACvC,EACAs3D,eAAgB,SAAwB8yF,GACtC,IAAI1pJ,EAAO0pJ,EAAM1pJ,KACb09C,EAASgsG,EAAMhsG,OACfsrB,EAAU0gF,EAAM1gF,QAChBmZ,EAAWunE,EAAMvnE,SACjBwnE,EAAiBD,EAAMC,gBAC1B3gF,GAAW,IAAIh7D,MAAM,KAAK9V,SAAQ,SAAU0xJ,GAC3C,OAAOA,IAAevf,GAASuf,KAAgB1gB,GAAS0gB,IAAengB,GAAMzpI,EAAO,oBAAsB4pJ,EAAa,WACzH,IAEAtf,GAAStqI,GAAQ,SAAU2qI,EAAShuG,EAAMokH,GACxC,OAAOrjG,EAAOwtF,GAAQP,GAAUyB,GAAazvG,GAAQ,CAAC,EAAGwlD,GAAW4+D,EACtE,EAEI4I,IACF1Y,GAASxvI,UAAUzB,GAAQ,SAAU2qI,EAAShuG,EAAM31B,GAClD,OAAOjR,KAAKsB,IAAIizI,GAAStqI,GAAM2qI,EAASxC,GAAUxrG,GAAQA,GAAQ31B,EAAW21B,IAAS,CAAC,EAAG5mC,MAAOiR,EACnG,EAEJ,EACA6iJ,aAAc,SAAsB7pJ,EAAMuwE,GACxC4pE,GAASn6I,GAAQ8yI,GAAWviE,EAC9B,EACAu5E,UAAW,SAAmBv5E,EAAMwqE,GAClC,OAAOp2D,UAAU1rF,OAAS65I,GAAWviE,EAAMwqE,GAAeZ,EAC5D,EACA8F,QAAS,SAAiBxhJ,GACxB,OAAOkoI,GAAgBsZ,QAAQxhJ,EACjC,EACAsrJ,WAAY,SAAoBptH,EAAMqtH,QACvB,IAATrtH,IACFA,EAAO,CAAC,GAGV,IACIisE,EACAvrG,EAFA0jJ,EAAK,IAAI9P,GAASt0G,GAYtB,IATAokH,EAAG9R,kBAAoB7G,GAAYzrG,EAAKsyG,mBAExCtI,GAAgB3uI,OAAO+oJ,GAEvBA,EAAGnU,IAAM,EAETmU,EAAG7R,MAAQ6R,EAAGzS,OAAS3H,GAAgBuI,MACvCtmC,EAAQ+9B,GAAgB+T,OAEjB9xC,GACLvrG,EAAOurG,EAAMskC,OAET8c,IAA0BphD,EAAM8kC,MAAQ9kC,aAAiBkpC,IAASlpC,EAAMjsE,KAAKrrB,aAAes3F,EAAMg4C,SAAS,IAC7GpR,GAAeuR,EAAIn4C,EAAOA,EAAM+kC,OAAS/kC,EAAM+mC,QAGjD/mC,EAAQvrG,EAKV,OAFAmyI,GAAe7I,GAAiBoa,EAAI,GAE7BA,CACT,EACA/mF,QAAS,SAAiB81B,EAAMu5C,GAC9B,OAAOv5C,EAAO,IAAIk4D,GAAQl4D,EAAMu5C,GAAS3C,EAC3C,EACAphC,WAAY,SAAoB+jC,GAC9B,OAAO,IAAImf,GAAWnf,EACxB,EACA4gB,kBAAmB,WACjB,OAAO5C,GAAOnvJ,SAAQ,SAAUoX,GAC9B,IACI6gC,EACA/mC,EAFAw/I,EAAOt5I,EAAEw4I,WAIb,IAAK1+I,KAAKw/I,EACJA,EAAKx/I,KACPw/I,EAAKx/I,IAAK,EACV+mC,EAAQ,GAIZA,GAAS7gC,EAAEw+H,QACb,KAAM4Z,IACR,EACArxJ,iBAAkB,SAA0B4J,EAAMwQ,GAChD,IAAI1B,EAAIg5E,GAAW9nF,KAAU8nF,GAAW9nF,GAAQ,KAC/C8O,EAAEsB,QAAQI,IAAa1B,EAAEpM,KAAK8N,EACjC,EACAmF,oBAAqB,SAA6B3V,EAAMwQ,GACtD,IAAI1B,EAAIg5E,GAAW9nF,GACfoB,EAAI0N,GAAKA,EAAEsB,QAAQI,GACvBpP,GAAK,GAAK0N,EAAE8G,OAAOxU,EAAG,EACxB,EACA6oJ,MAAO,CACLC,KA51GO,SAASA,EAAKrkJ,EAAKF,EAAKtG,GAEjC,IAAI8qJ,EAAQxkJ,EAAME,EAClB,OAAO4iI,GAAS5iI,GAAOiuI,GAAWjuI,EAAKqkJ,EAAK,EAAGrkJ,EAAI7M,QAAS2M,GAAOmsI,GAAmBzyI,GAAO,SAAUA,GACrG,OAAQ8qJ,GAAS9qJ,EAAQwG,GAAOskJ,GAASA,EAAQtkJ,CACnD,GACF,EAu1GIukJ,SAt1GW,SAASA,EAASvkJ,EAAKF,EAAKtG,GACzC,IAAI8qJ,EAAQxkJ,EAAME,EACd4sH,EAAgB,EAAR03B,EACZ,OAAO1hB,GAAS5iI,GAAOiuI,GAAWjuI,EAAKukJ,EAAS,EAAGvkJ,EAAI7M,OAAS,GAAI2M,GAAOmsI,GAAmBzyI,GAAO,SAAUA,GAE7G,OAAOwG,IADPxG,GAASozH,GAASpzH,EAAQwG,GAAO4sH,GAASA,GAAS,GAC7B03B,EAAQ13B,EAAQpzH,EAAQA,EAChD,GACF,EAg1GIuzI,WAAYA,GACZ3sI,OAAQA,GACRosG,KAAMA,GACNzmC,UAz2GY,SAAmB/lE,EAAKF,EAAKtG,GAC3C,OAAO40I,GAASpuI,EAAKF,EAAK,EAAG,EAAGtG,EAClC,EAw2GI0yI,QAASA,GACT5mE,MApjHI,SAAetlE,EAAKF,EAAKtG,GAC/B,OAAOyyI,GAAmBzyI,GAAO,SAAUyJ,GACzC,OAAOumI,GAAOxpI,EAAKF,EAAKmD,EAC1B,GACF,EAijHI2uI,WAAYA,GACZxM,QAASA,GACT76C,SAAUA,GACV6jD,SAAUA,GACVoW,KAh4GO,WACT,IAAK,IAAIC,EAAO5lE,UAAU1rF,OAAQuxJ,EAAY,IAAIlmJ,MAAMimJ,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IACpFD,EAAUC,GAAQ9lE,UAAU8lE,GAG9B,OAAO,SAAUnrJ,GACf,OAAOkrJ,EAAUE,QAAO,SAAU3hJ,EAAGI,GACnC,OAAOA,EAAEJ,EACX,GAAGzJ,EACL,CACF,EAu3GIqrJ,QAt3GU,SAAiB76D,EAAMo5D,GACnC,OAAO,SAAU5pJ,GACf,OAAOwwF,EAAK1F,WAAW9qF,KAAW4pJ,GAAQlX,GAAQ1yI,GACpD,CACF,EAm3GI+7H,YAj0Gc,SAASA,EAAY/gI,EAAO+jB,EAAKyqE,EAAU8hE,GAC3D,IAAI96D,EAAOtyE,MAAMljB,EAAQ+jB,GAAO,EAAI,SAAUjV,GAC5C,OAAQ,EAAIA,GAAK9O,EAAQ8O,EAAIiV,CAC/B,EAEA,IAAKyxE,EAAM,CACT,IAEI1mF,EACA/H,EACAwpJ,EACArzH,EACAszH,EANAC,EAAWhjB,GAAUztI,GACrB0wJ,EAAS,CAAC,EASd,IAFa,IAAbliE,IAAsB8hE,EAAS,KAAO9hE,EAAW,MAE7CiiE,EACFzwJ,EAAQ,CACN8O,EAAG9O,GAEL+jB,EAAM,CACJjV,EAAGiV,QAEA,GAAIqqH,GAASpuI,KAAWouI,GAASrqH,GAAM,CAK5C,IAJAwsI,EAAgB,GAChBrzH,EAAIl9B,EAAMrB,OACV6xJ,EAAKtzH,EAAI,EAEJn2B,EAAI,EAAGA,EAAIm2B,EAAGn2B,IACjBwpJ,EAAcloJ,KAAK04H,EAAY/gI,EAAM+G,EAAI,GAAI/G,EAAM+G,KAGrDm2B,IAEAs4D,EAAO,SAAc1mF,GACnBA,GAAKouB,EACL,IAAIn2B,EAAIgE,KAAKS,IAAIglJ,IAAM1hJ,GACvB,OAAOyhJ,EAAcxpJ,GAAG+H,EAAI/H,EAC9B,EAEAynF,EAAWzqE,CACb,MAAYusI,IACVtwJ,EAAQgvI,GAAOZ,GAASpuI,GAAS,GAAK,CAAC,EAAGA,IAG5C,IAAKuwJ,EAAe,CAClB,IAAKzhJ,KAAKiV,EACRq3H,GAAc9zI,KAAKopJ,EAAQ1wJ,EAAO8O,EAAG,MAAOiV,EAAIjV,IAGlD0mF,EAAO,SAAc1mF,GACnB,OAAOqsI,GAAkBrsI,EAAG4hJ,KAAYD,EAAWzwJ,EAAM8O,EAAI9O,EAC/D,CACF,CACF,CAEA,OAAOy3I,GAAmBjpD,EAAUgH,EACtC,EAywGI8iD,QAASA,IAEXqY,QAAS7hB,GACTn1F,QAASq2F,GACT4gB,OAAQ7a,GACR4R,WAAYhR,GAASgR,WACrBj5E,QAASqhE,GACT8gB,eAAgBxkB,GAChBykB,KAAM,CACJjV,UAAWA,GACXkV,QAAS1hB,GACTmI,MAAOA,GACPb,SAAUA,GACViL,UAAWA,GACXoP,SAAUrgB,GACVkC,sBAAuBA,GACvBoe,UAAW,WACT,OAAO9kB,EACT,EACAzsE,QAAS,SAAiBwxF,GAOxB,OANIA,GAAS9kB,KACXA,GAASjnI,KAAKkD,KAAK6oJ,GAEnBA,EAAMzW,KAAOrO,IAGRA,EACT,EACA+kB,mBAAoB,SAA4BnsJ,GAC9C,OAAOknI,GAAsBlnI,CAC/B,IAIJ8rI,GAAa,+CAA+C,SAAUprI,GACpE,OAAO6qI,GAAM7qI,GAAQ8xI,GAAM9xI,EAC7B,IAEAqwI,GAAQh5I,IAAI45I,GAASgR,YAErBhb,GAAc4D,GAAM1/G,GAAG,CAAC,EAAG,CACzBvU,SAAU,IAGZ,IAAI80I,GAAsB,SAA6BrvH,EAAQt6B,GAG7D,IAFA,IAAI8K,EAAKwvB,EAAO+zG,IAETvjI,GAAMA,EAAGzD,IAAMrH,GAAQ8K,EAAG+B,KAAO7M,GAAQ8K,EAAGi2I,KAAO/gJ,GACxD8K,EAAKA,EAAGqgI,MAGV,OAAOrgI,CACT,EAwBI8+I,GAAuB,SAA8B3rJ,EAAMgpD,GAC7D,MAAO,CACLhpD,KAAMA,EACN61I,QAAS,EAETz3H,KAAM,SAAc5f,EAAQm+B,EAAMkvG,GAChCA,EAAM2Y,QAAU,SAAU3Y,GACxB,IAAI+f,EAAMxiJ,EAaV,GAXI2+H,GAAUprG,KACZivH,EAAO,CAAC,EAERxgB,GAAazuG,GAAM,SAAU38B,GAC3B,OAAO4rJ,EAAK5rJ,GAAQ,CACtB,IAGA28B,EAAOivH,GAGL5iG,EAAU,CAGZ,IAAK5/C,KAFLwiJ,EAAO,CAAC,EAEEjvH,EACRivH,EAAKxiJ,GAAK4/C,EAASrsB,EAAKvzB,IAG1BuzB,EAAOivH,CACT,EAnDY,SAAuB/f,EAAOtuG,GAChD,IACIn0B,EACA/H,EACAwL,EAHA89H,EAAUkB,EAAM+U,SAKpB,IAAKx3I,KAAKm0B,EAGR,IAFAl8B,EAAIspI,EAAQ1xI,OAELoI,MACLwL,EAAKg/H,EAAM0Q,UAAUl7I,GAAG+H,MAEbyD,EAAKA,EAAGrD,KACbqD,EAAGujI,MAELvjI,EAAK6+I,GAAoB7+I,EAAIzD,IAG/ByD,GAAMA,EAAGm8C,UAAYn8C,EAAGm8C,SAASzrB,EAAUn0B,GAAIyiI,EAAOlB,EAAQtpI,GAAI+H,GAI1E,CA+BQyiJ,CAAchgB,EAAOlvG,EACvB,CACF,EAEJ,EAGW4sG,GAAOsB,GAAMie,eAAe,CACrC9oJ,KAAM,OACNoe,KAAM,SAAc5f,EAAQm+B,EAAMkvG,EAAOxsH,EAAOsrH,GAC9C,IAAIvhI,EAAGyD,EAAI9D,EAGX,IAAKK,KAFLrT,KAAK81I,MAAQA,EAEHlvG,EACR5zB,EAAIvK,EAAO3H,aAAauS,IAAM,IAC9ByD,EAAK9W,KAAKsB,IAAImH,EAAQ,gBAAiBuK,GAAK,GAAK,GAAI4zB,EAAKvzB,GAAIiW,EAAOsrH,EAAS,EAAG,EAAGvhI,IACjFwF,GAAKxF,EACRyD,EAAG3D,EAAIH,EAEPhT,KAAKw/I,OAAO5yI,KAAKyG,EAErB,EACA0/C,OAAQ,SAAgBs2D,EAAO3/G,GAG7B,IAFA,IAAIoN,EAAKpN,EAAK2wI,IAEPvjI,GACL45H,GAAa55H,EAAG+4F,IAAI/4F,EAAGvD,EAAGuD,EAAGzD,EAAGyD,EAAG3D,EAAG2D,GAAMA,EAAG7D,EAAEo2G,EAAOvyG,EAAGrD,GAE3DqD,EAAKA,EAAGqgI,KAEZ,GACC,CACDltI,KAAM,WACNoe,KAAM,SAAc5f,EAAQc,GAG1B,IAFA,IAAI+B,EAAI/B,EAAMrG,OAEPoI,KACLtL,KAAKsB,IAAImH,EAAQ6C,EAAG7C,EAAO6C,IAAM,EAAG/B,EAAM+B,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAEjE,GACCsqJ,GAAqB,aAAcnY,IAAiBmY,GAAqB,aAAcA,GAAqB,OAAQr5C,MAAUu4B,GAEjIiH,GAAM50G,QAAU+zG,GAAS/zG,QAAUqsG,GAAKrsG,QAAU,SAClD6pG,GAAa,EACbsB,MAAmBqK,KACNyH,GAAS2R,OACT3R,GAAS4R,OACT5R,GAAS6R,OACT7R,GAAS8R,OACT9R,GAAS+R,OACT/R,GAASyB,OACXzB,GAASgS,KACRhS,GAASiS,MACTjS,GAASkS,MACTlS,GAASmS,MACRnS,GAASoS,OACRpS,GAASqS,QACZrS,GAASsS,KACFtS,GAAS4B,YACd5B,GAASuS,OACXvS,GAASwS,KACTxS,GAASyS,KACTzS,GAAS0S,KAjBpB,ICz0II,GACA,GACAC,GACAC,GACAC,GAEAC,GACA,GAoJAC,GAhJAC,GAAkB,CAAC,EACnBC,GAAW,IAAM/nJ,KAAKmB,GACtB6mJ,GAAWhoJ,KAAKmB,GAAK,IACrB8mJ,GAASjoJ,KAAK0oB,MAEdw/H,GAAW,WACXC,GAAiB,uCACjBC,GAAc,YACdC,GAAmB,CACrBC,UAAW,qBACXt2H,MAAO,gBACPu2H,MAAO,WAELC,GAAiB,SAAwBzuC,EAAO3/G,GAClD,OAAOA,EAAKmmG,IAAInmG,EAAK6J,EAAG7J,EAAK2J,EAAG/D,KAAKuB,MAAkC,KAA3BnH,EAAKqJ,EAAIrJ,EAAK6P,EAAI8vG,IAAkB,IAAQ3/G,EAAK6T,EAAG7T,EAClG,EACIquJ,GAAqB,SAA4B1uC,EAAO3/G,GAC1D,OAAOA,EAAKmmG,IAAInmG,EAAK6J,EAAG7J,EAAK2J,EAAa,IAAVg2G,EAAc3/G,EAAKnJ,EAAI+O,KAAKuB,MAAkC,KAA3BnH,EAAKqJ,EAAIrJ,EAAK6P,EAAI8vG,IAAkB,IAAQ3/G,EAAK6T,EAAG7T,EACzH,EACIsuJ,GAA8B,SAAqC3uC,EAAO3/G,GAC5E,OAAOA,EAAKmmG,IAAInmG,EAAK6J,EAAG7J,EAAK2J,EAAGg2G,EAAQ/5G,KAAKuB,MAAkC,KAA3BnH,EAAKqJ,EAAIrJ,EAAK6P,EAAI8vG,IAAkB,IAAQ3/G,EAAK6T,EAAI7T,EAAKyJ,EAAGzJ,EACnH,EAEAuuJ,GAAwB,SAA+B5uC,EAAO3/G,GAC5D,IAAIH,EAAQG,EAAKqJ,EAAIrJ,EAAK6P,EAAI8vG,EAC9B3/G,EAAKmmG,IAAInmG,EAAK6J,EAAG7J,EAAK2J,KAAM9J,GAASA,EAAQ,GAAK,GAAK,KAAOG,EAAK6T,EAAG7T,EACxE,EACIwuJ,GAA0B,SAAiC7uC,EAAO3/G,GACpE,OAAOA,EAAKmmG,IAAInmG,EAAK6J,EAAG7J,EAAK2J,EAAGg2G,EAAQ3/G,EAAKnJ,EAAImJ,EAAKyJ,EAAGzJ,EAC3D,EACIyuJ,GAAmC,SAA0C9uC,EAAO3/G,GACtF,OAAOA,EAAKmmG,IAAInmG,EAAK6J,EAAG7J,EAAK2J,EAAa,IAAVg2G,EAAc3/G,EAAKyJ,EAAIzJ,EAAKnJ,EAAGmJ,EACjE,EACI0uJ,GAAkB,SAAyB3vJ,EAAQwuE,EAAU1tE,GAC/D,OAAOd,EAAOuI,MAAMimE,GAAY1tE,CAClC,EACI8uJ,GAAiB,SAAwB5vJ,EAAQwuE,EAAU1tE,GAC7D,OAAOd,EAAOuI,MAAMskG,YAAYr+B,EAAU1tE,EAC5C,EACI+uJ,GAAmB,SAA0B7vJ,EAAQwuE,EAAU1tE,GACjE,OAAOd,EAAOqsI,MAAM79D,GAAY1tE,CAClC,EACIgvJ,GAAe,SAAsB9vJ,EAAQwuE,EAAU1tE,GACzD,OAAOd,EAAOqsI,MAAMniG,OAASlqC,EAAOqsI,MAAMliG,OAASrpC,CACrD,EACIivJ,GAAyB,SAAgC/vJ,EAAQwuE,EAAU1tE,EAAOG,EAAM2/G,GAC1F,IAAI/uE,EAAQ7xC,EAAOqsI,MACnBx6F,EAAM3H,OAAS2H,EAAM1H,OAASrpC,EAC9B+wC,EAAMgL,gBAAgB+jE,EAAO/uE,EAC/B,EACIm+G,GAA6B,SAAoChwJ,EAAQwuE,EAAU1tE,EAAOG,EAAM2/G,GAClG,IAAI/uE,EAAQ7xC,EAAOqsI,MACnBx6F,EAAM28B,GAAY1tE,EAClB+wC,EAAMgL,gBAAgB+jE,EAAO/uE,EAC/B,EACIo+G,GAAiB,YACjBC,GAAuBD,GAAiB,SACxCE,GAAa,SAASA,EAAW3hF,EAAU4hF,GAC7C,IAAI/Q,EAAQ9nJ,KAERyI,EAASzI,KAAKyI,OACduI,EAAQvI,EAAOuI,MAEnB,GAAIimE,KAAYmgF,IAAmBpmJ,EAAO,CAGxC,GAFAhR,KAAK84J,IAAM94J,KAAK84J,KAAO,CAAC,EAEP,cAAb7hF,EAMF,OAAO0gF,GAAiB71H,UAAU7pB,MAAM,KAAK9V,SAAQ,SAAUkR,GAC7D,OAAOulJ,EAAW/sJ,KAAKi8I,EAAOz0I,EAAGwlJ,EACnC,IAGF,KAVE5hF,EAAW0gF,GAAiB1gF,IAAaA,GAC/B38D,QAAQ,KAAO28D,EAASh/D,MAAM,KAAK9V,SAAQ,SAAU6W,GAC7D,OAAO8uI,EAAMgR,IAAI9/I,GAAKqhF,GAAK5xF,EAAQuQ,EACrC,IAAKhZ,KAAK84J,IAAI7hF,GAAYxuE,EAAOqsI,MAAMloH,EAAInkB,EAAOqsI,MAAM79D,GAAYojB,GAAK5xF,EAAQwuE,GAO/Ej3E,KAAK0gC,MAAMpmB,QAAQo+I,KAAmB,EACxC,OAGEjwJ,EAAOqsI,MAAMz0E,MACfrgE,KAAK+4J,KAAOtwJ,EAAO3H,aAAa,mBAChCd,KAAK0gC,MAAM9zB,KAAK+rJ,GAAsBE,EAAU,KAGlD5hF,EAAWyhF,EACb,EAEC1nJ,GAAS6nJ,IAAa74J,KAAK0gC,MAAM9zB,KAAKqqE,EAAU4hF,EAAU7nJ,EAAMimE,GACnE,EACI+hF,GAA+B,SAAsChoJ,GACnEA,EAAM2wB,YACR3wB,EAAM0rF,eAAe,aACrB1rF,EAAM0rF,eAAe,SACrB1rF,EAAM0rF,eAAe,UAEzB,EACIu8D,GAAe,WACjB,IAII3tJ,EACA+H,EALAqtB,EAAQ1gC,KAAK0gC,MACbj4B,EAASzI,KAAKyI,OACduI,EAAQvI,EAAOuI,MACfspC,EAAQ7xC,EAAOqsI,MAInB,IAAKxpI,EAAI,EAAGA,EAAIo1B,EAAMx9B,OAAQoI,GAAK,EAEjCo1B,EAAMp1B,EAAI,GAAK7C,EAAOi4B,EAAMp1B,IAAMo1B,EAAMp1B,EAAI,GAAKo1B,EAAMp1B,EAAI,GAAK0F,EAAM0vB,EAAMp1B,IAAMo1B,EAAMp1B,EAAI,GAAK0F,EAAM0rF,eAAyC,OAA1Bh8D,EAAMp1B,GAAGkZ,OAAO,EAAG,GAAckc,EAAMp1B,GAAKo1B,EAAMp1B,GAAG9C,QAAQgvJ,GAAU,OAAOxlH,eAGtM,GAAIhyC,KAAK84J,IAAK,CACZ,IAAKzlJ,KAAKrT,KAAK84J,IACbx+G,EAAMjnC,GAAKrT,KAAK84J,IAAIzlJ,GAGlBinC,EAAM+lB,MACR/lB,EAAMgL,kBACN78C,EAAO0B,aAAa,kBAAmBnK,KAAK+4J,MAAQ,MAGtDztJ,EAAI,OAEQA,EAAEyoI,SAAa/iI,EAAM0nJ,MAC/BM,GAA6BhoJ,GAE7BspC,EAAM84G,QAAU,EAEpB,CACF,EACI8F,GAAiB,SAAwBzwJ,EAAQs7C,GACnD,IAAIo1G,EAAQ,CACV1wJ,OAAQA,EACRi4B,MAAO,GACPq3G,OAAQkhB,GACR33F,KAAMs3F,IAOR,OALAnwJ,EAAOqsI,OAAStB,GAAK6hB,KAAKE,SAAS9sJ,GAEnCs7C,GAAcA,EAAW9rC,MAAM,KAAK9V,SAAQ,SAAUkR,GACpD,OAAO8lJ,EAAM73F,KAAKjuD,EACpB,IACO8lJ,CACT,EAEIC,GAAiB,SAAwBlvJ,EAAMmvJ,GACjD,IAAI94J,EAAI,GAAKuU,gBAAkB,GAAKA,iBAAiBukJ,GAAM,gCAAgC7wJ,QAAQ,SAAU,QAAS0B,GAAQ,GAAKgB,cAAchB,GAEjJ,OAAO3J,EAAEyQ,MAAQzQ,EAAI,GAAK2K,cAAchB,EAC1C,EACIovJ,GAAuB,SAASA,EAAqB7wJ,EAAQwuE,EAAUsiF,GACzE,IAAIC,EAAKnhE,iBAAiB5vF,GAC1B,OAAO+wJ,EAAGviF,IAAauiF,EAAGlqD,iBAAiBr4B,EAASzuE,QAAQgvJ,GAAU,OAAOxlH,gBAAkBwnH,EAAGlqD,iBAAiBr4B,KAAcsiF,GAAsBD,EAAqB7wJ,EAAQgxJ,GAAiBxiF,IAAaA,EAAU,IAAM,EACpO,EACIyiF,GAAY,qBAAqBzhJ,MAAM,KACvCwhJ,GAAmB,SAA0BxiF,EAAUlmE,EAAS4oJ,GAClE,IACI5mJ,GADIhC,GAAWkmJ,IACTjmJ,MACN1F,EAAI,EAER,GAAI2rE,KAAYlkE,IAAM4mJ,EACpB,OAAO1iF,EAKT,IAFAA,EAAWA,EAAS5iB,OAAO,GAAGukC,cAAgB3hB,EAASzyD,OAAO,GAEvDlZ,OAASouJ,GAAUpuJ,GAAK2rE,KAAYlkE,KAE3C,OAAOzH,EAAI,EAAI,MAAc,IAANA,EAAU,KAAOA,GAAK,EAAIouJ,GAAUpuJ,GAAK,IAAM2rE,CACxE,EACI2iF,GAAY,WA5KW,oBAAXh3J,QA6KSA,OAAO3B,WAC5B,GAAO2B,OACP,GAAO,GAAK3B,SACZ81J,GAAc,GAAKxgD,gBACnB0gD,GAAWmC,GAAe,QAAU,CAClCpoJ,MAAO,CAAC,GAEOooJ,GAAe,OAChCV,GAAiBe,GAAiBf,IAClCC,GAAuBD,GAAiB,SACxCzB,GAASjmJ,MAAM4yF,QAAU,2DAEzBuzD,KAAgBsC,GAAiB,eACjC,GAAajmB,GAAK6hB,KAAKG,UACvBwB,GAAiB,EAErB,EACI6C,GAAe,SAASA,EAAaC,GAEvC,IAII96F,EAJAqB,EAAM+4F,GAAe,MAAOp5J,KAAK+5J,iBAAmB/5J,KAAK+5J,gBAAgBj5J,aAAa,UAAY,8BAClGk5J,EAAYh6J,KAAKk3C,WACjB+iH,EAAaj6J,KAAK6tG,YAClBqsD,EAASl6J,KAAKgR,MAAM4yF,QAQxB,GALAmzD,GAAY3sJ,YAAYi2D,GAExBA,EAAIj2D,YAAYpK,MAChBA,KAAKgR,MAAME,QAAU,QAEjB4oJ,EACF,IACE96F,EAAOh/D,KAAK4d,UACZ5d,KAAKm6J,UAAYn6J,KAAK4d,QAEtB5d,KAAK4d,QAAUi8I,CACjB,CAAE,MAAOt5J,GAAI,MACJP,KAAKm6J,YACdn7F,EAAOh/D,KAAKm6J,aAcd,OAXIH,IACEC,EACFD,EAAUv6F,aAAaz/D,KAAMi6J,GAE7BD,EAAU5vJ,YAAYpK,OAI1B+2J,GAAYn7G,YAAYykB,GAExBrgE,KAAKgR,MAAM4yF,QAAUs2D,EACdl7F,CACT,EACIo7F,GAAyB,SAAgC3xJ,EAAQ4xJ,GAGnE,IAFA,IAAI/uJ,EAAI+uJ,EAAgBn3J,OAEjBoI,KACL,GAAI7C,EAAOunF,aAAaqqE,EAAgB/uJ,IACtC,OAAO7C,EAAO3H,aAAau5J,EAAgB/uJ,GAGjD,EACIgvJ,GAAW,SAAkB7xJ,GAC/B,IAAIktC,EAEJ,IACEA,EAASltC,EAAOmV,SAClB,CAAE,MAAOlc,GACPi0C,EAASkkH,GAAahuJ,KAAKpD,GAAQ,EACrC,CAIA,OAFAktC,IAAWA,EAAOt5B,OAASs5B,EAAOr5B,SAAW7T,EAAOmV,UAAYi8I,KAAiBlkH,EAASkkH,GAAahuJ,KAAKpD,GAAQ,KAE7GktC,GAAWA,EAAOt5B,OAAUs5B,EAAO/oB,GAAM+oB,EAAOlgB,EAKnDkgB,EALuD,CACzD/oB,GAAIwtI,GAAuB3xJ,EAAQ,CAAC,IAAK,KAAM,QAAU,EACzDgtB,GAAI2kI,GAAuB3xJ,EAAQ,CAAC,IAAK,KAAM,QAAU,EACzD4T,MAAO,EACPC,OAAQ,EAEZ,EACIi+I,GAAS,SAAgBh6J,GAC3B,SAAUA,EAAEi6J,QAAYj6J,EAAE22C,aAAc32C,EAAEw5J,kBAAoBO,GAAS/5J,GACzE,EAEAk6J,GAAkB,SAAyBhyJ,EAAQwuE,GACjD,GAAIA,EAAU,CACZ,IAAIjmE,EAAQvI,EAAOuI,MAEfimE,KAAYmgF,IAAmBngF,IAAa0hF,KAC9C1hF,EAAWyhF,IAGT1nJ,EAAM0rF,gBACsB,OAA1BzlB,EAASzyD,OAAO,EAAG,IAAyC,WAA1ByyD,EAASzyD,OAAO,EAAG,KAEvDyyD,EAAW,IAAMA,GAGnBjmE,EAAM0rF,eAAezlB,EAASzuE,QAAQgvJ,GAAU,OAAOxlH,gBAGvDhhC,EAAMy3E,gBAAgBxR,EAE1B,CACF,EACIyjF,GAAoB,SAA2Bp0H,EAAQ79B,EAAQwuE,EAAU0jF,EAAWryI,EAAKsyI,GAC3F,IAAI9jJ,EAAK,IAAIspI,GAAU95G,EAAO+zG,IAAK5xI,EAAQwuE,EAAU,EAAG,EAAG2jF,EAAezC,GAAmCD,IAO7G,OANA5xH,EAAO+zG,IAAMvjI,EACbA,EAAG3D,EAAIwnJ,EACP7jJ,EAAGvW,EAAI+nB,EAEPge,EAAOk5G,OAAO5yI,KAAKqqE,GAEZngE,CACT,EACI+jJ,GAAuB,CACzBC,IAAK,EACL97H,IAAK,EACL+7H,KAAM,GAEJC,GAAsB,CACxBlgD,KAAM,EACNtpE,KAAM,GAGRypH,GAAiB,SAASA,EAAexyJ,EAAQwuE,EAAU1tE,EAAO4pJ,GAChE,IAUI3oH,EACAqN,EACAyC,EACA4gH,EAbAC,EAAW9mE,WAAW9qF,IAAU,EAChC6xJ,GAAW7xJ,EAAQ,IAAI8W,OAAOmE,QAAQ22I,EAAW,IAAIj4J,SAAW,KAEpE8N,EAAQimJ,GAASjmJ,MACbqqJ,EAAa5D,GAAevoJ,KAAK+nE,GACjCqkF,EAA6C,QAAjC7yJ,EAAO8kG,QAAQv7D,cAC3BupH,GAAmBD,EAAY,SAAW,WAAaD,EAAa,QAAU,UAC9EvxH,EAAS,IACT0xH,EAAoB,OAATrI,EACXsI,EAAqB,MAATtI,EAMhB,OAAIA,IAASiI,IAAYD,GAAYN,GAAqB1H,IAAS0H,GAAqBO,GAC/ED,GAGG,OAAZC,IAAqBI,IAAaL,EAAWF,EAAexyJ,EAAQwuE,EAAU1tE,EAAO,OACrF2xJ,EAAQzyJ,EAAO+xJ,QAAUD,GAAO9xJ,IAE3BgzJ,GAAyB,MAAZL,IAAqBhE,GAAgBngF,MAAcA,EAAS38D,QAAQ,UAKtFtJ,EAAMqqJ,EAAa,QAAU,UAAYvxH,GAAU0xH,EAAWJ,EAAUjI,GACxEt7G,GAAUo/B,EAAS38D,QAAQ,UAAqB,OAAT64I,GAAiB1qJ,EAAO2B,cAAgBkxJ,EAAY7yJ,EAASA,EAAOyuC,WAEvGgkH,IACFrjH,GAAUpvC,EAAOsxJ,iBAAmB,CAAC,GAAG7iH,YAGrCW,GAAUA,IAAW,IAASA,EAAOztC,cACxCytC,EAAS,GAAK32C,OAGhBo5C,EAAQzC,EAAOi9F,QAEF2mB,GAAanhH,EAAMj+B,OAASg/I,GAAc/gH,EAAM35B,OAAS25H,GAAQ35H,OAAS25B,EAAM84G,QACpF9d,GAAO6lB,EAAW7gH,EAAMj+B,MAAQytB,KAEtC2xH,GAAyB,MAAZL,KAAqBJ,GAAoB1B,GAAqBzhH,EAAQ,cAAgB7mC,EAAMC,SAAWqoJ,GAAqB7wJ,EAAQ,aAClJovC,IAAWpvC,IAAWuI,EAAMC,SAAW,UAEvC4mC,EAAOztC,YAAY6sJ,IACnBzsH,EAAKysH,GAASsE,GACd1jH,EAAO+D,YAAYq7G,IACnBjmJ,EAAMC,SAAW,WAEboqJ,GAAcI,KAChBnhH,EAAQ46F,GAAUr9F,IACZl3B,KAAO25H,GAAQ35H,KACrB25B,EAAMj+B,MAAQw7B,EAAO0jH,IAIlBjmB,GAAOkmB,EAAWhxH,EAAK2wH,EAAWrxH,EAASU,GAAM2wH,EAAWrxH,EAASU,EAAK2wH,EAAW,MAnC1F3wH,EAAK0wH,EAAQzyJ,EAAOmV,UAAUy9I,EAAa,QAAU,UAAY5yJ,EAAO8yJ,GACjEjmB,GAAOmmB,EAAYN,EAAW3wH,EAAKV,EAASqxH,EAAW,IAAM3wH,IAmCxE,EACI6vD,GAAO,SAAc5xF,EAAQwuE,EAAUk8E,EAAMC,GAC/C,IAAI7pJ,EAsBJ,OArBAytJ,IAAkB4C,KAEd3iF,KAAY0gF,IAAiC,cAAb1gF,KAClCA,EAAW0gF,GAAiB1gF,IAEd38D,QAAQ,OACpB28D,EAAWA,EAASh/D,MAAM,KAAK,IAI/Bm/I,GAAgBngF,IAA0B,cAAbA,GAC/B1tE,EAAQmyJ,GAAgBjzJ,EAAQ2qJ,GAChC7pJ,EAAqB,oBAAb0tE,EAAiC1tE,EAAM0tE,GAAY1tE,EAAM82D,IAAM92D,EAAMsS,OAAS8/I,GAAcrC,GAAqB7wJ,EAAQkwJ,KAAyB,IAAMpvJ,EAAMqyJ,QAAU,SAEhLryJ,EAAQd,EAAOuI,MAAMimE,KAEG,SAAV1tE,GAAoB6pJ,KAAa7pJ,EAAQ,IAAI+Q,QAAQ,YACjE/Q,EAAQsyJ,GAAc5kF,IAAa4kF,GAAc5kF,GAAUxuE,EAAQwuE,EAAUk8E,IAASmG,GAAqB7wJ,EAAQwuE,IAAam+D,GAAa3sI,EAAQwuE,KAA2B,YAAbA,EAAyB,EAAI,IAI7Lk8E,MAAW5pJ,EAAQ,IAAI8W,OAAO/F,QAAQ,KAAO2gJ,GAAexyJ,EAAQwuE,EAAU1tE,EAAO4pJ,GAAQA,EAAO5pJ,CAC7G,EACIuyJ,GAAyB,SAAgCrzJ,EAAQuD,EAAMzH,EAAO+jB,GAEhF,IAAK/jB,GAAmB,SAAVA,EAAkB,CAE9B,IAAI8O,EAAIomJ,GAAiBztJ,EAAMvD,EAAQ,GACnCsK,EAAIM,GAAKimJ,GAAqB7wJ,EAAQ4K,EAAG,GAEzCN,GAAKA,IAAMxO,GACbyH,EAAOqH,EACP9O,EAAQwO,GACU,gBAAT/G,IACTzH,EAAQ+0J,GAAqB7wJ,EAAQ,kBAEzC,CAEA,IAGIuQ,EACAi5D,EACA8pF,EACApP,EACAh5I,EACAqoJ,EACA/mI,EACAw3H,EACAC,EACAuP,EACAC,EAbAplJ,EAAK,IAAIspI,GAAUpgJ,KAAKq6I,IAAK5xI,EAAOuI,MAAOhF,EAAM,EAAG,EAAG6gJ,IACvDvjI,EAAQ,EACRwjI,EAAa,EAmCjB,GAtBAh2I,EAAG3D,EAAI5O,EACPuS,EAAGvW,EAAI+nB,EACP/jB,GAAS,GAIG,UAFZ+jB,GAAO,MAGL7f,EAAOuI,MAAMhF,GAAQsc,EACrBA,EAAMgxI,GAAqB7wJ,EAAQuD,IAASsc,EAC5C7f,EAAOuI,MAAMhF,GAAQzH,GAKvB+9I,GAFAtpI,EAAI,CAACzU,EAAO+jB,IAMZA,EAAMtP,EAAE,GACR+iJ,GAFAx3J,EAAQyU,EAAE,IAEUo7E,MAAM0+C,KAAoB,IAClCxqH,EAAI8rE,MAAM0+C,KAAoB,IAE5B5vI,OAAQ,CACpB,KAAO+uE,EAAS6gE,GAAgBoJ,KAAK5zH,IACnC2M,EAAWg9C,EAAO,GAClBy6E,EAAQpkI,EAAI4yD,UAAU5xD,EAAO2oD,EAAO3oD,OAEhC3V,EACFA,GAASA,EAAQ,GAAK,EACQ,UAArB+4I,EAAMloI,QAAQ,IAAuC,UAArBkoI,EAAMloI,QAAQ,KACvD7Q,EAAQ,GAGNshB,KAAc+mI,EAAaD,EAAYjP,MAAiB,MAC1DH,EAAWt4D,WAAW2nE,IAAe,EACrCE,EAAYF,EAAWx3I,QAAQmoI,EAAW,IAAIzpJ,QACvB,MAAvB+xB,EAASo/B,OAAO,KAAep/B,EAAWugH,GAAemX,EAAU13H,GAAYinI,GAC/EzP,EAASp4D,WAAWp/D,GACpBgnI,EAAUhnI,EAASzQ,QAAQioI,EAAS,IAAIvpJ,QACxComB,EAAQwpH,GAAgBh+G,UAAYmnI,EAAQ/4J,OAEvC+4J,IAEHA,EAAUA,GAAW7qB,GAAQtoD,MAAM98E,IAASkwJ,EAExC5yI,IAAUhB,EAAIplB,SAChBolB,GAAO2zI,EACPnlJ,EAAGvW,GAAK07J,IAIRC,IAAcD,IAChBtP,EAAWsO,GAAexyJ,EAAQuD,EAAMgwJ,EAAYC,IAAY,GAIlEnlJ,EAAGujI,IAAM,CACPlD,MAAOrgI,EAAGujI,IACVhnI,EAAGq5I,GAAwB,IAAfI,EAAmBJ,EAAQ,IAEvC35I,EAAG45I,EACHpzI,EAAGkzI,EAASE,EACZjrH,EAAG/tB,GAASA,EAAQ,GAAc,WAAT3H,EAAoBsD,KAAKuB,MAAQ,IAKhEiG,EAAGyC,EAAI+P,EAAQhB,EAAIplB,OAASolB,EAAI4yD,UAAU5xD,EAAOhB,EAAIplB,QAAU,EACjE,MACE4T,EAAG7D,EAAa,YAATjH,GAA8B,SAARsc,EAAiB6vI,GAAmCD,GAOnF,OAJAllB,GAAQ9jI,KAAKoZ,KAASxR,EAAGvW,EAAI,GAE7BP,KAAKq6I,IAAMvjI,EAEJA,CACT,EACIqlJ,GAAoB,CACtBv0J,IAAK,KACLguC,OAAQ,OACRjuC,KAAM,KACN2pC,MAAO,OACPntC,OAAQ,OAENi4J,GAAgC,SAAuC7yJ,GACzE,IAAI0O,EAAQ1O,EAAM0O,MAAM,KACpB2U,EAAI3U,EAAM,GACVwd,EAAIxd,EAAM,IAAM,MAWpB,MATU,QAAN2U,GAAqB,WAANA,GAAwB,SAAN6I,GAAsB,UAANA,IAEnDlsB,EAAQqjB,EACRA,EAAI6I,EACJA,EAAIlsB,GAGN0O,EAAM,GAAKkkJ,GAAkBvvI,IAAMA,EACnC3U,EAAM,GAAKkkJ,GAAkB1mI,IAAMA,EAC5Bxd,EAAMgD,KAAK,IACpB,EACIohJ,GAAoB,SAA2BhzC,EAAO3/G,GACxD,GAAIA,EAAKosI,OAASpsI,EAAKosI,MAAMqD,QAAUzvI,EAAKosI,MAAM6B,KAAM,CACtD,IAII3rI,EACAswJ,EACAhxJ,EANA7C,EAASiB,EAAK6J,EACdvC,EAAQvI,EAAOuI,MACf0vB,EAAQh3B,EAAK6T,EACb+8B,EAAQ7xC,EAAOqsI,MAKnB,GAAc,QAAVp0G,IAA6B,IAAVA,EACrB1vB,EAAM4yF,QAAU,GAChB04D,EAAkB,OAKlB,IAFAhxJ,GADAo1B,EAAQA,EAAMzoB,MAAM,MACV/U,SAEDoI,GAAK,GACZU,EAAO00B,EAAMp1B,GAET8rJ,GAAgBprJ,KAClBswJ,EAAkB,EAClBtwJ,EAAgB,oBAATA,EAA6B2sJ,GAAuBD,IAG7D+B,GAAgBhyJ,EAAQuD,GAIxBswJ,IACF7B,GAAgBhyJ,EAAQiwJ,IAEpBp+G,IACFA,EAAM+lB,KAAO53D,EAAOggF,gBAAgB,aAEpCizE,GAAgBjzJ,EAAQ,GAGxB6xC,EAAM84G,QAAU,EAEhB4F,GAA6BhoJ,IAGnC,CACF,EAEA6qJ,GAAgB,CACdU,WAAY,SAAoBj2H,EAAQ79B,EAAQwuE,EAAUhiD,EAAU6gH,GAClE,GAAmB,gBAAfA,EAAMpsI,KAAwB,CAChC,IAAIoN,EAAKwvB,EAAO+zG,IAAM,IAAI+F,GAAU95G,EAAO+zG,IAAK5xI,EAAQwuE,EAAU,EAAG,EAAGolF,IAOxE,OANAvlJ,EAAGyG,EAAI0X,EACPne,EAAG0zC,IAAM,GACT1zC,EAAGg/H,MAAQA,EAEXxvG,EAAOk5G,OAAO5yI,KAAKqqE,GAEZ,CACT,CACF,GAwEFulF,GAAoB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAChCC,GAAwB,CAAC,EACzBC,GAAmB,SAA0BnzJ,GAC/C,MAAiB,6BAAVA,GAAkD,SAAVA,IAAqBA,CACtE,EACIozJ,GAAqC,SAA4Cl0J,GACnF,IAAIm0J,EAAetD,GAAqB7wJ,EAAQiwJ,IAEhD,OAAOgE,GAAiBE,GAAgBJ,GAAoBI,EAAap4I,OAAO,GAAG4vE,MAAMy+C,IAASltI,IAAI2vI,GACxG,EACIunB,GAAa,SAAoBp0J,EAAQq0J,GAC3C,IAGIjlH,EACAg2D,EACAgoD,EACAkH,EANAziH,EAAQ7xC,EAAOqsI,OAASI,GAAUzsI,GAClCuI,EAAQvI,EAAOuI,MACf8yB,EAAS64H,GAAmCl0J,GAMhD,OAAI6xC,EAAM+lB,KAAO53D,EAAO3H,aAAa,aAIP,iBAD5BgjC,EAAS,EAFT+xH,EAAOptJ,EAAOq5B,UAAUk7H,QAAQC,cAAcn5H,QAE/B9qB,EAAG68I,EAAK1iJ,EAAG0iJ,EAAKt8I,EAAGs8I,EAAKpiJ,EAAGoiJ,EAAKt1J,EAAGs1J,EAAKziJ,IACzC6H,KAAK,KAAyBuhJ,GAAoB14H,GACvDA,IAAW04H,IAAsB/zJ,EAAOy0J,cAAgBz0J,IAAWsuJ,IAAgBz8G,EAAM+lB,MAGlGw1F,EAAO7kJ,EAAME,QACbF,EAAME,QAAU,SAChB2mC,EAASpvC,EAAOyuC,aAEAzuC,EAAOy0J,eAErBH,EAAa,EAEblvD,EAAcplG,EAAO4qG,mBAErB0jD,GAAY3sJ,YAAY3B,IAI1Bq7B,EAAS64H,GAAmCl0J,GAC5CotJ,EAAO7kJ,EAAME,QAAU2kJ,EAAO4E,GAAgBhyJ,EAAQ,WAElDs0J,IACFlvD,EAAch2D,EAAO4nB,aAAah3D,EAAQolG,GAAeh2D,EAASA,EAAOztC,YAAY3B,GAAUsuJ,GAAYn7G,YAAYnzC,KAIpHq0J,GAAWh5H,EAAO5gC,OAAS,EAAI,CAAC4gC,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,KAAOA,EAC/G,EACIq5H,GAAkB,SAAyB10J,EAAQoT,EAAQuhJ,EAAkBplF,EAAQqlF,EAAaC,GACpG,IAeI3nH,EACAhR,EAEAlP,EAlBA6kB,EAAQ7xC,EAAOqsI,MACfhxG,EAASu5H,GAAeR,GAAWp0J,GAAQ,GAC3C80J,EAAajjH,EAAMkjH,SAAW,EAC9BC,EAAanjH,EAAMojH,SAAW,EAC9BC,EAAarjH,EAAMsjH,SAAW,EAC9BC,EAAavjH,EAAMiX,SAAW,EAC9Bv4C,EAAI8qB,EAAO,GACX3wB,EAAI2wB,EAAO,GACXvqB,EAAIuqB,EAAO,GACXrwB,EAAIqwB,EAAO,GACXlC,EAAKkC,EAAO,GACZ9sB,EAAK8sB,EAAO,GACZg6H,EAAcjiJ,EAAO5D,MAAM,KAC3BulJ,EAAUnpE,WAAWypE,EAAY,KAAO,EACxCJ,EAAUrpE,WAAWypE,EAAY,KAAO,EAMvCV,EAIMt5H,IAAW04H,KAAsB73H,EAAc3rB,EAAIvF,EAAIN,EAAIoG,KAGpEkc,EAAI+nI,IAAYrqJ,EAAIwxB,GAAe+4H,GAAW1kJ,EAAI2rB,IAAgB3rB,EAAIhC,EAAK7D,EAAIyuB,GAAM+C,EACrF64H,EAFIA,GAAW/pJ,EAAIkxB,GAAe+4H,IAAYnkJ,EAAIorB,IAAgBprB,EAAIvC,EAAKvD,EAAImuB,GAAM+C,EAGrF+4H,EAAUjoI,IAPV+nI,GADA7nH,EAAS2kH,GAAS7xJ,IACDmkB,IAAMkxI,EAAY,GAAGxjJ,QAAQ,KAAOkjJ,EAAU,IAAM7nH,EAAOt5B,MAAQmhJ,GACpFE,EAAU/nH,EAAOlgB,KAAOqoI,EAAY,IAAMA,EAAY,IAAIxjJ,QAAQ,KAAOojJ,EAAU,IAAM/nH,EAAOr5B,OAASohJ,IASvG1lF,IAAqB,IAAXA,GAAoB19B,EAAM09B,QACtCp2C,EAAK47H,EAAUD,EACfvmJ,EAAK0mJ,EAAUD,EACfnjH,EAAMsjH,QAAUD,GAAc/7H,EAAK5oB,EAAIhC,EAAKuC,GAAKqoB,EACjD0Y,EAAMiX,QAAUssG,GAAcj8H,EAAKzuB,EAAI6D,EAAKvD,GAAKuD,GAEjDsjC,EAAMsjH,QAAUtjH,EAAMiX,QAAU,EAGlCjX,EAAMkjH,QAAUA,EAChBljH,EAAMojH,QAAUA,EAChBpjH,EAAM09B,SAAWA,EACjB19B,EAAMz+B,OAASA,EACfy+B,EAAM8iH,mBAAqBA,EAC3B30J,EAAOuI,MAAM2nJ,IAAwB,UAEjC2E,IACF5C,GAAkB4C,EAAyBhjH,EAAO,UAAWijH,EAAYC,GAEzE9C,GAAkB4C,EAAyBhjH,EAAO,UAAWmjH,EAAYC,GAEzEhD,GAAkB4C,EAAyBhjH,EAAO,UAAWqjH,EAAYrjH,EAAMsjH,SAE/ElD,GAAkB4C,EAAyBhjH,EAAO,UAAWujH,EAAYvjH,EAAMiX,UAGjF9oD,EAAO0B,aAAa,kBAAmBqzJ,EAAU,IAAME,EACzD,EACIhC,GAAkB,SAAyBjzJ,EAAQ2qJ,GACrD,IAAI94G,EAAQ7xC,EAAOqsI,OAAS,IAAIG,GAAQxsI,GAExC,GAAI,MAAO6xC,IAAU84G,IAAY94G,EAAM84G,QACrC,OAAO94G,EAGT,IAMI1tB,EACA6I,EACA6O,EACAqO,EACAC,EACA0lC,EACA4L,EACAD,EACA85E,EACAC,EACAlvF,EACA0uF,EACAE,EACA55H,EACA1E,EACA9G,EACAb,EACAze,EACA7F,EACAoG,EACA9F,EACAwqJ,EACAC,EACAhsI,EACA0a,EACAuxH,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EArCAztJ,EAAQvI,EAAOuI,MACf0tJ,EAAiBpkH,EAAM3H,OAAS,EAChCnI,EAAK,KACLswH,EAAM,MACNtB,EAAKnhE,iBAAiB5vF,GACtBoT,EAASy9I,GAAqB7wJ,EAAQkwJ,KAAyB,IAyMnE,OAxKA/rI,EAAI6I,EAAI6O,EAAIg0C,EAAW4L,EAAYD,EAAY85E,EAAQC,EAAQlvF,EAAc,EAC7En8B,EAASC,EAAS,EAClB0H,EAAM+lB,OAAS53D,EAAO+xJ,SAAUD,GAAO9xJ,IAEnC+wJ,EAAG73H,YAEgB,SAAjB63H,EAAG73H,WAAqC,SAAb63H,EAAGl4H,OAAkC,SAAdk4H,EAAG74H,SACvD3vB,EAAM0nJ,KAAoC,SAAjBc,EAAG73H,UAAuB,gBAAkB63H,EAAG73H,UAAY,QAAQ1pB,MAAM,KAAK6S,MAAM,EAAG,GAAG7P,KAAK,MAAQ,KAAO,KAAqB,SAAdu+I,EAAG74H,OAAoB,UAAY64H,EAAG74H,OAAS,KAAO,KAAoB,SAAb64H,EAAGl4H,MAAmB,SAAWk4H,EAAGl4H,MAAMrpB,MAAM,KAAKgD,KAAK,KAAO,KAAO,KAA8B,SAAvBu+I,EAAGd,IAA6Bc,EAAGd,IAAkB,KAGjV1nJ,EAAMswB,MAAQtwB,EAAM2vB,OAAS3vB,EAAM2wB,UAAY,QAGjDmC,EAAS+4H,GAAWp0J,EAAQ6xC,EAAM+lB,KAE9B/lB,EAAM+lB,MACJ/lB,EAAM84G,SAERxmH,EAAKnkC,EAAOmV,UACZ/B,EAASy+B,EAAMkjH,QAAU5wH,EAAGhgB,EAAI,OAAS0tB,EAAMojH,QAAU9wH,EAAGnX,GAAK,KACjEvD,EAAK,IAELA,GAAMkhI,GAAW3qJ,EAAO3H,aAAa,mBAGvCq8J,GAAgB10J,EAAQypB,GAAMrW,IAAUqW,GAAMooB,EAAM8iH,kBAAmC,IAAjB9iH,EAAM09B,OAAkBl0C,IAGhG05H,EAAUljH,EAAMkjH,SAAW,EAC3BE,EAAUpjH,EAAMojH,SAAW,EAEvB55H,IAAW04H,KACbxjJ,EAAI8qB,EAAO,GAEX3wB,EAAI2wB,EAAO,GAEXvqB,EAAIuqB,EAAO,GAEXrwB,EAAIqwB,EAAO,GAEXlX,EAAIqxI,EAAMn6H,EAAO,GACjBrO,EAAIyoI,EAAMp6H,EAAO,GAEK,IAAlBA,EAAO5gC,QACTyvC,EAASrjC,KAAKG,KAAKuJ,EAAIA,EAAI7F,EAAIA,GAC/By/B,EAAStjC,KAAKG,KAAKgE,EAAIA,EAAI8F,EAAIA,GAC/B++D,EAAWt/D,GAAK7F,EAAIokJ,GAAOpkJ,EAAG6F,GAAKq+I,GAAW,GAE9C0G,EAAQxkJ,GAAK9F,EAAI8jJ,GAAOh+I,EAAG9F,GAAK4jJ,GAAW/+E,EAAW,KAC5C1lC,GAAUtjC,KAAKc,IAAId,KAAKgpB,IAAIylI,EAAQzG,MAE1Ch9G,EAAM+lB,MACRzzC,GAAK4wI,GAAWA,EAAUxkJ,EAAI0kJ,EAAUnkJ,GACxCkc,GAAKioI,GAAWF,EAAUrqJ,EAAIuqJ,EAAUjqJ,MAI1CgrJ,EAAM36H,EAAO,GACby6H,EAAMz6H,EAAO,GACbs6H,EAAMt6H,EAAO,GACbu6H,EAAMv6H,EAAO,GACbw6H,EAAMx6H,EAAO,IACb06H,EAAM16H,EAAO,IACblX,EAAIkX,EAAO,IACXrO,EAAIqO,EAAO,IACXQ,EAAIR,EAAO,IAEXogD,GADA9kD,EAAQm4H,GAAOkH,EAAKH,IACAjH,GAEhBj4H,IAGFlN,EAAK+rI,GAFL3lI,EAAMhpB,KAAKgpB,KAAK8G,IAECg/H,GADjB3mI,EAAMnoB,KAAKmoB,KAAK2H,IAEhBwN,EAAKsxH,EAAM5lI,EAAM+lI,EAAM5mI,EACvB0mI,EAAKM,EAAMnmI,EAAMgmI,EAAM7mI,EACvB2mI,EAAMH,GAAOxmI,EAAM2mI,EAAM9lI,EACzB+lI,EAAMH,GAAOzmI,EAAM4mI,EAAM/lI,EACzBgmI,EAAMG,GAAOhnI,EAAM6mI,EAAMhmI,EACzBkmI,EAAMD,GAAO9mI,EAAM+mI,EAAMlmI,EACzB2lI,EAAM/rI,EACNgsI,EAAMtxH,EACN6xH,EAAMN,GAKRl6E,GADA7kD,EAAQm4H,IAAQh+I,EAAG+kJ,IACCjH,GAEhBj4H,IACF9G,EAAMhpB,KAAKgpB,KAAK8G,GAKhBo/H,EAAM/qJ,GAJNgkB,EAAMnoB,KAAKmoB,KAAK2H,IAIAo/H,EAAMlmI,EACtBtf,EAJAkZ,EAAKlZ,EAAIsf,EAAM8lI,EAAM3mI,EAKrBtkB,EAJAy5B,EAAKz5B,EAAImlB,EAAM+lI,EAAM5mI,EAKrBle,EAJA4kJ,EAAK5kJ,EAAI+e,EAAMgmI,EAAM7mI,GASvB6gD,GADAl5C,EAAQm4H,GAAOpkJ,EAAG6F,IACCq+I,GAEfj4H,IAGFlN,EAAKlZ,GAFLsf,EAAMhpB,KAAKgpB,IAAI8G,IAEAjsB,GADfskB,EAAMnoB,KAAKmoB,IAAI2H,IAEfwN,EAAKqxH,EAAM3lI,EAAM4lI,EAAMzmI,EACvBtkB,EAAIA,EAAImlB,EAAMtf,EAAIye,EAClBymI,EAAMA,EAAM5lI,EAAM2lI,EAAMxmI,EACxBze,EAAIkZ,EACJ+rI,EAAMrxH,GAGJs3C,GAAa50E,KAAKc,IAAI8zE,GAAa50E,KAAKc,IAAIkoE,GAAY,QAE1D4L,EAAY5L,EAAW,EACvB2L,EAAY,IAAMA,GAGpBtxC,EAAS2iG,GAAOhmI,KAAKG,KAAKuJ,EAAIA,EAAI7F,EAAIA,EAAIoG,EAAIA,IAC9Cq5B,EAAS0iG,GAAOhmI,KAAKG,KAAKyuJ,EAAMA,EAAMO,EAAMA,IAC5Cr/H,EAAQm4H,GAAO0G,EAAKC,GACpBH,EAAQzuJ,KAAKc,IAAIgvB,GAAS,KAASA,EAAQi4H,GAAW,EACtDvoF,EAAc0vF,EAAM,GAAKA,EAAM,GAAKA,EAAMA,GAAO,GAG/ClkH,EAAM+lB,MAERnuC,EAAKzpB,EAAO3H,aAAa,aACzBw5C,EAAMqkH,SAAWl2J,EAAO0B,aAAa,YAAa,MAAQuyJ,GAAiBpD,GAAqB7wJ,EAAQiwJ,KACxGxmI,GAAMzpB,EAAO0B,aAAa,YAAa+nB,KAIvC5iB,KAAKc,IAAI2tJ,GAAS,IAAMzuJ,KAAKc,IAAI2tJ,GAAS,MACxCW,GACF/rH,IAAW,EACXorH,GAASzlF,GAAY,EAAI,KAAO,IAChCA,GAAYA,GAAY,EAAI,KAAO,MAEnC1lC,IAAW,EACXmrH,GAASA,GAAS,EAAI,KAAO,MAIjC3K,EAAUA,GAAW94G,EAAM84G,QAC3B94G,EAAM1tB,EAAIA,IAAM0tB,EAAMskH,SAAWhyI,KAAOwmI,GAAW94G,EAAMskH,WAAatvJ,KAAKuB,MAAMpI,EAAOhB,YAAc,KAAO6H,KAAKuB,OAAO+b,IAAM,GAAK,KAAOnkB,EAAOhB,YAAc6yC,EAAMskH,SAAW,IAAM,GAAKp0H,EAC5L8P,EAAM7kB,EAAIA,IAAM6kB,EAAMukH,SAAWppI,KAAO29H,GAAW94G,EAAMukH,WAAavvJ,KAAKuB,MAAMpI,EAAOqiE,aAAe,KAAOx7D,KAAKuB,OAAO4kB,IAAM,GAAK,KAAOhtB,EAAOqiE,aAAexwB,EAAMukH,SAAW,IAAM,GAAKr0H,EAC9L8P,EAAMhW,EAAIA,EAAIkG,EACd8P,EAAM3H,OAAS2iG,GAAO3iG,GACtB2H,EAAM1H,OAAS0iG,GAAO1iG,GACtB0H,EAAMg+B,SAAWg9D,GAAOh9D,GAAYwiF,EACpCxgH,EAAM4pC,UAAYoxD,GAAOpxD,GAAa42E,EACtCxgH,EAAM2pC,UAAYqxD,GAAOrxD,GAAa62E,EACtCxgH,EAAMyjH,MAAQA,EAAQjD,EACtBxgH,EAAM0jH,MAAQA,EAAQlD,EACtBxgH,EAAMwkH,qBAAuBhwF,EAActkC,GAEvC8P,EAAMshH,QAAUvnE,WAAWx4E,EAAO5D,MAAM,KAAK,KAAO,KACtDjH,EAAM2nJ,IAAwBgD,GAAc9/I,IAG9Cy+B,EAAMsjH,QAAUtjH,EAAMiX,QAAU,EAChCjX,EAAMg3F,QAAUF,GAAQE,QACxBh3F,EAAMgL,gBAAkBhL,EAAM+lB,IAAM0+F,GAAuB5H,GAAc6H,GAAuBC,GAChG3kH,EAAM84G,QAAU,EACT94G,CACT,EACIqhH,GAAgB,SAAuBpyJ,GACzC,OAAQA,EAAQA,EAAM0O,MAAM,MAAM,GAAK,IAAM1O,EAAM,EACrD,EAEA21J,GAAkB,SAAyBz2J,EAAQlE,EAAOgF,GACxD,IAAI4pJ,EAAOlX,GAAQ13I,GACnB,OAAO+wI,GAAOjhD,WAAW9vF,GAAS8vF,WAAW4mE,GAAexyJ,EAAQ,IAAKc,EAAQ,KAAM4pJ,KAAUA,CACnG,EACI8L,GAAyB,SAAgC51C,EAAO/uE,GAClEA,EAAMhW,EAAI,MACVgW,EAAM2pC,UAAY3pC,EAAM4pC,UAAY,OACpC5pC,EAAMg3F,QAAU,EAEhB0tB,GAAqB31C,EAAO/uE,EAC9B,EACI6kH,GAAW,OACXC,GAAU,MACVC,GAAkB,KAClBL,GAAuB,SAA8B31C,EAAO/uE,GAC9D,IAAImgG,EAAOngG,GAASt6C,KAChB4+J,EAAWnkB,EAAKmkB,SAChBC,EAAWpkB,EAAKokB,SAChBjyI,EAAI6tH,EAAK7tH,EACT6I,EAAIglH,EAAKhlH,EACT6O,EAAIm2G,EAAKn2G,EACTg0C,EAAWmiE,EAAKniE,SAChB2L,EAAYw2D,EAAKx2D,UACjBC,EAAYu2D,EAAKv2D,UACjB65E,EAAQtjB,EAAKsjB,MACbC,EAAQvjB,EAAKujB,MACbrrH,EAAS8nG,EAAK9nG,OACdC,EAAS6nG,EAAK7nG,OACdksH,EAAuBrkB,EAAKqkB,qBAC5BxtB,EAAUmJ,EAAKnJ,QACf7oI,EAASgyI,EAAKhyI,OACdmzJ,EAAUnhB,EAAKmhB,QACf11G,EAAa,GACbo5G,EAAoB,SAAZhuB,GAAsBjoB,GAAmB,IAAVA,IAA2B,IAAZioB,EAG1D,GAAIsqB,IAAY13E,IAAci7E,IAAYl7E,IAAck7E,IAAW,CACjE,IAGI7mI,EAHA8G,EAAQi1D,WAAWpQ,GAAaqzE,GAChC8G,EAAM9uJ,KAAKmoB,IAAI2H,GACfk/H,EAAMhvJ,KAAKgpB,IAAI8G,GAGnBA,EAAQi1D,WAAWnQ,GAAaozE,GAChCh/H,EAAMhpB,KAAKgpB,IAAI8G,GACfxS,EAAIsyI,GAAgBz2J,EAAQmkB,EAAGwxI,EAAM9lI,GAAOsjI,GAC5CnmI,EAAIypI,GAAgBz2J,EAAQgtB,GAAInmB,KAAKmoB,IAAI2H,IAAUw8H,GACnDt3H,EAAI46H,GAAgBz2J,EAAQ67B,EAAGg6H,EAAMhmI,GAAOsjI,EAAUA,EACxD,CAEIkD,IAAyBM,KAC3Bl5G,GAAc,eAAiB44G,EAAuBO,KAGpDT,GAAYC,KACd34G,GAAc,aAAe04G,EAAW,MAAQC,EAAW,QAGzDS,GAAS1yI,IAAMwyI,IAAW3pI,IAAM2pI,IAAW96H,IAAM86H,MACnDl5G,GAAc5hB,IAAM86H,IAAWE,EAAQ,eAAiB1yI,EAAI,KAAO6I,EAAI,KAAO6O,EAAI,KAAO,aAAe1X,EAAI,KAAO6I,EAAI4pI,IAGrH/mF,IAAa6mF,KACfj5G,GAAc,UAAYoyB,EAAW+mF,IAGnCp7E,IAAck7E,KAChBj5G,GAAc,WAAa+9B,EAAYo7E,IAGrCn7E,IAAci7E,KAChBj5G,GAAc,WAAag+B,EAAYm7E,IAGrCtB,IAAUoB,IAAYnB,IAAUmB,KAClCj5G,GAAc,QAAU63G,EAAQ,KAAOC,EAAQqB,IAGlC,IAAX1sH,GAA2B,IAAXC,IAClBsT,GAAc,SAAWvT,EAAS,KAAOC,EAASysH,IAGpD52J,EAAOuI,MAAM0nJ,IAAkBxyG,GAAc,iBAC/C,EACI64G,GAAuB,SAA8B11C,EAAO/uE,GAC9D,IAkBIilH,EACAC,EACAvB,EACAC,EACArI,EAtBAlb,EAAQrgG,GAASt6C,KACjB4+J,EAAWjkB,EAAMikB,SACjBC,EAAWlkB,EAAMkkB,SACjBjyI,EAAI+tH,EAAM/tH,EACV6I,EAAIklH,EAAMllH,EACV6iD,EAAWqiE,EAAMriE,SACjBylF,EAAQpjB,EAAMojB,MACdC,EAAQrjB,EAAMqjB,MACdrrH,EAASgoG,EAAMhoG,OACfC,EAAS+nG,EAAM/nG,OACfnqC,EAASkyI,EAAMlyI,OACf+0J,EAAU7iB,EAAM6iB,QAChBE,EAAU/iB,EAAM+iB,QAChBE,EAAUjjB,EAAMijB,QAChBrsG,EAAUopF,EAAMppF,QAChBotG,EAAWhkB,EAAMgkB,SACjB/8H,EAAKyyD,WAAWznE,GAChB5V,EAAKq9E,WAAW5+D,GAOpB6iD,EAAW+b,WAAW/b,GACtBylF,EAAQ1pE,WAAW0pE,IACnBC,EAAQ3pE,WAAW2pE,MAKjBD,GADAC,EAAQ3pE,WAAW2pE,GAEnB1lF,GAAY0lF,GAGV1lF,GAAYylF,GACdzlF,GAAYg/E,GACZyG,GAASzG,GACTiI,EAAMjwJ,KAAKgpB,IAAIggD,GAAY3lC,EAC3B6sH,EAAMlwJ,KAAKmoB,IAAI6gD,GAAY3lC,EAC3BsrH,EAAM3uJ,KAAKmoB,IAAI6gD,EAAWylF,IAAUnrH,EACpCsrH,EAAM5uJ,KAAKgpB,IAAIggD,EAAWylF,GAASnrH,EAE/BmrH,IACFC,GAAS1G,GACTzB,EAAOvmJ,KAAKkxB,IAAIu9H,EAAQC,GAExBC,GADApI,EAAOvmJ,KAAKG,KAAK,EAAIomJ,EAAOA,GAE5BqI,GAAOrI,EAEHmI,IACFnI,EAAOvmJ,KAAKkxB,IAAIw9H,GAEhBuB,GADA1J,EAAOvmJ,KAAKG,KAAK,EAAIomJ,EAAOA,GAE5B2J,GAAO3J,IAIX0J,EAAMjqB,GAAOiqB,GACbC,EAAMlqB,GAAOkqB,GACbvB,EAAM3oB,GAAO2oB,GACbC,EAAM5oB,GAAO4oB,KAEbqB,EAAM5sH,EACNurH,EAAMtrH,EACN4sH,EAAMvB,EAAM,IAGVr8H,MAAShV,EAAI,IAAItS,QAAQ,OAAStD,MAASye,EAAI,IAAInb,QAAQ,SAC7DsnB,EAAKq5H,GAAexyJ,EAAQ,IAAKmkB,EAAG,MACpC5V,EAAKikJ,GAAexyJ,EAAQ,IAAKgtB,EAAG,QAGlC+nI,GAAWE,GAAWE,GAAWrsG,KACnC3vB,EAAK0zG,GAAO1zG,EAAK47H,GAAWA,EAAU+B,EAAM7B,EAAUO,GAAOL,GAC7D5mJ,EAAKs+H,GAAOt+H,EAAK0mJ,GAAWF,EAAUgC,EAAM9B,EAAUQ,GAAO3sG,KAG3DqtG,GAAYC,KAEdhJ,EAAOptJ,EAAOmV,UACdgkB,EAAK0zG,GAAO1zG,EAAKg9H,EAAW,IAAM/I,EAAKx5I,OACvCrF,EAAKs+H,GAAOt+H,EAAK6nJ,EAAW,IAAMhJ,EAAKv5I,SAGzCu5I,EAAO,UAAY0J,EAAM,IAAMC,EAAM,IAAMvB,EAAM,IAAMC,EAAM,IAAMt8H,EAAK,IAAM5qB,EAAK,IACnFvO,EAAO0B,aAAa,YAAa0rJ,GACjC8I,IAAal2J,EAAOuI,MAAM0nJ,IAAkB7C,EAC9C,EACI4J,GAA0B,SAAiCn5H,EAAQ79B,EAAQwuE,EAAU01E,EAAU13H,GACjG,IAKInjB,EACAgF,EANA4oJ,EAAM,IACN1K,EAAWhjB,GAAU/8G,GAErBqgE,EADSjB,WAAWp/D,IAAa+/H,IAAa//H,EAAS3a,QAAQ,OAAS+8I,GAAW,GACjE1K,EAClBjzH,EAAaizH,EAAWr3D,EAAS,MA4BrC,OAxBI0/D,IAGgB,WAFlBljJ,EAAYmjB,EAAShd,MAAM,KAAK,MAG9Bq9E,GAAUoqE,KAEKpqE,EAAS,MACtBA,GAAUA,EAAS,EAAIoqE,GAAM,KAIf,OAAd5tJ,GAAsBwjF,EAAS,EACjCA,GAAUA,EAASoqE,MAAiBA,KAASpqE,EAASoqE,GAAOA,EACtC,QAAd5tJ,GAAuBwjF,EAAS,IACzCA,GAAUA,EAASoqE,MAAiBA,KAASpqE,EAASoqE,GAAOA,IAIjEp5H,EAAO+zG,IAAMvjI,EAAK,IAAIspI,GAAU95G,EAAO+zG,IAAK5xI,EAAQwuE,EAAU01E,EAAUr3D,EAAQyiE,IAChFjhJ,EAAGvW,EAAIm5B,EACP5iB,EAAGyG,EAAI,MAEP+oB,EAAOk5G,OAAO5yI,KAAKqqE,GAEZngE,CACT,EACI6oJ,GAAU,SAAiBl3J,EAAQ8+C,GAErC,IAAK,IAAIl0C,KAAKk0C,EACZ9+C,EAAO4K,GAAKk0C,EAAOl0C,GAGrB,OAAO5K,CACT,EACIm3J,GAAsB,SAA6Bt5H,EAAQ4f,EAAYz9C,GAEzE,IAGIo3J,EACAxsJ,EACA2oJ,EACA/mI,EACA03H,EACAF,EAEAwP,EAVA6D,EAAaH,GAAQ,CAAC,EAAGl3J,EAAOqsI,OAEhC9jI,EAAQvI,EAAOuI,MA0BnB,IAAKqC,KAhBDysJ,EAAWz/F,KACb27F,EAAavzJ,EAAO3H,aAAa,aACjC2H,EAAO0B,aAAa,YAAa,IACjC6G,EAAM0nJ,IAAkBxyG,EACxB25G,EAAWnE,GAAgBjzJ,EAAQ,GAEnCgyJ,GAAgBhyJ,EAAQiwJ,IAExBjwJ,EAAO0B,aAAa,YAAa6xJ,KAEjCA,EAAa3jE,iBAAiB5vF,GAAQiwJ,IACtC1nJ,EAAM0nJ,IAAkBxyG,EACxB25G,EAAWnE,GAAgBjzJ,EAAQ,GACnCuI,EAAM0nJ,IAAkBsD,GAGhB5E,IACR4E,EAAa8D,EAAWzsJ,OACxB4hB,EAAW4qI,EAASxsJ,KA7BR,gDA+B2BiH,QAAQjH,GAAK,IAIlDs5I,EAFY1Q,GAAQ+f,MACpBC,EAAUhgB,GAAQhnH,IACiBgmI,GAAexyJ,EAAQ4K,EAAG2oJ,EAAYC,GAAW5nE,WAAW2nE,GAC/FvP,EAASp4D,WAAWp/D,GACpBqR,EAAO+zG,IAAM,IAAI+F,GAAU95G,EAAO+zG,IAAKwlB,EAAUxsJ,EAAGs5I,EAAUF,EAASE,EAAUmL,IACjFxxH,EAAO+zG,IAAI98H,EAAI0+I,GAAW,EAE1B31H,EAAOk5G,OAAO5yI,KAAKyG,IAIvBssJ,GAAQE,EAAUC,EACpB,EAGAzqB,GAAa,+BAA+B,SAAUprI,EAAMqf,GAC1D,IAAI/V,EAAI,MACJN,EAAI,QACJE,EAAI,SACJsuB,EAAI,OACJf,GAASpX,EAAQ,EAAI,CAAC/V,EAAGN,EAAGE,EAAGsuB,GAAK,CAACluB,EAAIkuB,EAAGluB,EAAIN,EAAGE,EAAIF,EAAGE,EAAIsuB,IAAI97B,KAAI,SAAU+vG,GAClF,OAAOpsF,EAAQ,EAAIrf,EAAOyrG,EAAO,SAAWA,EAAOzrG,CACrD,IAEA4xJ,GAAcvyI,EAAQ,EAAI,SAAWrf,EAAOA,GAAQ,SAAUq8B,EAAQ79B,EAAQwuE,EAAUhiD,EAAU6gH,GAChG,IAAI98H,EAAG4tB,EAEP,GAAIgoD,UAAU1rF,OAAS,EAMrB,OAJA8V,EAAI0nB,EAAM/6B,KAAI,SAAUqG,GACtB,OAAOquF,GAAK/zD,EAAQt6B,EAAMirE,EAC5B,IAEmC,KADnCrwC,EAAO5tB,EAAEiC,KAAK,MACFhD,MAAMe,EAAE,IAAI9V,OAAe8V,EAAE,GAAK4tB,EAGhD5tB,GAAKic,EAAW,IAAIhd,MAAM,KAC1B2uB,EAAO,CAAC,EACRlG,EAAMv+B,SAAQ,SAAU6J,EAAMV,GAC5B,OAAOs7B,EAAK56B,GAAQgN,EAAE1N,GAAK0N,EAAE1N,IAAM0N,GAAG1N,EAAI,GAAK,EAAI,EACrD,IACAg7B,EAAOje,KAAK5f,EAAQm+B,EAAMkvG,EAC5B,CACF,IAEO,IAuOIiqB,GAAkBznF,GACvB0nF,GAxOKC,GAAY,CACrBh2J,KAAM,MACNk2I,SAAUyZ,GACV5kB,WAAY,SAAoBvsI,GAC9B,OAAOA,EAAOuI,OAASvI,EAAO0xF,QAChC,EACA9xE,KAAM,SAAc5f,EAAQm+B,EAAMkvG,EAAOxsH,EAAOsrH,GAC9C,IAGIonB,EACA/mI,EACAw3H,EACAE,EACAziJ,EACAg2J,EACA7sJ,EACA6oJ,EACAD,EACAkE,EACAC,EACAC,EACA/lH,EACA09B,EACA41E,EACA0S,EAlBA5/H,EAAQ1gC,KAAKw/I,OACbxuI,EAAQvI,EAAOuI,MACf8qI,EAAUhG,EAAMlvG,KAAKk1G,QAuBzB,IAAKzoI,KANL2jJ,IAAkB4C,KAElB55J,KAAK6xC,OAAS7xC,KAAK6xC,QAAUqnH,GAAezwJ,GAC5C63J,EAActgK,KAAK6xC,OAAOnR,MAC1B1gC,KAAK81I,MAAQA,EAEHlvG,EACR,GAAU,cAANvzB,IAIJ4hB,EAAW2R,EAAKvzB,IAEZihI,GAASjhI,KAAMk6I,GAAal6I,EAAGuzB,EAAMkvG,EAAOxsH,EAAO7gB,EAAQmsI,IAiB/D,GAZA1qI,SAAc+qB,EACdirI,EAAcrE,GAAcxoJ,GAEf,aAATnJ,IAEFA,SADA+qB,EAAWA,EAASppB,KAAKiqI,EAAOxsH,EAAO7gB,EAAQmsI,KAIpC,WAAT1qI,IAAsB+qB,EAAS3a,QAAQ,aACzC2a,EAAWgpH,GAAehpH,IAGxBirI,EACFA,EAAYlgK,KAAMyI,EAAQ4K,EAAG4hB,EAAU6gH,KAAW8X,EAAc,QAC3D,GAAuB,OAAnBv6I,EAAEmR,OAAO,EAAG,GAErBw3I,GAAc3jE,iBAAiB5vF,GAAQ6mG,iBAAiBj8F,GAAK,IAAIgN,OACjE4U,GAAY,GACZ+sH,GAAUltH,UAAY,EAEjBktH,GAAU9yI,KAAK8sJ,KAElBE,EAAYjgB,GAAQ+f,GACpBC,EAAUhgB,GAAQhnH,IAGpBgnI,EAAUC,IAAcD,IAAYD,EAAaf,GAAexyJ,EAAQ4K,EAAG2oJ,EAAYC,GAAWA,GAAWC,IAAcjnI,GAAYinI,GACvIl8J,KAAKsB,IAAI0P,EAAO,cAAegrJ,EAAY/mI,EAAU3L,EAAOsrH,EAAS,EAAG,EAAGvhI,GAC3EqtB,EAAM9zB,KAAKyG,GACXitJ,EAAY1zJ,KAAKyG,EAAG,EAAGrC,EAAMqC,SACxB,GAAa,cAATnJ,EAAsB,CAsC/B,GArCI4xI,GAAWzoI,KAAKyoI,GAElBkgB,EAAmC,mBAAflgB,EAAQzoI,GAAoByoI,EAAQzoI,GAAGxH,KAAKiqI,EAAOxsH,EAAO7gB,EAAQmsI,GAAWkH,EAAQzoI,GACzG2+H,GAAUgqB,KAAgBA,EAAW1hJ,QAAQ,aAAe0hJ,EAAa/d,GAAe+d,IACxF/f,GAAQ+f,EAAa,MAAQA,GAAc5qB,GAAQtoD,MAAMz1E,IAAM4oI,GAAQ5hD,GAAK5xF,EAAQ4K,KAAO,IAE3D,OAA/B2oJ,EAAa,IAAI3nG,OAAO,KAAe2nG,EAAa3hE,GAAK5xF,EAAQ4K,KAElE2oJ,EAAa3hE,GAAK5xF,EAAQ4K,GAG5Bs5I,EAAWt4D,WAAW2nE,IACtBmE,EAAoB,WAATj2J,GAA4C,MAAvB+qB,EAASo/B,OAAO,IAAcp/B,EAASzQ,OAAO,EAAG,MACpEyQ,EAAWA,EAASzQ,OAAO,IACxCioI,EAASp4D,WAAWp/D,GAEhB5hB,KAAKskJ,KACG,cAANtkJ,IAEe,IAAbs5I,GAAiD,WAA/BtyD,GAAK5xF,EAAQ,eAA8BgkJ,IAE/DE,EAAW,GAGb2T,EAAY1zJ,KAAK,aAAc,EAAGoE,EAAMuvJ,YAExC7F,GAAkB16J,KAAMgR,EAAO,aAAc27I,EAAW,UAAY,SAAUF,EAAS,UAAY,UAAWA,IAGtG,UAANp5I,GAAuB,cAANA,KACnBA,EAAIskJ,GAAiBtkJ,IAClBiH,QAAQ,OAASjH,EAAIA,EAAE4E,MAAM,KAAK,KAIzCmoJ,EAAqB/sJ,KAAK+jJ,GAexB,GAZAp3J,KAAK6xC,OAAOyvB,KAAKjuD,GAEZgtJ,KACH/lH,EAAQ7xC,EAAOqsI,OACTxvF,kBAAoB1e,EAAK45H,gBAAkB9E,GAAgBjzJ,EAAQm+B,EAAK45H,gBAE9ExoF,GAA+B,IAAtBpxC,EAAK65H,cAA0BnmH,EAAM09B,QAC9CqoF,EAAqBrgK,KAAKq6I,IAAM,IAAI+F,GAAUpgJ,KAAKq6I,IAAKrpI,EAAO0nJ,GAAgB,EAAG,EAAGp+G,EAAMgL,gBAAiBhL,EAAO,GAAI,IAEpGu2G,IAAM,GAGjB,UAANx9I,EACFrT,KAAKq6I,IAAM,IAAI+F,GAAUpgJ,KAAKq6I,IAAK//F,EAAO,SAAUA,EAAM1H,QAASutH,EAAW3qB,GAAel7F,EAAM1H,OAAQutH,EAAW1T,GAAUA,GAAUnyG,EAAM1H,QAAU,EAAGklH,IAC7J93J,KAAKq6I,IAAI98H,EAAI,EACbmjB,EAAM9zB,KAAK,SAAUyG,GACrBA,GAAK,QACA,IAAU,oBAANA,EAAyB,CAClCitJ,EAAY1zJ,KAAK+rJ,GAAsB,EAAG3nJ,EAAM2nJ,KAChD1jI,EAAWmnI,GAA8BnnI,GAErCqlB,EAAM+lB,IACR88F,GAAgB10J,EAAQwsB,EAAU,EAAG+iD,EAAQ,EAAGh4E,QAEhDi8J,EAAU5nE,WAAWp/D,EAAShd,MAAM,KAAK,KAAO,KAEpCqiC,EAAMshH,SAAWlB,GAAkB16J,KAAMs6C,EAAO,UAAWA,EAAMshH,QAASK,GAEtFvB,GAAkB16J,KAAMgR,EAAOqC,EAAGsoJ,GAAcK,GAAaL,GAAc1mI,KAG7E,QACF,CAAO,GAAU,cAAN5hB,EAAmB,CAC5B8pJ,GAAgB10J,EAAQwsB,EAAU,EAAG+iD,EAAQ,EAAGh4E,MAEhD,QACF,CAAO,GAAIqT,KAAKopJ,GAAuB,CACrCgD,GAAwBz/J,KAAMs6C,EAAOjnC,EAAGs5I,EAAUwT,EAAW3qB,GAAemX,EAAUwT,EAAWlrI,GAAYA,GAE7G,QACF,CAAO,GAAU,iBAAN5hB,EAAsB,CAC/BqnJ,GAAkB16J,KAAMs6C,EAAO,SAAUA,EAAM09B,OAAQ/iD,GAEvD,QACF,CAAO,GAAU,YAAN5hB,EAAiB,CAC1BinC,EAAMjnC,GAAK4hB,EACX,QACF,CAAO,GAAU,cAAN5hB,EAAmB,CAC5BusJ,GAAoB5/J,KAAMi1B,EAAUxsB,GAEpC,QACF,OACW4K,KAAKrC,IAChBqC,EAAIomJ,GAAiBpmJ,IAAMA,GAG7B,GAAI+sJ,IAAuB3T,GAAqB,IAAXA,KAAkBE,GAAyB,IAAbA,KAAoB+K,GAAYxoJ,KAAK+lB,IAAa5hB,KAAKrC,EAExHy7I,IAAWA,EAAS,IADpByP,GAAaF,EAAa,IAAIx3I,QAAQmoI,EAAW,IAAIzpJ,YAGrD+4J,EAAUhgB,GAAQhnH,KAAc5hB,KAAK+9H,GAAQtoD,MAAQsoD,GAAQtoD,MAAMz1E,GAAK6oJ,MAC9CvP,EAAWsO,GAAexyJ,EAAQ4K,EAAG2oJ,EAAYC,IAC3Ej8J,KAAKq6I,IAAM,IAAI+F,GAAUpgJ,KAAKq6I,IAAK+lB,EAAqB9lH,EAAQtpC,EAAOqC,EAAGs5I,GAAWwT,EAAW3qB,GAAemX,EAAUwT,EAAW1T,GAAUA,GAAUE,EAAWyT,GAAmC,OAAZnE,GAA0B,WAAN5oJ,IAAsC,IAAnBuzB,EAAK85H,UAA8C5I,GAAxBG,IAC5Pj4J,KAAKq6I,IAAI98H,EAAI0+I,GAAW,EAEpBC,IAAcD,GAAuB,MAAZA,IAE3Bj8J,KAAKq6I,IAAIlnI,EAAI6oJ,EACbh8J,KAAKq6I,IAAIpnI,EAAI+kJ,SAEV,GAAM3kJ,KAAKrC,EAUhB8qJ,GAAuBjwJ,KAAK7L,KAAMyI,EAAQ4K,EAAG2oJ,EAAYmE,EAAWA,EAAWlrI,EAAWA,QAT1F,GAAI5hB,KAAK5K,EAEPzI,KAAKsB,IAAImH,EAAQ4K,EAAG2oJ,GAAcvzJ,EAAO4K,GAAI8sJ,EAAWA,EAAWlrI,EAAWA,EAAU3L,EAAOsrH,QAC1F,GAAU,mBAANvhI,EAAwB,CACjCogI,GAAepgI,EAAG4hB,GAElB,QACF,CAKFmrI,IAAuB/sJ,KAAKrC,EAAQsvJ,EAAY1zJ,KAAKyG,EAAG,EAAGrC,EAAMqC,IAAMitJ,EAAY1zJ,KAAKyG,EAAG,EAAG2oJ,GAAcvzJ,EAAO4K,KACnHqtB,EAAM9zB,KAAKyG,EACb,CAGFu6I,GAAeY,GAA0BxuJ,KAC3C,EACA+yD,OAAQ,SAAgBs2D,EAAO3/G,GAC7B,GAAIA,EAAKosI,MAAMqD,QAAU,KAGvB,IAFA,IAAIriI,EAAKpN,EAAK2wI,IAEPvjI,GACLA,EAAG7D,EAAEo2G,EAAOvyG,EAAGrD,GACfqD,EAAKA,EAAGqgI,WAGVztI,EAAKmoC,OAAOkmG,QAEhB,EACAprH,IAAK0tE,GACL6lD,QAASyX,GACT3X,UAAW,SAAmBv3I,EAAQwuE,EAAU3wC,GAE9C,IAAIjzB,EAAIskJ,GAAiB1gF,GAEzB,OADA5jE,GAAKA,EAAEiH,QAAQ,KAAO,IAAM28D,EAAW5jE,GAChC4jE,KAAYmgF,IAAmBngF,IAAa0hF,KAAyBlwJ,EAAOqsI,MAAMloH,GAAKytE,GAAK5xF,EAAQ,MAAQ69B,GAAU4wH,KAAwB5wH,EAAsB,UAAb2wC,EAAuBshF,GAAeD,IAAoBpB,GAAsB5wH,GAAU,CAAC,KAAoB,UAAb2wC,EAAuBuhF,GAAyBC,IAA8BhwJ,EAAOuI,QAAUmhI,GAAa1pI,EAAOuI,MAAMimE,IAAamhF,IAAmBnhF,EAAS38D,QAAQ,KAAO+9I,GAAiBpY,GAAWx3I,EAAQwuE,EACvd,EACAo+E,KAAM,CACJoF,gBAAiBA,GACjBoC,WAAYA,KAGhBrpB,GAAK2gB,MAAMwM,YAAclH,GACzBjmB,GAAK6hB,KAAKuL,cAAgB1H,GAGpB8G,GAAM3qB,IADD0qB,GAgBR,+CAfyC,KADfznF,GAgBqB,4CAfzBynF,kFAAkD,SAAU91J,GACjFmtJ,GAAgBntJ,GAAQ,CAC1B,IAEAorI,GAAa/8D,IAAU,SAAUruE,GAC/BmnI,GAAQtoD,MAAM7+E,GAAQ,MACtBwyJ,GAAsBxyJ,GAAQ,CAChC,IAEA0tJ,GAAiBqI,GAAI,KAAOD,GAAmB,IAAMznF,GAErD+8D,GAI6K,8FAJvJ,SAAUprI,GAC9B,IAAIgO,EAAQhO,EAAKgO,MAAM,KACvB0/I,GAAiB1/I,EAAM,IAAM+nJ,GAAI/nJ,EAAM,GACzC,IAGFo9H,GAAa,gFAAgF,SAAUprI,GACrGmnI,GAAQtoD,MAAM7+E,GAAQ,IACxB,IAEAupI,GAAKuf,eAAekN,IC5gDpB,IAAIY,GAAcrtB,GAAKuf,eAAekN,KAAczsB,GAElCqtB,GAAYxL,KAAKtZ,MCEnC,SAASx2I,GAAOxF,GACZ,IAAI6jD,EAAO7jD,EAAGkI,wBACVT,EAAa5E,OAAO83F,aAAez5F,SAASs1G,gBAAgB/uG,WAC5D+lF,EAAY3qF,OAAO63F,aAAex5F,SAASs1G,gBAAgBhpB,UAC/D,MAAO,CAAE3lF,IAAKg8C,EAAKh8C,IAAM2lF,EAAW5lF,KAAMi8C,EAAKj8C,KAAOH,EAC1D,CAEA,IAAIs5J,GAAgB7/J,SAASiB,iBAAiB,2BAC9C,GAAGC,QAAQ0J,KAAKi1J,IAAe,SAAU/gK,GACrC,MAAMy1G,EAAS,IAAIoZ,GAAO7uH,EAAI,CAC1B46G,gBAAgB,EAChBmB,gBAAgB,EAChBvB,aAAc,GACdoI,aAAc,EACdxH,cAAe,EACfz4F,MAAM,EACNggE,MAAO,IACPwZ,YAAa,CACT,IAAK,CAAEqe,aAAc,IACrB,IAAK,CAAEY,cAAe,IAAKR,gBAAgB,MAInD,IACI+S,EAAS3tH,EAAGI,cAAc,2BAC1BkN,GAAO,EACPyE,EAAY,GACZyB,EAAI,EACOoK,aAAY,WACnBtQ,IACS,GAALkG,IACiB,QAAbzB,GACA0jG,EAAO6N,YAEM,SAAbvxG,GACA0jG,EAAOoN,aAGfrvG,GAAK,IAfD,KAgBAA,IACAA,EAAI,GAGhB,GAAG,KACHxT,EAAGghK,aAAe,WACd1zJ,GAAO,CACX,EACAtN,EAAGihK,aAAe,WACd3zJ,GAAO,CACX,EAEAtN,EAAGO,iBAAiB,aAAcC,IAC9BiB,QAAQC,IAAI1B,EAAG+I,UAAWvI,EAAE8lH,OAC5BmtB,GAAKp+G,GAAGs4F,EAAQ,IAAM,CAClB/lH,KAAMpH,EAAE4lH,MACRv+G,IAAKrH,EAAE8lH,MAAQ9gH,GAAOxF,GAAI6H,MAG9BkK,EAAY,GACRzE,GAAQ9M,EAAE69H,QAAUx7H,OAAOG,WAAa,IACxCsK,GAAO,EACPyE,EAAY,OACZyB,EAAI,EACJ/R,QAAQC,IAAI,kBAGZ4L,GAAQ9M,EAAE69H,QAAUx7H,OAAOG,WAAaH,OAAOG,WAAa,IAC5DwQ,EAAI,EACJlG,GAAO,EACPyE,EAAY,QACZtQ,QAAQC,IAAI,kBAChB,GAER,IC3EAR,SAASiB,iBAAiB,aAAaC,SAASpC,IAC7B,IAAI6uH,GAAO7uH,EAAI,CAC1Bo7G,cAAe,EACfW,gBAAgB,EAChBvB,aAAc,GACdqgB,WAAY,CACR76H,GAAIA,EAAGI,cAAc,mBACrB+J,KAAM,WAEVgyF,YAAa,CACT,IAAK,CAAEif,cAAe,EAAGZ,aAAc,IACvC,KAAM,CAAEY,cAAe,KAE7B,6BCfFpf,EAAQC,QACR/6F,SAASiB,iBAAiB,gBAAgBC,SAAQoE,IAC9C,MAAMme,EAAUne,EAAUpG,cAAc,wBAExCukB,GAASpkB,iBAAiB,SAAS,KAC/BiG,EAAUlF,UAAUs2F,OAAO,aAAa,IAG5C12F,SAASX,iBAAiB,SAASC,IAC3BA,EAAEkI,SAAWlC,GAAcA,EAAUzD,SAASvC,EAAEkI,SAChDlC,EAAUlF,UAAUY,OAAO,aAC/B,GACF,6BCRVhB,SAASiB,iBAAiB,gBAAgBC,SAASpC,IAChC,IAAI6uH,GAAO7uH,EAAI,CAC1Bo7G,cAAe,OACfW,gBAAgB,EAChBvB,aAAc,GACdqgB,WAAY,CACR76H,GAAIA,EAAGI,cAAc,sBACrB+J,KAAM,WAEVgyF,YAAa,CACT,IAAK,CACDif,cAAe,EACfZ,aAAc,KAGtB73F,MAAM,GACR,IAENzhB,SAASiB,iBAAiB,kBAAkBC,SAASpC,IAClC,IAAI6uH,GAAO7uH,EAAI,CAC1Bo7G,cAAe,OACfW,gBAAgB,EAChBvB,aAAc,GACdqgB,WAAY,CACR76H,GAAIA,EAAGI,cAAc,wBACrB+J,KAAM,WAEVgyF,YAAa,CACT,KAAM,CAAEqe,aAAc,GAAIY,cAAe,GACzC,KAAM,CAAEZ,aAAc,GAAIY,cAAe,GACzC,KAAM,CAAEZ,aAAc,GAAIY,cAAe,KAE/C,IAGNl6G,SAASiB,iBAAiB,mBAAmBC,SAASpC,IACnC,IAAI6uH,GAAO7uH,EAAI,CAC1Bo7G,cAAe,OACfW,gBAAgB,EAChBvB,aAAc,GACdqgB,WAAY,CACR76H,GAAIA,EAAGI,cAAc,yBACrB+J,KAAM,WAEVgyF,YAAa,CACT,IAAK,CAAEqe,aAAc,GAAIY,cAAe,KAE9C,iEC/CDpf,EAAQC,QAET/6F,SAASiB,iBAAiB,sBAAsBC,SAAQ8+J,IACpDA,EAAM5zJ,MAAM,IAMf0uF,EAAQC,QACT/6F,SAASiB,iBAAiB,oBAAoBC,SAAQ+E,IAClD,MAAMwB,EAAKxB,EAAIlE,QAAQ0F,GACjB+U,EAAMvW,EAAIinG,QAAQ,iBAAiBhuG,cAAe,4BAA2BuI,OAEnFxB,EAAI5G,iBAAiB,cAAc,KAC/Bmd,GAAKpc,UAAUC,IAAI,cAAc,IAGrC4F,EAAI5G,iBAAiB,cAAc,KAC/Bmd,GAAKpc,UAAUY,OAAO,cAAc,GACtC,IAKVhB,SAASiB,iBAAiB,gBAAgBC,SAAQpC,IAC9C,MAAMwG,EAAYxG,EAEZmhK,EAAS36J,EAAUpG,cAAc,uBACjCghK,EAAgB56J,EAAUpG,cAAc,wBACxCihK,EAAU76J,EAAUpG,cAAc,yBAClCkhK,EAAU96J,EAAUpG,cAAc,yBAElCozD,EAASA,KACX,MAAM+tG,EAAgB1+J,OAAOuE,QACvB0mF,EAAcyzE,EARJ,IASV17G,EAAUt2C,KAAKO,IAAI,EAAIg+E,EAAa,GAG1C2lD,GAAKp+G,GAAG7uB,EAAW,CACfq/C,UACA/kC,SAAU,IAIVqgJ,GACA1tB,GAAKp+G,GAAG8rI,EAAQ,CACZzrI,GAAoB,IAAjB6rI,EACHzgJ,SAAU,IAKdsgJ,GACA3tB,GAAKp+G,GAAG+rI,EAAe,CACnB1rI,GAAoB,GAAjB6rI,EACHzgJ,SAAU,IAKdugJ,GACA5tB,GAAKp+G,GAAGgsI,EAAS,CACb3rI,GAAoB,GAAjB6rI,EACHzgJ,SAAU,IAIdwgJ,GACA7tB,GAAKp+G,GAAGisI,EAAS,CACb5rI,GAAoB,GAAjB6rI,EACHzgJ,SAAU,GAElB,EAGJ0yC,IAEAtyD,SAASX,iBAAiB,SAAUizD,EAAO,IAK/CtyD,SAASiB,iBAAiB,wBAAwBC,SAAQpC,IACtD,IAAIy9C,EAAO,MACX,MAAMj3C,EAAYtF,SAASd,cAAc,sBACnCohK,IAAS,IAAIl+J,MAAOC,mBAAmB,QAAS,CAClDC,SAAU,gBACVC,KAAM,aAGN+9J,GAAS,IAAMA,EAAQ,KACvB/jH,EAAO,QAGP+jH,GAAS,IAAMA,EAAQ,KACvB/jH,EAAO,SAGXj3C,GAAWlF,UAAUY,OAAO,YAAa,aAAc,eACvDsE,GAAWlF,UAAUC,IAAK,SAAQk8C,IAAO,IAKxCu+C,EAAQC,QACT/6F,SAASiB,iBAAiB,oBAAoBC,SAAQpC,IAClD,MAAMwG,EAAYxG,EAAGI,cAAc,cAC7Bkb,EAAYmmJ,KAAAA,cAAqB,CACnCj7J,UAAWA,EACXoc,SAAU,MACVD,MAAM,EACND,UAAU,EACVjN,KAAMjP,EAAUvD,QAAQ8D,MAG5BuU,EAAU/a,iBAAiB,cAAc,KACrC+a,EAAUgM,YAAY,IAAI,EAAK,IAGnCtnB,EAAGO,iBAAiB,cAAc,KAC9B+a,EAAUsM,YAAY,IAAI,EAAK,IAGnC5nB,EAAGO,iBAAiB,cAAc,KAC9B+a,EAAUgM,YAAY,IAAI,EAAK,GACjC,IAMVpmB,SAASiB,iBAAiB,sBAAsBC,SAASpC,IACrD,IAAI6uH,GAAO7uH,EAAI,CACXo7G,cAAe,KACfW,gBAAgB,EAChBvB,aAAc,GACdqgB,WAAY,CACR76H,GAAIA,EAAGI,cAAc,aACrB+J,KAAM,WAEVgyF,YAAa,CACT,IAAK,CAAEif,cAAe,EAAGZ,aAAc,IACvC,KAAM,CAAEY,cAAe,KAE7B,sDCjJNl6G,SAASiB,iBAAiB,oBAAoBC,SAASpC,IACnD,MAAMy1G,EAAS,IAAIoZ,GAAO7uH,EAAGI,cAAc,4BAA6B,CACpEg7G,cAAe,EACfW,gBAAgB,EAChBsL,gBAAgB,EAChBnI,YAAY,IAEhBl/G,EAAGmC,iBAAiB,4BAA4BC,SAAS+G,IACrDA,EAAO5I,iBAAiB,SAAUuC,IAC9B9C,EAAGmC,iBAAiB,4BAA4BC,SAAS+E,IACrDA,EAAI7F,UAAUY,OAAO,UAAU,IAGnCiH,EAAO7H,UAAUC,IAAI,WACrBk0G,EAAOoM,QAAQ14G,EAAOlG,QAAQo4G,MAAM,GACtC,GACJ,ICWNn6G,SAASiB,iBAAiB,kBAAkBC,SAASs/J,IACjD,IAAIC,EAAoB,EACxBD,EAAWv/J,iBAAiB,SAASC,SAASmhG,IAC1CA,EAAMn5F,aAAa,YAAa,GAChCm5F,EAAMhjG,iBAAiB,UAAU,WACzBgjG,EAAMq+D,UACND,IACAp+D,EAAMn5F,aAAa,YAAau3J,IAzBhD,SAAyBD,GACrB,IAAIG,EAASH,EAAWv/J,iBAAiB,SACzC,IAAI2/J,EAActzJ,MAAM7C,UAAUof,MAAMjf,KAAK+1J,EAAQ,GAErDC,EAAY7yE,MAAK,SAAUh2E,EAAG7F,GAC1B,OAAO6F,EAAElY,aAAa,aAAeqS,EAAErS,aAAa,YACxD,IACA,IAAIq3F,EAAS,EACb0pE,EAAY1/J,SAASmhG,IACbA,EAAMq+D,UACNr+D,EACK6K,QAAQ,qCACRhuG,cAAc,0BAA0B4J,UAAYouF,EACzDA,IACJ,GAER,CAWY2pE,CAAgBL,EACpB,GAAE,GACJ,IAQNxgK,SAASiB,iBAAiB,iBAAiBC,SAASpC,IAChD,MAAMy1G,EAAS,IAAIoZ,GAAO7uH,EAAI,CAC1Bo7G,cAAe,EACfW,gBAAgB,EAChBvB,aAAc,GACdqgB,WAAY,CACR76H,GAAI,qBACJmK,KAAM,WAEVigH,eAAe,EACf/C,gBAAgB,IAEpBrnH,EAAGI,cAAc,eAAeG,iBAAiB,SAAS,WACtDk1G,EAAOoN,WACX,IACA7iH,EAAGmC,iBAAiB,eAAeC,SAASmF,IACxC,IAAI8zG,EAAQ9zG,EAAK6mG,QAAQ,iBACzB7mG,EAAKhH,iBAAiB,SAAS,SAAUC,GACrC,IAAImB,EAtEhB,SAA0B05G,GACtB,IAAI15G,GAAQ,EAYZ,OAXI05G,EAAMj7G,cAAc,yBACpBi7G,EAAMl5G,iBAAiB,SAASC,SAASmhG,IAChCA,EAAMq+D,UACPjgK,GAAQ,EACZ,IAGkD,GAAlD05G,EAAMl5G,iBAAiB,iBAAiBgB,SACxCxB,GAAQ,GAGTA,CACX,CAwDwBqgK,CAAiB3mD,GACzB15G,GACAnB,EAAEC,iBACF46G,EAAM/5G,UAAUC,IAAI,qBACpBoC,YAAW,KACP03G,EAAM/5G,UAAUY,OAAO,oBAAoB,GAC5C,MAEHuzG,EAAOoN,WAEf,GAAE,GACJ,6BC/EN,GCCA3hH,SAASiB,iBAAiB,gBAAgBC,SAASpC,IAC/C,MAAMy1G,EAAS,IAAIoZ,GAAO7uH,EAAGI,cAAc,kBAAmB,CAC1Dg7G,cAAe,EACfW,gBAAgB,EAChBsL,gBAAgB,EAChBnI,YAAY,EACZ/iB,YAAa,CACT,IAAK,CACD+iB,YAAY,MAKxBl/G,EAAGmC,iBAAiB,sBAAsBC,SAAS+G,IAC/CA,EAAO5I,iBAAiB,SAAUuC,IAC9B9C,EAAGmC,iBAAiB,sBAAsBC,SAAS+E,IAC/CA,EAAI7F,UAAUY,OAAO,UAAU,IAGnCiH,EAAO7H,UAAUC,IAAI,WACrBk0G,EAAOoM,QAAQ14G,EAAOlG,QAAQo4G,MAAM,GACtC,GACJ,IAGNn6G,SAASiB,iBAAiB,sBAAsBC,SAAS6/J,IACrDA,EAAO1hK,iBAAiB,aAAa,WACjCW,SACKiB,iBACI,gCAA+B8/J,EAAOh/J,QAAQi/J,UAElD9/J,SAASk+D,IACNA,EAAIh/D,UAAUC,IAAI,WAAW,GAEzC,IACA0gK,EAAO1hK,iBAAiB,YAAY,WAChCW,SACKiB,iBACI,gCAA+B8/J,EAAOh/J,QAAQi/J,UAElD9/J,SAASk+D,IACNA,EAAIh/D,UAAUY,OAAO,WAAW,GAE5C,GAAE,IC5CNhB,SAASiB,iBAAiB,QAAQC,SAASpC,IACvCA,EAAGI,cAAc,cAAcG,iBAAiB,SAAS,SAAU4hK,GAC3DniK,EAAGsB,UAAUyB,SAAS,UACtB/C,EAAGsB,UAAUY,OAAO,SACpBo6F,EAAQt8F,EAAGI,cAAc,cAAe,OAExCJ,EAAGsB,UAAUC,IAAI,SACjBq7F,EAAU58F,EAAGI,cAAc,cAAe,KAElD,GAAE,IFTFc,SAASd,cAAc,SAAU,CACjC,IAAIgiK,EAAMlhK,SAASd,cAAc,cAC7BiiK,EAAMnhK,SAASd,cAAc,eAC7BkiK,EAAMphK,SAASd,cAAc,eACjCc,SAASd,cAAc,SAASG,iBAAiB,aAAcC,IAC3D,IAAIqsB,EAAIrsB,EAAE69H,QAAUx7H,OAAOG,WACnBxC,EAAE89H,QAAUz7H,OAAOunG,YAC3BqpC,GAAKp+G,GAAGgtI,EAAK,IAAM,CACfzhI,QAAa,EAAL/T,EAAS,IAErB4mH,GAAKp+G,GAAGitI,EAAK,IAAM,CACf1hI,QAAa,EAAL/T,EAAS,IAErB4mH,GAAKp+G,GAAG+sI,EAAK,GAAK,CACdxhI,OAAY,GAAJ/T,GACV,GAEV,CGbA3rB,SAASiB,iBAAiB,kBAAkBC,SAASpC,IAClC,IAAI6uH,GAAO7uH,EAAI,CAC1Bo7G,cAAe,OACfW,gBAAgB,EAChBvB,aAAc,GAKdre,YAAa,CACT,KAAM,CACFif,cAAe,EACfZ,aAAc,IAElB,KAAM,CACFY,cAAe,EACfZ,aAAc,MAGxB,IAENt5G,SAASiB,iBAAiB,kBAAkBC,SAASpC,IAClC,IAAI6uH,GAAO7uH,EAAI,CAC1Bo7G,cAAe,OACfW,gBAAgB,EAChBvB,aAAc,GAKdre,YAAa,CACT,KAAM,CACFif,cAAe,EACfZ,aAAc,MAGxB,IAEN,IAAIt6G,GAAOgB,SAASd,cAAc,0BAClC,GAAIF,GAAM,CACN,IAAIqiK,EAAax+J,KAAKC,MAAM9D,GAAK+C,QAAQs/J,YACzCriK,GAAKmJ,SAAW,SAAU7I,GACtBM,MAAMyhK,EAAWn5J,IAAK,CAClBpI,OAAQuhK,EAAWvhK,OACnBG,KAAM,IAAIC,SAASlB,IACnBe,QAAS,CACL,eAAgBC,SACXd,cAAc,2BACdW,aAAa,cAGrB2I,MAAM7I,GAAaA,EAASF,SAC5B+I,MAAMC,IACHzI,SAASd,cAAc,4BAA4B6B,UAC/C0H,EAAK64J,SACTthK,SAASd,cAAc,yBAAyB6B,UAC5CwlB,OAAO9d,EAAK84J,OAAOC,iBAAiBj6J,QAAQ,KAAM,KACtDvH,SAASd,cAAc,wBAAwB6B,UAC3C0H,EAAKurG,IAAI,GAEzB,CACJ,CCjEAh0G,SAASiB,iBAAiB,wBAAwBC,SAASpC,IACnDA,EAAGI,cAAc,+BACjBJ,EAAGI,cAAc,8BAA8BG,iBAC3C,SACA,WACQP,EAAGsB,UAAUyB,SAAS,UACtB/C,EAAGsB,UAAUY,OAAO,SACpBo6F,EAAQt8F,EAAGI,cAAc,6BAA8B,OAEvDJ,EAAGsB,UAAUC,IAAI,SACjBq7F,EACI58F,EAAGI,cAAc,6BACjB,KAGZ,GAER,IAEJ,IAAIuiK,GAAczhK,SAASd,cAAc,iBACzCc,SACKd,cAAc,sBACbG,iBAAiB,SAAS,WACxBoiK,GAAYrhK,UAAUC,IAAI,QAC9B,IACJL,SACKd,cAAc,yBACbG,iBAAiB,SAAS,WACxBoiK,GAAYrhK,UAAUY,OAAO,QACjC,IAEJ,IAAI8G,GAAW9H,SAASd,cAAc,mCAClC6I,GAAQ/H,SAASd,cAAc,kCAC/B8I,GAAOhI,SAASd,cAAc,eAC9B+I,GAASjI,SAASd,cAAc,iBACpC,MAAMgJ,GAAMD,IAAQpI,aAAa,UAC3BC,GAASmI,IAAQpI,aAAa,UAQpC,SAASiyD,KACLlyD,MAAMsI,GAAK,CACPpI,OAAQA,GACRG,KAAM,IAAIC,SAAS+H,IACnBlI,QAAS,CACL,eAAgBC,SACXd,cAAc,2BACdW,aAAa,cAGrB2I,MAAM7I,GAAaA,EAASF,SAC5B+I,MAAMC,IACHT,GAAKjH,UAAY,GACjBR,QAAQC,IAAIiI,GACRA,EAAKC,MAAMzG,OACXwG,EAAKC,MAAMxH,SAASyH,IAChB,IAAIC,EAAQd,GAASe,WAAU,GAC3B64J,EAAU94J,EAAM1J,cAChB,iDAEAyiK,EAAa/4J,EAAM1J,cACnB,mDAEA0iK,EAASh5J,EAAM1J,cAAc,0BAC7BkwF,EAAOxmF,EAAM1J,cAAc,wBAC3By1C,EAAS/rC,EAAM1J,cAAc,0BAEjCy1C,EAAO5zC,UAAY,GACf4H,EAAKk5J,QACLltH,EAAOmtH,mBACH,YACC,YAAWn5J,EAAKk5J,uGAC2Bl5J,EAAKo5J,kGAElCp5J,EAAKrB,wCAGxBqtC,EAAOmtH,mBACH,YACC,YAAWn5J,EAAKrB,2JAKzBo6J,EAAQ3gK,UAAY,GACpB4gK,EAAW5gK,UAAY,GACvB6H,EACK1J,cAAc,8BACdgK,aAAa,OAAQP,EAAKrB,MAC/BsB,EAAM1J,cACF,mCACF4J,UAAYH,EAAK4yD,MACnB3yD,EAAM1J,cAAc,yBAAyB4J,UACzCH,EAAK4yD,MACT3yD,EACK1J,cAAc,+BACd4iK,mBAAmB,cAAen5J,EAAKqrG,MAC5CprG,EACK1J,cAAc,2BACdgK,aAAa,MAAOP,EAAK6T,KAE1B7T,EAAK+4J,SACL/4J,EAAK+4J,QAAQxgK,SAAS8gK,IAClBN,EAAQI,mBACJ,YACC,aAAYE,gBAChB,IAGLr5J,EAAKg5J,YACLh5J,EAAKg5J,WAAWzgK,SAAS8gK,IACrBL,EAAWG,mBACP,YACC,cAAaE,EAAIzlE,UACdylE,EAAI99J,KACE,gBACA89J,EAAI99J,KACJ,WACA,WACD89J,EAAIlhK,mBAChB,IAGL6H,EAAKi5J,QACLA,EAAO7gK,UAAY,GACnB4H,EAAKi5J,OAAO1gK,SAAS+gK,IACjBL,EAAOE,mBACH,YACC,iGAC4BG,EAAMt7J,2EACLs7J,EAAMnhK,4EACNmhK,EAAM55J,oBACvC,KAGLu5J,EAAO5gK,SAEP2H,EAAKymF,MACLA,EAAKruF,UAAY,GACjB4H,EAAKymF,KAAKluF,SAASpC,IACf8iK,EAAOE,mBACH,YACC,cAAahjK,EAAGy9F,UACbz9F,EAAGoF,KACG,gBAAkBpF,EAAGoF,KAAO,WAC5B,WACDpF,EAAGgC,mBACf,KAGLsuF,EAAKpuF,SAGTgH,GAAKmB,YAAYP,EAAM,IAG3BZ,GAAKmB,YAAYpB,GAAMc,WAAU,IAErC44J,GAAYrhK,UAAUY,OAAO,QAAQ,GAEjD,CA/HAhB,SACKd,cAAc,yBACbG,iBAAiB,SAAS,WACxB4I,GAAOhH,iBAAiB,SAASC,SAASyH,IACtCA,EAAK+3J,SAAU,CAAK,GAE5B,IA0HAz4J,KACAA,GAAOE,SAAW,SAAU7I,GACpBqC,OAAOG,WAAa,MACpBgwD,IAER,EACA7pD,GAAO5I,iBAAiB,UAAU,SAAUC,GACxCA,EAAEC,iBACFuyD,IACJ,KC9KJ9xD,SAASiB,iBAAiB,YAAYC,SAASpC,IAC3CA,EAAGI,cAAc,iBAAiBG,iBAC9B,SACA,SAAU6iK,GACFpjK,EAAGsB,UAAUyB,SAAS,UACtB/C,EAAGsB,UAAUY,OAAO,SACpBo6F,EAAQt8F,EAAGI,cAAc,kBAAmB,OAE5CJ,EAAGsB,UAAUC,IAAI,SACjBq7F,EAAU58F,EAAGI,cAAc,kBAAmB,KAEtD,GACH,6BCZLc,SAASiB,iBAAiB,uBAAuBC,SAASpC,IACtD,IAAI6uH,GAAO7uH,EAAI,CACXo7G,cAAe,KACfW,gBAAgB,EAChBvB,aAAc,GACdre,YAAa,CACT,IAAK,CAAEif,cAAe,KACtB,IAAM,CAAEA,cAAe,GACvB,KAAM,CAAEA,cAAe,KAE7B,ICVNz3G,YAAW,KACPq4F,EAAQE,EAAE56F,UAAUC,IAAI,gBAAgB,GACzC","sources":["webpack://webpack-template/./src/components/form/form.js","webpack://webpack-template/./src/components/header/header.js","webpack://webpack-template/./src/components/map/map.js","webpack://webpack-template/./src/components/video-popup/video-popup.js","webpack://webpack-template/./src/js/layout.js","webpack://webpack-template/./src/pages/glosarii/glosarii.js","webpack://webpack-template/./src/pages/history/history.js","webpack://webpack-template/./src/pages/press/press.js","webpack://webpack-template/./src/pages/shedule/shedule.js","webpack://webpack-template/./node_modules/lottie-web/build/player/lottie.js","webpack://webpack-template/./node_modules/scrollmagic/scrollmagic/uncompressed/ScrollMagic.js","webpack://webpack-template/webpack/bootstrap","webpack://webpack-template/webpack/runtime/amd options","webpack://webpack-template/webpack/runtime/compat get default export","webpack://webpack-template/webpack/runtime/define property getters","webpack://webpack-template/webpack/runtime/hasOwnProperty shorthand","webpack://webpack-template/./src/js/globals.js","webpack://webpack-template/./src/js/identifyDevice.js","webpack://webpack-template/./src/js/scrollTriggers.js","webpack://webpack-template/./node_modules/slim-select/dist/slimselect.es.js","webpack://webpack-template/./src/components/select/select.js","webpack://webpack-template/./node_modules/ssr-window/ssr-window.esm.js","webpack://webpack-template/./node_modules/dom7/dom7.esm.js","webpack://webpack-template/./node_modules/swiper/shared/dom.js","webpack://webpack-template/./node_modules/swiper/shared/utils.js","webpack://webpack-template/./node_modules/swiper/shared/get-support.js","webpack://webpack-template/./node_modules/swiper/shared/get-device.js","webpack://webpack-template/./node_modules/swiper/shared/get-browser.js","webpack://webpack-template/./node_modules/swiper/core/events-emitter.js","webpack://webpack-template/./node_modules/swiper/core/update/index.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSize.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSlides.js","webpack://webpack-template/./node_modules/swiper/core/update/updateAutoHeight.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSlidesOffset.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSlidesProgress.js","webpack://webpack-template/./node_modules/swiper/core/update/updateProgress.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSlidesClasses.js","webpack://webpack-template/./node_modules/swiper/core/update/updateActiveIndex.js","webpack://webpack-template/./node_modules/swiper/core/update/updateClickedSlide.js","webpack://webpack-template/./node_modules/swiper/core/translate/index.js","webpack://webpack-template/./node_modules/swiper/core/translate/getTranslate.js","webpack://webpack-template/./node_modules/swiper/core/translate/setTranslate.js","webpack://webpack-template/./node_modules/swiper/core/translate/minTranslate.js","webpack://webpack-template/./node_modules/swiper/core/translate/maxTranslate.js","webpack://webpack-template/./node_modules/swiper/core/translate/translateTo.js","webpack://webpack-template/./node_modules/swiper/core/transition/transitionEmit.js","webpack://webpack-template/./node_modules/swiper/core/slide/index.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideTo.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideToLoop.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideNext.js","webpack://webpack-template/./node_modules/swiper/core/slide/slidePrev.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideReset.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideToClosest.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideToClickedSlide.js","webpack://webpack-template/./node_modules/swiper/core/loop/index.js","webpack://webpack-template/./node_modules/swiper/core/loop/loopCreate.js","webpack://webpack-template/./node_modules/swiper/core/loop/loopFix.js","webpack://webpack-template/./node_modules/swiper/core/loop/loopDestroy.js","webpack://webpack-template/./node_modules/swiper/core/events/onTouchStart.js","webpack://webpack-template/./node_modules/swiper/core/events/onTouchMove.js","webpack://webpack-template/./node_modules/swiper/core/events/onTouchEnd.js","webpack://webpack-template/./node_modules/swiper/core/events/onResize.js","webpack://webpack-template/./node_modules/swiper/core/events/onClick.js","webpack://webpack-template/./node_modules/swiper/core/events/onScroll.js","webpack://webpack-template/./node_modules/swiper/core/events/index.js","webpack://webpack-template/./node_modules/swiper/core/breakpoints/setBreakpoint.js","webpack://webpack-template/./node_modules/swiper/core/breakpoints/index.js","webpack://webpack-template/./node_modules/swiper/core/breakpoints/getBreakpoint.js","webpack://webpack-template/./node_modules/swiper/core/classes/index.js","webpack://webpack-template/./node_modules/swiper/core/classes/addClasses.js","webpack://webpack-template/./node_modules/swiper/core/classes/removeClasses.js","webpack://webpack-template/./node_modules/swiper/core/check-overflow/index.js","webpack://webpack-template/./node_modules/swiper/core/defaults.js","webpack://webpack-template/./node_modules/swiper/core/moduleExtendParams.js","webpack://webpack-template/./node_modules/swiper/core/core.js","webpack://webpack-template/./node_modules/swiper/core/transition/index.js","webpack://webpack-template/./node_modules/swiper/core/transition/setTransition.js","webpack://webpack-template/./node_modules/swiper/core/transition/transitionStart.js","webpack://webpack-template/./node_modules/swiper/core/transition/transitionEnd.js","webpack://webpack-template/./node_modules/swiper/core/grab-cursor/index.js","webpack://webpack-template/./node_modules/swiper/core/grab-cursor/setGrabCursor.js","webpack://webpack-template/./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","webpack://webpack-template/./node_modules/swiper/core/images/index.js","webpack://webpack-template/./node_modules/swiper/core/images/loadImage.js","webpack://webpack-template/./node_modules/swiper/core/images/preloadImages.js","webpack://webpack-template/./node_modules/swiper/core/modules/resize/resize.js","webpack://webpack-template/./node_modules/swiper/core/modules/observer/observer.js","webpack://webpack-template/./node_modules/swiper/shared/create-element-if-not-defined.js","webpack://webpack-template/./node_modules/swiper/shared/classes-to-selector.js","webpack://webpack-template/./node_modules/swiper/modules/manipulation/methods/appendSlide.js","webpack://webpack-template/./node_modules/swiper/modules/manipulation/methods/prependSlide.js","webpack://webpack-template/./node_modules/swiper/modules/manipulation/methods/addSlide.js","webpack://webpack-template/./node_modules/swiper/modules/manipulation/methods/removeSlide.js","webpack://webpack-template/./node_modules/swiper/modules/manipulation/methods/removeAllSlides.js","webpack://webpack-template/./node_modules/swiper/shared/effect-init.js","webpack://webpack-template/./node_modules/swiper/shared/effect-target.js","webpack://webpack-template/./node_modules/swiper/shared/effect-virtual-transition-end.js","webpack://webpack-template/./node_modules/swiper/shared/create-shadow.js","webpack://webpack-template/./node_modules/swiper/swiper-bundle.esm.js","webpack://webpack-template/./node_modules/swiper/modules/virtual/virtual.js","webpack://webpack-template/./node_modules/swiper/modules/keyboard/keyboard.js","webpack://webpack-template/./node_modules/swiper/modules/mousewheel/mousewheel.js","webpack://webpack-template/./node_modules/swiper/modules/navigation/navigation.js","webpack://webpack-template/./node_modules/swiper/modules/pagination/pagination.js","webpack://webpack-template/./node_modules/swiper/modules/scrollbar/scrollbar.js","webpack://webpack-template/./node_modules/swiper/modules/parallax/parallax.js","webpack://webpack-template/./node_modules/swiper/modules/zoom/zoom.js","webpack://webpack-template/./node_modules/swiper/modules/lazy/lazy.js","webpack://webpack-template/./node_modules/swiper/modules/controller/controller.js","webpack://webpack-template/./node_modules/swiper/modules/a11y/a11y.js","webpack://webpack-template/./node_modules/swiper/modules/history/history.js","webpack://webpack-template/./node_modules/swiper/modules/hash-navigation/hash-navigation.js","webpack://webpack-template/./node_modules/swiper/modules/autoplay/autoplay.js","webpack://webpack-template/./node_modules/swiper/modules/thumbs/thumbs.js","webpack://webpack-template/./node_modules/swiper/modules/free-mode/free-mode.js","webpack://webpack-template/./node_modules/swiper/modules/grid/grid.js","webpack://webpack-template/./node_modules/swiper/modules/manipulation/manipulation.js","webpack://webpack-template/./node_modules/swiper/modules/effect-fade/effect-fade.js","webpack://webpack-template/./node_modules/swiper/modules/effect-cube/effect-cube.js","webpack://webpack-template/./node_modules/swiper/modules/effect-flip/effect-flip.js","webpack://webpack-template/./node_modules/swiper/modules/effect-coverflow/effect-coverflow.js","webpack://webpack-template/./node_modules/swiper/modules/effect-creative/effect-creative.js","webpack://webpack-template/./node_modules/swiper/modules/effect-cards/effect-cards.js","webpack://webpack-template/./node_modules/gsap/gsap-core.js","webpack://webpack-template/./node_modules/gsap/CSSPlugin.js","webpack://webpack-template/./node_modules/gsap/index.js","webpack://webpack-template/./src/components/gallerySlider/gallerySlider.js","webpack://webpack-template/./src/components/sliders/sliders.js","webpack://webpack-template/./src/components/droplist/droplist.js","webpack://webpack-template/./src/pages/event/event.js","webpack://webpack-template/./src/pages/home/home.js","webpack://webpack-template/./src/pages/lection/lection.js","webpack://webpack-template/./src/pages/quiz/quiz.js","webpack://webpack-template/./src/pages/404/404.js","webpack://webpack-template/./src/pages/shems/shems.js","webpack://webpack-template/./src/pages/faq/faq.js","webpack://webpack-template/./src/pages/excursion/excursion.js","webpack://webpack-template/./src/pages/afisha/afisha.js","webpack://webpack-template/./src/pages/vacancies/vacancies.js","webpack://webpack-template/./src/pages/podcasts/podcasts.js","webpack://webpack-template/./src/components/preloader/preloader.js"],"sourcesContent":["class Form {\n    constructor(el) {\n        this.form = el;\n        this.submitBtn = this.form.querySelector('.js-form-submit');\n\n        this.bindSubmit();\n        this.bindClose();\n    }\n\n    bindSubmit() {\n        this.form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            this.sendForm();\n        });\n    }\n\n\n    async sendForm() {\n        this.submitBtn.disabled = true;\n        let json;\n\n        const response = await fetch(\n            this.form.getAttribute('action'),\n            {\n                method: this.form.getAttribute('method') || 'POST',\n                headers: {\n                    'X-CSRF-TOKEN': document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content')\n                },\n                body: new FormData(this.form)\n            }\n        );\n\n        this.submitBtn.disabled = false;\n\n        // Server error\n        if (!response.ok) {\n            this.form.classList.add('_is-sent');\n            this.renderMessage(' ,  ');\n            \n            console.log('Fetch failed');\n            return;\n        }\n\n        // JSON parsing\n        try {\n            json = await response.json();\n        } catch (error) {\n            this.form.classList.add('_is-sent');\n            this.renderMessage(' ,  ');\n\n            console.log('JSON parsing error');\n            return;\n        }\n\n        if (json) {\n            this.form.classList.add('_is-sent');\n            this.renderMessage(json.message || ' ');\n\n            if (json.success) {\n                this.resetForm();\n            }\n        }\n    }\n\n    resetForm() {\n        this.form.reset();\n    }\n\n    renderMessage(text) {\n        this.form.querySelector('.js-form-msg-text').innerHTML = text;\n    }\n\n    bindClose() {\n        this.form.querySelector('.js-form-ok')?.addEventListener('click', () => {\n            this.form.classList.remove('_is-sent');\n        });\n    }\n}\n\n\ndocument.querySelectorAll('.js-form').forEach(el => new Form(el));\n","if (document.querySelector(\".header\")) {\n    let menu = document.querySelector(\".main-menu\");\n    let links = document.querySelectorAll(\".main-menu__menu a\");\n    let submenu = document.querySelectorAll(\".main-menu__sub\");\n    let overlay = document.querySelector(\".header__overlay\");\n    let header = document.querySelector(\".header\");\n    let burger = document.querySelector(\".header__burger\");\n    let clock = document.querySelectorAll(\".js-moscow-time\");\n    let isMobile = \"ontouchstart\" in window;\n\n    document.querySelectorAll(\".js-close-menu\").forEach((el) => {\n        el.addEventListener(\"click\", function (event) {\n            document\n                .querySelector(\".main-menu__sub._active\")\n                .classList.remove(\"_active\");\n            links.forEach((el) => el.classList.remove(\"_active\"));\n        });\n    });\n\n    burger.addEventListener(\"click\", function () {\n        if (document.body.classList.contains(\"_burger-menu-open\")) {\n            document.body.classList.remove(\"_burger-menu-open\");\n            header.classList.remove(\"_overlay-visible\");\n        } else {\n            document.body.classList.add(\"_burger-menu-open\");\n        }\n    });\n\n    if (isMobile) {\n        overlay?.addEventListener(\"click\", function () {\n            header.classList.remove(\"_overlay-visible\");\n            document.body.classList.remove(\"_burger-menu-open\");\n            document\n                .querySelector(\".main-menu__sub._active\")\n                .classList.remove(\"_active\");\n        });\n    } else {\n        menu?.addEventListener(\"mouseleave\", () => {\n            if (window.innerWidth < 1201) {\n                return;\n            }\n            header.classList.remove(\"_overlay-visible\");\n            document.body.classList.remove(\"_burger-menu-open\");\n            document\n                .querySelector(\".main-menu__sub._active\")\n                ?.classList.remove(\"_active\");\n            links.forEach((el) => {\n                el.classList.remove(\"_active\");\n            });\n        });\n    }\n\n    links.forEach((el) => {\n        el.addEventListener(\"click\", function (event) {\n            event.preventDefault();\n\n            if (!isMobile && window.innerWidth > 1200) {\n                return;\n            }\n\n            if (el.classList.contains(\"_active\")) {\n                links.forEach((el) => {\n                    el.classList.remove(\"_active\");\n                });\n                submenu.forEach((el) => {\n                    el.classList.remove(\"_active\");\n                });\n                el.classList.remove(\"_active\");\n                header.classList.remove(\"_overlay-visible\");\n                document\n                    .querySelector(el.dataset.sub)\n                    .classList.remove(\"_active\");\n            } else {\n                links.forEach((el) => {\n                    el.classList.remove(\"_active\");\n                });\n                submenu.forEach((el) => {\n                    el.classList.remove(\"_active\");\n                });\n                el.classList.add(\"_active\");\n                header.classList.add(\"_overlay-visible\");\n                document.querySelector(el.dataset.sub).classList.add(\"_active\");\n            }\n        });\n\n        el.addEventListener(\"mouseenter\", function (event) {\n            if (isMobile || window.innerWidth < 1201) {\n                return;\n            }\n            event.preventDefault();\n            links.forEach((el) => {\n                el.classList.remove(\"_active\");\n            });\n            submenu.forEach((el) => {\n                el.classList.remove(\"_active\");\n            });\n            el.classList.add(\"_active\");\n            header.classList.add(\"_overlay-visible\");\n            document.querySelector(el.dataset.sub).classList.add(\"_active\");\n        });\n    });\n\n    // Current Moscow time\n    function updateClock() {\n        const string = new Date().toLocaleTimeString(\"ru-RU\", {\n            timeZone: \"Europe/Moscow\",\n            hour: \"2-digit\",\n            minute: \"2-digit\",\n        });\n\n        clock.forEach((el) => {\n            el.innerHTML = string;\n        });\n\n        setTimeout(() => {\n            updateClock();\n        }, 1000);\n    }\n\n    if (clock.length) {\n        updateClock();\n    }\n}\n\n","ymaps.ready(init);\n\nfunction init() {\n    document.querySelectorAll(\"[data-maproute]\").forEach((block) => {\n        const json = JSON.parse(block.dataset.maproute);\n\n        var myMap = new ymaps.Map(block, {\n            center: json.center,\n            zoom: json.zoom,\n            controls: [],\n        });\n\n        var pointA = json.start,\n            pointB = json.finish,\n            multiRoute = new ymaps.multiRouter.MultiRoute(\n                {\n                    referencePoints: [pointA, pointB],\n                    params: {\n                        routingMode: \"pedestrian\",\n                    },\n                },\n                {\n                    wayPointFinishIconLayout: \"default#image\",\n                    wayPointFinishIconImageHref: json.marker.icon,\n                    wayPointFinishIconImageSize: json.marker.size,\n                    wayPointFinishIconImageOffset: json.marker.offset,\n                    boundsAutoApply: true,\n                    zoomMargin: 30,\n                }\n            );\n        //    .\n        myMap.geoObjects.add(multiRoute);\n    });\n    document.querySelectorAll(\"[data-map]\").forEach((block) => {\n        const json = JSON.parse(block.dataset.map);\n\n        var myMap = new ymaps.Map(block, {\n            center: json.center,\n            zoom: json.zoom,\n            controls: [],\n        });\n        (myPlacemark = new ymaps.Placemark(\n            json.coord,\n            {\n                hintContent: \"\",\n                balloonContent: \"\",\n            },\n            {\n                iconLayout: \"default#image\",\n                iconImageHref: json.marker.icon,\n                iconImageSize: json.marker.size,\n                iconImageOffset: json.marker.offset,\n            }\n        )),\n            myMap.geoObjects.add(myPlacemark);\n    });\n}\n\n","let popup;\n\nclass VideoPopup {\n    constructor(el) {\n        this.container = el;\n        this.inner = this.container.querySelector('.js-video-popup-inner');\n        this.closeBtn = this.container.querySelector('.js-video-popup-close');\n        this.handleCloseBtn();\n        this.handleCloseKeys();\n        this.isOpen = false;\n    }\n\n    appendVideo(src) {\n        this.inner.innerHTML = `\n            <video src=\"${src}\"\n                loop\n                controls\n                autoplay\n            ></video>\n        `;\n    }\n\n    open(src) {\n        this.appendVideo(src);\n        this.container.classList.add('_is-visible');\n        this.isOpen = true;\n    }\n\n    close() {\n        this.inner.innerHTML = '';\n        this.container.classList.remove('_is-visible');\n        this.isOpen = false;\n    }\n\n    handleCloseBtn() {\n        this.closeBtn.addEventListener('click', () => {\n            this.close();\n        });\n    }\n\n    handleCloseKeys() {\n        document.addEventListener('keydown', e => {\n            if (e.key == 'Escape' && this.isOpen) {\n                this.close();\n            }\n        });\n    }\n}\n\nif (document.querySelector('.js-video-popup')) {\n    popup = new VideoPopup(document.querySelector('.js-video-popup'));\n\n    document.querySelectorAll('.js-open-video').forEach(btn => {\n        btn.addEventListener('click', () => {\n            popup.open(btn.dataset.src);\n        });\n    });\n}\n","document.querySelectorAll(\".btn-border\").forEach((el) => {\n    el.innerHTML = `<span class=\"btn-border__content\">${el.innerHTML}</span>`;\n});\nif (window.scrollY) {\n    document.body.classList.remove(\"_scroll-top\");\n} else {\n    document.body.classList.add(\"_scroll-top\");\n}\ndocument.addEventListener(\"scroll\", function () {\n    if (window.scrollY > 50) {\n        document.body.classList.remove(\"_scroll-top\");\n    } else {\n        document.body.classList.add(\"_scroll-top\");\n    }\n});\n\ndocument.querySelectorAll(\"blockquote\").forEach((el) => {\n    el.classList.add(\"blockquote\");\n    el.innerHTML = `<span class=\"blockquote__content\">${el.innerHTML}</span>`;\n});\ndocument.querySelectorAll(\".icon-time\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M12 6.85714V12L15.4286 15.4286M12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20Z\" stroke=\"currentColor\" stroke-width=\"1.4\"/>\n</svg>\n`;\n});\ndocument.querySelectorAll(\".icon-next\").forEach((el) => {\n    el.innerHTML = `<svg\n                        width=\"24\"\n                        height=\"24\"\n                        viewBox=\"0 0 24 24\"\n                        fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                        <path\n                            d=\"M12.9554 17L18 12M18 12L12.9554 6.99998M18 12H6\"\n                            stroke=\"currentColor\"\n                            stroke-width=\"1.4\"\n                        />\n                    </svg>\n`;\n});\ndocument.querySelectorAll(\".icon-marker\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 13.1429C13.288 13.1429 14.3333 12.1189 14.3333 10.8571C14.3333 9.59542 13.288 8.57143 12 8.57143C10.712 8.57143 9.66663 9.59542 9.66663 10.8571C9.66663 12.1189 10.712 13.1429 12 13.1429Z\" stroke=\"currentColor\" stroke-width=\"1.4\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19 10.8571C19 16.5715 13.1666 20.0001 12 20.0001C10.8333 20.0001 4.99994 16.5715 4.99994 10.8571C4.99994 7.07084 8.13479 4 12 4C15.8652 4 19 7.07084 19 10.8571Z\" stroke=\"currentColor\" stroke-width=\"1.4\"/>\n</svg>\n`;\n});\n\ndocument.querySelectorAll(\".icon-heart\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M17.9645 12.0355L12 18L6.03553 12.0355C5.37249 11.3725 5 10.4732 5 9.53553C5 7.58291 6.58291 6 8.53553 6C9.47322 6 10.3725 6.37249 11.0355 7.03553L12 8L12.9645 7.03553C13.6275 6.37249 14.5268 6 15.4645 6C17.4171 6 19 7.58291 19 9.53553C19 10.4732 18.6275 11.3725 17.9645 12.0355Z\" stroke=\"currentColor\" stroke-width=\"1.4\"/>\n</svg>`;\n});\ndocument.querySelectorAll(\".icon-person\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 7.99804C9 9.65396 10.343 10.9961 12 10.9961C13.657 10.9961 15 9.65396 15 7.99804C15 6.34212 13.657 5 12 5C10.343 5 9 6.34212 9 7.99804Z\" stroke=\"currentColor\" stroke-width=\"1.4\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 18.9909H17C17 18.2808 17 17.6053 17 16.9936C17 15.3368 15.6569 13.9941 14 13.9941H10C8.34315 13.9941 7 15.3368 7 16.9936C7 17.6053 7 18.2808 7 18.9909Z\" stroke=\"currentColor\" stroke-width=\"1.4\"/></svg>`;\n});\ndocument.querySelectorAll(\".icon-persons\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5.5 19H3V17.5C3 16.1193 4.11929 15 5.5 15M18.5 19H21V17.5C21 16.1193 19.8807 15 18.5 15M9 7.99804C9 9.65396 10.343 10.9961 12 10.9961C13.657 10.9961 15 9.65396 15 7.99804C15 6.34212 13.657 5 12 5C10.343 5 9 6.34212 9 7.99804ZM7 18.9909H17C17 18.2808 17 17.6053 17 16.9936C17 15.3368 15.6569 13.9941 14 13.9941H10C8.34315 13.9941 7 15.3368 7 16.9936C7 17.6053 7 18.2808 7 18.9909ZM6 13C7.10457 13 8 12.1046 8 11C8 9.89543 7.10457 9 6 9C4.89543 9 4 9.89543 4 11C4 12.1046 4.89543 13 6 13ZM18 13C16.8954 13 16 12.1046 16 11C16 9.89543 16.8954 9 18 9C19.1046 9 20 9.89543 20 11C20 12.1046 19.1046 13 18 13Z\" stroke=\"currentColor\" stroke-width=\"1.4\"/>\n</svg>\n`;\n});\ndocument.querySelectorAll(\".icon-child\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M11.5655 13.5606L12.1314 12.9951L11.0004 11.8634L10.4345 12.4289L11.5655 13.5606ZM13.2 14.9935V15.7935H14.8V14.9935H13.2ZM14.8 13.9941V13.1941H13.2V13.9941H14.8ZM13.2 5.99939V6.79939H14.8V5.99939H13.2ZM14.8 5V4.2H13.2V5H14.8ZM9 9.19683H8.2V10.7968H9V9.19683ZM10 10.7968H10.8V9.19683H10V10.7968ZM18 9.19683H17.2V10.7968H18V9.19683ZM19 10.7968H19.8V9.19683H19V10.7968ZM16.4345 6.43292L15.8686 6.99843L16.9997 8.13015L17.5655 7.56464L16.4345 6.43292ZM18.5655 6.56525L19.1314 5.99973L18.0003 4.86802L17.4345 5.43353L18.5655 6.56525ZM10.5655 5.43353L9.99965 4.86802L8.86863 5.99973L9.43449 6.56525L10.5655 5.43353ZM10.4345 7.56464L11.0003 8.13015L12.1314 6.99843L11.5655 6.43292L10.4345 7.56464ZM17.5655 12.4289L16.9997 11.8634L15.8686 12.9951L16.4345 13.5606L17.5655 12.4289ZM17.4345 14.56L18.0003 15.1255L19.1314 13.9938L18.5655 13.4283L17.4345 14.56ZM5.5655 19.5567L11.5655 13.5606L10.4345 12.4289L4.4345 18.425L5.5655 19.5567ZM14.8 14.9935V13.9941H13.2V14.9935H14.8ZM14.8 5.99939V5H13.2V5.99939H14.8ZM9 10.7968H10V9.19683H9V10.7968ZM18 10.7968H19V9.19683H18V10.7968ZM17.5655 7.56464L18.5655 6.56525L17.4345 5.43353L16.4345 6.43292L17.5655 7.56464ZM9.43449 6.56525L10.4345 7.56464L11.5655 6.43292L10.5655 5.43353L9.43449 6.56525ZM16.4345 13.5606L17.4345 14.56L18.5655 13.4283L17.5655 12.4289L16.4345 13.5606Z\" fill=\"currentColor\"/>\n</svg>\n\n`;\n});\ndocument.querySelectorAll(\".icon-web\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M15 10V9.2C15.4418 9.2 15.8 9.55817 15.8 10H15ZM15 11L14.4343 11.5657L14.2 11.3314V11H15ZM16.7071 11.2929L17.2728 11.8586L17.2728 11.8586L16.7071 11.2929ZM13 17.5H12.2V17.1686L12.4343 16.9343L13 17.5ZM14 16.5H14.8V16.8314L14.5657 17.0657L14 16.5ZM14 15H13.2V14.6686L13.4343 14.4343L14 15ZM15 14H15.8V14.3314L15.5657 14.5657L15 14ZM15 13V12.2C15.4418 12.2 15.8 12.5582 15.8 13H15ZM10.8 5V7H9.2V5H10.8ZM11 7.2H12V8.8H11V7.2ZM14 9.2H15V10.8H14V9.2ZM15.8 10V11H14.2V10H15.8ZM15.5657 10.4343L15.8586 10.7272L14.7272 11.8586L14.4343 11.5657L15.5657 10.4343ZM16.1414 10.7272L17.9343 8.93431L19.0657 10.0657L17.2728 11.8586L16.1414 10.7272ZM13.8 9C13.8 9.11046 13.8895 9.2 14 9.2V10.8C13.0059 10.8 12.2 9.99411 12.2 9H13.8ZM12 7.2C12.9941 7.2 13.8 8.00589 13.8 9H12.2C12.2 8.88954 12.1105 8.8 12 8.8V7.2ZM15.8586 10.7272C15.9367 10.8053 16.0633 10.8053 16.1414 10.7272L17.2728 11.8586C16.5698 12.5615 15.4302 12.5615 14.7272 11.8586L15.8586 10.7272ZM10.8 7C10.8 7.11046 10.8895 7.2 11 7.2V8.8C10.0059 8.8 9.2 7.99411 9.2 7H10.8ZM12.2 19V17.5H13.8V19H12.2ZM12.4343 16.9343L13.4343 15.9343L14.5657 17.0657L13.5657 18.0657L12.4343 16.9343ZM13.2 16.5V15H14.8V16.5H13.2ZM13.4343 14.4343L14.4343 13.4343L15.5657 14.5657L14.5657 15.5657L13.4343 14.4343ZM14.2 14V13H15.8V14H14.2ZM15 13.8H11V12.2H15V13.8ZM10.8 14V14.6667H9.2V14H10.8ZM8.66667 16.8H6V15.2H8.66667V16.8ZM9.8 15.6667C9.8 16.2926 9.29259 16.8 8.66667 16.8V15.2C8.40894 15.2 8.2 15.4089 8.2 15.6667H9.8ZM9.66667 15.8C9.74031 15.8 9.8 15.7403 9.8 15.6667H8.2C8.2 14.8567 8.85665 14.2 9.66667 14.2V15.8ZM10.8 14.6667C10.8 15.2926 10.2926 15.8 9.66667 15.8V14.2C9.40894 14.2 9.2 14.4089 9.2 14.6667H10.8ZM11 13.8C10.8895 13.8 10.8 13.8895 10.8 14H9.2C9.2 13.0059 10.0059 12.2 11 12.2V13.8ZM12 18.2C15.4242 18.2 18.2 15.4242 18.2 12H19.8C19.8 16.3078 16.3078 19.8 12 19.8V18.2ZM5.8 12C5.8 15.4242 8.57583 18.2 12 18.2V19.8C7.69218 19.8 4.2 16.3078 4.2 12H5.8ZM12 5.8C8.57583 5.8 5.8 8.57583 5.8 12H4.2C4.2 7.69218 7.69218 4.2 12 4.2V5.8ZM12 4.2C16.3078 4.2 19.8 7.69218 19.8 12H18.2C18.2 8.57583 15.4242 5.8 12 5.8V4.2Z\" fill=\"currentColor\"/>\n\n</svg>\n\n`;\n});\ndocument.querySelectorAll(\".icon-date\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M8 4V9.17241M16 4V9.17241M7.5 11.7586H10.5M16.5 11.7586H13.5M7.5 14.8621H10.5M13.5 14.8621H16.5M6 6.58621H18C18.5523 6.58621 19 7.04936 19 7.62069V17.9655C19 18.5368 18.5523 19 18 19H6C5.44772 19 5 18.5368 5 17.9655V7.62069C5 7.04936 5.44772 6.58621 6 6.58621Z\" stroke=\"currentColor\" stroke-width=\"1.4\"/>\n</svg>\n\n\n`;\n});\ndocument.querySelectorAll(\".icon-load\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M11.2 5V4.2H12.8V5H11.2ZM12.8 8.76923V9.56923H11.2V8.76923H12.8ZM11.2 15.2308V14.4308H12.8V15.2308H11.2ZM12.8 19V19.8H11.2V19H12.8ZM15.2308 12.7951H14.4308V11.1951H15.2308V12.7951ZM19 11.1951H19.8V12.7951H19V11.1951ZM5.00103 12.8L4.20103 12.801L4.19897 11.201L4.99897 11.2L5.00103 12.8ZM8.7682 11.1951L9.5682 11.1941L9.57026 12.7941L8.77026 12.7951L8.7682 11.1951ZM12.8 5V8.76923H11.2V5H12.8ZM12.8 15.2308V19H11.2V15.2308H12.8ZM15.2308 11.1951H19V12.7951H15.2308V11.1951ZM4.99897 11.2L8.7682 11.1951L8.77026 12.7951L5.00103 12.8L4.99897 11.2ZM17.9503 7.18107L14.7195 10.4118L13.5882 9.28047L16.8189 6.0497L17.9503 7.18107ZM7.18107 6.0497L10.4118 9.28047L9.28047 10.4118L6.0497 7.18107L7.18107 6.0497ZM16.8189 17.9503L13.5882 14.7195L14.7195 13.5882L17.9503 16.8189L16.8189 17.9503ZM10.4118 14.7195L7.18107 17.9503L6.0497 16.8189L9.28047 13.5882L10.4118 14.7195Z\" fill=\"currentColor\"/>\n</svg>\n`;\n});\ndocument.querySelectorAll(\".icon-category\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M11.5 8H19.5M11.5 16H19.5M6 6H8C8.55228 6 9 6.44772 9 7V9C9 9.55228 8.55228 10 8 10H6C5.44772 10 5 9.55228 5 9V7C5 6.44772 5.44772 6 6 6ZM6 14H8C8.55228 14 9 14.4477 9 15V17C9 17.5523 8.55228 18 8 18H6C5.44772 18 5 17.5523 5 17V15C5 14.4477 5.44772 14 6 14Z\" stroke=\"currentColor\" stroke-width=\"1.4\"/>\n</svg>\n`;\n});\ndocument.querySelectorAll(\".icon-quest\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M12 15V12H13C14.6569 12 16 10.6569 16 9V8.8C16 7.2536 14.7464 6 13.2 6H12C10.3431 6 9 7.34315 9 9M11 18H13\" stroke=\"currentColor\" stroke-width=\"1.4\"/>\n</svg>\n`;\n});\ndocument.querySelectorAll(\".icon-headphones\").forEach((el) => {\n    el.innerHTML = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M18 14H17C16.4477 14 16 14.4477 16 15V18C16 18.5523 16.4477 19 17 19H18C18.5523 19 19 18.5523 19 18V15C19 14.4477 18.5523 14 18 14ZM18 14V11C18 7.68629 15.3137 5 12 5C8.68629 5 6 7.68629 6 11V14M6 14H7C7.55228 14 8 14.4477 8 15V18C8 18.5523 7.55228 19 7 19H6C5.44772 19 5 18.5523 5 18V15C5 14.4477 5.44772 14 6 14Z\" stroke=\"currentColor\" stroke-width=\"1.6\"/></svg> `;\n});\ndocument.querySelectorAll(\".overfolow-x\").forEach((el) => {\n    el.innerHTML = `<div class=\"overfolow-x__scroll\"><div><div class=\"overfolow-x__size\">${el.innerHTML}</div></div></div>\n    <div class=\"overfolow-x__prev\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.0446 17L6 12M6 12L11.0446 6.99998M6 12H18\" stroke=\"currentColor\" stroke-width=\"1.4\"/></svg></div>\n    <div class=\"overfolow-x__next\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.9554 17L18 12M18 12L12.9554 6.99998M18 12H6\" stroke=\"currentColor\" stroke-width=\"1.4\"/></svg></div>`;\n\n    let size = el.querySelector(\".overfolow-x__size\");\n    let scroll = el.querySelector(\".overfolow-x__scroll\");\n    let prev = el.querySelector(\".overfolow-x__prev\");\n    let next = el.querySelector(\".overfolow-x__next\");\n    next.addEventListener(\"click\", function () {\n        scroll.scroll({\n            left: scroll.scrollLeft + 150,\n            top: 0,\n            behavior: \"smooth\",\n        });\n    });\n    prev.addEventListener(\"click\", function () {\n        scroll.scroll({\n            left: scroll.scrollLeft - 150,\n            top: 0,\n            behavior: \"smooth\",\n        });\n    });\n    function rescroll() {\n        if (scroll.scrollLeft >= 50) {\n            prev.classList.add(\"_active\");\n        } else {\n            prev.classList.remove(\"_active\");\n        }\n\n        if (scroll.scrollLeft + size.offsetWidth <= scroll.scrollWidth - 50) {\n            next.classList.add(\"_active\");\n        } else {\n            next.classList.remove(\"_active\");\n        }\n    }\n    scroll.addEventListener(\"scroll\", function () {\n        rescroll();\n    });\n    rescroll();\n});\n","if (document.querySelector(\".glosarii-item\")) {\n    const anchors = document.querySelectorAll('.glosarii__head a[href*=\"#\"]');\n    for (let anchor of anchors) {\n        anchor.addEventListener(\"click\", function (e) {\n            e.preventDefault();\n\n            const block = document.querySelector(anchor.getAttribute(\"href\"));\n            window.scrollTo({\n                top:\n                    block.getBoundingClientRect().top -\n                    (window.innerWidth > 1200 ? 170 : 100),\n                left: 0,\n                behavior: \"smooth\",\n            });\n        });\n    }\n\n    const observer = new IntersectionObserver(\n        (entries) => {\n            console.log(entries);\n            entries.forEach((entry) => {\n                if (entry.isIntersecting) {\n                    anchors.forEach((link) => {\n                        let id = link.getAttribute(\"href\").replace(\"#\", \"\");\n                        if (id === entry.target.id) {\n                            link.classList.add(\"_active\");\n                        } else {\n                            link.classList.remove(\"_active\");\n                        }\n                    });\n                }\n            });\n        },\n        {\n            threshold: 0.5,\n        }\n    );\n\n    document.querySelectorAll(\".glosarii-item\").forEach((glosarii) => {\n        observer.observe(glosarii);\n    });\n}\n\n","const anchors = document.querySelectorAll('.anchor-block a[href*=\"#\"]');\nfor (let anchor of anchors) {\n    anchor.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n\n        const block = document.querySelector(anchor.getAttribute(\"href\"));\n        console.log(block);\n        console.log(block.offsetTop);\n        window.scrollTo({\n            top: block.getBoundingClientRect().top - 170,\n            left: 0,\n            behavior: \"smooth\",\n        });\n    });\n}\n\n","let template = document.querySelector(\"#press-template .press-item\");\nlet empty = document.querySelector(\"#press-template .press-empty\");\nlet list = document.querySelector(\"#presslist\");\nlet filter = document.querySelector(\"#pressfilter\");\nconst url = filter?.getAttribute(\"action\");\n\nif (filter) {\n    filter.onchange = function (e) {\n        fetch(\n            url +\n                \"?\" +\n                new URLSearchParams({\n                    year: document.querySelector('input[name=\"years\"]:checked')\n                        .value,\n                    month: document.querySelector('input[name=\"month\"]:checked')\n                        .value,\n                }),\n            {\n                method: filter.getAttribute(\"method\"),\n                headers: {\n                    \"X-CSRF-TOKEN\": document\n                        .querySelector('meta[name=\"csrf-token\"]')\n                        .getAttribute(\"content\"),\n                },\n            }\n        )\n            .then((response) => response.json())\n            .then((data) => {\n                list.innerHTML = \"\";\n                if (data.items.length) {\n                    data.items.forEach((item) => {\n                        let clone = template.cloneNode(true);\n                        clone.querySelector(\".press-item__date\").innerText =\n                            item.date;\n                        clone.querySelector(\".press-item__name\").innerText =\n                            item.name;\n                        clone.querySelector(\".press-item__type\").innerText =\n                            item.type;\n                        clone.querySelector(\n                            \".press-item__link\"\n                        ).innerHTML = `<color>${item.text}</color>`;\n                        clone\n                            .querySelector(\".press-item__link\")\n                            .setAttribute(\"href\", item.link);\n                        list.appendChild(clone);\n                    });\n                } else {\n                    list.appendChild(empty.cloneNode(true));\n                }\n            });\n    };\n}\n","if (document.querySelector(\".shedule-popup\")) {\n    const popup = document.querySelector(\".shedule-popup\");\n    const content = popup.querySelector(\".shedule-popup__content\");\n    const url = popup.dataset.url;\n    popup.querySelectorAll(\".js-shedule-popup-close\").forEach(() => {\n        popup.classList.remove(\"_animate\");\n        setTimeout(function () {\n            popup.classList.remove(\"_display\");\n        }, 300);\n    });\n    document.querySelectorAll(\"[data_ticket_system_id]\").forEach((btn) => {\n        btn.addEventListener(\"click\", function () {\n            content.innerHTML = `  <iframe \n                src=\"${url}${btn.getAttribute(\"data_ticket_system_id\")}\"\n                frameborder=\"0\"\n            ></iframe>`;\n            popup.classList.add(\"_display\");\n            setTimeout(function () {\n                popup.classList.add(\"_animate\");\n            }, 50);\n        });\n    });\n}\n\n","(typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n\n      return createRegularArray(type, len);\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n\n    return createRegularArray;\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var expressionsInterfaces = null;\n  var idPrefix$1 = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface$1() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n\n    return value;\n  }\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix$1 + '__lottie_element_' + _count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n\n      default:\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n\n      default:\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n\n  var setExpressionInterfaces = function setExpressionInterfaces(value) {\n    expressionsInterfaces = value;\n  };\n\n  var getExpressionInterfaces = function getExpressionInterfaces() {\n    return expressionsInterfaces;\n  };\n\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix$1 = value;\n  };\n\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix$1;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\n\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n\n      workerFn = fn;\n      return workerProxy;\n    }\n\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n\n                i += 1;\n              }\n\n              return null;\n            }\n\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n\n              return null;\n            }\n\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n\n              return null;\n            }\n\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\n              }\n            }\n\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n\n                return null;\n              }\n\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\n\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n\n                try {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), path, true);\n                } catch (error) {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), fullPath + '/' + path, true);\n                }\n\n                xhr.send();\n              }\n\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n\n            _workerSelf.dataManager.completeData(animation);\n\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n\n          clearInterval(intervalId);\n        }\n\n        _count += 1;\n      }.bind(this), 50);\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n\n      return null;\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n\n      if (keysCount === 0) {\n        throw new Error();\n      }\n\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i].cm\n            };\n          }\n        }\n\n        markers.push(markerData);\n      }\n\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n\n  function getRenderer(key) {\n    return renderers[key];\n  }\n\n  function getRegisteredRenderer() {\n    // Returns canvas by default for compatibility\n    if (renderers.canvas) {\n      return 'canvas';\n    } // Returns any renderer that is registered\n\n\n    for (var key in renderers) {\n      if (renderers[key]) {\n        return key;\n      }\n    }\n\n    return '';\n  }\n\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\n    this.expressionsPlugin = getExpressionsPlugin();\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = 'svg';\n\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : getRegisteredRenderer() || 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    if (!params.path) {\n      this.trigger('destroy');\n    } else {\n      this.setParams(params);\n    }\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function (width, height) {\n    // Adding this validation for backwards compatibility in case an event object was being passed down\n    var _width = typeof width === 'number' ? width : undefined;\n\n    var _height = typeof height === 'number' ? height : undefined;\n\n    this.renderer.updateContainerSize(_width, _height);\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n\n    try {\n      if (this.expressionsPlugin) {\n        this.expressionsPlugin.resetFrame();\n      }\n\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.trigger('_play');\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this.trigger('_pause');\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n\n      if (marker.payload && marker.payload.name === markerName) {\n        return marker;\n      }\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.expressionsPlugin = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setLoop = function (isLooping) {\n    this.loop = isLooping;\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\n    try {\n      var element = this.renderer.getElementByPath(path);\n      element.updateDocumentData(documentData, index);\n    } catch (error) {// TODO: decide how to handle catch case\n    }\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'drawnFrame':\n          this.drawnFrameEvent.currentTime = this.currentFrame;\n          this.drawnFrameEvent.totalTime = this.totalFrames;\n          this.drawnFrameEvent.direction = this.frameModifier;\n          this.triggerEvent(name, this.drawnFrameEvent);\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; // moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gatan Renaudeau 2014 - 2015  MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n\n          flag = false;\n        }\n      }\n\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n\n      return bezierSegmentPoints;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  var initFrame = initialDefaultFrame;\n  var mathAbs = Math.abs;\n\n  function interpolateValue(frameNum, caching) {\n    var offsetTime = this.offsetTime;\n    var newValue;\n\n    if (this.propType === 'multidimensional') {\n      newValue = createTypedArray('float32', this.pv.length);\n    }\n\n    var iterationIndex = caching.lastIndex;\n    var i = iterationIndex;\n    var len = this.keyframes.length - 1;\n    var flag = true;\n    var keyData;\n    var nextKeyData;\n    var keyframeMetadata;\n\n    while (flag) {\n      keyData = this.keyframes[i];\n      nextKeyData = this.keyframes[i + 1];\n\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n        if (keyData.h) {\n          keyData = nextKeyData;\n        }\n\n        iterationIndex = 0;\n        break;\n      }\n\n      if (nextKeyData.t - offsetTime > frameNum) {\n        iterationIndex = i;\n        break;\n      }\n\n      if (i < len - 1) {\n        i += 1;\n      } else {\n        iterationIndex = 0;\n        flag = false;\n      }\n    }\n\n    keyframeMetadata = this.keyframesMetadata[i] || {};\n    var k;\n    var kLen;\n    var perc;\n    var jLen;\n    var j;\n    var fnc;\n    var nextKeyTime = nextKeyData.t - offsetTime;\n    var keyTime = keyData.t - offsetTime;\n    var endValue;\n\n    if (keyData.to) {\n      if (!keyframeMetadata.bezierData) {\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n      }\n\n      var bezierData = keyframeMetadata.bezierData;\n\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n        kLen = bezierData.points[ind].point.length;\n\n        for (k = 0; k < kLen; k += 1) {\n          newValue[k] = bezierData.points[ind].point[k];\n        } // caching._lastKeyframeIndex = -1;\n\n      } else {\n        if (keyframeMetadata.__fnct) {\n          fnc = keyframeMetadata.__fnct;\n        } else {\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n          keyframeMetadata.__fnct = fnc;\n        }\n\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n        var distanceInLine = bezierData.segmentLength * perc;\n        var segmentPerc;\n        var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n        j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n        flag = true;\n        jLen = bezierData.points.length;\n\n        while (flag) {\n          addedLength += bezierData.points[j].partialLength;\n\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n            kLen = bezierData.points[j].point.length;\n\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k];\n            }\n\n            break;\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n            kLen = bezierData.points[j].point.length;\n\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n            }\n\n            break;\n          }\n\n          if (j < jLen - 1) {\n            j += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        caching._lastPoint = j;\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n        caching._lastKeyframeIndex = i;\n      }\n    } else {\n      var outX;\n      var outY;\n      var inX;\n      var inY;\n      var keyValue;\n      len = keyData.s.length;\n      endValue = nextKeyData.s || keyData.e;\n\n      if (this.sh && keyData.h !== 1) {\n        if (frameNum >= nextKeyTime) {\n          newValue[0] = endValue[0];\n          newValue[1] = endValue[1];\n          newValue[2] = endValue[2];\n        } else if (frameNum <= keyTime) {\n          newValue[0] = keyData.s[0];\n          newValue[1] = keyData.s[1];\n          newValue[2] = keyData.s[2];\n        } else {\n          var quatStart = createQuaternion(keyData.s);\n          var quatEnd = createQuaternion(endValue);\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n        }\n      } else {\n        for (i = 0; i < len; i += 1) {\n          if (keyData.h !== 1) {\n            if (frameNum >= nextKeyTime) {\n              perc = 1;\n            } else if (frameNum < keyTime) {\n              perc = 0;\n            } else {\n              if (keyData.o.x.constructor === Array) {\n                if (!keyframeMetadata.__fnct) {\n                  keyframeMetadata.__fnct = [];\n                }\n\n                if (!keyframeMetadata.__fnct[i]) {\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyframeMetadata.__fnct[i] = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct[i];\n                }\n              } else if (!keyframeMetadata.__fnct) {\n                outX = keyData.o.x;\n                outY = keyData.o.y;\n                inX = keyData.i.x;\n                inY = keyData.i.y;\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                keyData.keyframeMetadata = fnc;\n              } else {\n                fnc = keyframeMetadata.__fnct;\n              }\n\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n            }\n          }\n\n          endValue = nextKeyData.s || keyData.e;\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n          if (this.propType === 'multidimensional') {\n            newValue[i] = keyValue;\n          } else {\n            newValue = keyValue;\n          }\n        }\n      }\n    }\n\n    caching.lastIndex = iterationIndex;\n    return newValue;\n  } // based on @Toji's https://github.com/toji/gl-matrix/\n\n\n  function slerp(a, b, t) {\n    var out = [];\n    var ax = a[0];\n    var ay = a[1];\n    var az = a[2];\n    var aw = a[3];\n    var bx = b[0];\n    var by = b[1];\n    var bz = b[2];\n    var bw = b[3];\n    var omega;\n    var cosom;\n    var sinom;\n    var scale0;\n    var scale1;\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n    if (cosom < 0.0) {\n      cosom = -cosom;\n      bx = -bx;\n      by = -by;\n      bz = -bz;\n      bw = -bw;\n    }\n\n    if (1.0 - cosom > 0.000001) {\n      omega = Math.acos(cosom);\n      sinom = Math.sin(omega);\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\n      scale1 = Math.sin(t * omega) / sinom;\n    } else {\n      scale0 = 1.0 - t;\n      scale1 = t;\n    }\n\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n    return out;\n  }\n\n  function quaternionToEuler(out, quat) {\n    var qx = quat[0];\n    var qy = quat[1];\n    var qz = quat[2];\n    var qw = quat[3];\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n    out[0] = heading / degToRads;\n    out[1] = attitude / degToRads;\n    out[2] = bank / degToRads;\n  }\n\n  function createQuaternion(values) {\n    var heading = values[0] * degToRads;\n    var attitude = values[1] * degToRads;\n    var bank = values[2] * degToRads;\n    var c1 = Math.cos(heading / 2);\n    var c2 = Math.cos(attitude / 2);\n    var c3 = Math.cos(bank / 2);\n    var s1 = Math.sin(heading / 2);\n    var s2 = Math.sin(attitude / 2);\n    var s3 = Math.sin(bank / 2);\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\n    return [x, y, z, w];\n  }\n\n  function getValueAtCurrentTime() {\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\n    var initTime = this.keyframes[0].t - this.offsetTime;\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n    if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n      if (this._caching.lastFrame >= frameNum) {\n        this._caching._lastKeyframeIndex = -1;\n        this._caching.lastIndex = 0;\n      }\n\n      var renderResult = this.interpolateValue(frameNum, this._caching);\n      this.pv = renderResult;\n    }\n\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  function setVValue(val) {\n    var multipliedValue;\n\n    if (this.propType === 'unidimensional') {\n      multipliedValue = val * this.mult;\n\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\n        this.v = multipliedValue;\n        this._mdf = true;\n      }\n    } else {\n      var i = 0;\n      var len = this.v.length;\n\n      while (i < len) {\n        multipliedValue = val[i] * this.mult;\n\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n          this.v[i] = multipliedValue;\n          this._mdf = true;\n        }\n\n        i += 1;\n      }\n    }\n  }\n\n  function processEffectsSequence() {\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n      return;\n    }\n\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = this._isFirstFrame;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = this.kf ? this.pv : this.data.k;\n\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](finalValue);\n    }\n\n    this.setVValue(finalValue);\n    this._isFirstFrame = false;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  }\n\n  function addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n\n  function ValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this.v = mult ? data.k * mult : data.k;\n    this.pv = data.k;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.vel = 0;\n    this.effectsSequence = [];\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function MultiDimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.frameId = -1;\n    var i;\n    var len = data.k.length;\n    this.v = createTypedArray('float32', len);\n    this.pv = createTypedArray('float32', len);\n    this.vel = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.v[i] = data.k[i] * this.mult;\n      this.pv[i] = data.k[i];\n    }\n\n    this._isFirstFrame = true;\n    this.effectsSequence = [];\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.frameId = -1;\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: 0,\n      _lastKeyframeIndex: -1\n    };\n    this.k = true;\n    this.kf = true;\n    this.data = data;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.v = initFrame;\n    this.pv = initFrame;\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    var i;\n    var len = data.k.length;\n    var s;\n    var e;\n    var to;\n    var ti;\n\n    for (i = 0; i < len - 1; i += 1) {\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n        s = data.k[i].s;\n        e = data.k[i + 1].s;\n        to = data.k[i].to;\n        ti = data.k[i].ti;\n\n        if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n          data.k[i].to = null;\n          data.k[i].ti = null;\n        }\n\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n          if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n        }\n      }\n    }\n\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.data = data;\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.k = true;\n    this.kf = true;\n    this._isFirstFrame = true;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.frameId = -1;\n    var arrLen = data.k[0].s.length;\n    this.v = createTypedArray('float32', arrLen);\n    this.pv = createTypedArray('float32', arrLen);\n\n    for (i = 0; i < arrLen; i += 1) {\n      this.v[i] = initFrame;\n      this.pv[i] = initFrame;\n    }\n\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: createTypedArray('float32', arrLen)\n    };\n    this.addEffect = addEffect;\n  }\n\n  var PropertyFactory = function () {\n    function getProp(elem, data, type, mult, container) {\n      if (data.sid) {\n        data = elem.globalData.slotManager.getProp(data);\n      }\n\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n\n      default:\n        arr = [];\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  ShapePath.prototype.length = function () {\n    return this._length;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i;\n      var len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n\n      var i;\n      var len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\n\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2; // }\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function multiply(matrix) {\n      var matrixProps = matrix.props;\n      return this.transform(matrixProps[0], matrixProps[1], matrixProps[2], matrixProps[3], matrixProps[4], matrixProps[5], matrixProps[6], matrixProps[7], matrixProps[8], matrixProps[9], matrixProps[10], matrixProps[11], matrixProps[12], matrixProps[13], matrixProps[14], matrixProps[15]);\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n\n      return matr;\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.multiply = multiply;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n\n      case 'matrix':\n        return Matrix;\n\n      default:\n        return null;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; // lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.12.2';\n\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n\n    return null;\n  }\n\n  var queryString = '';\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\n\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\n\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {//\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return clonedPath;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      this.appliedTransformations = 0;\n      this.pre.reset();\n\n      if (!this.a.effectsSequence.length) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      // var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n\n    while (pos > 0) {\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n\n        cont += 1;\n      }\n\n      this._currentCopies = copies; /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n\n    return hasReloaded;\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return clonedPath;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function floatEqual(a, b) {\n    return Math.abs(a - b) * 100000 <= Math.min(Math.abs(a), Math.abs(b));\n  }\n\n  function floatZero(f) {\n    return Math.abs(f) <= 0.00001;\n  }\n\n  function lerp(p0, p1, amount) {\n    return p0 * (1 - amount) + p1 * amount;\n  }\n\n  function lerpPoint(p0, p1, amount) {\n    return [lerp(p0[0], p1[0], amount), lerp(p0[1], p1[1], amount)];\n  }\n\n  function quadRoots(a, b, c) {\n    // no root\n    if (a === 0) return [];\n    var s = b * b - 4 * a * c; // Complex roots\n\n    if (s < 0) return [];\n    var singleRoot = -b / (2 * a); // 1 root\n\n    if (s === 0) return [singleRoot];\n    var delta = Math.sqrt(s) / (2 * a); // 2 roots\n\n    return [singleRoot - delta, singleRoot + delta];\n  }\n\n  function polynomialCoefficients(p0, p1, p2, p3) {\n    return [-p0 + 3 * p1 - 3 * p2 + p3, 3 * p0 - 6 * p1 + 3 * p2, -3 * p0 + 3 * p1, p0];\n  }\n\n  function singlePoint(p) {\n    return new PolynomialBezier(p, p, p, p, false);\n  }\n\n  function PolynomialBezier(p0, p1, p2, p3, linearize) {\n    if (linearize && pointEqual(p0, p1)) {\n      p1 = lerpPoint(p0, p3, 1 / 3);\n    }\n\n    if (linearize && pointEqual(p2, p3)) {\n      p2 = lerpPoint(p0, p3, 2 / 3);\n    }\n\n    var coeffx = polynomialCoefficients(p0[0], p1[0], p2[0], p3[0]);\n    var coeffy = polynomialCoefficients(p0[1], p1[1], p2[1], p3[1]);\n    this.a = [coeffx[0], coeffy[0]];\n    this.b = [coeffx[1], coeffy[1]];\n    this.c = [coeffx[2], coeffy[2]];\n    this.d = [coeffx[3], coeffy[3]];\n    this.points = [p0, p1, p2, p3];\n  }\n\n  PolynomialBezier.prototype.point = function (t) {\n    return [((this.a[0] * t + this.b[0]) * t + this.c[0]) * t + this.d[0], ((this.a[1] * t + this.b[1]) * t + this.c[1]) * t + this.d[1]];\n  };\n\n  PolynomialBezier.prototype.derivative = function (t) {\n    return [(3 * t * this.a[0] + 2 * this.b[0]) * t + this.c[0], (3 * t * this.a[1] + 2 * this.b[1]) * t + this.c[1]];\n  };\n\n  PolynomialBezier.prototype.tangentAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[1], p[0]);\n  };\n\n  PolynomialBezier.prototype.normalAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[0], p[1]);\n  };\n\n  PolynomialBezier.prototype.inflectionPoints = function () {\n    var denom = this.a[1] * this.b[0] - this.a[0] * this.b[1];\n    if (floatZero(denom)) return [];\n    var tcusp = -0.5 * (this.a[1] * this.c[0] - this.a[0] * this.c[1]) / denom;\n    var square = tcusp * tcusp - 1 / 3 * (this.b[1] * this.c[0] - this.b[0] * this.c[1]) / denom;\n    if (square < 0) return [];\n    var root = Math.sqrt(square);\n\n    if (floatZero(root)) {\n      if (root > 0 && root < 1) return [tcusp];\n      return [];\n    }\n\n    return [tcusp - root, tcusp + root].filter(function (r) {\n      return r > 0 && r < 1;\n    });\n  };\n\n  PolynomialBezier.prototype.split = function (t) {\n    if (t <= 0) return [singlePoint(this.points[0]), this];\n    if (t >= 1) return [this, singlePoint(this.points[this.points.length - 1])];\n    var p10 = lerpPoint(this.points[0], this.points[1], t);\n    var p11 = lerpPoint(this.points[1], this.points[2], t);\n    var p12 = lerpPoint(this.points[2], this.points[3], t);\n    var p20 = lerpPoint(p10, p11, t);\n    var p21 = lerpPoint(p11, p12, t);\n    var p3 = lerpPoint(p20, p21, t);\n    return [new PolynomialBezier(this.points[0], p10, p20, p3, true), new PolynomialBezier(p3, p21, p12, this.points[3], true)];\n  };\n\n  function extrema(bez, comp) {\n    var min = bez.points[0][comp];\n    var max = bez.points[bez.points.length - 1][comp];\n\n    if (min > max) {\n      var e = max;\n      max = min;\n      min = e;\n    } // Derivative roots to find min/max\n\n\n    var f = quadRoots(3 * bez.a[comp], 2 * bez.b[comp], bez.c[comp]);\n\n    for (var i = 0; i < f.length; i += 1) {\n      if (f[i] > 0 && f[i] < 1) {\n        var val = bez.point(f[i])[comp];\n        if (val < min) min = val;else if (val > max) max = val;\n      }\n    }\n\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  PolynomialBezier.prototype.bounds = function () {\n    return {\n      x: extrema(this, 0),\n      y: extrema(this, 1)\n    };\n  };\n\n  PolynomialBezier.prototype.boundingBox = function () {\n    var bounds = this.bounds();\n    return {\n      left: bounds.x.min,\n      right: bounds.x.max,\n      top: bounds.y.min,\n      bottom: bounds.y.max,\n      width: bounds.x.max - bounds.x.min,\n      height: bounds.y.max - bounds.y.min,\n      cx: (bounds.x.max + bounds.x.min) / 2,\n      cy: (bounds.y.max + bounds.y.min) / 2\n    };\n  };\n\n  function intersectData(bez, t1, t2) {\n    var box = bez.boundingBox();\n    return {\n      cx: box.cx,\n      cy: box.cy,\n      width: box.width,\n      height: box.height,\n      bez: bez,\n      t: (t1 + t2) / 2,\n      t1: t1,\n      t2: t2\n    };\n  }\n\n  function splitData(data) {\n    var split = data.bez.split(0.5);\n    return [intersectData(split[0], data.t1, data.t), intersectData(split[1], data.t, data.t2)];\n  }\n\n  function boxIntersect(b1, b2) {\n    return Math.abs(b1.cx - b2.cx) * 2 < b1.width + b2.width && Math.abs(b1.cy - b2.cy) * 2 < b1.height + b2.height;\n  }\n\n  function intersectsImpl(d1, d2, depth, tolerance, intersections, maxRecursion) {\n    if (!boxIntersect(d1, d2)) return;\n\n    if (depth >= maxRecursion || d1.width <= tolerance && d1.height <= tolerance && d2.width <= tolerance && d2.height <= tolerance) {\n      intersections.push([d1.t, d2.t]);\n      return;\n    }\n\n    var d1s = splitData(d1);\n    var d2s = splitData(d2);\n    intersectsImpl(d1s[0], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[0], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n  }\n\n  PolynomialBezier.prototype.intersections = function (other, tolerance, maxRecursion) {\n    if (tolerance === undefined) tolerance = 2;\n    if (maxRecursion === undefined) maxRecursion = 7;\n    var intersections = [];\n    intersectsImpl(intersectData(this, 0, 1), intersectData(other, 0, 1), 0, tolerance, intersections, maxRecursion);\n    return intersections;\n  };\n\n  PolynomialBezier.shapeSegment = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[index], shapePath.o[index], shapePath.i[nextIndex], shapePath.v[nextIndex], true);\n  };\n\n  PolynomialBezier.shapeSegmentInverted = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[nextIndex], shapePath.i[nextIndex], shapePath.o[index], shapePath.v[index], true);\n  };\n\n  function crossProduct(a, b) {\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n  }\n\n  function lineIntersection(start1, end1, start2, end2) {\n    var v1 = [start1[0], start1[1], 1];\n    var v2 = [end1[0], end1[1], 1];\n    var v3 = [start2[0], start2[1], 1];\n    var v4 = [end2[0], end2[1], 1];\n    var r = crossProduct(crossProduct(v1, v2), crossProduct(v3, v4));\n    if (floatZero(r[2])) return null;\n    return [r[0] / r[2], r[1] / r[2]];\n  }\n\n  function polarOffset(p, angle, length) {\n    return [p[0] + Math.cos(angle) * length, p[1] - Math.sin(angle) * length];\n  }\n\n  function pointDistance(p1, p2) {\n    return Math.hypot(p1[0] - p2[0], p1[1] - p2[1]);\n  }\n\n  function pointEqual(p1, p2) {\n    return floatEqual(p1[0], p2[0]) && floatEqual(p1[1], p2[1]);\n  }\n\n  function ZigZagModifier() {}\n\n  extendPrototype([ShapeModifier], ZigZagModifier);\n\n  ZigZagModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amplitude = PropertyFactory.getProp(elem, data.s, 0, null, this);\n    this.frequency = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this.pointsType = PropertyFactory.getProp(elem, data.pt, 0, null, this);\n    this._isAnimated = this.amplitude.effectsSequence.length !== 0 || this.frequency.effectsSequence.length !== 0 || this.pointsType.effectsSequence.length !== 0;\n  };\n\n  function setPoint(outputBezier, point, angle, direction, amplitude, outAmplitude, inAmplitude) {\n    var angO = angle - Math.PI / 2;\n    var angI = angle + Math.PI / 2;\n    var px = point[0] + Math.cos(angle) * direction * amplitude;\n    var py = point[1] - Math.sin(angle) * direction * amplitude;\n    outputBezier.setTripleAt(px, py, px + Math.cos(angO) * outAmplitude, py - Math.sin(angO) * outAmplitude, px + Math.cos(angI) * inAmplitude, py - Math.sin(angI) * inAmplitude, outputBezier.length());\n  }\n\n  function getPerpendicularVector(pt1, pt2) {\n    var vector = [pt2[0] - pt1[0], pt2[1] - pt1[1]];\n    var rot = -Math.PI * 0.5;\n    var rotatedVector = [Math.cos(rot) * vector[0] - Math.sin(rot) * vector[1], Math.sin(rot) * vector[0] + Math.cos(rot) * vector[1]];\n    return rotatedVector;\n  }\n\n  function getProjectingAngle(path, cur) {\n    var prevIndex = cur === 0 ? path.length() - 1 : cur - 1;\n    var nextIndex = (cur + 1) % path.length();\n    var prevPoint = path.v[prevIndex];\n    var nextPoint = path.v[nextIndex];\n    var pVector = getPerpendicularVector(prevPoint, nextPoint);\n    return Math.atan2(0, 1) - Math.atan2(pVector[1], pVector[0]);\n  }\n\n  function zigZagCorner(outputBezier, path, cur, amplitude, frequency, pointType, direction) {\n    var angle = getProjectingAngle(path, cur);\n    var point = path.v[cur % path._length];\n    var prevPoint = path.v[cur === 0 ? path._length - 1 : cur - 1];\n    var nextPoint = path.v[(cur + 1) % path._length];\n    var prevDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - prevPoint[0], 2) + Math.pow(point[1] - prevPoint[1], 2)) : 0;\n    var nextDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2)) : 0;\n    setPoint(outputBezier, path.v[cur % path._length], angle, direction, amplitude, nextDist / ((frequency + 1) * 2), prevDist / ((frequency + 1) * 2), pointType);\n  }\n\n  function zigZagSegment(outputBezier, segment, amplitude, frequency, pointType, direction) {\n    for (var i = 0; i < frequency; i += 1) {\n      var t = (i + 1) / (frequency + 1);\n      var dist = pointType === 2 ? Math.sqrt(Math.pow(segment.points[3][0] - segment.points[0][0], 2) + Math.pow(segment.points[3][1] - segment.points[0][1], 2)) : 0;\n      var angle = segment.normalAngle(t);\n      var point = segment.point(t);\n      setPoint(outputBezier, point, angle, direction, amplitude, dist / ((frequency + 1) * 2), dist / ((frequency + 1) * 2), pointType);\n      direction = -direction;\n    }\n\n    return direction;\n  }\n\n  ZigZagModifier.prototype.processPath = function (path, amplitude, frequency, pointType) {\n    var count = path._length;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n\n    if (!path.c) {\n      count -= 1;\n    }\n\n    if (count === 0) return clonedPath;\n    var direction = -1;\n    var segment = PolynomialBezier.shapeSegment(path, 0);\n    zigZagCorner(clonedPath, path, 0, amplitude, frequency, pointType, direction);\n\n    for (var i = 0; i < count; i += 1) {\n      direction = zigZagSegment(clonedPath, segment, amplitude, frequency, pointType, -direction);\n\n      if (i === count - 1 && !path.c) {\n        segment = null;\n      } else {\n        segment = PolynomialBezier.shapeSegment(path, (i + 1) % count);\n      }\n\n      zigZagCorner(clonedPath, path, i + 1, amplitude, frequency, pointType, direction);\n    }\n\n    return clonedPath;\n  };\n\n  ZigZagModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amplitude = this.amplitude.v;\n    var frequency = Math.max(0, Math.round(this.frequency.v));\n    var pointType = this.pointsType.v;\n\n    if (amplitude !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amplitude, frequency, pointType));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function linearOffset(p1, p2, amount) {\n    var angle = Math.atan2(p2[0] - p1[0], p2[1] - p1[1]);\n    return [polarOffset(p1, angle, amount), polarOffset(p2, angle, amount)];\n  }\n\n  function offsetSegment(segment, amount) {\n    var p0;\n    var p1a;\n    var p1b;\n    var p2b;\n    var p2a;\n    var p3;\n    var e;\n    e = linearOffset(segment.points[0], segment.points[1], amount);\n    p0 = e[0];\n    p1a = e[1];\n    e = linearOffset(segment.points[1], segment.points[2], amount);\n    p1b = e[0];\n    p2b = e[1];\n    e = linearOffset(segment.points[2], segment.points[3], amount);\n    p2a = e[0];\n    p3 = e[1];\n    var p1 = lineIntersection(p0, p1a, p1b, p2b);\n    if (p1 === null) p1 = p1a;\n    var p2 = lineIntersection(p2a, p3, p1b, p2b);\n    if (p2 === null) p2 = p2a;\n    return new PolynomialBezier(p0, p1, p2, p3);\n  }\n\n  function joinLines(outputBezier, seg1, seg2, lineJoin, miterLimit) {\n    var p0 = seg1.points[3];\n    var p1 = seg2.points[0]; // Bevel\n\n    if (lineJoin === 3) return p0; // Connected, they don't need a joint\n\n    if (pointEqual(p0, p1)) return p0; // Round\n\n    if (lineJoin === 2) {\n      var angleOut = -seg1.tangentAngle(1);\n      var angleIn = -seg2.tangentAngle(0) + Math.PI;\n      var center = lineIntersection(p0, polarOffset(p0, angleOut + Math.PI / 2, 100), p1, polarOffset(p1, angleOut + Math.PI / 2, 100));\n      var radius = center ? pointDistance(center, p0) : pointDistance(p0, p1) / 2;\n      var tan = polarOffset(p0, angleOut, 2 * radius * roundCorner);\n      outputBezier.setXYAt(tan[0], tan[1], 'o', outputBezier.length() - 1);\n      tan = polarOffset(p1, angleIn, 2 * radius * roundCorner);\n      outputBezier.setTripleAt(p1[0], p1[1], p1[0], p1[1], tan[0], tan[1], outputBezier.length());\n      return p1;\n    } // Miter\n\n\n    var t0 = pointEqual(p0, seg1.points[2]) ? seg1.points[0] : seg1.points[2];\n    var t1 = pointEqual(p1, seg2.points[1]) ? seg2.points[3] : seg2.points[1];\n    var intersection = lineIntersection(t0, p0, p1, t1);\n\n    if (intersection && pointDistance(intersection, p0) < miterLimit) {\n      outputBezier.setTripleAt(intersection[0], intersection[1], intersection[0], intersection[1], intersection[0], intersection[1], outputBezier.length());\n      return intersection;\n    }\n\n    return p0;\n  }\n\n  function getIntersection(a, b) {\n    var intersect = a.intersections(b);\n    if (intersect.length && floatEqual(intersect[0][0], 1)) intersect.shift();\n    if (intersect.length) return intersect[0];\n    return null;\n  }\n\n  function pruneSegmentIntersection(a, b) {\n    var outa = a.slice();\n    var outb = b.slice();\n    var intersect = getIntersection(a[a.length - 1], b[0]);\n\n    if (intersect) {\n      outa[a.length - 1] = a[a.length - 1].split(intersect[0])[0];\n      outb[0] = b[0].split(intersect[1])[1];\n    }\n\n    if (a.length > 1 && b.length > 1) {\n      intersect = getIntersection(a[0], b[b.length - 1]);\n\n      if (intersect) {\n        return [[a[0].split(intersect[0])[0]], [b[b.length - 1].split(intersect[1])[1]]];\n      }\n    }\n\n    return [outa, outb];\n  }\n\n  function pruneIntersections(segments) {\n    var e;\n\n    for (var i = 1; i < segments.length; i += 1) {\n      e = pruneSegmentIntersection(segments[i - 1], segments[i]);\n      segments[i - 1] = e[0];\n      segments[i] = e[1];\n    }\n\n    if (segments.length > 1) {\n      e = pruneSegmentIntersection(segments[segments.length - 1], segments[0]);\n      segments[segments.length - 1] = e[0];\n      segments[0] = e[1];\n    }\n\n    return segments;\n  }\n\n  function offsetSegmentSplit(segment, amount) {\n    /*\r\n      We split each bezier segment into smaller pieces based\r\n      on inflection points, this ensures the control point\r\n      polygon is convex.\r\n        (A cubic bezier can have none, one, or two inflection points)\r\n    */\n    var flex = segment.inflectionPoints();\n    var left;\n    var right;\n    var split;\n    var mid;\n\n    if (flex.length === 0) {\n      return [offsetSegment(segment, amount)];\n    }\n\n    if (flex.length === 1 || floatEqual(flex[1], 1)) {\n      split = segment.split(flex[0]);\n      left = split[0];\n      right = split[1];\n      return [offsetSegment(left, amount), offsetSegment(right, amount)];\n    }\n\n    split = segment.split(flex[0]);\n    left = split[0];\n    var t = (flex[1] - flex[0]) / (1 - flex[0]);\n    split = split[1].split(t);\n    mid = split[0];\n    right = split[1];\n    return [offsetSegment(left, amount), offsetSegment(mid, amount), offsetSegment(right, amount)];\n  }\n\n  function OffsetPathModifier() {}\n\n  extendPrototype([ShapeModifier], OffsetPathModifier);\n\n  OffsetPathModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this.miterLimit = PropertyFactory.getProp(elem, data.ml, 0, null, this);\n    this.lineJoin = data.lj;\n    this._isAnimated = this.amount.effectsSequence.length !== 0;\n  };\n\n  OffsetPathModifier.prototype.processPath = function (inputBezier, amount, lineJoin, miterLimit) {\n    var outputBezier = shapePool.newElement();\n    outputBezier.c = inputBezier.c;\n    var count = inputBezier.length();\n\n    if (!inputBezier.c) {\n      count -= 1;\n    }\n\n    var i;\n    var j;\n    var segment;\n    var multiSegments = [];\n\n    for (i = 0; i < count; i += 1) {\n      segment = PolynomialBezier.shapeSegment(inputBezier, i);\n      multiSegments.push(offsetSegmentSplit(segment, amount));\n    }\n\n    if (!inputBezier.c) {\n      for (i = count - 1; i >= 0; i -= 1) {\n        segment = PolynomialBezier.shapeSegmentInverted(inputBezier, i);\n        multiSegments.push(offsetSegmentSplit(segment, amount));\n      }\n    }\n\n    multiSegments = pruneIntersections(multiSegments); // Add bezier segments to the output and apply line joints\n\n    var lastPoint = null;\n    var lastSeg = null;\n\n    for (i = 0; i < multiSegments.length; i += 1) {\n      var multiSegment = multiSegments[i];\n      if (lastSeg) lastPoint = joinLines(outputBezier, lastSeg, multiSegment[0], lineJoin, miterLimit);\n      lastSeg = multiSegment[multiSegment.length - 1];\n\n      for (j = 0; j < multiSegment.length; j += 1) {\n        segment = multiSegment[j];\n\n        if (lastPoint && pointEqual(segment.points[0], lastPoint)) {\n          outputBezier.setXYAt(segment.points[1][0], segment.points[1][1], 'o', outputBezier.length() - 1);\n        } else {\n          outputBezier.setTripleAt(segment.points[0][0], segment.points[0][1], segment.points[1][0], segment.points[1][1], segment.points[0][0], segment.points[0][1], outputBezier.length());\n        }\n\n        outputBezier.setTripleAt(segment.points[3][0], segment.points[3][1], segment.points[3][0], segment.points[3][1], segment.points[2][0], segment.points[2][1], outputBezier.length());\n        lastPoint = segment.points[3];\n      }\n    }\n\n    if (multiSegments.length) joinLines(outputBezier, lastSeg, multiSegments[0][0], lineJoin, miterLimit);\n    return outputBezier;\n  };\n\n  OffsetPathModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n    var miterLimit = this.miterLimit.v;\n    var lineJoin = this.lineJoin;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount, lineJoin, miterLimit));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = []; // Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var BLACK_FLAG_CODE_POINT = 127988;\n    var CANCEL_TAG_CODE_POINT = 917631;\n    var A_TAG_CODE_POINT = 917601;\n    var Z_TAG_CODE_POINT = 917626;\n    var VARIATION_SELECTOR_16_CODE_POINT = 65039;\n    var ZERO_WIDTH_JOINER_CODE_POINT = 8205;\n    var REGIONAL_CHARACTER_A_CODE_POINT = 127462;\n    var REGIONAL_CHARACTER_Z_CODE_POINT = 127487;\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\n\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(fontData, def) {\n      var engine = document.body && def ? 'svg' : 'canvas';\n      var helper;\n      var fontProps = getFontProperties(fontData);\n\n      if (engine === 'svg') {\n        var tHelper = createNS('text');\n        tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\n\n        tHelper.setAttribute('font-family', fontData.fFamily);\n        tHelper.setAttribute('font-style', fontProps.style);\n        tHelper.setAttribute('font-weight', fontProps.weight);\n        tHelper.textContent = '1';\n\n        if (fontData.fClass) {\n          tHelper.style.fontFamily = 'inherit';\n          tHelper.setAttribute('class', fontData.fClass);\n        } else {\n          tHelper.style.fontFamily = fontData.fFamily;\n        }\n\n        def.appendChild(tHelper);\n        helper = tHelper;\n      } else {\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\n        helper = tCanvasHelper;\n      }\n\n      function measure(text) {\n        if (engine === 'svg') {\n          helper.textContent = text;\n          return helper.getComputedTextLength();\n        }\n\n        return helper.measureText(text).width;\n      }\n\n      return {\n        measureText: measure\n      };\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      if (!document.body) {\n        this.isLoaded = true;\n        fontData.list.forEach(function (data) {\n          data.helper = createHelper(data);\n          data.cache = {};\n        });\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(fontArr[i], defs);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName); // Using the char instead of char.charCodeAt(0)\n      // to avoid collisions between equal chars\n\n      var index = _char2;\n\n      if (!fontData.cache[index]) {\n        var tHelper = fontData.helper;\n\n        if (_char2 === ' ') {\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\n          var singleSize = tHelper.measureText('||');\n          fontData.cache[index] = (doubleSize - singleSize) / 100;\n        } else {\n          fontData.cache[index] = tHelper.measureText(_char2) / 100;\n        }\n      }\n\n      return fontData.cache[index] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function getCodePoint(string) {\n      var codePoint = 0;\n      var first = string.charCodeAt(0);\n\n      if (first >= 0xD800 && first <= 0xDBFF) {\n        var second = string.charCodeAt(1);\n\n        if (second >= 0xDC00 && second <= 0xDFFF) {\n          codePoint = (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        }\n      }\n\n      return codePoint;\n    } // Skin tone modifiers\n\n\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n\n    function isZeroWidthJoiner(charCode) {\n      return charCode === ZERO_WIDTH_JOINER_CODE_POINT;\n    } // This codepoint may change the appearance of the preceding character.\n    // If that is a symbol, dingbat or emoji, U+FE0F forces it to be rendered\n    // as a colorful image as compared to a monochrome text variant.\n\n\n    function isVariationSelector(charCode) {\n      return charCode === VARIATION_SELECTOR_16_CODE_POINT;\n    } // The regional indicator symbols are a set of 26 alphabetic Unicode\n    /// characters (AZ) intended to be used to encode ISO 3166-1 alpha-2\n    // two-letter country codes in a way that allows optional special treatment.\n\n\n    function isRegionalCode(string) {\n      var codePoint = getCodePoint(string);\n\n      if (codePoint >= REGIONAL_CHARACTER_A_CODE_POINT && codePoint <= REGIONAL_CHARACTER_Z_CODE_POINT) {\n        return true;\n      }\n\n      return false;\n    } // Some Emoji implementations represent combinations of\n    // two regional indicator letters as a single flag symbol.\n\n\n    function isFlagEmoji(string) {\n      return isRegionalCode(string.substr(0, 2)) && isRegionalCode(string.substr(2, 2));\n    }\n\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    } // Regional flags start with a BLACK_FLAG_CODE_POINT\n    // folowed by 5 chars in the TAG range\n    // and end with a CANCEL_TAG_CODE_POINT\n\n\n    function isRegionalFlag(text, index) {\n      var codePoint = getCodePoint(text.substr(index, 2));\n\n      if (codePoint !== BLACK_FLAG_CODE_POINT) {\n        return false;\n      }\n\n      var count = 0;\n      index += 2;\n\n      while (count < 5) {\n        codePoint = getCodePoint(text.substr(index, 2));\n\n        if (codePoint < A_TAG_CODE_POINT || codePoint > Z_TAG_CODE_POINT) {\n          return false;\n        }\n\n        count += 1;\n        index += 2;\n      }\n\n      return getCodePoint(text.substr(index, 2)) === CANCEL_TAG_CODE_POINT;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isFlagEmoji = isFlagEmoji;\n    Font.isRegionalCode = isRegionalCode;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    Font.isRegionalFlag = isRegionalFlag;\n    Font.isVariationSelector = isVariationSelector;\n    Font.BLACK_FLAG_CODE_POINT = BLACK_FLAG_CODE_POINT;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function SlotManager(animationData) {\n    this.animationData = animationData;\n  }\n\n  SlotManager.prototype.getProp = function (data) {\n    if (this.animationData.slots && this.animationData.slots[data.sid]) {\n      return Object.assign(data, this.animationData.slots[data.sid].p);\n    }\n\n    return data;\n  };\n\n  function slotFactory(animationData) {\n    return new SlotManager(animationData);\n  }\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; // layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; // list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0;\n      var len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      var expressionsInterfaces = getExpressionInterfaces();\n\n      if (!expressionsInterfaces) {\n        return;\n      }\n\n      var LayerExpressionInterface = expressionsInterfaces('layer');\n      var EffectsExpressionInterface = expressionsInterfaces('effects');\n      var ShapeExpressionInterface = expressionsInterfaces('shape');\n      var TextExpressionInterface = expressionsInterfaces('text');\n      var CompExpressionInterface = expressionsInterfaces('comp');\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false; // list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n\n  FootageElement.prototype.prepareFrame = function () {};\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  FootageElement.prototype.renderFrame = function () {};\n\n  FootageElement.prototype.destroy = function () {};\n\n  FootageElement.prototype.initExpressions = function () {\n    var expressionsInterfaces = getExpressionInterfaces();\n\n    if (!expressionsInterfaces) {\n      return;\n    }\n\n    var FootageInterface = expressionsInterfaces('footage');\n    this.layerInterface = FootageInterface(this);\n  };\n\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this._volumeMultiplier = 1;\n    this._volume = 1;\n    this._previousVolume = null;\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\n      k: [100]\n    }, 1, 0.01, this);\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n\n    this._volume = this.lv.v[0];\n    var totalVolume = this._volume * this._volumeMultiplier;\n\n    if (this._previousVolume !== totalVolume) {\n      this._previousVolume = totalVolume;\n      this.audio.volume(totalVolume);\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this._volumeMultiplier = volumeValue;\n    this._previousVolume = volumeValue * this._volume;\n    this.audio.volume(this._previousVolume);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n\n      case 15:\n        return this.createFootage(layer);\n\n      default:\n        return this.createNull(layer);\n    }\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.getElementById = function (ind) {\n    var i;\n    var len = this.elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i].data.ind === ind) {\n        return this.elements[i];\n      }\n    }\n\n    return null;\n  };\n\n  BaseRenderer.prototype.getElementByPath = function (path) {\n    var pathValue = path.shift();\n    var element;\n\n    if (typeof pathValue === 'number') {\n      element = this.elements[pathValue];\n    } else {\n      var i;\n      var len = this.elements.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.elements[i].data.nm === pathValue) {\n          element = this.elements[i];\n          break;\n        }\n      }\n    }\n\n    if (path.length === 0) {\n      return element;\n    }\n\n    return element.getElementByPath(path);\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.slotManager = slotFactory(animData);\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  var effectTypes = {\n    TRANSFORM_EFFECT: 'transformEFfect'\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      var mat = new Matrix();\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _localMatMdf: false,\n        _opMdf: false,\n        mat: mat,\n        localMat: mat,\n        localOpacity: 1\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } // TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {// this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            finalMat.multiply(this.hierarchy[i].finalTransform.mProp.v);\n          }\n        }\n      }\n\n      if (this.finalTransform._matMdf) {\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderLocalTransform: function renderLocalTransform() {\n      if (this.localTransforms) {\n        var i = 0;\n        var len = this.localTransforms.length;\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n\n        if (!this.finalTransform._localMatMdf || !this.finalTransform._opMdf) {\n          while (i < len) {\n            if (this.localTransforms[i]._mdf) {\n              this.finalTransform._localMatMdf = true;\n            }\n\n            if (this.localTransforms[i]._opMdf && !this.finalTransform._opMdf) {\n              this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n              this.finalTransform._opMdf = true;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._localMatMdf) {\n          var localMat = this.finalTransform.localMat;\n          this.localTransforms[0].matrix.clone(localMat);\n\n          for (i = 1; i < len; i += 1) {\n            var lmat = this.localTransforms[i].matrix;\n            localMat.multiply(lmat);\n          }\n\n          localMat.multiply(this.finalTransform.mat);\n        }\n\n        if (this.finalTransform._opMdf) {\n          var localOp = this.finalTransform.localOpacity;\n\n          for (i = 0; i < len; i += 1) {\n            localOp *= this.localTransforms[i].opacity * 0.01;\n          }\n\n          this.finalTransform.localOpacity = localOp;\n        }\n      }\n    },\n    searchEffectTransforms: function searchEffectTransforms() {\n      if (this.renderableEffectsManager) {\n        var transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n\n        if (transformEffects.length) {\n          this.localTransforms = [];\n          this.finalTransform.localMat = new Matrix();\n          var i = 0;\n          var len = transformEffects.length;\n\n          for (i = 0; i < len; i += 1) {\n            this.localTransforms.push(transformEffects[i]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i;\n      var len = transforms.length;\n      var ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        } // TODO move this to a factory or to a constructor\n\n\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        } // TODO move this to a factory or to a constructor\n\n\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } // pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true,\n      svgLumaHidden: true,\n      offscreenCanvas: typeof OffscreenCanvas !== 'undefined'\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    if (/firefox/i.test(navigator.userAgent)) {\n      ob.svgLumaHidden = false;\n    }\n\n    return ob;\n  }();\n\n  var registeredEffects$1 = {};\n  var idPrefix = 'filter_result_';\n\n  function SVGEffects(elem) {\n    var i;\n    var source = 'SourceGraphic';\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects$1[type]) {\n        var Effect = registeredEffects$1[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\n        source = idPrefix + count;\n\n        if (registeredEffects$1[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  SVGEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n\n    return effects;\n  };\n\n  function registerEffect$1(id, effect, countsAsEffect) {\n    registeredEffects$1[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\n\n      if (this.data.td) {\n        this.matteMasks = {};\n        var gg = createNS('g');\n        gg.setAttribute('id', this.layerId);\n        gg.appendChild(this.layerElement);\n        layerElementParent = gg;\n        this.globalData.defs.appendChild(gg);\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._localMatMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.localMat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.localOpacity);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n      this.searchEffectTransforms();\n    },\n    getMatte: function getMatte(matteType) {\n      // This should not be a common case. But for backward compatibility, we'll create the matte object.\n      // It solves animations that have two consecutive layers marked as matte masks.\n      // Which is an undefined behavior in AE.\n      if (!this.matteMasks) {\n        this.matteMasks = {};\n      }\n\n      if (!this.matteMasks[matteType]) {\n        var id = this.layerId + '_' + matteType;\n        var filId;\n        var fil;\n        var useElement;\n        var gg;\n\n        if (matteType === 1 || matteType === 3) {\n          var masker = createNS('mask');\n          masker.setAttribute('id', id);\n          masker.setAttribute('mask-type', matteType === 3 ? 'luminance' : 'alpha');\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          masker.appendChild(useElement);\n          this.globalData.defs.appendChild(masker);\n\n          if (!featureSupport.maskType && matteType === 1) {\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(useElement);\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (matteType === 2) {\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', id);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); /// /\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); /// /\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          maskGrouper.appendChild(useElement);\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n\n        this.matteMasks[matteType] = id;\n      }\n\n      return this.matteMasks[matteType];\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderLocalTransform();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n\n    if (this.assetData && this.assetData.sid) {\n      this.assetData = globalData.slotManager.getProp(this.assetData);\n    }\n\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i;\n      var len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0;\n    var len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n\n        case 'no':\n          return renderNoop;\n\n        default:\n          return null;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderNoop() {}\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var iterations;\n      var k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              mat.multiply(itemData.transformers[k].mProps.v);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops;\n      var i;\n      var len;\n      var stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } // gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n\n    if (data.d && data.d.sid) {\n      data.d = elem.globalData.slotManager.getProp(data.d);\n    }\n\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n    var shouldCombineNext = false;\n    var currentChars = '';\n\n    while (i < len) {\n      shouldCombine = shouldCombineNext;\n      shouldCombineNext = false;\n      charCode = text.charCodeAt(i);\n      currentChars = text.charAt(i);\n\n      if (FontManager.isCombinedCharacter(charCode)) {\n        shouldCombine = true; // It's a potential surrogate pair (this is the High surrogate)\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        if (FontManager.isRegionalFlag(text, i)) {\n          currentChars = text.substr(i, 14);\n        } else {\n          secondCharCode = text.charCodeAt(i + 1); // It's a surrogate pair (this is the Low surrogate)\n\n          if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n            if (FontManager.isModifier(charCode, secondCharCode)) {\n              currentChars = text.substr(i, 2);\n              shouldCombine = true;\n            } else if (FontManager.isFlagEmoji(text.substr(i, 4))) {\n              currentChars = text.substr(i, 4);\n            } else {\n              currentChars = text.substr(i, 2);\n            }\n          }\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (FontManager.isVariationSelector(charCode)) {\n          shouldCombine = true;\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        shouldCombine = true;\n        shouldCombineNext = true;\n      }\n\n      if (shouldCombine) {\n        charactersArray[charactersArray.length - 1] += currentChars;\n        shouldCombine = false;\n      } else {\n        charactersArray.push(currentChars);\n      }\n\n      i += currentChars.length;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.setCurrentData(dData);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        } // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n\n\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n\n          var threshold = 0.5 - smoothness * 0.5;\n\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n\n              default:\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true; // Force alignment only works with a single line for now\n\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n\n            default:\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  ITextElement.prototype.validateText = function () {\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  var emptyShapeData = {\n    shapes: []\n  };\n\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\n    // but since text internal content gets only rendered once and then it's never rerendered,\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\n    if (data.shapes && data.shapes.length) {\n      var shape = data.shapes[0];\n\n      if (shape.it) {\n        var shapeItem = shape.it[shape.it.length - 1];\n\n        if (shapeItem.s) {\n          shapeItem.s.k[0] = scale;\n          shapeItem.s.k[1] = scale;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n\n        default:\n          justify = 'start';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement; // t === 1 means the character has been replaced with an animated shaped\n\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n\n            if (charData.data && charData.data.shapes) {\n              data = this.buildShapeData(charData.data, documentData.finalSize);\n            }\n\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n\n          if (this.textSpans[i].glyph) {\n            var glyph = this.textSpans[i].glyph;\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n            glyph.destroy();\n          }\n\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement); // when using animated shapes, the layer will be scaled instead of replacing the internal scale\n          // this might have issues with strokes and might need a different solution\n\n          if (charData.t === 1) {\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n          }\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    this.validateText();\n\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n\n  extendPrototype([BaseRenderer], SVGRendererBase);\n\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    this.svgElement.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n\n    if (this.renderConfig.width) {\n      this.svgElement.setAttribute('width', this.renderConfig.width);\n    }\n\n    if (this.renderConfig.height) {\n      this.svgElement.setAttribute('height', this.renderConfig.height);\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n\n  SVGRendererBase.prototype.findIndexByInd = function (ind) {\n    var i = 0;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ind === ind) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      var elementIndex = 'tp' in this.layers[pos] ? this.findIndexByInd(this.layers[pos].tp) : pos - 1;\n\n      if (elementIndex === -1) {\n        return;\n      }\n\n      if (!this.elements[elementIndex] || this.elements[elementIndex] === true) {\n        this.buildItem(elementIndex);\n        this.addPendingElement(element);\n      } else {\n        var matteElement = elements[elementIndex];\n        var matteMask = matteElement.getMatte(this.layers[pos].tt);\n        element.setMatte(matteMask);\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            var elementIndex = 'tp' in element.data ? this.findIndexByInd(element.data.tp) : i - 1;\n            var matteElement = this.elements[elementIndex];\n            var matteMask = matteElement.getMatte(this.layers[i].tt);\n            element.setMatte(matteMask);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i;\n    var len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } // This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      },\n      width: config && config.width,\n      height: config && config.height,\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([SVGRendererBase], SVGRenderer);\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          sequence.finalTransform.multiply(sequence.transforms[i].transform.mProps.v);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  var lumaLoader = function lumaLoader() {\n    var id = '__lottie_element_luma_buffer';\n    var lumaBuffer = null;\n    var lumaBufferCtx = null;\n    var svg = null; // This alternate solution has a slight delay before the filter is applied, resulting in a flicker on the first frame.\n    // Keeping this here for reference, and in the future, if offscreen canvas supports url filters, this can be used.\n    // For now, neither of them work for offscreen canvas, so canvas workers can't support the luma track matte mask.\n    // Naming it solution 2 to mark the extra comment lines.\n\n    /*\r\n    var svgString = [\r\n      '<svg xmlns=\"http://www.w3.org/2000/svg\">',\r\n      '<filter id=\"' + id + '\">',\r\n      '<feColorMatrix type=\"matrix\" color-interpolation-filters=\"sRGB\" values=\"',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0',\r\n      '\"/>',\r\n      '</filter>',\r\n      '</svg>',\r\n    ].join('');\r\n    var blob = new Blob([svgString], { type: 'image/svg+xml' });\r\n    var url = URL.createObjectURL(blob);\r\n    */\n\n    function createLumaSvgFilter() {\n      var _svg = createNS('svg');\n\n      var fil = createNS('filter');\n      var matrix = createNS('feColorMatrix');\n      fil.setAttribute('id', id);\n      matrix.setAttribute('type', 'matrix');\n      matrix.setAttribute('color-interpolation-filters', 'sRGB');\n      matrix.setAttribute('values', '0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0');\n      fil.appendChild(matrix);\n\n      _svg.appendChild(fil);\n\n      _svg.setAttribute('id', id + '_svg');\n\n      if (featureSupport.svgLumaHidden) {\n        _svg.style.display = 'none';\n      }\n\n      return _svg;\n    }\n\n    function loadLuma() {\n      if (!lumaBuffer) {\n        svg = createLumaSvgFilter();\n        document.body.appendChild(svg);\n        lumaBuffer = createTag('canvas');\n        lumaBufferCtx = lumaBuffer.getContext('2d'); // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n\n        lumaBufferCtx.filter = 'url(#' + id + ')';\n        lumaBufferCtx.fillStyle = 'rgba(0,0,0,0)';\n        lumaBufferCtx.fillRect(0, 0, 1, 1);\n      }\n    }\n\n    function getLuma(canvas) {\n      if (!lumaBuffer) {\n        loadLuma();\n      }\n\n      lumaBuffer.width = canvas.width;\n      lumaBuffer.height = canvas.height; // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n\n      lumaBufferCtx.filter = 'url(#' + id + ')';\n      return lumaBuffer;\n    }\n\n    return {\n      load: loadLuma,\n      get: getLuma\n    };\n  };\n\n  function createCanvas(width, height) {\n    if (featureSupport.offscreenCanvas) {\n      return new OffscreenCanvas(width, height);\n    }\n\n    var canvas = createTag('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n\n  var assetLoader = function () {\n    return {\n      loadLumaCanvas: lumaLoader.load,\n      getLumaCanvas: lumaLoader.get,\n      createCanvas: createCanvas\n    };\n  }();\n\n  var registeredEffects = {};\n\n  function CVEffects(elem) {\n    var i;\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(elem.effectsManager.effectElements[i], elem);\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  CVEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  CVEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n\n    return effects;\n  };\n\n  function registerEffect(id, effect) {\n    registeredEffects[id] = {\n      effect: effect\n    };\n  }\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n\n  var operationsMap = {\n    1: 'source-in',\n    2: 'source-out',\n    3: 'source-in',\n    4: 'source-out'\n  };\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      // If the layer is masked we will use two buffers to store each different states of the drawing\n      // This solution is not ideal for several reason. But unfortunately, because of the recursive\n      // nature of the render tree, it's the only simple way to make sure one inner mask doesn't override an outer mask.\n      // TODO: try to reduce the size of these buffers to the size of the composition contaning the layer\n      // It might be challenging because the layer most likely is transformed in some way\n      if (this.data.tt >= 1) {\n        this.buffers = [];\n        var canvasContext = this.globalData.canvasContext;\n        var bufferCanvas = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas);\n        var bufferCanvas2 = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas2);\n\n        if (this.data.tt >= 3 && !document._isProxy) {\n          assetLoader.loadLumaCanvas();\n        }\n      }\n\n      this.canvasContext = this.globalData.canvasContext;\n      this.transformCanvas = this.globalData.transformCanvas;\n      this.renderableEffectsManager = new CVEffects(this);\n      this.searchEffectTransforms();\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n      this.transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    clearCanvas: function clearCanvas(canvasContext) {\n      canvasContext.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w * this.transformCanvas.sx, this.transformCanvas.h * this.transformCanvas.sy);\n    },\n    prepareLayer: function prepareLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[0];\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx); // on the first buffer we store the current state of the global drawing\n\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // The next four lines are to clear the canvas\n        // TODO: Check if there is a way to clear the canvas without resetting the transform\n\n        this.currentTransform = this.canvasContext.getTransform();\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform);\n      }\n    },\n    exitLayer: function exitLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[1]; // On the second buffer we store the current state of the global drawing\n        // that only contains the content of this layer\n        // (if it is a composition, it also includes the nested layers)\n\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx);\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // We clear the canvas again\n\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform); // We draw the mask\n\n        var mask = this.comp.getElementById('tp' in this.data ? this.data.tp : this.data.ind - 1);\n        mask.renderFrame(true); // We draw the second buffer (that contains the content of this layer)\n\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0); // If the mask is a Luma matte, we need to do two extra painting operations\n        // the _isProxy check is to avoid drawing a fake canvas in workers that will throw an error\n\n        if (this.data.tt >= 3 && !document._isProxy) {\n          // We copy the painted mask to a buffer that has a color matrix filter applied to it\n          // that applies the rgb values to the alpha channel\n          var lumaBuffer = assetLoader.getLumaCanvas(this.canvasContext.canvas);\n          var lumaBufferCtx = lumaBuffer.getContext('2d');\n          lumaBufferCtx.drawImage(this.canvasContext.canvas, 0, 0);\n          this.clearCanvas(this.canvasContext); // we repaint the context with the mask applied to it\n\n          this.canvasContext.drawImage(lumaBuffer, 0, 0);\n        }\n\n        this.canvasContext.globalCompositeOperation = operationsMap[this.data.tt];\n        this.canvasContext.drawImage(buffer, 0, 0); // We finally draw the first buffer (that contains the content of the global drawing)\n        // We use destination-over to draw the global drawing below the current layer\n\n        this.canvasContext.globalCompositeOperation = 'destination-over';\n        this.canvasContext.drawImage(this.buffers[0], 0, 0);\n        this.canvasContext.setTransform(this.currentTransform); // We reset the globalCompositeOperation to source-over, the standard type of operation\n\n        this.canvasContext.globalCompositeOperation = 'source-over';\n      }\n    },\n    renderFrame: function renderFrame(forceRender) {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      if (this.data.td === 1 && !forceRender) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderLocalTransform();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.prepareLayer();\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n      this.exitLayer();\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n\n        if (type === 'st' || type === 'gs') {\n          renderer.ctxStrokeStyle(type === 'st' ? currentStyle.co : currentStyle.grd); // ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n\n          renderer.ctxLineWidth(currentStyle.wi); // ctx.lineWidth = currentStyle.wi;\n\n          renderer.ctxLineCap(currentStyle.lc); // ctx.lineCap = currentStyle.lc;\n\n          renderer.ctxLineJoin(currentStyle.lj); // ctx.lineJoin = currentStyle.lj;\n\n          renderer.ctxMiterLimit(currentStyle.ml || 0); // ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          renderer.ctxFillStyle(type === 'fl' ? currentStyle.co : currentStyle.grd); // ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n\n        renderer.ctxOpacity(currentStyle.coOp);\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n\n          if (type === 'st' || type === 'gs') {\n            // ctx.stroke();\n            renderer.ctxStroke();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n\n        if (type !== 'st' && type !== 'gs') {\n          // ctx.fill(currentStyle.r);\n          this.globalData.renderer.ctxFill(currentStyle.r);\n        }\n\n        renderer.restore();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\n\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    this.globalData.renderer.ctxLineCap('butt'); // ctx.lineCap = 'butt';\n\n    this.globalData.renderer.ctxLineJoin('miter'); // ctx.lineJoin = 'miter';\n\n    this.globalData.renderer.ctxMiterLimit(4); // ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n    var renderer = this.globalData.renderer;\n\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n\n        if (renderedLetter) {\n          renderer.save();\n          renderer.ctxTransform(renderedLetter.p);\n          renderer.ctxOpacity(renderedLetter.o);\n        }\n\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              renderer.ctxFillStyle(renderedLetter.fc);\n              lastFill = renderedLetter.fc; // ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            renderer.ctxFillStyle(this.values.fill); // ctx.fillStyle = this.values.fill;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          renderer.ctxFill(); // this.globalData.canvasContext.fill();\n          /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              renderer.ctxLineWidth(renderedLetter.sw); // ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            renderer.ctxLineWidth(this.values.sWidth); // ctx.lineWidth = this.values.sWidth;\n          }\n\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              renderer.ctxStrokeStyle(renderedLetter.sc); // ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            renderer.ctxStrokeStyle(this.values.stroke); // ctx.strokeStyle = this.values.stroke;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          renderer.ctxStroke(); // this.globalData.canvasContext.stroke();\n          /// ctx.strokeText(letters[i].val,0,0);\n        }\n\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    // var ctx = this.canvasContext;\n    this.globalData.renderer.ctxFillStyle(this.data.sc); // ctx.fillStyle = this.data.sc;\n\n    this.globalData.renderer.ctxFillRect(0, 0, this.data.sw, this.data.sh); // ctx.fillRect(0, 0, this.data.sw, this.data.sh);\n    //\n  };\n\n  function CanvasRendererBase() {}\n\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n  };\n\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n  };\n\n  CanvasRendererBase.prototype.ctxFillStyle = function (value) {\n    this.canvasContext.fillStyle = value;\n  };\n\n  CanvasRendererBase.prototype.ctxStrokeStyle = function (value) {\n    this.canvasContext.strokeStyle = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineWidth = function (value) {\n    this.canvasContext.lineWidth = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineCap = function (value) {\n    this.canvasContext.lineCap = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineJoin = function (value) {\n    this.canvasContext.lineJoin = value;\n  };\n\n  CanvasRendererBase.prototype.ctxMiterLimit = function (value) {\n    this.canvasContext.miterLimit = value;\n  };\n\n  CanvasRendererBase.prototype.ctxFill = function (rule) {\n    this.canvasContext.fill(rule);\n  };\n\n  CanvasRendererBase.prototype.ctxFillRect = function (x, y, w, h) {\n    this.canvasContext.fillRect(x, y, w, h);\n  };\n\n  CanvasRendererBase.prototype.ctxStroke = function () {\n    this.canvasContext.stroke();\n  };\n\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRendererBase.prototype.save = function () {\n    this.canvasContext.save();\n  };\n\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.restore(actionFlag);\n  };\n\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.contextData.setContext(this.canvasContext);\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRendererBase.prototype.updateContainerSize = function (width, height) {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n\n    if (width) {\n      elementWidth = width;\n      elementHeight = height;\n      this.canvasContext.canvas.width = elementWidth;\n      this.canvasContext.canvas.height = elementHeight;\n    } else {\n      if (this.animationItem.wrapper && this.animationItem.container) {\n        elementWidth = this.animationItem.wrapper.offsetWidth;\n        elementHeight = this.animationItem.wrapper.offsetHeight;\n      } else {\n        elementWidth = this.canvasContext.canvas.width;\n        elementHeight = this.canvasContext.canvas.height;\n      }\n\n      this.canvasContext.canvas.width = elementWidth * this.renderConfig.dpr;\n      this.canvasContext.canvas.height = elementHeight * this.renderConfig.dpr;\n    }\n\n    var elementRel;\n    var animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\n  };\n\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CanvasContext() {\n    this.opacity = -1;\n    this.transform = createTypedArray('float32', 16);\n    this.fillStyle = '';\n    this.strokeStyle = '';\n    this.lineWidth = '';\n    this.lineCap = '';\n    this.lineJoin = '';\n    this.miterLimit = '';\n    this.id = Math.random();\n  }\n\n  function CVContextData() {\n    this.stack = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    var i;\n    var len = 15;\n\n    for (i = 0; i < len; i += 1) {\n      var canvasContext = new CanvasContext();\n      this.stack[i] = canvasContext;\n    }\n\n    this._length = len;\n    this.nativeContext = null;\n    this.transformMat = new Matrix();\n    this.currentOpacity = 1; //\n\n    this.currentFillStyle = '';\n    this.appliedFillStyle = ''; //\n\n    this.currentStrokeStyle = '';\n    this.appliedStrokeStyle = ''; //\n\n    this.currentLineWidth = '';\n    this.appliedLineWidth = ''; //\n\n    this.currentLineCap = '';\n    this.appliedLineCap = ''; //\n\n    this.currentLineJoin = '';\n    this.appliedLineJoin = ''; //\n\n    this.appliedMiterLimit = '';\n    this.currentMiterLimit = '';\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.stack[i] = new CanvasContext();\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.stack[this.cArrPos].opacity = 1;\n  };\n\n  CVContextData.prototype.restore = function (forceRestore) {\n    this.cArrPos -= 1;\n    var currentContext = this.stack[this.cArrPos];\n    var transform = currentContext.transform;\n    var i;\n    var arr = this.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = transform[i];\n    }\n\n    if (forceRestore) {\n      this.nativeContext.restore();\n      var prevStack = this.stack[this.cArrPos + 1];\n      this.appliedFillStyle = prevStack.fillStyle;\n      this.appliedStrokeStyle = prevStack.strokeStyle;\n      this.appliedLineWidth = prevStack.lineWidth;\n      this.appliedLineCap = prevStack.lineCap;\n      this.appliedLineJoin = prevStack.lineJoin;\n      this.appliedMiterLimit = prevStack.miterLimit;\n    }\n\n    this.nativeContext.setTransform(transform[0], transform[1], transform[4], transform[5], transform[12], transform[13]);\n\n    if (forceRestore || currentContext.opacity !== -1 && this.currentOpacity !== currentContext.opacity) {\n      this.nativeContext.globalAlpha = currentContext.opacity;\n      this.currentOpacity = currentContext.opacity;\n    }\n\n    this.currentFillStyle = currentContext.fillStyle;\n    this.currentStrokeStyle = currentContext.strokeStyle;\n    this.currentLineWidth = currentContext.lineWidth;\n    this.currentLineCap = currentContext.lineCap;\n    this.currentLineJoin = currentContext.lineJoin;\n    this.currentMiterLimit = currentContext.miterLimit;\n  };\n\n  CVContextData.prototype.save = function (saveOnNativeFlag) {\n    if (saveOnNativeFlag) {\n      this.nativeContext.save();\n    }\n\n    var props = this.cTr.props;\n\n    if (this._length <= this.cArrPos) {\n      this.duplicate();\n    }\n\n    var currentStack = this.stack[this.cArrPos];\n    var i;\n\n    for (i = 0; i < 16; i += 1) {\n      currentStack.transform[i] = props[i];\n    }\n\n    this.cArrPos += 1;\n    var newStack = this.stack[this.cArrPos];\n    newStack.opacity = currentStack.opacity;\n    newStack.fillStyle = currentStack.fillStyle;\n    newStack.strokeStyle = currentStack.strokeStyle;\n    newStack.lineWidth = currentStack.lineWidth;\n    newStack.lineCap = currentStack.lineCap;\n    newStack.lineJoin = currentStack.lineJoin;\n    newStack.miterLimit = currentStack.miterLimit;\n  };\n\n  CVContextData.prototype.setOpacity = function (value) {\n    this.stack[this.cArrPos].opacity = value;\n  };\n\n  CVContextData.prototype.setContext = function (value) {\n    this.nativeContext = value;\n  };\n\n  CVContextData.prototype.fillStyle = function (value) {\n    if (this.stack[this.cArrPos].fillStyle !== value) {\n      this.currentFillStyle = value;\n      this.stack[this.cArrPos].fillStyle = value;\n    }\n  };\n\n  CVContextData.prototype.strokeStyle = function (value) {\n    if (this.stack[this.cArrPos].strokeStyle !== value) {\n      this.currentStrokeStyle = value;\n      this.stack[this.cArrPos].strokeStyle = value;\n    }\n  };\n\n  CVContextData.prototype.lineWidth = function (value) {\n    if (this.stack[this.cArrPos].lineWidth !== value) {\n      this.currentLineWidth = value;\n      this.stack[this.cArrPos].lineWidth = value;\n    }\n  };\n\n  CVContextData.prototype.lineCap = function (value) {\n    if (this.stack[this.cArrPos].lineCap !== value) {\n      this.currentLineCap = value;\n      this.stack[this.cArrPos].lineCap = value;\n    }\n  };\n\n  CVContextData.prototype.lineJoin = function (value) {\n    if (this.stack[this.cArrPos].lineJoin !== value) {\n      this.currentLineJoin = value;\n      this.stack[this.cArrPos].lineJoin = value;\n    }\n  };\n\n  CVContextData.prototype.miterLimit = function (value) {\n    if (this.stack[this.cArrPos].miterLimit !== value) {\n      this.currentMiterLimit = value;\n      this.stack[this.cArrPos].miterLimit = value;\n    }\n  };\n\n  CVContextData.prototype.transform = function (props) {\n    this.transformMat.cloneFromProps(props); // Taking the last transform value from the stored stack of transforms\n\n    var currentTransform = this.cTr; // Applying the last transform value after the new transform to respect the order of transformations\n\n    this.transformMat.multiply(currentTransform); // Storing the new transformed value in the stored transform\n\n    currentTransform.cloneFromProps(this.transformMat.props);\n    var trProps = currentTransform.props; // Applying the new transform to the canvas\n\n    this.nativeContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CVContextData.prototype.opacity = function (op) {\n    var currentOpacity = this.stack[this.cArrPos].opacity;\n    currentOpacity *= op < 0 ? 0 : op;\n\n    if (this.stack[this.cArrPos].opacity !== currentOpacity) {\n      if (this.currentOpacity !== op) {\n        this.nativeContext.globalAlpha = op;\n        this.currentOpacity = op;\n      }\n\n      this.stack[this.cArrPos].opacity = currentOpacity;\n    }\n  };\n\n  CVContextData.prototype.fill = function (rule) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n\n    this.nativeContext.fill(rule);\n  };\n\n  CVContextData.prototype.fillRect = function (x, y, w, h) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n\n    this.nativeContext.fillRect(x, y, w, h);\n  };\n\n  CVContextData.prototype.stroke = function () {\n    if (this.appliedStrokeStyle !== this.currentStrokeStyle) {\n      this.appliedStrokeStyle = this.currentStrokeStyle;\n      this.nativeContext.strokeStyle = this.appliedStrokeStyle;\n    }\n\n    if (this.appliedLineWidth !== this.currentLineWidth) {\n      this.appliedLineWidth = this.currentLineWidth;\n      this.nativeContext.lineWidth = this.appliedLineWidth;\n    }\n\n    if (this.appliedLineCap !== this.currentLineCap) {\n      this.appliedLineCap = this.currentLineCap;\n      this.nativeContext.lineCap = this.appliedLineCap;\n    }\n\n    if (this.appliedLineJoin !== this.currentLineJoin) {\n      this.appliedLineJoin = this.currentLineJoin;\n      this.nativeContext.lineJoin = this.appliedLineJoin;\n    }\n\n    if (this.appliedMiterLimit !== this.currentMiterLimit) {\n      this.appliedMiterLimit = this.currentMiterLimit;\n      this.nativeContext.miterLimit = this.appliedMiterLimit;\n    }\n\n    this.nativeContext.stroke();\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || '',\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n\n    if (this.renderConfig.clearCanvas) {\n      this.ctxTransform = this.contextData.transform.bind(this.contextData);\n      this.ctxOpacity = this.contextData.opacity.bind(this.contextData);\n      this.ctxFillStyle = this.contextData.fillStyle.bind(this.contextData);\n      this.ctxStrokeStyle = this.contextData.strokeStyle.bind(this.contextData);\n      this.ctxLineWidth = this.contextData.lineWidth.bind(this.contextData);\n      this.ctxLineCap = this.contextData.lineCap.bind(this.contextData);\n      this.ctxLineJoin = this.contextData.lineJoin.bind(this.contextData);\n      this.ctxMiterLimit = this.contextData.miterLimit.bind(this.contextData);\n      this.ctxFill = this.contextData.fill.bind(this.contextData);\n      this.ctxFillRect = this.contextData.fillRect.bind(this.contextData);\n      this.ctxStroke = this.contextData.stroke.bind(this.contextData);\n      this.save = this.contextData.save.bind(this.contextData);\n    }\n  }\n\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n\n      a |= 0; // eslint-disable-line no-bitwise\n\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {//\n      } else if (a === 0) {\n        t = -c / b;\n\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      } else if (itemsData[i] && itemsData[i].style && itemsData[i].w) {\n        this.expandStrokeBoundingBox(itemsData[i].w, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.expandStrokeBoundingBox = function (widthProperty, boundingBox) {\n    var width = 0;\n\n    if (widthProperty.keyframes) {\n      for (var i = 0; i < widthProperty.keyframes.length; i += 1) {\n        var kfw = widthProperty.keyframes[i].s;\n\n        if (kfw > width) {\n          width = kfw;\n        }\n      }\n\n      width *= widthProperty.mult;\n    } else {\n      width = widthProperty.v * widthProperty.mult;\n    }\n\n    boundingBox.x -= width;\n    boundingBox.xMax += width;\n    boundingBox.y -= width;\n    boundingBox.yMax += width;\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      } // tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var svgStyle;\n\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n        textSpan.style.opacity = renderedLetter.o;\n\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; // Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      },\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([HybridRendererBase], HybridRenderer);\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; // return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n\n  /* eslint-disable */\n\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = _typeof$2(obj),\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  }\n\n  ;\n\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    var _lottieGlobal = {};\n    initialize$2(BMMath);\n\n    function resetFrame() {\n      _lottieGlobal = {};\n    }\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || v instanceof Number || tOfV === 'boolean' || tOfV === 'string';\n    }\n\n    function $bm_neg(a) {\n      var tOfA = _typeof$1(a);\n\n      if (tOfA === 'number' || a instanceof Number || tOfA === 'boolean') {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n\n      return -a;\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b) || tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n\n      if (max === min) {\n        h = 0; // achromatic\n\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n\n          default:\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n\n      if (s === 0) {\n        r = l; // achromatic\n\n        b = l; // achromatic\n\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      }\n\n      if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i;\n        var len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      // Bail out if we don't want expressions\n      function noOp(_value) {\n        return _value;\n      }\n\n      if (!elem.globalData.renderConfig.runExpressions) {\n        return noOp;\n      }\n\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          iWiggle += 1;\n        } // var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        }\n\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n\n          return arr;\n        }\n\n        return (val2 - val1) * mult + val1;\n      }\n\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n\n        return obKey;\n      }\n\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return fr / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      } // Bundlers will see these as dead code and unless we reference them\n\n\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath, _lottieGlobal];\n    ob.resetFrame = resetFrame;\n    return ob;\n  }();\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n    ob.resetFrame = ExpressionManager.resetFrame;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i;\n      var len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n\n        var value = '';\n\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n\n        return expressionValue;\n      };\n    } // TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      var _px;\n\n      var _py;\n\n      var _pz;\n\n      var _transformFactory;\n\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      return toWorldMat;\n    }\n\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n\n          default:\n            return null;\n        }\n      }\n\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return propertyGroup(val - 1);\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n\n          return null;\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n\n      return null;\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n\n            return effectElements[i]();\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n\n        return null;\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); // interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          }\n\n          return interfaces[value - 1];\n        }\n\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (!_sourceText || stringValue !== _sourceText.value) {\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n\n            Object.defineProperty(_sourceText, 'style', {\n              get: function get() {\n                return {\n                  fillColor: elem.textProperty.currentData.fc\n                };\n              }\n            });\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        return '';\n      }\n\n      return init;\n    };\n\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n\n        return null;\n      }\n\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n\n        return null;\n      }\n\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  var interfaces = {\n    layer: LayerExpressionInterface,\n    effects: EffectsExpressionInterface,\n    comp: CompExpressionInterface,\n    shape: ShapeExpressionInterface,\n    text: TextExpressionInterface,\n    footage: FootageInterface\n  };\n\n  function getInterface(type) {\n    return interfaces[type] || null;\n  }\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; // frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var firstKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n\n          return ret;\n        }\n\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n\n          return ret;\n        }\n\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var lastKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n\n          return ret;\n        }\n\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n\n          return ret;\n        }\n\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } /// /\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n\n      return matrix; /// /\n    }\n\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  }\n\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n\n      return null;\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n\n  function initialize() {\n    addDecorator();\n  }\n\n  function SVGComposableEffect() {}\n\n  SVGComposableEffect.prototype = {\n    createMergeNode: function createMergeNode(resultId, ins) {\n      var feMerge = createNS('feMerge');\n      feMerge.setAttribute('result', resultId);\n      var feMergeNode;\n      var i;\n\n      for (i = 0; i < ins.length; i += 1) {\n        feMergeNode = createNS('feMergeNode');\n        feMergeNode.setAttribute('in', ins[i]);\n        feMerge.appendChild(feMergeNode);\n        feMerge.appendChild(feMergeNode);\n      }\n\n      return feMerge;\n    }\n  };\n\n  var linearFilterValue = '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0';\n\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', linearFilterValue + ' 1 0');\n    this.linearFilter = feColorMatrix;\n    feColorMatrix.setAttribute('result', id + '_tint_1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\n    filter.appendChild(feMerge);\n  }\n\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.linearFilter.setAttribute('values', linearFilterValue + ' ' + opacity + ' 0');\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 1 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id);\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(fil, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    feComponentTransfer.setAttribute('result', id);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n    filter.appendChild(feComponentTransfer);\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB);\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer'); // Red\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    } // Green\n\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    } // Blue\n\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    } // Alpha\n\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    } // RGB\n\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer = createNS('feComponentTransfer');\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      feComponentTransfer.setAttribute('result', id);\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\n    var globalFilterSize = filterManager.container.globalData.renderConfig.filterSize;\n    var filterSize = filterManager.data.fs || globalFilterSize;\n    filter.setAttribute('x', filterSize.x || globalFilterSize.x);\n    filter.setAttribute('y', filterSize.y || globalFilterSize.y);\n    filter.setAttribute('width', filterSize.width || globalFilterSize.width);\n    filter.setAttribute('height', filterSize.height || globalFilterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\n    filter.appendChild(feMerge); //\n  }\n\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('result', id);\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  function TransformEffect() {}\n\n  TransformEffect.prototype.init = function (effectsManager) {\n    this.effectsManager = effectsManager;\n    this.type = effectTypes.TRANSFORM_EFFECT;\n    this.matrix = new Matrix();\n    this.opacity = -1;\n    this._mdf = false;\n    this._opMdf = false;\n  };\n\n  TransformEffect.prototype.renderFrame = function (forceFrame) {\n    this._opMdf = false;\n    this._mdf = false;\n\n    if (forceFrame || this.effectsManager._mdf) {\n      var effectElements = this.effectsManager.effectElements;\n      var anchor = effectElements[0].p.v;\n      var position = effectElements[1].p.v;\n      var isUniformScale = effectElements[2].p.v === 1;\n      var scaleHeight = effectElements[3].p.v;\n      var scaleWidth = isUniformScale ? scaleHeight : effectElements[4].p.v;\n      var skew = effectElements[5].p.v;\n      var skewAxis = effectElements[6].p.v;\n      var rotation = effectElements[7].p.v;\n      this.matrix.reset();\n      this.matrix.translate(-anchor[0], -anchor[1], anchor[2]);\n      this.matrix.scale(scaleWidth * 0.01, scaleHeight * 0.01, 1);\n      this.matrix.rotate(-rotation * degToRads);\n      this.matrix.skewFromAxis(-skew * degToRads, (skewAxis + 90) * degToRads);\n      this.matrix.translate(position[0], position[1], 0);\n      this._mdf = true;\n\n      if (this.opacity !== effectElements[8].p.v) {\n        this.opacity = effectElements[8].p.v;\n        this._opMdf = true;\n      }\n    }\n  };\n\n  function SVGTransformEffect(_, filterManager) {\n    this.init(filterManager);\n  }\n\n  extendPrototype([TransformEffect], SVGTransformEffect);\n\n  function CVTransformEffect(effectsManager) {\n    this.init(effectsManager);\n  }\n\n  extendPrototype([TransformEffect], CVTransformEffect);\n\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier);\n  ShapeModifiers.registerModifier('zz', ZigZagModifier);\n  ShapeModifiers.registerModifier('op', OffsetPathModifier); // Registering expression plugin\n\n  setExpressionsPlugin(Expressions);\n  setExpressionInterfaces(getInterface);\n  initialize$1();\n  initialize(); // Registering svg effects\n\n  registerEffect$1(20, SVGTintFilter, true);\n  registerEffect$1(21, SVGFillFilter, true);\n  registerEffect$1(22, SVGStrokeEffect, false);\n  registerEffect$1(23, SVGTritoneFilter, true);\n  registerEffect$1(24, SVGProLevelsFilter, true);\n  registerEffect$1(25, SVGDropShadowEffect, true);\n  registerEffect$1(28, SVGMatte3Effect, false);\n  registerEffect$1(29, SVGGaussianBlurEffect, true);\n  registerEffect$1(35, SVGTransformEffect, false);\n  registerEffect(35, CVTransformEffect);\n\n  return lottie;\n\n}));\n","/*!\r\n * ScrollMagic v2.0.8 (2020-08-14)\r\n * The javascript library for magical scroll interactions.\r\n * (c) 2020 Jan Paepke (@janpaepke)\r\n * Project Website: http://scrollmagic.io\r\n * \r\n * @version 2.0.8\r\n * @license Dual licensed under MIT license and GPL.\r\n * @author Jan Paepke - e-mail@janpaepke.de\r\n *\r\n * @file ScrollMagic main library.\r\n */\r\n/**\r\n * @namespace ScrollMagic\r\n */\r\n(function (root, factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t// AMD. Register as an anonymous module.\r\n\t\tdefine(factory);\r\n\t} else if (typeof exports === 'object') {\r\n\t\t// CommonJS\r\n\t\tmodule.exports = factory();\r\n\t} else {\r\n\t\t// Browser global\r\n\t\troot.ScrollMagic = factory();\r\n\t}\r\n}(this, function () {\r\n\t\"use strict\";\r\n\r\n\tvar ScrollMagic = function () {\r\n\t\t_util.log(2, '(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use \\'new ScrollMagic.Controller()\\' to create a new controller instance. Use \\'new ScrollMagic.Scene()\\' to instance a scene.');\r\n\t};\r\n\r\n\tScrollMagic.version = \"2.0.8\";\r\n\r\n\t// TODO: temporary workaround for chrome's scroll jitter bug\r\n\tif (typeof (window) !== 'undefined') {\r\n\t\twindow.addEventListener(\"mousewheel\", void(0));\r\n\t}\r\n\r\n\t// global const\r\n\tvar PIN_SPACER_ATTRIBUTE = \"data-scrollmagic-pin-spacer\";\r\n\r\n\t/**\r\n\t * The main class that is needed once per scroll container.\r\n\t *\r\n\t * @class\r\n\t *\r\n\t * @example\r\n\t * // basic initialization\r\n\t * var controller = new ScrollMagic.Controller();\r\n\t *\r\n\t * // passing options\r\n\t * var controller = new ScrollMagic.Controller({container: \"#myContainer\", loglevel: 3});\r\n\t *\r\n\t * @param {object} [options] - An object containing one or more options for the controller.\r\n\t * @param {(string|object)} [options.container=window] - A selector, DOM object that references the main container for scrolling.\r\n\t * @param {boolean} [options.vertical=true] - Sets the scroll mode to vertical (`true`) or horizontal (`false`) scrolling.\r\n\t * @param {object} [options.globalSceneOptions={}] - These options will be passed to every Scene that is added to the controller using the addScene method. For more information on Scene options see {@link ScrollMagic.Scene}.\r\n\t * @param {number} [options.loglevel=2] Loglevel for debugging. Note that logging is disabled in the minified version of ScrollMagic.\r\n\t\t\t\t\t\t\t\t\t\t\t ** `0` => silent\r\n\t\t\t\t\t\t\t\t\t\t\t ** `1` => errors\r\n\t\t\t\t\t\t\t\t\t\t\t ** `2` => errors, warnings\r\n\t\t\t\t\t\t\t\t\t\t\t ** `3` => errors, warnings, debuginfo\r\n\t * @param {boolean} [options.refreshInterval=100] - Some changes don't call events by default, like changing the container size or moving a scene trigger element.  \r\n\t \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t This interval polls these parameters to fire the necessary events.  \r\n\t \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t If you don't use custom containers, trigger elements or have static layouts, where the positions of the trigger elements don't change, you can set this to 0 disable interval checking and improve performance.\r\n\t *\r\n\t */\r\n\tScrollMagic.Controller = function (options) {\r\n\t\t/*\r\n\t\t * ----------------------------------------------------------------\r\n\t\t * settings\r\n\t\t * ----------------------------------------------------------------\r\n\t\t */\r\n\t\tvar\r\n\t\t\tNAMESPACE = 'ScrollMagic.Controller',\r\n\t\t\tSCROLL_DIRECTION_FORWARD = 'FORWARD',\r\n\t\t\tSCROLL_DIRECTION_REVERSE = 'REVERSE',\r\n\t\t\tSCROLL_DIRECTION_PAUSED = 'PAUSED',\r\n\t\t\tDEFAULT_OPTIONS = CONTROLLER_OPTIONS.defaults;\r\n\r\n\t\t/*\r\n\t\t * ----------------------------------------------------------------\r\n\t\t * private vars\r\n\t\t * ----------------------------------------------------------------\r\n\t\t */\r\n\t\tvar\r\n\t\t\tController = this,\r\n\t\t\t_options = _util.extend({}, DEFAULT_OPTIONS, options),\r\n\t\t\t_sceneObjects = [],\r\n\t\t\t_updateScenesOnNextCycle = false, // can be boolean (true => all scenes) or an array of scenes to be updated\r\n\t\t\t_scrollPos = 0,\r\n\t\t\t_scrollDirection = SCROLL_DIRECTION_PAUSED,\r\n\t\t\t_isDocument = true,\r\n\t\t\t_viewPortSize = 0,\r\n\t\t\t_enabled = true,\r\n\t\t\t_updateTimeout,\r\n\t\t\t_refreshTimeout;\r\n\r\n\t\t/*\r\n\t\t * ----------------------------------------------------------------\r\n\t\t * private functions\r\n\t\t * ----------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * Internal constructor function of the ScrollMagic Controller\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar construct = function () {\r\n\t\t\tfor (var key in _options) {\r\n\t\t\t\tif (!DEFAULT_OPTIONS.hasOwnProperty(key)) {\r\n\t\t\t\t\tlog(2, \"WARNING: Unknown option \\\"\" + key + \"\\\"\");\r\n\t\t\t\t\tdelete _options[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_options.container = _util.get.elements(_options.container)[0];\r\n\t\t\t// check ScrollContainer\r\n\t\t\tif (!_options.container) {\r\n\t\t\t\tlog(1, \"ERROR creating object \" + NAMESPACE + \": No valid scroll container supplied\");\r\n\t\t\t\tthrow NAMESPACE + \" init failed.\"; // cancel\r\n\t\t\t}\r\n\t\t\t_isDocument = _options.container === window || _options.container === document.body || !document.body.contains(_options.container);\r\n\t\t\t// normalize to window\r\n\t\t\tif (_isDocument) {\r\n\t\t\t\t_options.container = window;\r\n\t\t\t}\r\n\t\t\t// update container size immediately\r\n\t\t\t_viewPortSize = getViewportSize();\r\n\t\t\t// set event handlers\r\n\t\t\t_options.container.addEventListener(\"resize\", onChange);\r\n\t\t\t_options.container.addEventListener(\"scroll\", onChange);\r\n\r\n\t\t\tvar ri = parseInt(_options.refreshInterval, 10);\r\n\t\t\t_options.refreshInterval = _util.type.Number(ri) ? ri : DEFAULT_OPTIONS.refreshInterval;\r\n\t\t\tscheduleRefresh();\r\n\r\n\t\t\tlog(3, \"added new \" + NAMESPACE + \" controller (v\" + ScrollMagic.version + \")\");\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Schedule the next execution of the refresh function\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar scheduleRefresh = function () {\r\n\t\t\tif (_options.refreshInterval > 0) {\r\n\t\t\t\t_refreshTimeout = window.setTimeout(refresh, _options.refreshInterval);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Default function to get scroll pos - overwriteable using `Controller.scrollPos(newFunction)`\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar getScrollPos = function () {\r\n\t\t\treturn _options.vertical ? _util.get.scrollTop(_options.container) : _util.get.scrollLeft(_options.container);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Returns the current viewport Size (width vor horizontal, height for vertical)\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar getViewportSize = function () {\r\n\t\t\treturn _options.vertical ? _util.get.height(_options.container) : _util.get.width(_options.container);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Default function to set scroll pos - overwriteable using `Controller.scrollTo(newFunction)`\r\n\t\t * Make available publicly for pinned mousewheel workaround.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar setScrollPos = this._setScrollPos = function (pos) {\r\n\t\t\tif (_options.vertical) {\r\n\t\t\t\tif (_isDocument) {\r\n\t\t\t\t\twindow.scrollTo(_util.get.scrollLeft(), pos);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_options.container.scrollTop = pos;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (_isDocument) {\r\n\t\t\t\t\twindow.scrollTo(pos, _util.get.scrollTop());\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_options.container.scrollLeft = pos;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Handle updates in cycles instead of on scroll (performance)\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar updateScenes = function () {\r\n\t\t\tif (_enabled && _updateScenesOnNextCycle) {\r\n\t\t\t\t// determine scenes to update\r\n\t\t\t\tvar scenesToUpdate = _util.type.Array(_updateScenesOnNextCycle) ? _updateScenesOnNextCycle : _sceneObjects.slice(0);\r\n\t\t\t\t// reset scenes\r\n\t\t\t\t_updateScenesOnNextCycle = false;\r\n\t\t\t\tvar oldScrollPos = _scrollPos;\r\n\t\t\t\t// update scroll pos now instead of onChange, as it might have changed since scheduling (i.e. in-browser smooth scroll)\r\n\t\t\t\t_scrollPos = Controller.scrollPos();\r\n\t\t\t\tvar deltaScroll = _scrollPos - oldScrollPos;\r\n\t\t\t\tif (deltaScroll !== 0) { // scroll position changed?\r\n\t\t\t\t\t_scrollDirection = (deltaScroll > 0) ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_REVERSE;\r\n\t\t\t\t}\r\n\t\t\t\t// reverse order of scenes if scrolling reverse\r\n\t\t\t\tif (_scrollDirection === SCROLL_DIRECTION_REVERSE) {\r\n\t\t\t\t\tscenesToUpdate.reverse();\r\n\t\t\t\t}\r\n\t\t\t\t// update scenes\r\n\t\t\t\tscenesToUpdate.forEach(function (scene, index) {\r\n\t\t\t\t\tlog(3, \"updating Scene \" + (index + 1) + \"/\" + scenesToUpdate.length + \" (\" + _sceneObjects.length + \" total)\");\r\n\t\t\t\t\tscene.update(true);\r\n\t\t\t\t});\r\n\t\t\t\tif (scenesToUpdate.length === 0 && _options.loglevel >= 3) {\r\n\t\t\t\t\tlog(3, \"updating 0 Scenes (nothing added to controller)\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Initializes rAF callback\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar debounceUpdate = function () {\r\n\t\t\t_updateTimeout = _util.rAF(updateScenes);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Handles Container changes\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar onChange = function (e) {\r\n\t\t\tlog(3, \"event fired causing an update:\", e.type);\r\n\t\t\tif (e.type == \"resize\") {\r\n\t\t\t\t// resize\r\n\t\t\t\t_viewPortSize = getViewportSize();\r\n\t\t\t\t_scrollDirection = SCROLL_DIRECTION_PAUSED;\r\n\t\t\t}\r\n\t\t\t// schedule update\r\n\t\t\tif (_updateScenesOnNextCycle !== true) {\r\n\t\t\t\t_updateScenesOnNextCycle = true;\r\n\t\t\t\tdebounceUpdate();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar refresh = function () {\r\n\t\t\tif (!_isDocument) {\r\n\t\t\t\t// simulate resize event. Only works for viewport relevant param (performance)\r\n\t\t\t\tif (_viewPortSize != getViewportSize()) {\r\n\t\t\t\t\tvar resizeEvent;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tresizeEvent = new Event('resize', {\r\n\t\t\t\t\t\t\tbubbles: false,\r\n\t\t\t\t\t\t\tcancelable: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (e) { // stupid IE\r\n\t\t\t\t\t\tresizeEvent = document.createEvent(\"Event\");\r\n\t\t\t\t\t\tresizeEvent.initEvent(\"resize\", false, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_options.container.dispatchEvent(resizeEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_sceneObjects.forEach(function (scene, index) { // refresh all scenes\r\n\t\t\t\tscene.refresh();\r\n\t\t\t});\r\n\t\t\tscheduleRefresh();\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Send a debug message to the console.\r\n\t\t * provided publicly with _log for plugins\r\n\t\t * @private\r\n\t\t *\r\n\t\t * @param {number} loglevel - The loglevel required to initiate output for the message.\r\n\t\t * @param {...mixed} output - One or more variables that should be passed to the console.\r\n\t\t */\r\n\t\tvar log = this._log = function (loglevel, output) {\r\n\t\t\tif (_options.loglevel >= loglevel) {\r\n\t\t\t\tArray.prototype.splice.call(arguments, 1, 0, \"(\" + NAMESPACE + \") ->\");\r\n\t\t\t\t_util.log.apply(window, arguments);\r\n\t\t\t}\r\n\t\t};\r\n\t\t// for scenes we have getters for each option, but for the controller we don't, so we need to make it available externally for plugins\r\n\t\tthis._options = _options;\r\n\r\n\t\t/**\r\n\t\t * Sort scenes in ascending order of their start offset.\r\n\t\t * @private\r\n\t\t *\r\n\t\t * @param {array} ScenesArray - an array of ScrollMagic Scenes that should be sorted\r\n\t\t * @return {array} The sorted array of Scenes.\r\n\t\t */\r\n\t\tvar sortScenes = function (ScenesArray) {\r\n\t\t\tif (ScenesArray.length <= 1) {\r\n\t\t\t\treturn ScenesArray;\r\n\t\t\t} else {\r\n\t\t\t\tvar scenes = ScenesArray.slice(0);\r\n\t\t\t\tscenes.sort(function (a, b) {\r\n\t\t\t\t\treturn a.scrollOffset() > b.scrollOffset() ? 1 : -1;\r\n\t\t\t\t});\r\n\t\t\t\treturn scenes;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * ----------------------------------------------------------------\r\n\t\t * public functions\r\n\t\t * ----------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * Add one ore more scene(s) to the controller.  \r\n\t\t * This is the equivalent to `Scene.addTo(controller)`.\r\n\t\t * @public\r\n\t\t * @example\r\n\t\t * // with a previously defined scene\r\n\t\t * controller.addScene(scene);\r\n\t\t *\r\n\t\t * // with a newly created scene.\r\n\t\t * controller.addScene(new ScrollMagic.Scene({duration : 0}));\r\n\t\t *\r\n\t\t * // adding multiple scenes\r\n\t\t * controller.addScene([scene, scene2, new ScrollMagic.Scene({duration : 0})]);\r\n\t\t *\r\n\t\t * @param {(ScrollMagic.Scene|array)} newScene - ScrollMagic Scene or Array of Scenes to be added to the controller.\r\n\t\t * @return {Controller} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.addScene = function (newScene) {\r\n\t\t\tif (_util.type.Array(newScene)) {\r\n\t\t\t\tnewScene.forEach(function (scene, index) {\r\n\t\t\t\t\tController.addScene(scene);\r\n\t\t\t\t});\r\n\t\t\t} else if (newScene instanceof ScrollMagic.Scene) {\r\n\t\t\t\tif (newScene.controller() !== Controller) {\r\n\t\t\t\t\tnewScene.addTo(Controller);\r\n\t\t\t\t} else if (_sceneObjects.indexOf(newScene) < 0) {\r\n\t\t\t\t\t// new scene\r\n\t\t\t\t\t_sceneObjects.push(newScene); // add to array\r\n\t\t\t\t\t_sceneObjects = sortScenes(_sceneObjects); // sort\r\n\t\t\t\t\tnewScene.on(\"shift.controller_sort\", function () { // resort whenever scene moves\r\n\t\t\t\t\t\t_sceneObjects = sortScenes(_sceneObjects);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// insert Global defaults.\r\n\t\t\t\t\tfor (var key in _options.globalSceneOptions) {\r\n\t\t\t\t\t\tif (newScene[key]) {\r\n\t\t\t\t\t\t\tnewScene[key].call(newScene, _options.globalSceneOptions[key]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlog(3, \"adding Scene (now \" + _sceneObjects.length + \" total)\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tlog(1, \"ERROR: invalid argument supplied for '.addScene()'\");\r\n\t\t\t}\r\n\t\t\treturn Controller;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Remove one ore more scene(s) from the controller.  \r\n\t\t * This is the equivalent to `Scene.remove()`.\r\n\t\t * @public\r\n\t\t * @example\r\n\t\t * // remove a scene from the controller\r\n\t\t * controller.removeScene(scene);\r\n\t\t *\r\n\t\t * // remove multiple scenes from the controller\r\n\t\t * controller.removeScene([scene, scene2, scene3]);\r\n\t\t *\r\n\t\t * @param {(ScrollMagic.Scene|array)} Scene - ScrollMagic Scene or Array of Scenes to be removed from the controller.\r\n\t\t * @returns {Controller} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.removeScene = function (Scene) {\r\n\t\t\tif (_util.type.Array(Scene)) {\r\n\t\t\t\tScene.forEach(function (scene, index) {\r\n\t\t\t\t\tController.removeScene(scene);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar index = _sceneObjects.indexOf(Scene);\r\n\t\t\t\tif (index > -1) {\r\n\t\t\t\t\tScene.off(\"shift.controller_sort\");\r\n\t\t\t\t\t_sceneObjects.splice(index, 1);\r\n\t\t\t\t\tlog(3, \"removing Scene (now \" + _sceneObjects.length + \" left)\");\r\n\t\t\t\t\tScene.remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Controller;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t * Update one ore more scene(s) according to the scroll position of the container.  \r\n\t * This is the equivalent to `Scene.update()`.  \r\n\t * The update method calculates the scene's start and end position (based on the trigger element, trigger hook, duration and offset) and checks it against the current scroll position of the container.  \r\n\t * It then updates the current scene state accordingly (or does nothing, if the state is already correct)  Pins will be set to their correct position and tweens will be updated to their correct progress.  \r\n\t * _**Note:** This method gets called constantly whenever Controller detects a change. The only application for you is if you change something outside of the realm of ScrollMagic, like moving the trigger or changing tween parameters._\r\n\t * @public\r\n\t * @example\r\n\t * // update a specific scene on next cycle\r\n \t * controller.updateScene(scene);\r\n \t *\r\n\t * // update a specific scene immediately\r\n\t * controller.updateScene(scene, true);\r\n \t *\r\n\t * // update multiple scenes scene on next cycle\r\n\t * controller.updateScene([scene1, scene2, scene3]);\r\n\t *\r\n\t * @param {ScrollMagic.Scene} Scene - ScrollMagic Scene or Array of Scenes that is/are supposed to be updated.\r\n\t * @param {boolean} [immediately=false] - If `true` the update will be instant, if `false` it will wait until next update cycle.  \r\n\t \t\t\t\t\t\t\t\t\t\t  This is useful when changing multiple properties of the scene - this way it will only be updated once all new properties are set (updateScenes).\r\n\t * @return {Controller} Parent object for chaining.\r\n\t */\r\n\t\tthis.updateScene = function (Scene, immediately) {\r\n\t\t\tif (_util.type.Array(Scene)) {\r\n\t\t\t\tScene.forEach(function (scene, index) {\r\n\t\t\t\t\tController.updateScene(scene, immediately);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tif (immediately) {\r\n\t\t\t\t\tScene.update(true);\r\n\t\t\t\t} else if (_updateScenesOnNextCycle !== true && Scene instanceof ScrollMagic.Scene) { // if _updateScenesOnNextCycle is true, all connected scenes are already scheduled for update\r\n\t\t\t\t\t// prep array for next update cycle\r\n\t\t\t\t\t_updateScenesOnNextCycle = _updateScenesOnNextCycle || [];\r\n\t\t\t\t\tif (_updateScenesOnNextCycle.indexOf(Scene) == -1) {\r\n\t\t\t\t\t\t_updateScenesOnNextCycle.push(Scene);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_updateScenesOnNextCycle = sortScenes(_updateScenesOnNextCycle); // sort\r\n\t\t\t\t\tdebounceUpdate();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Controller;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Updates the controller params and calls updateScene on every scene, that is attached to the controller.  \r\n\t\t * See `Controller.updateScene()` for more information about what this means.  \r\n\t\t * In most cases you will not need this function, as it is called constantly, whenever ScrollMagic detects a state change event, like resize or scroll.  \r\n\t\t * The only application for this method is when ScrollMagic fails to detect these events.  \r\n\t\t * One application is with some external scroll libraries (like iScroll) that move an internal container to a negative offset instead of actually scrolling. In this case the update on the controller needs to be called whenever the child container's position changes.\r\n\t\t * For this case there will also be the need to provide a custom function to calculate the correct scroll position. See `Controller.scrollPos()` for details.\r\n\t\t * @public\r\n\t\t * @example\r\n\t\t * // update the controller on next cycle (saves performance due to elimination of redundant updates)\r\n\t\t * controller.update();\r\n\t\t *\r\n\t\t * // update the controller immediately\r\n\t\t * controller.update(true);\r\n\t\t *\r\n\t\t * @param {boolean} [immediately=false] - If `true` the update will be instant, if `false` it will wait until next update cycle (better performance)\r\n\t\t * @return {Controller} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.update = function (immediately) {\r\n\t\t\tonChange({\r\n\t\t\t\ttype: \"resize\"\r\n\t\t\t}); // will update size and set _updateScenesOnNextCycle to true\r\n\t\t\tif (immediately) {\r\n\t\t\t\tupdateScenes();\r\n\t\t\t}\r\n\t\t\treturn Controller;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Scroll to a numeric scroll offset, a DOM element, the start of a scene or provide an alternate method for scrolling.  \r\n\t\t * For vertical controllers it will change the top scroll offset and for horizontal applications it will change the left offset.\r\n\t\t * @public\r\n\t\t *\r\n\t\t * @since 1.1.0\r\n\t\t * @example\r\n\t\t * // scroll to an offset of 100\r\n\t\t * controller.scrollTo(100);\r\n\t\t *\r\n\t\t * // scroll to a DOM element\r\n\t\t * controller.scrollTo(\"#anchor\");\r\n\t\t *\r\n\t\t * // scroll to the beginning of a scene\r\n\t\t * var scene = new ScrollMagic.Scene({offset: 200});\r\n\t\t * controller.scrollTo(scene);\r\n\t\t *\r\n\t\t * // define a new scroll position modification function (jQuery animate instead of jump)\r\n\t\t * controller.scrollTo(function (newScrollPos) {\r\n\t\t *\t$(\"html, body\").animate({scrollTop: newScrollPos});\r\n\t\t * });\r\n\t\t * controller.scrollTo(100); // call as usual, but the new function will be used instead\r\n\t\t *\r\n\t\t * // define a new scroll function with an additional parameter\r\n\t\t * controller.scrollTo(function (newScrollPos, message) {\r\n\t\t *  console.log(message);\r\n\t\t *\t$(this).animate({scrollTop: newScrollPos});\r\n\t\t * });\r\n\t\t * // call as usual, but supply an extra parameter to the defined custom function\r\n\t\t * controller.scrollTo(100, \"my message\");\r\n\t\t *\r\n\t\t * // define a new scroll function with an additional parameter containing multiple variables\r\n\t\t * controller.scrollTo(function (newScrollPos, options) {\r\n\t\t *  someGlobalVar = options.a + options.b;\r\n\t\t *\t$(this).animate({scrollTop: newScrollPos});\r\n\t\t * });\r\n\t\t * // call as usual, but supply an extra parameter containing multiple options\r\n\t\t * controller.scrollTo(100, {a: 1, b: 2});\r\n\t\t *\r\n\t\t * // define a new scroll function with a callback supplied as an additional parameter\r\n\t\t * controller.scrollTo(function (newScrollPos, callback) {\r\n\t\t *\t$(this).animate({scrollTop: newScrollPos}, 400, \"swing\", callback);\r\n\t\t * });\r\n\t\t * // call as usual, but supply an extra parameter, which is used as a callback in the previously defined custom scroll function\r\n\t\t * controller.scrollTo(100, function() {\r\n\t\t *\tconsole.log(\"scroll has finished.\");\r\n\t\t * });\r\n\t\t *\r\n\t\t * @param {mixed} scrollTarget - The supplied argument can be one of these types:\r\n\t\t * 1. `number` -> The container will scroll to this new scroll offset.\r\n\t\t * 2. `string` or `object` -> Can be a selector or a DOM object.  \r\n\t\t *  The container will scroll to the position of this element.\r\n\t\t * 3. `ScrollMagic Scene` -> The container will scroll to the start of this scene.\r\n\t\t * 4. `function` -> This function will be used for future scroll position modifications.  \r\n\t\t *  This provides a way for you to change the behaviour of scrolling and adding new behaviour like animation. The function receives the new scroll position as a parameter and a reference to the container element using `this`.  \r\n\t\t *  It may also optionally receive an optional additional parameter (see below)  \r\n\t\t *  _**NOTE:**  \r\n\t\t *  All other options will still work as expected, using the new function to scroll._\r\n\t\t * @param {mixed} [additionalParameter] - If a custom scroll function was defined (see above 4.), you may want to supply additional parameters to it, when calling it. You can do this using this parameter  see examples for details. Please note, that this parameter will have no effect, if you use the default scrolling function.\r\n\t\t * @returns {Controller} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.scrollTo = function (scrollTarget, additionalParameter) {\r\n\t\t\tif (_util.type.Number(scrollTarget)) { // excecute\r\n\t\t\t\tsetScrollPos.call(_options.container, scrollTarget, additionalParameter);\r\n\t\t\t} else if (scrollTarget instanceof ScrollMagic.Scene) { // scroll to scene\r\n\t\t\t\tif (scrollTarget.controller() === Controller) { // check if the controller is associated with this scene\r\n\t\t\t\t\tController.scrollTo(scrollTarget.scrollOffset(), additionalParameter);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlog(2, \"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.\", scrollTarget);\r\n\t\t\t\t}\r\n\t\t\t} else if (_util.type.Function(scrollTarget)) { // assign new scroll function\r\n\t\t\t\tsetScrollPos = scrollTarget;\r\n\t\t\t} else { // scroll to element\r\n\t\t\t\tvar elem = _util.get.elements(scrollTarget)[0];\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\t// if parent is pin spacer, use spacer position instead so correct start position is returned for pinned elements.\r\n\t\t\t\t\twhile (elem.parentNode.hasAttribute(PIN_SPACER_ATTRIBUTE)) {\r\n\t\t\t\t\t\telem = elem.parentNode;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar\r\n\t\t\t\t\t\tparam = _options.vertical ? \"top\" : \"left\", // which param is of interest ?\r\n\t\t\t\t\t\tcontainerOffset = _util.get.offset(_options.container), // container position is needed because element offset is returned in relation to document, not in relation to container.\r\n\t\t\t\t\t\telementOffset = _util.get.offset(elem);\r\n\r\n\t\t\t\t\tif (!_isDocument) { // container is not the document root, so substract scroll Position to get correct trigger element position relative to scrollcontent\r\n\t\t\t\t\t\tcontainerOffset[param] -= Controller.scrollPos();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tController.scrollTo(elementOffset[param] - containerOffset[param], additionalParameter);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlog(2, \"scrollTo(): The supplied argument is invalid. Scroll cancelled.\", scrollTarget);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Controller;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** the current scrollPosition or **Set** a new method to calculate it.  \r\n\t\t * -> **GET**:\r\n\t\t * When used as a getter this function will return the current scroll position.  \r\n\t\t * To get a cached value use Controller.info(\"scrollPos\"), which will be updated in the update cycle.  \r\n\t\t * For vertical controllers it will return the top scroll offset and for horizontal applications it will return the left offset.\r\n\t\t *\r\n\t\t * -> **SET**:\r\n\t\t * When used as a setter this method prodes a way to permanently overwrite the controller's scroll position calculation.  \r\n\t\t * A typical usecase is when the scroll position is not reflected by the containers scrollTop or scrollLeft values, but for example by the inner offset of a child container.  \r\n\t\t * Moving a child container inside a parent is a commonly used method for several scrolling frameworks, including iScroll.  \r\n\t\t * By providing an alternate calculation function you can make sure ScrollMagic receives the correct scroll position.  \r\n\t\t * Please also bear in mind that your function should return y values for vertical scrolls an x for horizontals.\r\n\t\t *\r\n\t\t * To change the current scroll position please use `Controller.scrollTo()`.\r\n\t\t * @public\r\n\t\t *\r\n\t\t * @example\r\n\t\t * // get the current scroll Position\r\n\t\t * var scrollPos = controller.scrollPos();\r\n\t\t *\r\n\t\t * // set a new scroll position calculation method\r\n\t\t * controller.scrollPos(function () {\r\n\t\t *\treturn this.info(\"vertical\") ? -mychildcontainer.y : -mychildcontainer.x\r\n\t\t * });\r\n\t\t *\r\n\t\t * @param {function} [scrollPosMethod] - The function to be used for the scroll position calculation of the container.\r\n\t\t * @returns {(number|Controller)} Current scroll position or parent object for chaining.\r\n\t\t */\r\n\t\tthis.scrollPos = function (scrollPosMethod) {\r\n\t\t\tif (!arguments.length) { // get\r\n\t\t\t\treturn getScrollPos.call(Controller);\r\n\t\t\t} else { // set\r\n\t\t\t\tif (_util.type.Function(scrollPosMethod)) {\r\n\t\t\t\t\tgetScrollPos = scrollPosMethod;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlog(2, \"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Controller;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** all infos or one in particular about the controller.\r\n\t\t * @public\r\n\t\t * @example\r\n\t\t * // returns the current scroll position (number)\r\n\t\t * var scrollPos = controller.info(\"scrollPos\");\r\n\t\t *\r\n\t\t * // returns all infos as an object\r\n\t\t * var infos = controller.info();\r\n\t\t *\r\n\t\t * @param {string} [about] - If passed only this info will be returned instead of an object containing all.  \r\n\t\t \t\t\t\t\t\t\t Valid options are:\r\n\t\t \t\t\t\t\t\t\t ** `\"size\"` => the current viewport size of the container\r\n\t\t \t\t\t\t\t\t\t ** `\"vertical\"` => true if vertical scrolling, otherwise false\r\n\t\t \t\t\t\t\t\t\t ** `\"scrollPos\"` => the current scroll position\r\n\t\t \t\t\t\t\t\t\t ** `\"scrollDirection\"` => the last known direction of the scroll\r\n\t\t \t\t\t\t\t\t\t ** `\"container\"` => the container element\r\n\t\t \t\t\t\t\t\t\t ** `\"isDocument\"` => true if container element is the document.\r\n\t\t * @returns {(mixed|object)} The requested info(s).\r\n\t\t */\r\n\t\tthis.info = function (about) {\r\n\t\t\tvar values = {\r\n\t\t\t\tsize: _viewPortSize, // contains height or width (in regard to orientation);\r\n\t\t\t\tvertical: _options.vertical,\r\n\t\t\t\tscrollPos: _scrollPos,\r\n\t\t\t\tscrollDirection: _scrollDirection,\r\n\t\t\t\tcontainer: _options.container,\r\n\t\t\t\tisDocument: _isDocument\r\n\t\t\t};\r\n\t\t\tif (!arguments.length) { // get all as an object\r\n\t\t\t\treturn values;\r\n\t\t\t} else if (values[about] !== undefined) {\r\n\t\t\t\treturn values[about];\r\n\t\t\t} else {\r\n\t\t\t\tlog(1, \"ERROR: option \\\"\" + about + \"\\\" is not available\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the current loglevel option value.\r\n\t\t * @public\r\n\t\t *\r\n\t\t * @example\r\n\t\t * // get the current value\r\n\t\t * var loglevel = controller.loglevel();\r\n\t\t *\r\n\t\t * // set a new value\r\n\t\t * controller.loglevel(3);\r\n\t\t *\r\n\t\t * @param {number} [newLoglevel] - The new loglevel setting of the Controller. `[0-3]`\r\n\t\t * @returns {(number|Controller)} Current loglevel or parent object for chaining.\r\n\t\t */\r\n\t\tthis.loglevel = function (newLoglevel) {\r\n\t\t\tif (!arguments.length) { // get\r\n\t\t\t\treturn _options.loglevel;\r\n\t\t\t} else if (_options.loglevel != newLoglevel) { // set\r\n\t\t\t\t_options.loglevel = newLoglevel;\r\n\t\t\t}\r\n\t\t\treturn Controller;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the current enabled state of the controller.  \r\n\t\t * This can be used to disable all Scenes connected to the controller without destroying or removing them.\r\n\t\t * @public\r\n\t\t *\r\n\t\t * @example\r\n\t\t * // get the current value\r\n\t\t * var enabled = controller.enabled();\r\n\t\t *\r\n\t\t * // disable the controller\r\n\t\t * controller.enabled(false);\r\n\t\t *\r\n\t\t * @param {boolean} [newState] - The new enabled state of the controller `true` or `false`.\r\n\t\t * @returns {(boolean|Controller)} Current enabled state or parent object for chaining.\r\n\t\t */\r\n\t\tthis.enabled = function (newState) {\r\n\t\t\tif (!arguments.length) { // get\r\n\t\t\t\treturn _enabled;\r\n\t\t\t} else if (_enabled != newState) { // set\r\n\t\t\t\t_enabled = !!newState;\r\n\t\t\t\tController.updateScene(_sceneObjects, true);\r\n\t\t\t}\r\n\t\t\treturn Controller;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Destroy the Controller, all Scenes and everything.\r\n\t\t * @public\r\n\t\t *\r\n\t\t * @example\r\n\t\t * // without resetting the scenes\r\n\t\t * controller = controller.destroy();\r\n\t\t *\r\n\t\t * // with scene reset\r\n\t\t * controller = controller.destroy(true);\r\n\t\t *\r\n\t\t * @param {boolean} [resetScenes=false] - If `true` the pins and tweens (if existent) of all scenes will be reset.\r\n\t\t * @returns {null} Null to unset handler variables.\r\n\t\t */\r\n\t\tthis.destroy = function (resetScenes) {\r\n\t\t\twindow.clearTimeout(_refreshTimeout);\r\n\t\t\tvar i = _sceneObjects.length;\r\n\t\t\twhile (i--) {\r\n\t\t\t\t_sceneObjects[i].destroy(resetScenes);\r\n\t\t\t}\r\n\t\t\t_options.container.removeEventListener(\"resize\", onChange);\r\n\t\t\t_options.container.removeEventListener(\"scroll\", onChange);\r\n\t\t\t_util.cAF(_updateTimeout);\r\n\t\t\tlog(3, \"destroyed \" + NAMESPACE + \" (reset: \" + (resetScenes ? \"true\" : \"false\") + \")\");\r\n\t\t\treturn null;\r\n\t\t};\r\n\r\n\t\t// INIT\r\n\t\tconstruct();\r\n\t\treturn Controller;\r\n\t};\r\n\r\n\t// store pagewide controller options\r\n\tvar CONTROLLER_OPTIONS = {\r\n\t\tdefaults: {\r\n\t\t\tcontainer: window,\r\n\t\t\tvertical: true,\r\n\t\t\tglobalSceneOptions: {},\r\n\t\t\tloglevel: 2,\r\n\t\t\trefreshInterval: 100\r\n\t\t}\r\n\t};\r\n\t/*\r\n\t * method used to add an option to ScrollMagic Scenes.\r\n\t */\r\n\tScrollMagic.Controller.addOption = function (name, defaultValue) {\r\n\t\tCONTROLLER_OPTIONS.defaults[name] = defaultValue;\r\n\t};\r\n\t// instance extension function for plugins\r\n\tScrollMagic.Controller.extend = function (extension) {\r\n\t\tvar oldClass = this;\r\n\t\tScrollMagic.Controller = function () {\r\n\t\t\toldClass.apply(this, arguments);\r\n\t\t\tthis.$super = _util.extend({}, this); // copy parent state\r\n\t\t\treturn extension.apply(this, arguments) || this;\r\n\t\t};\r\n\t\t_util.extend(ScrollMagic.Controller, oldClass); // copy properties\r\n\t\tScrollMagic.Controller.prototype = oldClass.prototype; // copy prototype\r\n\t\tScrollMagic.Controller.prototype.constructor = ScrollMagic.Controller; // restore constructor\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * A Scene defines where the controller should react and how.\r\n\t *\r\n\t * @class\r\n\t *\r\n\t * @example\r\n\t * // create a standard scene and add it to a controller\r\n\t * new ScrollMagic.Scene()\r\n\t *\t\t.addTo(controller);\r\n\t *\r\n\t * // create a scene with custom options and assign a handler to it.\r\n\t * var scene = new ScrollMagic.Scene({\r\n\t * \t\tduration: 100,\r\n\t *\t\toffset: 200,\r\n\t *\t\ttriggerHook: \"onEnter\",\r\n\t *\t\treverse: false\r\n\t * });\r\n\t *\r\n\t * @param {object} [options] - Options for the Scene. The options can be updated at any time.  \r\n\t \t\t\t\t\t\t\t   Instead of setting the options for each scene individually you can also set them globally in the controller as the controllers `globalSceneOptions` option. The object accepts the same properties as the ones below.  \r\n\t \t\t\t\t\t\t\t   When a scene is added to the controller the options defined using the Scene constructor will be overwritten by those set in `globalSceneOptions`.\r\n\t * @param {(number|string|function)} [options.duration=0] - The duration of the scene. \r\n\t \t\t\t\t\tPlease see `Scene.duration()` for details.\r\n\t * @param {number} [options.offset=0] - Offset Value for the Trigger Position. If no triggerElement is defined this will be the scroll distance from the start of the page, after which the scene will start.\r\n\t * @param {(string|object)} [options.triggerElement=null] - Selector or DOM object that defines the start of the scene. If undefined the scene will start right at the start of the page (unless an offset is set).\r\n\t * @param {(number|string)} [options.triggerHook=\"onCenter\"] - Can be a number between 0 and 1 defining the position of the trigger Hook in relation to the viewport.  \r\n\t \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  Can also be defined using a string:\r\n\t \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ** `\"onEnter\"` => `1`\r\n\t \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ** `\"onCenter\"` => `0.5`\r\n\t \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ** `\"onLeave\"` => `0`\r\n\t * @param {boolean} [options.reverse=true] - Should the scene reverse, when scrolling up?\r\n\t * @param {number} [options.loglevel=2] - Loglevel for debugging. Note that logging is disabled in the minified version of ScrollMagic.\r\n\t \t\t\t\t\t\t\t\t\t\t  ** `0` => silent\r\n\t \t\t\t\t\t\t\t\t\t\t  ** `1` => errors\r\n\t \t\t\t\t\t\t\t\t\t\t  ** `2` => errors, warnings\r\n\t \t\t\t\t\t\t\t\t\t\t  ** `3` => errors, warnings, debuginfo\r\n\t * \r\n\t */\r\n\tScrollMagic.Scene = function (options) {\r\n\r\n\t\t/*\r\n\t\t * ----------------------------------------------------------------\r\n\t\t * settings\r\n\t\t * ----------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tvar\r\n\t\t\tNAMESPACE = 'ScrollMagic.Scene',\r\n\t\t\tSCENE_STATE_BEFORE = 'BEFORE',\r\n\t\t\tSCENE_STATE_DURING = 'DURING',\r\n\t\t\tSCENE_STATE_AFTER = 'AFTER',\r\n\t\t\tDEFAULT_OPTIONS = SCENE_OPTIONS.defaults;\r\n\r\n\t\t/*\r\n\t\t * ----------------------------------------------------------------\r\n\t\t * private vars\r\n\t\t * ----------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tvar\r\n\t\t\tScene = this,\r\n\t\t\t_options = _util.extend({}, DEFAULT_OPTIONS, options),\r\n\t\t\t_state = SCENE_STATE_BEFORE,\r\n\t\t\t_progress = 0,\r\n\t\t\t_scrollOffset = {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tend: 0\r\n\t\t\t}, // reflects the controllers's scroll position for the start and end of the scene respectively\r\n\t\t\t_triggerPos = 0,\r\n\t\t\t_enabled = true,\r\n\t\t\t_durationUpdateMethod,\r\n\t\t\t_controller;\r\n\r\n\t\t/**\r\n\t\t * Internal constructor function of the ScrollMagic Scene\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar construct = function () {\r\n\t\t\tfor (var key in _options) { // check supplied options\r\n\t\t\t\tif (!DEFAULT_OPTIONS.hasOwnProperty(key)) {\r\n\t\t\t\t\tlog(2, \"WARNING: Unknown option \\\"\" + key + \"\\\"\");\r\n\t\t\t\t\tdelete _options[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// add getters/setters for all possible options\r\n\t\t\tfor (var optionName in DEFAULT_OPTIONS) {\r\n\t\t\t\taddSceneOption(optionName);\r\n\t\t\t}\r\n\t\t\t// validate all options\r\n\t\t\tvalidateOption();\r\n\t\t};\r\n\r\n\t\t/*\r\n\t\t * ----------------------------------------------------------------\r\n\t\t * Event Management\r\n\t\t * ----------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tvar _listeners = {};\r\n\t\t/**\r\n\t\t * Scene start event.  \r\n\t\t * Fires whenever the scroll position its the starting point of the scene.  \r\n\t\t * It will also fire when scrolling back up going over the start position of the scene. If you want something to happen only when scrolling down/right, use the scrollDirection parameter passed to the callback.\r\n\t\t *\r\n\t\t * For details on this event and the order in which it is fired, please review the {@link Scene.progress} method.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#start\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"start\", function (event) {\r\n\t\t * \tconsole.log(\"Hit start point of scene.\");\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {number} event.progress - Reflects the current progress of the scene\r\n\t\t * @property {string} event.state - The current state of the scene `\"BEFORE\"` or `\"DURING\"`\r\n\t\t * @property {string} event.scrollDirection - Indicates which way we are scrolling `\"PAUSED\"`, `\"FORWARD\"` or `\"REVERSE\"`\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene end event.  \r\n\t\t * Fires whenever the scroll position its the ending point of the scene.  \r\n\t\t * It will also fire when scrolling back up from after the scene and going over its end position. If you want something to happen only when scrolling down/right, use the scrollDirection parameter passed to the callback.\r\n\t\t *\r\n\t\t * For details on this event and the order in which it is fired, please review the {@link Scene.progress} method.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#end\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"end\", function (event) {\r\n\t\t * \tconsole.log(\"Hit end point of scene.\");\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {number} event.progress - Reflects the current progress of the scene\r\n\t\t * @property {string} event.state - The current state of the scene `\"DURING\"` or `\"AFTER\"`\r\n\t\t * @property {string} event.scrollDirection - Indicates which way we are scrolling `\"PAUSED\"`, `\"FORWARD\"` or `\"REVERSE\"`\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene enter event.  \r\n\t\t * Fires whenever the scene enters the \"DURING\" state.  \r\n\t\t * Keep in mind that it doesn't matter if the scene plays forward or backward: This event always fires when the scene enters its active scroll timeframe, regardless of the scroll-direction.\r\n\t\t *\r\n\t\t * For details on this event and the order in which it is fired, please review the {@link Scene.progress} method.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#enter\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"enter\", function (event) {\r\n\t\t * \tconsole.log(\"Scene entered.\");\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {number} event.progress - Reflects the current progress of the scene\r\n\t\t * @property {string} event.state - The current state of the scene - always `\"DURING\"`\r\n\t\t * @property {string} event.scrollDirection - Indicates which way we are scrolling `\"PAUSED\"`, `\"FORWARD\"` or `\"REVERSE\"`\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene leave event.  \r\n\t\t * Fires whenever the scene's state goes from \"DURING\" to either \"BEFORE\" or \"AFTER\".  \r\n\t\t * Keep in mind that it doesn't matter if the scene plays forward or backward: This event always fires when the scene leaves its active scroll timeframe, regardless of the scroll-direction.\r\n\t\t *\r\n\t\t * For details on this event and the order in which it is fired, please review the {@link Scene.progress} method.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#leave\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"leave\", function (event) {\r\n\t\t * \tconsole.log(\"Scene left.\");\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {number} event.progress - Reflects the current progress of the scene\r\n\t\t * @property {string} event.state - The current state of the scene `\"BEFORE\"` or `\"AFTER\"`\r\n\t\t * @property {string} event.scrollDirection - Indicates which way we are scrolling `\"PAUSED\"`, `\"FORWARD\"` or `\"REVERSE\"`\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene update event.  \r\n\t\t * Fires whenever the scene is updated (but not necessarily changes the progress).\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#update\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"update\", function (event) {\r\n\t\t * \tconsole.log(\"Scene updated.\");\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {number} event.startPos - The starting position of the scene (in relation to the conainer)\r\n\t\t * @property {number} event.endPos - The ending position of the scene (in relation to the conainer)\r\n\t\t * @property {number} event.scrollPos - The current scroll position of the container\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene progress event.  \r\n\t\t * Fires whenever the progress of the scene changes.\r\n\t\t *\r\n\t\t * For details on this event and the order in which it is fired, please review the {@link Scene.progress} method.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#progress\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"progress\", function (event) {\r\n\t\t * \tconsole.log(\"Scene progress changed to \" + event.progress);\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {number} event.progress - Reflects the current progress of the scene\r\n\t\t * @property {string} event.state - The current state of the scene `\"BEFORE\"`, `\"DURING\"` or `\"AFTER\"`\r\n\t\t * @property {string} event.scrollDirection - Indicates which way we are scrolling `\"PAUSED\"`, `\"FORWARD\"` or `\"REVERSE\"`\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene change event.  \r\n\t\t * Fires whenvever a property of the scene is changed.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#change\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"change\", function (event) {\r\n\t\t * \tconsole.log(\"Scene Property \\\"\" + event.what + \"\\\" changed to \" + event.newval);\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {string} event.what - Indicates what value has been changed\r\n\t\t * @property {mixed} event.newval - The new value of the changed property\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene shift event.  \r\n\t\t * Fires whenvever the start or end **scroll offset** of the scene change.\r\n\t\t * This happens explicitely, when one of these values change: `offset`, `duration` or `triggerHook`.\r\n\t\t * It will fire implicitly when the `triggerElement` changes, if the new element has a different position (most cases).\r\n\t\t * It will also fire implicitly when the size of the container changes and the triggerHook is anything other than `onLeave`.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#shift\r\n\t\t * @since 1.1.0\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"shift\", function (event) {\r\n\t\t * \tconsole.log(\"Scene moved, because the \" + event.reason + \" has changed.)\");\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {string} event.reason - Indicates why the scene has shifted\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene destroy event.  \r\n\t\t * Fires whenvever the scene is destroyed.\r\n\t\t * This can be used to tidy up custom behaviour used in events.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#destroy\r\n\t\t * @since 1.1.0\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"enter\", function (event) {\r\n\t\t *        // add custom action\r\n\t\t *        $(\"#my-elem\").left(\"200\");\r\n\t\t *      })\r\n\t\t *      .on(\"destroy\", function (event) {\r\n\t\t *        // reset my element to start position\r\n\t\t *        if (event.reset) {\r\n\t\t *          $(\"#my-elem\").left(\"0\");\r\n\t\t *        }\r\n\t\t *      });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {boolean} event.reset - Indicates if the destroy method was called with reset `true` or `false`.\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene add event.  \r\n\t\t * Fires when the scene is added to a controller.\r\n\t\t * This is mostly used by plugins to know that change might be due.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#add\r\n\t\t * @since 2.0.0\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"add\", function (event) {\r\n\t\t * \tconsole.log('Scene was added to a new controller.');\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t * @property {boolean} event.controller - The controller object the scene was added to.\r\n\t\t */\r\n\t\t/**\r\n\t\t * Scene remove event.  \r\n\t\t * Fires when the scene is removed from a controller.\r\n\t\t * This is mostly used by plugins to know that change might be due.\r\n\t\t *\r\n\t\t * @event ScrollMagic.Scene#remove\r\n\t\t * @since 2.0.0\r\n\t\t *\r\n\t\t * @example\r\n\t\t * scene.on(\"remove\", function (event) {\r\n\t\t * \tconsole.log('Scene was removed from its controller.');\r\n\t\t * });\r\n\t\t *\r\n\t\t * @property {object} event - The event Object passed to each callback\r\n\t\t * @property {string} event.type - The name of the event\r\n\t\t * @property {Scene} event.target - The Scene object that triggered this event\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * Add one ore more event listener.  \r\n\t\t * The callback function will be fired at the respective event, and an object containing relevant data will be passed to the callback.\r\n\t\t * @method ScrollMagic.Scene#on\r\n\t\t *\r\n\t\t * @example\r\n\t\t * function callback (event) {\r\n\t\t * \t\tconsole.log(\"Event fired! (\" + event.type + \")\");\r\n\t\t * }\r\n\t\t * // add listeners\r\n\t\t * scene.on(\"change update progress start end enter leave\", callback);\r\n\t\t *\r\n\t\t * @param {string} names - The name or names of the event the callback should be attached to.\r\n\t\t * @param {function} callback - A function that should be executed, when the event is dispatched. An event object will be passed to the callback.\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.on = function (names, callback) {\r\n\t\t\tif (_util.type.Function(callback)) {\r\n\t\t\t\tnames = names.trim().split(' ');\r\n\t\t\t\tnames.forEach(function (fullname) {\r\n\t\t\t\t\tvar\r\n\t\t\t\t\t\tnameparts = fullname.split('.'),\r\n\t\t\t\t\t\teventname = nameparts[0],\r\n\t\t\t\t\t\tnamespace = nameparts[1];\r\n\t\t\t\t\tif (eventname != \"*\") { // disallow wildcards\r\n\t\t\t\t\t\tif (!_listeners[eventname]) {\r\n\t\t\t\t\t\t\t_listeners[eventname] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_listeners[eventname].push({\r\n\t\t\t\t\t\t\tnamespace: namespace || '',\r\n\t\t\t\t\t\t\tcallback: callback\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tlog(1, \"ERROR when calling '.on()': Supplied callback for '\" + names + \"' is not a valid function!\");\r\n\t\t\t}\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Remove one or more event listener.\r\n\t\t * @method ScrollMagic.Scene#off\r\n\t\t *\r\n\t\t * @example\r\n\t\t * function callback (event) {\r\n\t\t * \t\tconsole.log(\"Event fired! (\" + event.type + \")\");\r\n\t\t * }\r\n\t\t * // add listeners\r\n\t\t * scene.on(\"change update\", callback);\r\n\t\t * // remove listeners\r\n\t\t * scene.off(\"change update\", callback);\r\n\t\t *\r\n\t\t * @param {string} names - The name or names of the event that should be removed.\r\n\t\t * @param {function} [callback] - A specific callback function that should be removed. If none is passed all callbacks to the event listener will be removed.\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.off = function (names, callback) {\r\n\t\t\tif (!names) {\r\n\t\t\t\tlog(1, \"ERROR: Invalid event name supplied.\");\r\n\t\t\t\treturn Scene;\r\n\t\t\t}\r\n\t\t\tnames = names.trim().split(' ');\r\n\t\t\tnames.forEach(function (fullname, key) {\r\n\t\t\t\tvar\r\n\t\t\t\t\tnameparts = fullname.split('.'),\r\n\t\t\t\t\teventname = nameparts[0],\r\n\t\t\t\t\tnamespace = nameparts[1] || '',\r\n\t\t\t\t\tremoveList = eventname === '*' ? Object.keys(_listeners) : [eventname];\r\n\t\t\t\tremoveList.forEach(function (remove) {\r\n\t\t\t\t\tvar\r\n\t\t\t\t\t\tlist = _listeners[remove] || [],\r\n\t\t\t\t\t\ti = list.length;\r\n\t\t\t\t\twhile (i--) {\r\n\t\t\t\t\t\tvar listener = list[i];\r\n\t\t\t\t\t\tif (listener && (namespace === listener.namespace || namespace === '*') && (!callback || callback == listener.callback)) {\r\n\t\t\t\t\t\t\tlist.splice(i, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!list.length) {\r\n\t\t\t\t\t\tdelete _listeners[remove];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Trigger an event.\r\n\t\t * @method ScrollMagic.Scene#trigger\r\n\t\t *\r\n\t\t * @example\r\n\t\t * this.trigger(\"change\");\r\n\t\t *\r\n\t\t * @param {string} name - The name of the event that should be triggered.\r\n\t\t * @param {object} [vars] - An object containing info that should be passed to the callback.\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.trigger = function (name, vars) {\r\n\t\t\tif (name) {\r\n\t\t\t\tvar\r\n\t\t\t\t\tnameparts = name.trim().split('.'),\r\n\t\t\t\t\teventname = nameparts[0],\r\n\t\t\t\t\tnamespace = nameparts[1],\r\n\t\t\t\t\tlisteners = _listeners[eventname];\r\n\t\t\t\tlog(3, 'event fired:', eventname, vars ? \"->\" : '', vars || '');\r\n\t\t\t\tif (listeners) {\r\n\t\t\t\t\tlisteners.forEach(function (listener, key) {\r\n\t\t\t\t\t\tif (!namespace || namespace === listener.namespace) {\r\n\t\t\t\t\t\t\tlistener.callback.call(Scene, new ScrollMagic.Event(eventname, listener.namespace, Scene, vars));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tlog(1, \"ERROR: Invalid event name supplied.\");\r\n\t\t\t}\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t// set event listeners\r\n\t\tScene\r\n\t\t\t.on(\"change.internal\", function (e) {\r\n\t\t\t\tif (e.what !== \"loglevel\" && e.what !== \"tweenChanges\") { // no need for a scene update scene with these options...\r\n\t\t\t\t\tif (e.what === \"triggerElement\") {\r\n\t\t\t\t\t\tupdateTriggerElementPosition();\r\n\t\t\t\t\t} else if (e.what === \"reverse\") { // the only property left that may have an impact on the current scene state. Everything else is handled by the shift event.\r\n\t\t\t\t\t\tScene.update();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.on(\"shift.internal\", function (e) {\r\n\t\t\t\tupdateScrollOffset();\r\n\t\t\t\tScene.update(); // update scene to reflect new position\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Send a debug message to the console.\r\n\t\t * @private\r\n\t\t * but provided publicly with _log for plugins\r\n\t\t *\r\n\t\t * @param {number} loglevel - The loglevel required to initiate output for the message.\r\n\t\t * @param {...mixed} output - One or more variables that should be passed to the console.\r\n\t\t */\r\n\t\tvar log = this._log = function (loglevel, output) {\r\n\t\t\tif (_options.loglevel >= loglevel) {\r\n\t\t\t\tArray.prototype.splice.call(arguments, 1, 0, \"(\" + NAMESPACE + \") ->\");\r\n\t\t\t\t_util.log.apply(window, arguments);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Add the scene to a controller.  \r\n\t\t * This is the equivalent to `Controller.addScene(scene)`.\r\n\t\t * @method ScrollMagic.Scene#addTo\r\n\t\t *\r\n\t\t * @example\r\n\t\t * // add a scene to a ScrollMagic Controller\r\n\t\t * scene.addTo(controller);\r\n\t\t *\r\n\t\t * @param {ScrollMagic.Controller} controller - The controller to which the scene should be added.\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.addTo = function (controller) {\r\n\t\t\tif (!(controller instanceof ScrollMagic.Controller)) {\r\n\t\t\t\tlog(1, \"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller\");\r\n\t\t\t} else if (_controller != controller) {\r\n\t\t\t\t// new controller\r\n\t\t\t\tif (_controller) { // was associated to a different controller before, so remove it...\r\n\t\t\t\t\t_controller.removeScene(Scene);\r\n\t\t\t\t}\r\n\t\t\t\t_controller = controller;\r\n\t\t\t\tvalidateOption();\r\n\t\t\t\tupdateDuration(true);\r\n\t\t\t\tupdateTriggerElementPosition(true);\r\n\t\t\t\tupdateScrollOffset();\r\n\t\t\t\t_controller.info(\"container\").addEventListener('resize', onContainerResize);\r\n\t\t\t\tcontroller.addScene(Scene);\r\n\t\t\t\tScene.trigger(\"add\", {\r\n\t\t\t\t\tcontroller: _controller\r\n\t\t\t\t});\r\n\t\t\t\tlog(3, \"added \" + NAMESPACE + \" to controller\");\r\n\t\t\t\tScene.update();\r\n\t\t\t}\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the current enabled state of the scene.  \r\n\t\t * This can be used to disable this scene without removing or destroying it.\r\n\t\t * @method ScrollMagic.Scene#enabled\r\n\t\t *\r\n\t\t * @example\r\n\t\t * // get the current value\r\n\t\t * var enabled = scene.enabled();\r\n\t\t *\r\n\t\t * // disable the scene\r\n\t\t * scene.enabled(false);\r\n\t\t *\r\n\t\t * @param {boolean} [newState] - The new enabled state of the scene `true` or `false`.\r\n\t\t * @returns {(boolean|Scene)} Current enabled state or parent object for chaining.\r\n\t\t */\r\n\t\tthis.enabled = function (newState) {\r\n\t\t\tif (!arguments.length) { // get\r\n\t\t\t\treturn _enabled;\r\n\t\t\t} else if (_enabled != newState) { // set\r\n\t\t\t\t_enabled = !!newState;\r\n\t\t\t\tScene.update(true);\r\n\t\t\t}\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Remove the scene from the controller.  \r\n\t\t * This is the equivalent to `Controller.removeScene(scene)`.\r\n\t\t * The scene will not be updated anymore until you readd it to a controller.\r\n\t\t * To remove the pin or the tween you need to call removeTween() or removePin() respectively.\r\n\t\t * @method ScrollMagic.Scene#remove\r\n\t\t * @example\r\n\t\t * // remove the scene from its controller\r\n\t\t * scene.remove();\r\n\t\t *\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.remove = function () {\r\n\t\t\tif (_controller) {\r\n\t\t\t\t_controller.info(\"container\").removeEventListener('resize', onContainerResize);\r\n\t\t\t\tvar tmpParent = _controller;\r\n\t\t\t\t_controller = undefined;\r\n\t\t\t\ttmpParent.removeScene(Scene);\r\n\t\t\t\tScene.trigger(\"remove\");\r\n\t\t\t\tlog(3, \"removed \" + NAMESPACE + \" from controller\");\r\n\t\t\t}\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Destroy the scene and everything.\r\n\t\t * @method ScrollMagic.Scene#destroy\r\n\t\t * @example\r\n\t\t * // destroy the scene without resetting the pin and tween to their initial positions\r\n\t\t * scene = scene.destroy();\r\n\t\t *\r\n\t\t * // destroy the scene and reset the pin and tween\r\n\t\t * scene = scene.destroy(true);\r\n\t\t *\r\n\t\t * @param {boolean} [reset=false] - If `true` the pin and tween (if existent) will be reset.\r\n\t\t * @returns {null} Null to unset handler variables.\r\n\t\t */\r\n\t\tthis.destroy = function (reset) {\r\n\t\t\tScene.trigger(\"destroy\", {\r\n\t\t\t\treset: reset\r\n\t\t\t});\r\n\t\t\tScene.remove();\r\n\t\t\tScene.off(\"*.*\");\r\n\t\t\tlog(3, \"destroyed \" + NAMESPACE + \" (reset: \" + (reset ? \"true\" : \"false\") + \")\");\r\n\t\t\treturn null;\r\n\t\t};\r\n\r\n\r\n\t\t/**\r\n\t\t * Updates the Scene to reflect the current state.  \r\n\t\t * This is the equivalent to `Controller.updateScene(scene, immediately)`.  \r\n\t\t * The update method calculates the scene's start and end position (based on the trigger element, trigger hook, duration and offset) and checks it against the current scroll position of the container.  \r\n\t\t * It then updates the current scene state accordingly (or does nothing, if the state is already correct)  Pins will be set to their correct position and tweens will be updated to their correct progress.\r\n\t\t * This means an update doesn't necessarily result in a progress change. The `progress` event will be fired if the progress has indeed changed between this update and the last.  \r\n\t\t * _**NOTE:** This method gets called constantly whenever ScrollMagic detects a change. The only application for you is if you change something outside of the realm of ScrollMagic, like moving the trigger or changing tween parameters._\r\n\t\t * @method ScrollMagic.Scene#update\r\n\t\t * @example\r\n\t\t * // update the scene on next tick\r\n\t\t * scene.update();\r\n\t\t *\r\n\t\t * // update the scene immediately\r\n\t\t * scene.update(true);\r\n\t\t *\r\n\t\t * @fires Scene.update\r\n\t\t *\r\n\t\t * @param {boolean} [immediately=false] - If `true` the update will be instant, if `false` it will wait until next update cycle (better performance).\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.update = function (immediately) {\r\n\t\t\tif (_controller) {\r\n\t\t\t\tif (immediately) {\r\n\t\t\t\t\tif (_controller.enabled() && _enabled) {\r\n\t\t\t\t\t\tvar\r\n\t\t\t\t\t\t\tscrollPos = _controller.info(\"scrollPos\"),\r\n\t\t\t\t\t\t\tnewProgress;\r\n\r\n\t\t\t\t\t\tif (_options.duration > 0) {\r\n\t\t\t\t\t\t\tnewProgress = (scrollPos - _scrollOffset.start) / (_scrollOffset.end - _scrollOffset.start);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnewProgress = scrollPos >= _scrollOffset.start ? 1 : 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tScene.trigger(\"update\", {\r\n\t\t\t\t\t\t\tstartPos: _scrollOffset.start,\r\n\t\t\t\t\t\t\tendPos: _scrollOffset.end,\r\n\t\t\t\t\t\t\tscrollPos: scrollPos\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tScene.progress(newProgress);\r\n\t\t\t\t\t} else if (_pin && _state === SCENE_STATE_DURING) {\r\n\t\t\t\t\t\tupdatePinState(true); // unpin in position\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_controller.updateScene(Scene, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Updates dynamic scene variables like the trigger element position or the duration.\r\n\t\t * This method is automatically called in regular intervals from the controller. See {@link ScrollMagic.Controller} option `refreshInterval`.\r\n\t\t * \r\n\t\t * You can call it to minimize lag, for example when you intentionally change the position of the triggerElement.\r\n\t\t * If you don't it will simply be updated in the next refresh interval of the container, which is usually sufficient.\r\n\t\t *\r\n\t\t * @method ScrollMagic.Scene#refresh\r\n\t\t * @since 1.1.0\r\n\t\t * @example\r\n\t\t * scene = new ScrollMagic.Scene({triggerElement: \"#trigger\"});\r\n\t\t * \r\n\t\t * // change the position of the trigger\r\n\t\t * $(\"#trigger\").css(\"top\", 500);\r\n\t\t * // immediately let the scene know of this change\r\n\t\t * scene.refresh();\r\n\t\t *\r\n\t\t * @fires {@link Scene.shift}, if the trigger element position or the duration changed\r\n\t\t * @fires {@link Scene.change}, if the duration changed\r\n\t\t *\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.refresh = function () {\r\n\t\t\tupdateDuration();\r\n\t\t\tupdateTriggerElementPosition();\r\n\t\t\t// update trigger element position\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the scene's progress.  \r\n\t\t * Usually it shouldn't be necessary to use this as a setter, as it is set automatically by scene.update().  \r\n\t\t * The order in which the events are fired depends on the duration of the scene:\r\n\t\t *  1. Scenes with `duration == 0`:  \r\n\t\t *  Scenes that have no duration by definition have no ending. Thus the `end` event will never be fired.  \r\n\t\t *  When the trigger position of the scene is passed the events are always fired in this order:  \r\n\t\t *  `enter`, `start`, `progress` when scrolling forward  \r\n\t\t *  and  \r\n\t\t *  `progress`, `start`, `leave` when scrolling in reverse\r\n\t\t *  2. Scenes with `duration > 0`:  \r\n\t\t *  Scenes with a set duration have a defined start and end point.  \r\n\t\t *  When scrolling past the start position of the scene it will fire these events in this order:  \r\n\t\t *  `enter`, `start`, `progress`  \r\n\t\t *  When continuing to scroll and passing the end point it will fire these events:  \r\n\t\t *  `progress`, `end`, `leave`  \r\n\t\t *  When reversing through the end point these events are fired:  \r\n\t\t *  `enter`, `end`, `progress`  \r\n\t\t *  And when continuing to scroll past the start position in reverse it will fire:  \r\n\t\t *  `progress`, `start`, `leave`  \r\n\t\t *  In between start and end the `progress` event will be called constantly, whenever the progress changes.\r\n\t\t * \r\n\t\t * In short:  \r\n\t\t * `enter` events will always trigger **before** the progress update and `leave` envents will trigger **after** the progress update.  \r\n\t\t * `start` and `end` will always trigger at their respective position.\r\n\t\t * \r\n\t\t * Please review the event descriptions for details on the events and the event object that is passed to the callback.\r\n\t\t * \r\n\t\t * @method ScrollMagic.Scene#progress\r\n\t\t * @example\r\n\t\t * // get the current scene progress\r\n\t\t * var progress = scene.progress();\r\n\t\t *\r\n\t\t * // set new scene progress\r\n\t\t * scene.progress(0.3);\r\n\t\t *\r\n\t\t * @fires {@link Scene.enter}, when used as setter\r\n\t\t * @fires {@link Scene.start}, when used as setter\r\n\t\t * @fires {@link Scene.progress}, when used as setter\r\n\t\t * @fires {@link Scene.end}, when used as setter\r\n\t\t * @fires {@link Scene.leave}, when used as setter\r\n\t\t *\r\n\t\t * @param {number} [progress] - The new progress value of the scene `[0-1]`.\r\n\t\t * @returns {number} `get` -  Current scene progress.\r\n\t\t * @returns {Scene} `set` -  Parent object for chaining.\r\n\t\t */\r\n\t\tthis.progress = function (progress) {\r\n\t\t\tif (!arguments.length) { // get\r\n\t\t\t\treturn _progress;\r\n\t\t\t} else { // set\r\n\t\t\t\tvar\r\n\t\t\t\t\tdoUpdate = false,\r\n\t\t\t\t\toldState = _state,\r\n\t\t\t\t\tscrollDirection = _controller ? _controller.info(\"scrollDirection\") : 'PAUSED',\r\n\t\t\t\t\treverseOrForward = _options.reverse || progress >= _progress;\r\n\t\t\t\tif (_options.duration === 0) {\r\n\t\t\t\t\t// zero duration scenes\r\n\t\t\t\t\tdoUpdate = _progress != progress;\r\n\t\t\t\t\t_progress = progress < 1 && reverseOrForward ? 0 : 1;\r\n\t\t\t\t\t_state = _progress === 0 ? SCENE_STATE_BEFORE : SCENE_STATE_DURING;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// scenes with start and end\r\n\t\t\t\t\tif (progress < 0 && _state !== SCENE_STATE_BEFORE && reverseOrForward) {\r\n\t\t\t\t\t\t// go back to initial state\r\n\t\t\t\t\t\t_progress = 0;\r\n\t\t\t\t\t\t_state = SCENE_STATE_BEFORE;\r\n\t\t\t\t\t\tdoUpdate = true;\r\n\t\t\t\t\t} else if (progress >= 0 && progress < 1 && reverseOrForward) {\r\n\t\t\t\t\t\t_progress = progress;\r\n\t\t\t\t\t\t_state = SCENE_STATE_DURING;\r\n\t\t\t\t\t\tdoUpdate = true;\r\n\t\t\t\t\t} else if (progress >= 1 && _state !== SCENE_STATE_AFTER) {\r\n\t\t\t\t\t\t_progress = 1;\r\n\t\t\t\t\t\t_state = SCENE_STATE_AFTER;\r\n\t\t\t\t\t\tdoUpdate = true;\r\n\t\t\t\t\t} else if (_state === SCENE_STATE_DURING && !reverseOrForward) {\r\n\t\t\t\t\t\tupdatePinState(); // in case we scrolled backwards mid-scene and reverse is disabled => update the pin position, so it doesn't move back as well.\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (doUpdate) {\r\n\t\t\t\t\t// fire events\r\n\t\t\t\t\tvar\r\n\t\t\t\t\t\teventVars = {\r\n\t\t\t\t\t\t\tprogress: _progress,\r\n\t\t\t\t\t\t\tstate: _state,\r\n\t\t\t\t\t\t\tscrollDirection: scrollDirection\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstateChanged = _state != oldState;\r\n\r\n\t\t\t\t\tvar trigger = function (eventName) { // tmp helper to simplify code\r\n\t\t\t\t\t\tScene.trigger(eventName, eventVars);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (stateChanged) { // enter events\r\n\t\t\t\t\t\tif (oldState !== SCENE_STATE_DURING) {\r\n\t\t\t\t\t\t\ttrigger(\"enter\");\r\n\t\t\t\t\t\t\ttrigger(oldState === SCENE_STATE_BEFORE ? \"start\" : \"end\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttrigger(\"progress\");\r\n\t\t\t\t\tif (stateChanged) { // leave events\r\n\t\t\t\t\t\tif (_state !== SCENE_STATE_DURING) {\r\n\t\t\t\t\t\t\ttrigger(_state === SCENE_STATE_BEFORE ? \"start\" : \"end\");\r\n\t\t\t\t\t\t\ttrigger(\"leave\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Scene;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\t/**\r\n\t\t * Update the start and end scrollOffset of the container.\r\n\t\t * The positions reflect what the controller's scroll position will be at the start and end respectively.\r\n\t\t * Is called, when:\r\n\t\t *   - Scene event \"change\" is called with: offset, triggerHook, duration \r\n\t\t *   - scroll container event \"resize\" is called\r\n\t\t *   - the position of the triggerElement changes\r\n\t\t *   - the controller changes -> addTo()\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar updateScrollOffset = function () {\r\n\t\t\t_scrollOffset = {\r\n\t\t\t\tstart: _triggerPos + _options.offset\r\n\t\t\t};\r\n\t\t\tif (_controller && _options.triggerElement) {\r\n\t\t\t\t// take away triggerHook portion to get relative to top\r\n\t\t\t\t_scrollOffset.start -= _controller.info(\"size\") * _options.triggerHook;\r\n\t\t\t}\r\n\t\t\t_scrollOffset.end = _scrollOffset.start + _options.duration;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Updates the duration if set to a dynamic function.\r\n\t\t * This method is called when the scene is added to a controller and in regular intervals from the controller through scene.refresh().\r\n\t\t * \r\n\t\t * @fires {@link Scene.change}, if the duration changed\r\n\t\t * @fires {@link Scene.shift}, if the duration changed\r\n\t\t *\r\n\t\t * @param {boolean} [suppressEvents=false] - If true the shift event will be suppressed.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar updateDuration = function (suppressEvents) {\r\n\t\t\t// update duration\r\n\t\t\tif (_durationUpdateMethod) {\r\n\t\t\t\tvar varname = \"duration\";\r\n\t\t\t\tif (changeOption(varname, _durationUpdateMethod.call(Scene)) && !suppressEvents) { // set\r\n\t\t\t\t\tScene.trigger(\"change\", {\r\n\t\t\t\t\t\twhat: varname,\r\n\t\t\t\t\t\tnewval: _options[varname]\r\n\t\t\t\t\t});\r\n\t\t\t\t\tScene.trigger(\"shift\", {\r\n\t\t\t\t\t\treason: varname\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Updates the position of the triggerElement, if present.\r\n\t\t * This method is called ...\r\n\t\t *  - ... when the triggerElement is changed\r\n\t\t *  - ... when the scene is added to a (new) controller\r\n\t\t *  - ... in regular intervals from the controller through scene.refresh().\r\n\t\t * \r\n\t\t * @fires {@link Scene.shift}, if the position changed\r\n\t\t *\r\n\t\t * @param {boolean} [suppressEvents=false] - If true the shift event will be suppressed.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar updateTriggerElementPosition = function (suppressEvents) {\r\n\t\t\tvar\r\n\t\t\t\telementPos = 0,\r\n\t\t\t\ttelem = _options.triggerElement;\r\n\t\t\tif (_controller && (telem || _triggerPos > 0)) { // either an element exists or was removed and the triggerPos is still > 0\r\n\t\t\t\tif (telem) { // there currently a triggerElement set\r\n\t\t\t\t\tif (telem.parentNode) { // check if element is still attached to DOM\r\n\t\t\t\t\t\tvar\r\n\t\t\t\t\t\t\tcontrollerInfo = _controller.info(),\r\n\t\t\t\t\t\t\tcontainerOffset = _util.get.offset(controllerInfo.container), // container position is needed because element offset is returned in relation to document, not in relation to container.\r\n\t\t\t\t\t\t\tparam = controllerInfo.vertical ? \"top\" : \"left\"; // which param is of interest ?\r\n\r\n\t\t\t\t\t\t// if parent is spacer, use spacer position instead so correct start position is returned for pinned elements.\r\n\t\t\t\t\t\twhile (telem.parentNode.hasAttribute(PIN_SPACER_ATTRIBUTE)) {\r\n\t\t\t\t\t\t\ttelem = telem.parentNode;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar elementOffset = _util.get.offset(telem);\r\n\r\n\t\t\t\t\t\tif (!controllerInfo.isDocument) { // container is not the document root, so substract scroll Position to get correct trigger element position relative to scrollcontent\r\n\t\t\t\t\t\t\tcontainerOffset[param] -= _controller.scrollPos();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\telementPos = elementOffset[param] - containerOffset[param];\r\n\r\n\t\t\t\t\t} else { // there was an element, but it was removed from DOM\r\n\t\t\t\t\t\tlog(2, \"WARNING: triggerElement was removed from DOM and will be reset to\", undefined);\r\n\t\t\t\t\t\tScene.triggerElement(undefined); // unset, so a change event is triggered\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar changed = elementPos != _triggerPos;\r\n\t\t\t\t_triggerPos = elementPos;\r\n\t\t\t\tif (changed && !suppressEvents) {\r\n\t\t\t\t\tScene.trigger(\"shift\", {\r\n\t\t\t\t\t\treason: \"triggerElementPosition\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Trigger a shift event, when the container is resized and the triggerHook is > 1.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar onContainerResize = function (e) {\r\n\t\t\tif (_options.triggerHook > 0) {\r\n\t\t\t\tScene.trigger(\"shift\", {\r\n\t\t\t\t\treason: \"containerResize\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tvar _validate = _util.extend(SCENE_OPTIONS.validate, {\r\n\t\t\t// validation for duration handled internally for reference to private var _durationMethod\r\n\t\t\tduration: function (val) {\r\n\t\t\t\tif (_util.type.String(val) && val.match(/^(\\.|\\d)*\\d+%$/)) {\r\n\t\t\t\t\t// percentage value\r\n\t\t\t\t\tvar perc = parseFloat(val) / 100;\r\n\t\t\t\t\tval = function () {\r\n\t\t\t\t\t\treturn _controller ? _controller.info(\"size\") * perc : 0;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif (_util.type.Function(val)) {\r\n\t\t\t\t\t// function\r\n\t\t\t\t\t_durationUpdateMethod = val;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tval = parseFloat(_durationUpdateMethod.call(Scene));\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tval = -1; // will cause error below\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// val has to be float\r\n\t\t\t\tval = parseFloat(val);\r\n\t\t\t\tif (!_util.type.Number(val) || val < 0) {\r\n\t\t\t\t\tif (_durationUpdateMethod) {\r\n\t\t\t\t\t\t_durationUpdateMethod = undefined;\r\n\t\t\t\t\t\tthrow [\"Invalid return value of supplied function for option \\\"duration\\\":\", val];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow [\"Invalid value for option \\\"duration\\\":\", val];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn val;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Checks the validity of a specific or all options and reset to default if neccessary.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar validateOption = function (check) {\r\n\t\t\tcheck = arguments.length ? [check] : Object.keys(_validate);\r\n\t\t\tcheck.forEach(function (optionName, key) {\r\n\t\t\t\tvar value;\r\n\t\t\t\tif (_validate[optionName]) { // there is a validation method for this option\r\n\t\t\t\t\ttry { // validate value\r\n\t\t\t\t\t\tvalue = _validate[optionName](_options[optionName]);\r\n\t\t\t\t\t} catch (e) { // validation failed -> reset to default\r\n\t\t\t\t\t\tvalue = DEFAULT_OPTIONS[optionName];\r\n\t\t\t\t\t\tvar logMSG = _util.type.String(e) ? [e] : e;\r\n\t\t\t\t\t\tif (_util.type.Array(logMSG)) {\r\n\t\t\t\t\t\t\tlogMSG[0] = \"ERROR: \" + logMSG[0];\r\n\t\t\t\t\t\t\tlogMSG.unshift(1); // loglevel 1 for error msg\r\n\t\t\t\t\t\t\tlog.apply(this, logMSG);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlog(1, \"ERROR: Problem executing validation callback for option '\" + optionName + \"':\", e.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t_options[optionName] = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Helper used by the setter/getters for scene options\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar changeOption = function (varname, newval) {\r\n\t\t\tvar\r\n\t\t\t\tchanged = false,\r\n\t\t\t\toldval = _options[varname];\r\n\t\t\tif (_options[varname] != newval) {\r\n\t\t\t\t_options[varname] = newval;\r\n\t\t\t\tvalidateOption(varname); // resets to default if necessary\r\n\t\t\t\tchanged = oldval != _options[varname];\r\n\t\t\t}\r\n\t\t\treturn changed;\r\n\t\t};\r\n\r\n\t\t// generate getters/setters for all options\r\n\t\tvar addSceneOption = function (optionName) {\r\n\t\t\tif (!Scene[optionName]) {\r\n\t\t\t\tScene[optionName] = function (newVal) {\r\n\t\t\t\t\tif (!arguments.length) { // get\r\n\t\t\t\t\t\treturn _options[optionName];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (optionName === \"duration\") { // new duration is set, so any previously set function must be unset\r\n\t\t\t\t\t\t\t_durationUpdateMethod = undefined;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (changeOption(optionName, newVal)) { // set\r\n\t\t\t\t\t\t\tScene.trigger(\"change\", {\r\n\t\t\t\t\t\t\t\twhat: optionName,\r\n\t\t\t\t\t\t\t\tnewval: _options[optionName]\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (SCENE_OPTIONS.shifts.indexOf(optionName) > -1) {\r\n\t\t\t\t\t\t\t\tScene.trigger(\"shift\", {\r\n\t\t\t\t\t\t\t\t\treason: optionName\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn Scene;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the duration option value.\r\n\t\t *\r\n\t\t * As a **setter** it accepts three types of parameters:\r\n\t\t * 1. `number`: Sets the duration of the scene to exactly this amount of pixels.  \r\n\t\t *   This means the scene will last for exactly this amount of pixels scrolled. Sub-Pixels are also valid.\r\n\t\t *   A value of `0` means that the scene is 'open end' and no end will be triggered. Pins will never unpin and animations will play independently of scroll progress.\r\n\t\t * 2. `string`: Always updates the duration relative to parent scroll container.  \r\n\t\t *   For example `\"100%\"` will keep the duration always exactly at the inner height of the scroll container.\r\n\t\t *   When scrolling vertically the width is used for reference respectively.\r\n\t\t * 3. `function`: The supplied function will be called to return the scene duration.\r\n\t\t *   This is useful in setups where the duration depends on other elements who might change size. By supplying a function you can return a value instead of updating potentially multiple scene durations.  \r\n\t\t *   The scene can be referenced inside the callback using `this`.\r\n\t\t *   _**WARNING:** This is an easy way to kill performance, as the callback will be executed every time `Scene.refresh()` is called, which happens a lot. The interval is defined by the controller (see ScrollMagic.Controller option `refreshInterval`).  \r\n\t\t *   It's recomended to avoid calculations within the function and use cached variables as return values.  \r\n\t\t *   This counts double if you use the same function for multiple scenes._\r\n\t\t *\r\n\t\t * @method ScrollMagic.Scene#duration\r\n\t\t * @example\r\n\t\t * // get the current duration value\r\n\t\t * var duration = scene.duration();\r\n\t\t *\r\n\t\t * // set a new duration\r\n\t\t * scene.duration(300);\r\n\t\t *\r\n\t\t * // set duration responsively to container size\r\n\t\t * scene.duration(\"100%\");\r\n\t\t *\r\n\t\t * // use a function to randomize the duration for some reason.\r\n\t\t * var durationValueCache;\r\n\t\t * function durationCallback () {\r\n\t\t *   return durationValueCache;\r\n\t\t * }\r\n\t\t * function updateDuration () {\r\n\t\t *   durationValueCache = Math.random() * 100;\r\n\t\t * }\r\n\t\t * updateDuration(); // set to initial value\r\n\t\t * scene.duration(durationCallback); // set duration callback\r\n\t\t *\r\n\t\t * @fires {@link Scene.change}, when used as setter\r\n\t\t * @fires {@link Scene.shift}, when used as setter\r\n\t\t * @param {(number|string|function)} [newDuration] - The new duration setting for the scene.\r\n\t\t * @returns {number} `get` -  Current scene duration.\r\n\t\t * @returns {Scene} `set` -  Parent object for chaining.\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the offset option value.\r\n\t\t * @method ScrollMagic.Scene#offset\r\n\t\t * @example\r\n\t\t * // get the current offset\r\n\t\t * var offset = scene.offset();\r\n\t\t *\r\n\t\t * // set a new offset\r\n\t\t * scene.offset(100);\r\n\t\t *\r\n\t\t * @fires {@link Scene.change}, when used as setter\r\n\t\t * @fires {@link Scene.shift}, when used as setter\r\n\t\t * @param {number} [newOffset] - The new offset of the scene.\r\n\t\t * @returns {number} `get` -  Current scene offset.\r\n\t\t * @returns {Scene} `set` -  Parent object for chaining.\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the triggerElement option value.\r\n\t\t * Does **not** fire `Scene.shift`, because changing the trigger Element doesn't necessarily mean the start position changes. This will be determined in `Scene.refresh()`, which is automatically triggered.\r\n\t\t * @method ScrollMagic.Scene#triggerElement\r\n\t\t * @example\r\n\t\t * // get the current triggerElement\r\n\t\t * var triggerElement = scene.triggerElement();\r\n\t\t *\r\n\t\t * // set a new triggerElement using a selector\r\n\t\t * scene.triggerElement(\"#trigger\");\r\n\t\t * // set a new triggerElement using a DOM object\r\n\t\t * scene.triggerElement(document.getElementById(\"trigger\"));\r\n\t\t *\r\n\t\t * @fires {@link Scene.change}, when used as setter\r\n\t\t * @param {(string|object)} [newTriggerElement] - The new trigger element for the scene.\r\n\t\t * @returns {(string|object)} `get` -  Current triggerElement.\r\n\t\t * @returns {Scene} `set` -  Parent object for chaining.\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the triggerHook option value.\r\n\t\t * @method ScrollMagic.Scene#triggerHook\r\n\t\t * @example\r\n\t\t * // get the current triggerHook value\r\n\t\t * var triggerHook = scene.triggerHook();\r\n\t\t *\r\n\t\t * // set a new triggerHook using a string\r\n\t\t * scene.triggerHook(\"onLeave\");\r\n\t\t * // set a new triggerHook using a number\r\n\t\t * scene.triggerHook(0.7);\r\n\t\t *\r\n\t\t * @fires {@link Scene.change}, when used as setter\r\n\t\t * @fires {@link Scene.shift}, when used as setter\r\n\t\t * @param {(number|string)} [newTriggerHook] - The new triggerHook of the scene. See {@link Scene} parameter description for value options.\r\n\t\t * @returns {number} `get` -  Current triggerHook (ALWAYS numerical).\r\n\t\t * @returns {Scene} `set` -  Parent object for chaining.\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the reverse option value.\r\n\t\t * @method ScrollMagic.Scene#reverse\r\n\t\t * @example\r\n\t\t * // get the current reverse option\r\n\t\t * var reverse = scene.reverse();\r\n\t\t *\r\n\t\t * // set new reverse option\r\n\t\t * scene.reverse(false);\r\n\t\t *\r\n\t\t * @fires {@link Scene.change}, when used as setter\r\n\t\t * @param {boolean} [newReverse] - The new reverse setting of the scene.\r\n\t\t * @returns {boolean} `get` -  Current reverse option value.\r\n\t\t * @returns {Scene} `set` -  Parent object for chaining.\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * **Get** or **Set** the loglevel option value.\r\n\t\t * @method ScrollMagic.Scene#loglevel\r\n\t\t * @example\r\n\t\t * // get the current loglevel\r\n\t\t * var loglevel = scene.loglevel();\r\n\t\t *\r\n\t\t * // set new loglevel\r\n\t\t * scene.loglevel(3);\r\n\t\t *\r\n\t\t * @fires {@link Scene.change}, when used as setter\r\n\t\t * @param {number} [newLoglevel] - The new loglevel setting of the scene. `[0-3]`\r\n\t\t * @returns {number} `get` -  Current loglevel.\r\n\t\t * @returns {Scene} `set` -  Parent object for chaining.\r\n\t\t */\r\n\r\n\t\t/**\r\n\t\t * **Get** the associated controller.\r\n\t\t * @method ScrollMagic.Scene#controller\r\n\t\t * @example\r\n\t\t * // get the controller of a scene\r\n\t\t * var controller = scene.controller();\r\n\t\t *\r\n\t\t * @returns {ScrollMagic.Controller} Parent controller or `undefined`\r\n\t\t */\r\n\t\tthis.controller = function () {\r\n\t\t\treturn _controller;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** the current state.\r\n\t\t * @method ScrollMagic.Scene#state\r\n\t\t * @example\r\n\t\t * // get the current state\r\n\t\t * var state = scene.state();\r\n\t\t *\r\n\t\t * @returns {string} `\"BEFORE\"`, `\"DURING\"` or `\"AFTER\"`\r\n\t\t */\r\n\t\tthis.state = function () {\r\n\t\t\treturn _state;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** the current scroll offset for the start of the scene.  \r\n\t\t * Mind, that the scrollOffset is related to the size of the container, if `triggerHook` is bigger than `0` (or `\"onLeave\"`).  \r\n\t\t * This means, that resizing the container or changing the `triggerHook` will influence the scene's start offset.\r\n\t\t * @method ScrollMagic.Scene#scrollOffset\r\n\t\t * @example\r\n\t\t * // get the current scroll offset for the start and end of the scene.\r\n\t\t * var start = scene.scrollOffset();\r\n\t\t * var end = scene.scrollOffset() + scene.duration();\r\n\t\t * console.log(\"the scene starts at\", start, \"and ends at\", end);\r\n\t\t *\r\n\t\t * @returns {number} The scroll offset (of the container) at which the scene will trigger. Y value for vertical and X value for horizontal scrolls.\r\n\t\t */\r\n\t\tthis.scrollOffset = function () {\r\n\t\t\treturn _scrollOffset.start;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * **Get** the trigger position of the scene (including the value of the `offset` option).  \r\n\t\t * @method ScrollMagic.Scene#triggerPosition\r\n\t\t * @example\r\n\t\t * // get the scene's trigger position\r\n\t\t * var triggerPosition = scene.triggerPosition();\r\n\t\t *\r\n\t\t * @returns {number} Start position of the scene. Top position value for vertical and left position value for horizontal scrolls.\r\n\t\t */\r\n\t\tthis.triggerPosition = function () {\r\n\t\t\tvar pos = _options.offset; // the offset is the basis\r\n\t\t\tif (_controller) {\r\n\t\t\t\t// get the trigger position\r\n\t\t\t\tif (_options.triggerElement) {\r\n\t\t\t\t\t// Element as trigger\r\n\t\t\t\t\tpos += _triggerPos;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// return the height of the triggerHook to start at the beginning\r\n\t\t\t\t\tpos += _controller.info(\"size\") * Scene.triggerHook();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn pos;\r\n\t\t};\r\n\r\n\r\n\t\tvar\r\n\t\t\t_pin,\r\n\t\t\t_pinOptions;\r\n\r\n\t\tScene\r\n\t\t\t.on(\"shift.internal\", function (e) {\r\n\t\t\t\tvar durationChanged = e.reason === \"duration\";\r\n\t\t\t\tif ((_state === SCENE_STATE_AFTER && durationChanged) || (_state === SCENE_STATE_DURING && _options.duration === 0)) {\r\n\t\t\t\t\t// if [duration changed after a scene (inside scene progress updates pin position)] or [duration is 0, we are in pin phase and some other value changed].\r\n\t\t\t\t\tupdatePinState();\r\n\t\t\t\t}\r\n\t\t\t\tif (durationChanged) {\r\n\t\t\t\t\tupdatePinDimensions();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.on(\"progress.internal\", function (e) {\r\n\t\t\t\tupdatePinState();\r\n\t\t\t})\r\n\t\t\t.on(\"add.internal\", function (e) {\r\n\t\t\t\tupdatePinDimensions();\r\n\t\t\t})\r\n\t\t\t.on(\"destroy.internal\", function (e) {\r\n\t\t\t\tScene.removePin(e.reset);\r\n\t\t\t});\r\n\t\t/**\r\n\t\t * Update the pin state.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar updatePinState = function (forceUnpin) {\r\n\t\t\tif (_pin && _controller) {\r\n\t\t\t\tvar\r\n\t\t\t\t\tcontainerInfo = _controller.info(),\r\n\t\t\t\t\tpinTarget = _pinOptions.spacer.firstChild; // may be pin element or another spacer, if cascading pins\r\n\r\n\t\t\t\tif (!forceUnpin && _state === SCENE_STATE_DURING) { // during scene or if duration is 0 and we are past the trigger\r\n\t\t\t\t\t// pinned state\r\n\t\t\t\t\tif (_util.css(pinTarget, \"position\") != \"fixed\") {\r\n\t\t\t\t\t\t// change state before updating pin spacer (position changes due to fixed collapsing might occur.)\r\n\t\t\t\t\t\t_util.css(pinTarget, {\r\n\t\t\t\t\t\t\t\"position\": \"fixed\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// update pin spacer\r\n\t\t\t\t\t\tupdatePinDimensions();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar\r\n\t\t\t\t\t\tfixedPos = _util.get.offset(_pinOptions.spacer, true), // get viewport position of spacer\r\n\t\t\t\t\t\tscrollDistance = _options.reverse || _options.duration === 0 ?\r\n\t\t\t\t\t\tcontainerInfo.scrollPos - _scrollOffset.start // quicker\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tMath.round(_progress * _options.duration * 10) / 10; // if no reverse and during pin the position needs to be recalculated using the progress\r\n\r\n\t\t\t\t\t// add scrollDistance\r\n\t\t\t\t\tfixedPos[containerInfo.vertical ? \"top\" : \"left\"] += scrollDistance;\r\n\r\n\t\t\t\t\t// set new values\r\n\t\t\t\t\t_util.css(_pinOptions.spacer.firstChild, {\r\n\t\t\t\t\t\ttop: fixedPos.top,\r\n\t\t\t\t\t\tleft: fixedPos.left\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// unpinned state\r\n\t\t\t\t\tvar\r\n\t\t\t\t\t\tnewCSS = {\r\n\t\t\t\t\t\t\tposition: _pinOptions.inFlow ? \"relative\" : \"absolute\",\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tchange = _util.css(pinTarget, \"position\") != newCSS.position;\r\n\r\n\t\t\t\t\tif (!_pinOptions.pushFollowers) {\r\n\t\t\t\t\t\tnewCSS[containerInfo.vertical ? \"top\" : \"left\"] = _options.duration * _progress;\r\n\t\t\t\t\t} else if (_options.duration > 0) { // only concerns scenes with duration\r\n\t\t\t\t\t\tif (_state === SCENE_STATE_AFTER && parseFloat(_util.css(_pinOptions.spacer, \"padding-top\")) === 0) {\r\n\t\t\t\t\t\t\tchange = true; // if in after state but havent updated spacer yet (jumped past pin)\r\n\t\t\t\t\t\t} else if (_state === SCENE_STATE_BEFORE && parseFloat(_util.css(_pinOptions.spacer, \"padding-bottom\")) === 0) { // before\r\n\t\t\t\t\t\t\tchange = true; // jumped past fixed state upward direction\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// set new values\r\n\t\t\t\t\t_util.css(pinTarget, newCSS);\r\n\t\t\t\t\tif (change) {\r\n\t\t\t\t\t\t// update pin spacer if state changed\r\n\t\t\t\t\t\tupdatePinDimensions();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Update the pin spacer and/or element size.\r\n\t\t * The size of the spacer needs to be updated whenever the duration of the scene changes, if it is to push down following elements.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar updatePinDimensions = function () {\r\n\t\t\tif (_pin && _controller && _pinOptions.inFlow) { // no spacerresize, if original position is absolute\r\n\t\t\t\tvar\r\n\t\t\t\t\tafter = (_state === SCENE_STATE_AFTER),\r\n\t\t\t\t\tbefore = (_state === SCENE_STATE_BEFORE),\r\n\t\t\t\t\tduring = (_state === SCENE_STATE_DURING),\r\n\t\t\t\t\tvertical = _controller.info(\"vertical\"),\r\n\t\t\t\t\tpinTarget = _pinOptions.spacer.firstChild, // usually the pined element but can also be another spacer (cascaded pins)\r\n\t\t\t\t\tmarginCollapse = _util.isMarginCollapseType(_util.css(_pinOptions.spacer, \"display\")),\r\n\t\t\t\t\tcss = {};\r\n\r\n\t\t\t\t// set new size\r\n\t\t\t\t// if relsize: spacer -> pin | else: pin -> spacer\r\n\t\t\t\tif (_pinOptions.relSize.width || _pinOptions.relSize.autoFullWidth) {\r\n\t\t\t\t\tif (during) {\r\n\t\t\t\t\t\t_util.css(_pin, {\r\n\t\t\t\t\t\t\t\"width\": _util.get.width(_pinOptions.spacer)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_util.css(_pin, {\r\n\t\t\t\t\t\t\t\"width\": \"100%\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// minwidth is needed for cascaded pins.\r\n\t\t\t\t\tcss[\"min-width\"] = _util.get.width(vertical ? _pin : pinTarget, true, true);\r\n\t\t\t\t\tcss.width = during ? css[\"min-width\"] : \"auto\";\r\n\t\t\t\t}\r\n\t\t\t\tif (_pinOptions.relSize.height) {\r\n\t\t\t\t\tif (during) {\r\n\t\t\t\t\t\t// the only padding the spacer should ever include is the duration (if pushFollowers = true), so we need to substract that.\r\n\t\t\t\t\t\t_util.css(_pin, {\r\n\t\t\t\t\t\t\t\"height\": _util.get.height(_pinOptions.spacer) - (_pinOptions.pushFollowers ? _options.duration : 0)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_util.css(_pin, {\r\n\t\t\t\t\t\t\t\"height\": \"100%\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// margin is only included if it's a cascaded pin to resolve an IE9 bug\r\n\t\t\t\t\tcss[\"min-height\"] = _util.get.height(vertical ? pinTarget : _pin, true, !marginCollapse); // needed for cascading pins\r\n\t\t\t\t\tcss.height = during ? css[\"min-height\"] : \"auto\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// add space for duration if pushFollowers is true\r\n\t\t\t\tif (_pinOptions.pushFollowers) {\r\n\t\t\t\t\tcss[\"padding\" + (vertical ? \"Top\" : \"Left\")] = _options.duration * _progress;\r\n\t\t\t\t\tcss[\"padding\" + (vertical ? \"Bottom\" : \"Right\")] = _options.duration * (1 - _progress);\r\n\t\t\t\t}\r\n\t\t\t\t_util.css(_pinOptions.spacer, css);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Updates the Pin state (in certain scenarios)\r\n\t\t * If the controller container is not the document and we are mid-pin-phase scrolling or resizing the main document can result to wrong pin positions.\r\n\t\t * So this function is called on resize and scroll of the document.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar updatePinInContainer = function () {\r\n\t\t\tif (_controller && _pin && _state === SCENE_STATE_DURING && !_controller.info(\"isDocument\")) {\r\n\t\t\t\tupdatePinState();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Updates the Pin spacer size state (in certain scenarios)\r\n\t\t * If container is resized during pin and relatively sized the size of the pin might need to be updated...\r\n\t\t * So this function is called on resize of the container.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar updateRelativePinSpacer = function () {\r\n\t\t\tif (_controller && _pin && // well, duh\r\n\t\t\t\t_state === SCENE_STATE_DURING && // element in pinned state?\r\n\t\t\t\t( // is width or height relatively sized, but not in relation to body? then we need to recalc.\r\n\t\t\t\t\t((_pinOptions.relSize.width || _pinOptions.relSize.autoFullWidth) && _util.get.width(window) != _util.get.width(_pinOptions.spacer.parentNode)) ||\r\n\t\t\t\t\t(_pinOptions.relSize.height && _util.get.height(window) != _util.get.height(_pinOptions.spacer.parentNode))\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tupdatePinDimensions();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Is called, when the mousewhel is used while over a pinned element inside a div container.\r\n\t\t * If the scene is in fixed state scroll events would be counted towards the body. This forwards the event to the scroll container.\r\n\t\t * @private\r\n\t\t */\r\n\t\tvar onMousewheelOverPin = function (e) {\r\n\t\t\tif (_controller && _pin && _state === SCENE_STATE_DURING && !_controller.info(\"isDocument\")) { // in pin state\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t_controller._setScrollPos(_controller.info(\"scrollPos\") - ((e.wheelDelta || e[_controller.info(\"vertical\") ? \"wheelDeltaY\" : \"wheelDeltaX\"]) / 3 || -e.detail * 30));\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Pin an element for the duration of the scene.\r\n\t\t * If the scene duration is 0 the element will only be unpinned, if the user scrolls back past the start position.  \r\n\t\t * Make sure only one pin is applied to an element at the same time.\r\n\t\t * An element can be pinned multiple times, but only successively.\r\n\t\t * _**NOTE:** The option `pushFollowers` has no effect, when the scene duration is 0._\r\n\t\t * @method ScrollMagic.Scene#setPin\r\n\t\t * @example\r\n\t\t * // pin element and push all following elements down by the amount of the pin duration.\r\n\t\t * scene.setPin(\"#pin\");\r\n\t\t *\r\n\t\t * // pin element and keeping all following elements in their place. The pinned element will move past them.\r\n\t\t * scene.setPin(\"#pin\", {pushFollowers: false});\r\n\t\t *\r\n\t\t * @param {(string|object)} element - A Selector targeting an element or a DOM object that is supposed to be pinned.\r\n\t\t * @param {object} [settings] - settings for the pin\r\n\t\t * @param {boolean} [settings.pushFollowers=true] - If `true` following elements will be \"pushed\" down for the duration of the pin, if `false` the pinned element will just scroll past them.  \r\n\t\t \t\t\t\t\t\t\t\t\t\t\t\t   Ignored, when duration is `0`.\r\n\t\t * @param {string} [settings.spacerClass=\"scrollmagic-pin-spacer\"] - Classname of the pin spacer element, which is used to replace the element.\r\n\t\t *\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.setPin = function (element, settings) {\r\n\t\t\tvar\r\n\t\t\t\tdefaultSettings = {\r\n\t\t\t\t\tpushFollowers: true,\r\n\t\t\t\t\tspacerClass: \"scrollmagic-pin-spacer\"\r\n\t\t\t\t};\r\n\t\t\tvar pushFollowersActivelySet = settings && settings.hasOwnProperty('pushFollowers');\r\n\t\t\tsettings = _util.extend({}, defaultSettings, settings);\r\n\r\n\t\t\t// validate Element\r\n\t\t\telement = _util.get.elements(element)[0];\r\n\t\t\tif (!element) {\r\n\t\t\t\tlog(1, \"ERROR calling method 'setPin()': Invalid pin element supplied.\");\r\n\t\t\t\treturn Scene; // cancel\r\n\t\t\t} else if (_util.css(element, \"position\") === \"fixed\") {\r\n\t\t\t\tlog(1, \"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'.\");\r\n\t\t\t\treturn Scene; // cancel\r\n\t\t\t}\r\n\r\n\t\t\tif (_pin) { // preexisting pin?\r\n\t\t\t\tif (_pin === element) {\r\n\t\t\t\t\t// same pin we already have -> do nothing\r\n\t\t\t\t\treturn Scene; // cancel\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// kill old pin\r\n\t\t\t\t\tScene.removePin();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t_pin = element;\r\n\r\n\t\t\tvar\r\n\t\t\t\tparentDisplay = _pin.parentNode.style.display,\r\n\t\t\t\tboundsParams = [\"top\", \"left\", \"bottom\", \"right\", \"margin\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\"];\r\n\r\n\t\t\t_pin.parentNode.style.display = 'none'; // hack start to force css to return stylesheet values instead of calculated px values.\r\n\t\t\tvar\r\n\t\t\t\tinFlow = _util.css(_pin, \"position\") != \"absolute\",\r\n\t\t\t\tpinCSS = _util.css(_pin, boundsParams.concat([\"display\"])),\r\n\t\t\t\tsizeCSS = _util.css(_pin, [\"width\", \"height\"]);\r\n\t\t\t_pin.parentNode.style.display = parentDisplay; // hack end.\r\n\r\n\t\t\tif (!inFlow && settings.pushFollowers) {\r\n\t\t\t\tlog(2, \"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled.\");\r\n\t\t\t\tsettings.pushFollowers = false;\r\n\t\t\t}\r\n\t\t\twindow.setTimeout(function () { // wait until all finished, because with responsive duration it will only be set after scene is added to controller\r\n\t\t\t\tif (_pin && _options.duration === 0 && pushFollowersActivelySet && settings.pushFollowers) {\r\n\t\t\t\t\tlog(2, \"WARNING: pushFollowers =\", true, \"has no effect, when scene duration is 0.\");\r\n\t\t\t\t}\r\n\t\t\t}, 0);\r\n\r\n\t\t\t// create spacer and insert\r\n\t\t\tvar\r\n\t\t\t\tspacer = _pin.parentNode.insertBefore(document.createElement('div'), _pin),\r\n\t\t\t\tspacerCSS = _util.extend(pinCSS, {\r\n\t\t\t\t\tposition: inFlow ? \"relative\" : \"absolute\",\r\n\t\t\t\t\tboxSizing: \"content-box\",\r\n\t\t\t\t\tmozBoxSizing: \"content-box\",\r\n\t\t\t\t\twebkitBoxSizing: \"content-box\"\r\n\t\t\t\t});\r\n\r\n\t\t\tif (!inFlow) { // copy size if positioned absolutely, to work for bottom/right positioned elements.\r\n\t\t\t\t_util.extend(spacerCSS, _util.css(_pin, [\"width\", \"height\"]));\r\n\t\t\t}\r\n\r\n\t\t\t_util.css(spacer, spacerCSS);\r\n\t\t\tspacer.setAttribute(PIN_SPACER_ATTRIBUTE, \"\");\r\n\t\t\t_util.addClass(spacer, settings.spacerClass);\r\n\r\n\t\t\t// set the pin Options\r\n\t\t\t_pinOptions = {\r\n\t\t\t\tspacer: spacer,\r\n\t\t\t\trelSize: { // save if size is defined using % values. if so, handle spacer resize differently...\r\n\t\t\t\t\twidth: sizeCSS.width.slice(-1) === \"%\",\r\n\t\t\t\t\theight: sizeCSS.height.slice(-1) === \"%\",\r\n\t\t\t\t\tautoFullWidth: sizeCSS.width === \"auto\" && inFlow && _util.isMarginCollapseType(pinCSS.display)\r\n\t\t\t\t},\r\n\t\t\t\tpushFollowers: settings.pushFollowers,\r\n\t\t\t\tinFlow: inFlow, // stores if the element takes up space in the document flow\r\n\t\t\t};\r\n\r\n\t\t\tif (!_pin.___origStyle) {\r\n\t\t\t\t_pin.___origStyle = {};\r\n\t\t\t\tvar\r\n\t\t\t\t\tpinInlineCSS = _pin.style,\r\n\t\t\t\t\tcopyStyles = boundsParams.concat([\"width\", \"height\", \"position\", \"boxSizing\", \"mozBoxSizing\", \"webkitBoxSizing\"]);\r\n\t\t\t\tcopyStyles.forEach(function (val) {\r\n\t\t\t\t\t_pin.___origStyle[val] = pinInlineCSS[val] || \"\";\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// if relative size, transfer it to spacer and make pin calculate it...\r\n\t\t\tif (_pinOptions.relSize.width) {\r\n\t\t\t\t_util.css(spacer, {\r\n\t\t\t\t\twidth: sizeCSS.width\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (_pinOptions.relSize.height) {\r\n\t\t\t\t_util.css(spacer, {\r\n\t\t\t\t\theight: sizeCSS.height\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// now place the pin element inside the spacer\t\r\n\t\t\tspacer.appendChild(_pin);\r\n\t\t\t// and set new css\r\n\t\t\t_util.css(_pin, {\r\n\t\t\t\tposition: inFlow ? \"relative\" : \"absolute\",\r\n\t\t\t\tmargin: \"auto\",\r\n\t\t\t\ttop: \"auto\",\r\n\t\t\t\tleft: \"auto\",\r\n\t\t\t\tbottom: \"auto\",\r\n\t\t\t\tright: \"auto\"\r\n\t\t\t});\r\n\r\n\t\t\tif (_pinOptions.relSize.width || _pinOptions.relSize.autoFullWidth) {\r\n\t\t\t\t_util.css(_pin, {\r\n\t\t\t\t\tboxSizing: \"border-box\",\r\n\t\t\t\t\tmozBoxSizing: \"border-box\",\r\n\t\t\t\t\twebkitBoxSizing: \"border-box\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// add listener to document to update pin position in case controller is not the document.\r\n\t\t\twindow.addEventListener('scroll', updatePinInContainer);\r\n\t\t\twindow.addEventListener('resize', updatePinInContainer);\r\n\t\t\twindow.addEventListener('resize', updateRelativePinSpacer);\r\n\t\t\t// add mousewheel listener to catch scrolls over fixed elements\r\n\t\t\t_pin.addEventListener(\"mousewheel\", onMousewheelOverPin);\r\n\t\t\t_pin.addEventListener(\"DOMMouseScroll\", onMousewheelOverPin);\r\n\r\n\t\t\tlog(3, \"added pin\");\r\n\r\n\t\t\t// finally update the pin to init\r\n\t\t\tupdatePinState();\r\n\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Remove the pin from the scene.\r\n\t\t * @method ScrollMagic.Scene#removePin\r\n\t\t * @example\r\n\t\t * // remove the pin from the scene without resetting it (the spacer is not removed)\r\n\t\t * scene.removePin();\r\n\t\t *\r\n\t\t * // remove the pin from the scene and reset the pin element to its initial position (spacer is removed)\r\n\t\t * scene.removePin(true);\r\n\t\t *\r\n\t\t * @param {boolean} [reset=false] - If `false` the spacer will not be removed and the element's position will not be reset.\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.removePin = function (reset) {\r\n\t\t\tif (_pin) {\r\n\t\t\t\tif (_state === SCENE_STATE_DURING) {\r\n\t\t\t\t\tupdatePinState(true); // force unpin at position\r\n\t\t\t\t}\r\n\t\t\t\tif (reset || !_controller) { // if there's no controller no progress was made anyway...\r\n\t\t\t\t\tvar pinTarget = _pinOptions.spacer.firstChild; // usually the pin element, but may be another spacer (cascaded pins)...\r\n\t\t\t\t\tif (pinTarget.hasAttribute(PIN_SPACER_ATTRIBUTE)) { // copy margins to child spacer\r\n\t\t\t\t\t\tvar\r\n\t\t\t\t\t\t\tstyle = _pinOptions.spacer.style,\r\n\t\t\t\t\t\t\tvalues = [\"margin\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\"],\r\n\t\t\t\t\t\t\tmargins = {};\r\n\t\t\t\t\t\tvalues.forEach(function (val) {\r\n\t\t\t\t\t\t\tmargins[val] = style[val] || \"\";\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_util.css(pinTarget, margins);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_pinOptions.spacer.parentNode.insertBefore(pinTarget, _pinOptions.spacer);\r\n\t\t\t\t\t_pinOptions.spacer.parentNode.removeChild(_pinOptions.spacer);\r\n\t\t\t\t\tif (!_pin.parentNode.hasAttribute(PIN_SPACER_ATTRIBUTE)) { // if it's the last pin for this element -> restore inline styles\r\n\t\t\t\t\t\t// TODO: only correctly set for first pin (when cascading) - how to fix?\r\n\t\t\t\t\t\t_util.css(_pin, _pin.___origStyle);\r\n\t\t\t\t\t\tdelete _pin.___origStyle;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twindow.removeEventListener('scroll', updatePinInContainer);\r\n\t\t\t\twindow.removeEventListener('resize', updatePinInContainer);\r\n\t\t\t\twindow.removeEventListener('resize', updateRelativePinSpacer);\r\n\t\t\t\t_pin.removeEventListener(\"mousewheel\", onMousewheelOverPin);\r\n\t\t\t\t_pin.removeEventListener(\"DOMMouseScroll\", onMousewheelOverPin);\r\n\t\t\t\t_pin = undefined;\r\n\t\t\t\tlog(3, \"removed pin (reset: \" + (reset ? \"true\" : \"false\") + \")\");\r\n\t\t\t}\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\r\n\t\tvar\r\n\t\t\t_cssClasses,\r\n\t\t\t_cssClassElems = [];\r\n\r\n\t\tScene\r\n\t\t\t.on(\"destroy.internal\", function (e) {\r\n\t\t\t\tScene.removeClassToggle(e.reset);\r\n\t\t\t});\r\n\t\t/**\r\n\t\t * Define a css class modification while the scene is active.  \r\n\t\t * When the scene triggers the classes will be added to the supplied element and removed, when the scene is over.\r\n\t\t * If the scene duration is 0 the classes will only be removed if the user scrolls back past the start position.\r\n\t\t * @method ScrollMagic.Scene#setClassToggle\r\n\t\t * @example\r\n\t\t * // add the class 'myclass' to the element with the id 'my-elem' for the duration of the scene\r\n\t\t * scene.setClassToggle(\"#my-elem\", \"myclass\");\r\n\t\t *\r\n\t\t * // add multiple classes to multiple elements defined by the selector '.classChange'\r\n\t\t * scene.setClassToggle(\".classChange\", \"class1 class2 class3\");\r\n\t\t *\r\n\t\t * @param {(string|object)} element - A Selector targeting one or more elements or a DOM object that is supposed to be modified.\r\n\t\t * @param {string} classes - One or more Classnames (separated by space) that should be added to the element during the scene.\r\n\t\t *\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.setClassToggle = function (element, classes) {\r\n\t\t\tvar elems = _util.get.elements(element);\r\n\t\t\tif (elems.length === 0 || !_util.type.String(classes)) {\r\n\t\t\t\tlog(1, \"ERROR calling method 'setClassToggle()': Invalid \" + (elems.length === 0 ? \"element\" : \"classes\") + \" supplied.\");\r\n\t\t\t\treturn Scene;\r\n\t\t\t}\r\n\t\t\tif (_cssClassElems.length > 0) {\r\n\t\t\t\t// remove old ones\r\n\t\t\t\tScene.removeClassToggle();\r\n\t\t\t}\r\n\t\t\t_cssClasses = classes;\r\n\t\t\t_cssClassElems = elems;\r\n\t\t\tScene.on(\"enter.internal_class leave.internal_class\", function (e) {\r\n\t\t\t\tvar toggle = e.type === \"enter\" ? _util.addClass : _util.removeClass;\r\n\t\t\t\t_cssClassElems.forEach(function (elem, key) {\r\n\t\t\t\t\ttoggle(elem, _cssClasses);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Remove the class binding from the scene.\r\n\t\t * @method ScrollMagic.Scene#removeClassToggle\r\n\t\t * @example\r\n\t\t * // remove class binding from the scene without reset\r\n\t\t * scene.removeClassToggle();\r\n\t\t *\r\n\t\t * // remove class binding and remove the changes it caused\r\n\t\t * scene.removeClassToggle(true);\r\n\t\t *\r\n\t\t * @param {boolean} [reset=false] - If `false` and the classes are currently active, they will remain on the element. If `true` they will be removed.\r\n\t\t * @returns {Scene} Parent object for chaining.\r\n\t\t */\r\n\t\tthis.removeClassToggle = function (reset) {\r\n\t\t\tif (reset) {\r\n\t\t\t\t_cssClassElems.forEach(function (elem, key) {\r\n\t\t\t\t\t_util.removeClass(elem, _cssClasses);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tScene.off(\"start.internal_class end.internal_class\");\r\n\t\t\t_cssClasses = undefined;\r\n\t\t\t_cssClassElems = [];\r\n\t\t\treturn Scene;\r\n\t\t};\r\n\r\n\t\t// INIT\r\n\t\tconstruct();\r\n\t\treturn Scene;\r\n\t};\r\n\r\n\t// store pagewide scene options\r\n\tvar SCENE_OPTIONS = {\r\n\t\tdefaults: {\r\n\t\t\tduration: 0,\r\n\t\t\toffset: 0,\r\n\t\t\ttriggerElement: undefined,\r\n\t\t\ttriggerHook: 0.5,\r\n\t\t\treverse: true,\r\n\t\t\tloglevel: 2\r\n\t\t},\r\n\t\tvalidate: {\r\n\t\t\toffset: function (val) {\r\n\t\t\t\tval = parseFloat(val);\r\n\t\t\t\tif (!_util.type.Number(val)) {\r\n\t\t\t\t\tthrow [\"Invalid value for option \\\"offset\\\":\", val];\r\n\t\t\t\t}\r\n\t\t\t\treturn val;\r\n\t\t\t},\r\n\t\t\ttriggerElement: function (val) {\r\n\t\t\t\tval = val || undefined;\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\tvar elem = _util.get.elements(val)[0];\r\n\t\t\t\t\tif (elem && elem.parentNode) {\r\n\t\t\t\t\t\tval = elem;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow [\"Element defined in option \\\"triggerElement\\\" was not found:\", val];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn val;\r\n\t\t\t},\r\n\t\t\ttriggerHook: function (val) {\r\n\t\t\t\tvar translate = {\r\n\t\t\t\t\t\"onCenter\": 0.5,\r\n\t\t\t\t\t\"onEnter\": 1,\r\n\t\t\t\t\t\"onLeave\": 0\r\n\t\t\t\t};\r\n\t\t\t\tif (_util.type.Number(val)) {\r\n\t\t\t\t\tval = Math.max(0, Math.min(parseFloat(val), 1)); //  make sure its betweeen 0 and 1\r\n\t\t\t\t} else if (val in translate) {\r\n\t\t\t\t\tval = translate[val];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow [\"Invalid value for option \\\"triggerHook\\\": \", val];\r\n\t\t\t\t}\r\n\t\t\t\treturn val;\r\n\t\t\t},\r\n\t\t\treverse: function (val) {\r\n\t\t\t\treturn !!val; // force boolean\r\n\t\t\t},\r\n\t\t\tloglevel: function (val) {\r\n\t\t\t\tval = parseInt(val);\r\n\t\t\t\tif (!_util.type.Number(val) || val < 0 || val > 3) {\r\n\t\t\t\t\tthrow [\"Invalid value for option \\\"loglevel\\\":\", val];\r\n\t\t\t\t}\r\n\t\t\t\treturn val;\r\n\t\t\t}\r\n\t\t}, // holder for  validation methods. duration validation is handled in 'getters-setters.js'\r\n\t\tshifts: [\"duration\", \"offset\", \"triggerHook\"], // list of options that trigger a `shift` event\r\n\t};\r\n\t/*\r\n\t * method used to add an option to ScrollMagic Scenes.\r\n\t * TODO: DOC (private for dev)\r\n\t */\r\n\tScrollMagic.Scene.addOption = function (name, defaultValue, validationCallback, shifts) {\r\n\t\tif (!(name in SCENE_OPTIONS.defaults)) {\r\n\t\t\tSCENE_OPTIONS.defaults[name] = defaultValue;\r\n\t\t\tSCENE_OPTIONS.validate[name] = validationCallback;\r\n\t\t\tif (shifts) {\r\n\t\t\t\tSCENE_OPTIONS.shifts.push(name);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tScrollMagic._util.log(1, \"[static] ScrollMagic.Scene -> Cannot add Scene option '\" + name + \"', because it already exists.\");\r\n\t\t}\r\n\t};\r\n\t// instance extension function for plugins\r\n\t// TODO: DOC (private for dev)\r\n\tScrollMagic.Scene.extend = function (extension) {\r\n\t\tvar oldClass = this;\r\n\t\tScrollMagic.Scene = function () {\r\n\t\t\toldClass.apply(this, arguments);\r\n\t\t\tthis.$super = _util.extend({}, this); // copy parent state\r\n\t\t\treturn extension.apply(this, arguments) || this;\r\n\t\t};\r\n\t\t_util.extend(ScrollMagic.Scene, oldClass); // copy properties\r\n\t\tScrollMagic.Scene.prototype = oldClass.prototype; // copy prototype\r\n\t\tScrollMagic.Scene.prototype.constructor = ScrollMagic.Scene; // restore constructor\r\n\t};\r\n\r\n\r\n\r\n\t/**\r\n\t * TODO: DOCS (private for dev)\r\n\t * @class\r\n\t * @private\r\n\t */\r\n\r\n\tScrollMagic.Event = function (type, namespace, target, vars) {\r\n\t\tvars = vars || {};\r\n\t\tfor (var key in vars) {\r\n\t\t\tthis[key] = vars[key];\r\n\t\t}\r\n\t\tthis.type = type;\r\n\t\tthis.target = this.currentTarget = target;\r\n\t\tthis.namespace = namespace || '';\r\n\t\tthis.timeStamp = this.timestamp = Date.now();\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * TODO: DOCS (private for dev)\r\n\t */\r\n\r\n\tvar _util = ScrollMagic._util = (function (window) {\r\n\t\tvar U = {},\r\n\t\t\ti;\r\n\r\n\t\t/**\r\n\t\t * ------------------------------\r\n\t\t * internal helpers\r\n\t\t * ------------------------------\r\n\t\t */\r\n\r\n\t\t// parse float and fall back to 0.\r\n\t\tvar floatval = function (number) {\r\n\t\t\treturn parseFloat(number) || 0;\r\n\t\t};\r\n\t\t// get current style IE safe (otherwise IE would return calculated values for 'auto')\r\n\t\tvar _getComputedStyle = function (elem) {\r\n\t\t\treturn elem.currentStyle ? elem.currentStyle : window.getComputedStyle(elem);\r\n\t\t};\r\n\r\n\t\t// get element dimension (width or height)\r\n\t\tvar _dimension = function (which, elem, outer, includeMargin) {\r\n\t\t\telem = (elem === document) ? window : elem;\r\n\t\t\tif (elem === window) {\r\n\t\t\t\tincludeMargin = false;\r\n\t\t\t} else if (!_type.DomElement(elem)) {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\twhich = which.charAt(0).toUpperCase() + which.substr(1).toLowerCase();\r\n\t\t\tvar dimension = (outer ? elem['offset' + which] || elem['outer' + which] : elem['client' + which] || elem['inner' + which]) || 0;\r\n\t\t\tif (outer && includeMargin) {\r\n\t\t\t\tvar style = _getComputedStyle(elem);\r\n\t\t\t\tdimension += which === 'Height' ? floatval(style.marginTop) + floatval(style.marginBottom) : floatval(style.marginLeft) + floatval(style.marginRight);\r\n\t\t\t}\r\n\t\t\treturn dimension;\r\n\t\t};\r\n\t\t// converts 'margin-top' into 'marginTop'\r\n\t\tvar _camelCase = function (str) {\r\n\t\t\treturn str.replace(/^[^a-z]+([a-z])/g, '$1').replace(/-([a-z])/g, function (g) {\r\n\t\t\t\treturn g[1].toUpperCase();\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * ------------------------------\r\n\t\t * external helpers\r\n\t\t * ------------------------------\r\n\t\t */\r\n\r\n\t\t// extend obj  same as jQuery.extend({}, objA, objB)\r\n\t\tU.extend = function (obj) {\r\n\t\t\tobj = obj || {};\r\n\t\t\tfor (i = 1; i < arguments.length; i++) {\r\n\t\t\t\tif (!arguments[i]) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tfor (var key in arguments[i]) {\r\n\t\t\t\t\tif (arguments[i].hasOwnProperty(key)) {\r\n\t\t\t\t\t\tobj[key] = arguments[i][key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t};\r\n\r\n\t\t// check if a css display type results in margin-collapse or not\r\n\t\tU.isMarginCollapseType = function (str) {\r\n\t\t\treturn [\"block\", \"flex\", \"list-item\", \"table\", \"-webkit-box\"].indexOf(str) > -1;\r\n\t\t};\r\n\r\n\t\t// implementation of requestAnimationFrame\r\n\t\t// based on https://gist.github.com/paulirish/1579671\r\n\t\tvar\r\n\t\t\tlastTime = 0,\r\n\t\t\tvendors = ['ms', 'moz', 'webkit', 'o'];\r\n\t\tvar _requestAnimationFrame = window.requestAnimationFrame;\r\n\t\tvar _cancelAnimationFrame = window.cancelAnimationFrame;\r\n\t\t// try vendor prefixes if the above doesn't work\r\n\t\tfor (i = 0; !_requestAnimationFrame && i < vendors.length; ++i) {\r\n\t\t\t_requestAnimationFrame = window[vendors[i] + 'RequestAnimationFrame'];\r\n\t\t\t_cancelAnimationFrame = window[vendors[i] + 'CancelAnimationFrame'] || window[vendors[i] + 'CancelRequestAnimationFrame'];\r\n\t\t}\r\n\r\n\t\t// fallbacks\r\n\t\tif (!_requestAnimationFrame) {\r\n\t\t\t_requestAnimationFrame = function (callback) {\r\n\t\t\t\tvar\r\n\t\t\t\t\tcurrTime = new Date().getTime(),\r\n\t\t\t\t\ttimeToCall = Math.max(0, 16 - (currTime - lastTime)),\r\n\t\t\t\t\tid = window.setTimeout(function () {\r\n\t\t\t\t\t\tcallback(currTime + timeToCall);\r\n\t\t\t\t\t}, timeToCall);\r\n\t\t\t\tlastTime = currTime + timeToCall;\r\n\t\t\t\treturn id;\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (!_cancelAnimationFrame) {\r\n\t\t\t_cancelAnimationFrame = function (id) {\r\n\t\t\t\twindow.clearTimeout(id);\r\n\t\t\t};\r\n\t\t}\r\n\t\tU.rAF = _requestAnimationFrame.bind(window);\r\n\t\tU.cAF = _cancelAnimationFrame.bind(window);\r\n\r\n\t\tvar\r\n\t\t\tloglevels = [\"error\", \"warn\", \"log\"],\r\n\t\t\tconsole = window.console || {};\r\n\r\n\t\tconsole.log = console.log || function () {}; // no console log, well - do nothing then...\r\n\t\t// make sure methods for all levels exist.\r\n\t\tfor (i = 0; i < loglevels.length; i++) {\r\n\t\t\tvar method = loglevels[i];\r\n\t\t\tif (!console[method]) {\r\n\t\t\t\tconsole[method] = console.log; // prefer .log over nothing\r\n\t\t\t}\r\n\t\t}\r\n\t\tU.log = function (loglevel) {\r\n\t\t\tif (loglevel > loglevels.length || loglevel <= 0) loglevel = loglevels.length;\r\n\t\t\tvar now = new Date(),\r\n\t\t\t\ttime = (\"0\" + now.getHours()).slice(-2) + \":\" + (\"0\" + now.getMinutes()).slice(-2) + \":\" + (\"0\" + now.getSeconds()).slice(-2) + \":\" + (\"00\" + now.getMilliseconds()).slice(-3),\r\n\t\t\t\tmethod = loglevels[loglevel - 1],\r\n\t\t\t\targs = Array.prototype.splice.call(arguments, 1),\r\n\t\t\t\tfunc = Function.prototype.bind.call(console[method], console);\r\n\t\t\targs.unshift(time);\r\n\t\t\tfunc.apply(console, args);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * ------------------------------\r\n\t\t * type testing\r\n\t\t * ------------------------------\r\n\t\t */\r\n\r\n\t\tvar _type = U.type = function (v) {\r\n\t\t\treturn Object.prototype.toString.call(v).replace(/^\\[object (.+)\\]$/, \"$1\").toLowerCase();\r\n\t\t};\r\n\t\t_type.String = function (v) {\r\n\t\t\treturn _type(v) === 'string';\r\n\t\t};\r\n\t\t_type.Function = function (v) {\r\n\t\t\treturn _type(v) === 'function';\r\n\t\t};\r\n\t\t_type.Array = function (v) {\r\n\t\t\treturn Array.isArray(v);\r\n\t\t};\r\n\t\t_type.Number = function (v) {\r\n\t\t\treturn !_type.Array(v) && (v - parseFloat(v) + 1) >= 0;\r\n\t\t};\r\n\t\t_type.DomElement = function (o) {\r\n\t\t\treturn (\r\n\t\t\t\ttypeof HTMLElement === \"object\" || typeof HTMLElement === \"function\" ? o instanceof HTMLElement || o instanceof SVGElement : //DOM2\r\n\t\t\t\to && typeof o === \"object\" && o !== null && o.nodeType === 1 && typeof o.nodeName === \"string\"\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * ------------------------------\r\n\t\t * DOM Element info\r\n\t\t * ------------------------------\r\n\t\t */\r\n\t\t// always returns a list of matching DOM elements, from a selector, a DOM element or an list of elements or even an array of selectors\r\n\t\tvar _get = U.get = {};\r\n\t\t_get.elements = function (selector) {\r\n\t\t\tvar arr = [];\r\n\t\t\tif (_type.String(selector)) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tselector = document.querySelectorAll(selector);\r\n\t\t\t\t} catch (e) { // invalid selector\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (_type(selector) === 'nodelist' || _type.Array(selector) || selector instanceof NodeList) {\r\n\t\t\t\tfor (var i = 0, ref = arr.length = selector.length; i < ref; i++) { // list of elements\r\n\t\t\t\t\tvar elem = selector[i];\r\n\t\t\t\t\tarr[i] = _type.DomElement(elem) ? elem : _get.elements(elem); // if not an element, try to resolve recursively\r\n\t\t\t\t}\r\n\t\t\t} else if (_type.DomElement(selector) || selector === document || selector === window) {\r\n\t\t\t\tarr = [selector]; // only the element\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t};\r\n\t\t// get scroll top value\r\n\t\t_get.scrollTop = function (elem) {\r\n\t\t\treturn (elem && typeof elem.scrollTop === 'number') ? elem.scrollTop : window.pageYOffset || 0;\r\n\t\t};\r\n\t\t// get scroll left value\r\n\t\t_get.scrollLeft = function (elem) {\r\n\t\t\treturn (elem && typeof elem.scrollLeft === 'number') ? elem.scrollLeft : window.pageXOffset || 0;\r\n\t\t};\r\n\t\t// get element height\r\n\t\t_get.width = function (elem, outer, includeMargin) {\r\n\t\t\treturn _dimension('width', elem, outer, includeMargin);\r\n\t\t};\r\n\t\t// get element width\r\n\t\t_get.height = function (elem, outer, includeMargin) {\r\n\t\t\treturn _dimension('height', elem, outer, includeMargin);\r\n\t\t};\r\n\r\n\t\t// get element position (optionally relative to viewport)\r\n\t\t_get.offset = function (elem, relativeToViewport) {\r\n\t\t\tvar offset = {\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tleft: 0\r\n\t\t\t};\r\n\t\t\tif (elem && elem.getBoundingClientRect) { // check if available\r\n\t\t\t\tvar rect = elem.getBoundingClientRect();\r\n\t\t\t\toffset.top = rect.top;\r\n\t\t\t\toffset.left = rect.left;\r\n\t\t\t\tif (!relativeToViewport) { // clientRect is by default relative to viewport...\r\n\t\t\t\t\toffset.top += _get.scrollTop();\r\n\t\t\t\t\toffset.left += _get.scrollLeft();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn offset;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * ------------------------------\r\n\t\t * DOM Element manipulation\r\n\t\t * ------------------------------\r\n\t\t */\r\n\r\n\t\tU.addClass = function (elem, classname) {\r\n\t\t\tif (classname) {\r\n\t\t\t\tif (elem.classList)\r\n\t\t\t\t\telem.classList.add(classname);\r\n\t\t\t\telse\r\n\t\t\t\t\telem.className += ' ' + classname;\r\n\t\t\t}\r\n\t\t};\r\n\t\tU.removeClass = function (elem, classname) {\r\n\t\t\tif (classname) {\r\n\t\t\t\tif (elem.classList)\r\n\t\t\t\t\telem.classList.remove(classname);\r\n\t\t\t\telse\r\n\t\t\t\t\telem.className = elem.className.replace(new RegExp('(^|\\\\b)' + classname.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n\t\t\t}\r\n\t\t};\r\n\t\t// if options is string -> returns css value\r\n\t\t// if options is array -> returns object with css value pairs\r\n\t\t// if options is object -> set new css values\r\n\t\tU.css = function (elem, options) {\r\n\t\t\tif (_type.String(options)) {\r\n\t\t\t\treturn _getComputedStyle(elem)[_camelCase(options)];\r\n\t\t\t} else if (_type.Array(options)) {\r\n\t\t\t\tvar\r\n\t\t\t\t\tobj = {},\r\n\t\t\t\t\tstyle = _getComputedStyle(elem);\r\n\t\t\t\toptions.forEach(function (option, key) {\r\n\t\t\t\t\tobj[option] = style[_camelCase(option)];\r\n\t\t\t\t});\r\n\t\t\t\treturn obj;\r\n\t\t\t} else {\r\n\t\t\t\tfor (var option in options) {\r\n\t\t\t\t\tvar val = options[option];\r\n\t\t\t\t\tif (val == parseFloat(val)) { // assume pixel for seemingly numerical values\r\n\t\t\t\t\t\tval += 'px';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telem.style[_camelCase(option)] = val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn U;\r\n\t}(window || {}));\r\n\r\n\r\n\tScrollMagic.Scene.prototype.addIndicators = function () {\r\n\t\tScrollMagic._util.log(1, '(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin \\'debug.addIndicators\\'. Please make sure to include plugins/debug.addIndicators.js');\r\n\t\treturn this;\r\n\t}\r\n\tScrollMagic.Scene.prototype.removeIndicators = function () {\r\n\t\tScrollMagic._util.log(1, '(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin \\'debug.addIndicators\\'. Please make sure to include plugins/debug.addIndicators.js');\r\n\t\treturn this;\r\n\t}\r\n\tScrollMagic.Scene.prototype.setTween = function () {\r\n\t\tScrollMagic._util.log(1, '(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin \\'animation.gsap\\'. Please make sure to include plugins/animation.gsap.js');\r\n\t\treturn this;\r\n\t}\r\n\tScrollMagic.Scene.prototype.removeTween = function () {\r\n\t\tScrollMagic._util.log(1, '(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin \\'animation.gsap\\'. Please make sure to include plugins/animation.gsap.js');\r\n\t\treturn this;\r\n\t}\r\n\tScrollMagic.Scene.prototype.setVelocity = function () {\r\n\t\tScrollMagic._util.log(1, '(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin \\'animation.velocity\\'. Please make sure to include plugins/animation.velocity.js');\r\n\t\treturn this;\r\n\t}\r\n\tScrollMagic.Scene.prototype.removeVelocity = function () {\r\n\t\tScrollMagic._util.log(1, '(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin \\'animation.velocity\\'. Please make sure to include plugins/animation.velocity.js');\r\n\t\treturn this;\r\n\t}\r\n\r\n\treturn ScrollMagic;\r\n}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * Global variables\n */\nexport const GLOBALS = {\n    mobile: false,\n    H: document.getElementsByTagName(\"html\")[0],\n    breakpoints: {\n        xs: 359,\n        s: 767,\n        m: 999,\n        l: 1299,\n        xl: 2000,\n    },\n};\n\n/* SLIDE UP */\nlet slideUp = (target, duration = 500) => {\n    target.style.transitionProperty = \"height, margin, padding\";\n    target.style.transitionDuration = duration + \"ms\";\n    target.style.boxSizing = \"border-box\";\n    target.style.height = target.offsetHeight + \"px\";\n    target.offsetHeight;\n    target.style.overflow = \"hidden\";\n    target.style.height = 0;\n    target.style.paddingTop = 0;\n    target.style.paddingBottom = 0;\n    target.style.marginTop = 0;\n    target.style.marginBottom = 0;\n    window.setTimeout(() => {\n        target.style.display = \"none\";\n        target.style.removeProperty(\"height\");\n        target.style.removeProperty(\"padding-top\");\n        target.style.removeProperty(\"padding-bottom\");\n        target.style.removeProperty(\"margin-top\");\n        target.style.removeProperty(\"margin-bottom\");\n        target.style.removeProperty(\"overflow\");\n        target.style.removeProperty(\"transition-duration\");\n        target.style.removeProperty(\"transition-property\");\n        //alert(\"!\");\n    }, duration);\n};\n\n/* SLIDE DOWN */\nlet slideDown = (target, duration = 500) => {\n    target.style.removeProperty(\"display\");\n    let display = window.getComputedStyle(target).display;\n    if (display === \"none\") display = \"block\";\n    target.style.display = display;\n    let height = target.offsetHeight;\n    target.style.overflow = \"hidden\";\n    target.style.height = 0;\n    target.style.paddingTop = 0;\n    target.style.paddingBottom = 0;\n    target.style.marginTop = 0;\n    target.style.marginBottom = 0;\n    target.offsetHeight;\n    target.style.boxSizing = \"border-box\";\n    target.style.transitionProperty = \"height, margin, padding\";\n    target.style.transitionDuration = duration + \"ms\";\n    target.style.height = height + \"px\";\n    target.style.removeProperty(\"padding-top\");\n    target.style.removeProperty(\"padding-bottom\");\n    target.style.removeProperty(\"margin-top\");\n    target.style.removeProperty(\"margin-bottom\");\n    window.setTimeout(() => {\n        target.style.removeProperty(\"height\");\n        target.style.removeProperty(\"overflow\");\n        target.style.removeProperty(\"transition-duration\");\n        target.style.removeProperty(\"transition-property\");\n    }, duration);\n};\n\n/* TOOGLE */\nvar slideToggle = (target, duration = 500) => {\n    if (window.getComputedStyle(target).display === \"none\") {\n        return slideDown(target, duration);\n    } else {\n        return slideUp(target, duration);\n    }\n};\nexport { slideUp, slideDown, slideToggle };\n\n","import { GLOBALS } from \"./globals\";\n\n/**\n * Check if the device is mobile or desktop\n */\nif ('ontouchstart' in window) {\n    GLOBALS.mobile = true;\n    GLOBALS.H.classList.add('mobile');\n} else {\n    GLOBALS.H.classList.add('desktop');\n}\n","// Scroll trigger animations\nimport ScrollMagic from 'scrollmagic';\n\nconst smController = new ScrollMagic.Controller();\n\nclass triggerElement {\n    constructor(el) {\n        this.container = el;\n        this.scene = null;\n\n        this.handleScroll();\n        this.handleUpdate();\n    }\n\n    handleScroll() {\n        this.scene = new ScrollMagic.Scene({\n            triggerElement: this.container,\n            triggerHook: 0.75,\n            offset: 0,\n            duration: 0,\n            reverse: false\n        })\n            .addTo(smController)\n            .on('enter', () => {\n                this.container.classList.add('_is-animated');\n            })\n            .on('leave', () => {\n                this.container.classList.remove('_is-animated');\n            });\n    }\n\n    handleUpdate() {\n        window.addEventListener('resize', () => {\n            this.update();\n        });\n    }\n\n    update() {\n        this.scene.refresh();\n    }\n}\n\ndocument.querySelectorAll('.js-trigger-animate').forEach(el => {\n    new triggerElement(el);\n});\n","function generateID() {\n    return Math.random().toString(36).substring(2, 10);\n}\nfunction hasClassInTree(element, className) {\n    function hasClass(e, c) {\n        if (c && e && e.classList && e.classList.contains(c)) {\n            return e;\n        }\n        if (c && e && e.dataset && e.dataset.id && e.dataset.id === className) {\n            return e;\n        }\n        return null;\n    }\n    function parentByClass(e, c) {\n        if (!e || e === document) {\n            return null;\n        }\n        else if (hasClass(e, c)) {\n            return e;\n        }\n        else {\n            return parentByClass(e.parentNode, c);\n        }\n    }\n    return hasClass(element, className) || parentByClass(element, className);\n}\nfunction debounce(func, wait = 50, immediate = false) {\n    let timeout;\n    return function (...args) {\n        const context = self;\n        const later = () => {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        const callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nfunction isEqual(a, b) {\n    return JSON.stringify(a) === JSON.stringify(b);\n}\nfunction kebabCase(str) {\n    const result = str.replace(/[A-Z\\u00C0-\\u00D6\\u00D8-\\u00DE]/g, (match) => '-' + match.toLowerCase());\n    return str[0] === str[0].toUpperCase() ? result.substring(1) : result;\n}\n\nclass Settings {\n    constructor(settings) {\n        this.id = '';\n        this.style = '';\n        this.class = [];\n        this.isMultiple = false;\n        this.isOpen = false;\n        this.isFullOpen = false;\n        this.intervalMove = null;\n        if (!settings) {\n            settings = {};\n        }\n        this.id = 'ss-' + generateID();\n        this.style = settings.style || '';\n        this.class = settings.class || [];\n        this.disabled = settings.disabled !== undefined ? settings.disabled : false;\n        this.alwaysOpen = settings.alwaysOpen !== undefined ? settings.alwaysOpen : false;\n        this.showSearch = settings.showSearch !== undefined ? settings.showSearch : true;\n        this.searchPlaceholder = settings.searchPlaceholder || 'Search';\n        this.searchText = settings.searchText || 'No Results';\n        this.searchingText = settings.searchingText || 'Searching...';\n        this.searchHighlight = settings.searchHighlight !== undefined ? settings.searchHighlight : false;\n        this.closeOnSelect = settings.closeOnSelect !== undefined ? settings.closeOnSelect : true;\n        this.contentLocation = settings.contentLocation || document.body;\n        this.contentPosition = settings.contentPosition || 'absolute';\n        this.openPosition = settings.openPosition || 'auto';\n        this.placeholderText = settings.placeholderText !== undefined ? settings.placeholderText : 'Select Value';\n        this.allowDeselect = settings.allowDeselect !== undefined ? settings.allowDeselect : false;\n        this.hideSelected = settings.hideSelected !== undefined ? settings.hideSelected : false;\n        this.showOptionTooltips = settings.showOptionTooltips !== undefined ? settings.showOptionTooltips : false;\n        this.minSelected = settings.minSelected || 0;\n        this.maxSelected = settings.maxSelected || 1000;\n        this.timeoutDelay = settings.timeoutDelay || 200;\n        this.maxValuesShown = settings.maxValuesShown || 20;\n        this.maxValuesMessage = settings.maxValuesMessage || '{number} selected';\n    }\n}\n\nclass Optgroup {\n    constructor(optgroup) {\n        this.id = !optgroup.id || optgroup.id === '' ? generateID() : optgroup.id;\n        this.label = optgroup.label || '';\n        this.selectAll = optgroup.selectAll === undefined ? false : optgroup.selectAll;\n        this.selectAllText = optgroup.selectAllText || 'Select All';\n        this.closable = optgroup.closable || 'off';\n        this.options = [];\n        if (optgroup.options) {\n            for (const o of optgroup.options) {\n                this.options.push(new Option(o));\n            }\n        }\n    }\n}\nclass Option {\n    constructor(option) {\n        this.id = !option.id || option.id === '' ? generateID() : option.id;\n        this.value = option.value === undefined ? option.text : option.value;\n        this.text = option.text || '';\n        this.html = option.html || '';\n        this.selected = option.selected !== undefined ? option.selected : false;\n        this.display = option.display !== undefined ? option.display : true;\n        this.disabled = option.disabled !== undefined ? option.disabled : false;\n        this.mandatory = option.mandatory !== undefined ? option.mandatory : false;\n        this.placeholder = option.placeholder !== undefined ? option.placeholder : false;\n        this.class = option.class || '';\n        this.style = option.style || '';\n        this.data = option.data || {};\n    }\n}\nclass Store {\n    constructor(type, data) {\n        this.selectType = 'single';\n        this.data = [];\n        this.selectType = type;\n        this.setData(data);\n    }\n    validateDataArray(data) {\n        if (!Array.isArray(data)) {\n            return new Error('Data must be an array');\n        }\n        for (let dataObj of data) {\n            if (dataObj instanceof Optgroup || 'label' in dataObj) {\n                if (!('label' in dataObj)) {\n                    return new Error('Optgroup must have a label');\n                }\n                if ('options' in dataObj && dataObj.options) {\n                    for (let option of dataObj.options) {\n                        return this.validateOption(option);\n                    }\n                }\n            }\n            else if (dataObj instanceof Option || 'text' in dataObj) {\n                return this.validateOption(dataObj);\n            }\n            else {\n                return new Error('Data object must be a valid optgroup or option');\n            }\n        }\n        return null;\n    }\n    validateOption(option) {\n        if (!('text' in option)) {\n            return new Error('Option must have a text');\n        }\n        return null;\n    }\n    partialToFullData(data) {\n        let dataFinal = [];\n        data.forEach((dataObj) => {\n            if (dataObj instanceof Optgroup || 'label' in dataObj) {\n                let optOptions = [];\n                if ('options' in dataObj && dataObj.options) {\n                    dataObj.options.forEach((option) => {\n                        optOptions.push(new Option(option));\n                    });\n                }\n                if (optOptions.length > 0) {\n                    dataFinal.push(new Optgroup(dataObj));\n                }\n            }\n            if (dataObj instanceof Option || 'text' in dataObj) {\n                dataFinal.push(new Option(dataObj));\n            }\n        });\n        return dataFinal;\n    }\n    setData(data) {\n        this.data = this.partialToFullData(data);\n        if (this.selectType === 'single') {\n            this.setSelectedBy('value', this.getSelected());\n        }\n    }\n    getData() {\n        return this.filter(null, true);\n    }\n    getDataOptions() {\n        return this.filter(null, false);\n    }\n    addOption(option) {\n        this.setData(this.getData().concat(new Option(option)));\n    }\n    setSelectedBy(selectedType, selectedValues) {\n        let firstOption = null;\n        let hasSelected = false;\n        for (let dataObj of this.data) {\n            if (dataObj instanceof Optgroup) {\n                for (let option of dataObj.options) {\n                    if (!firstOption) {\n                        firstOption = option;\n                    }\n                    option.selected = hasSelected ? false : selectedValues.includes(option[selectedType]);\n                    if (option.selected && this.selectType === 'single') {\n                        hasSelected = true;\n                    }\n                }\n            }\n            if (dataObj instanceof Option) {\n                if (!firstOption) {\n                    firstOption = dataObj;\n                }\n                dataObj.selected = hasSelected ? false : selectedValues.includes(dataObj[selectedType]);\n                if (dataObj.selected && this.selectType === 'single') {\n                    hasSelected = true;\n                }\n            }\n        }\n        if (this.selectType === 'single' && firstOption && !hasSelected) {\n            firstOption.selected = true;\n        }\n    }\n    getSelected() {\n        let selectedOptions = this.getSelectedOptions();\n        let selectedValues = [];\n        selectedOptions.forEach((option) => {\n            selectedValues.push(option.value);\n        });\n        return selectedValues;\n    }\n    getSelectedOptions() {\n        return this.filter((opt) => {\n            return opt.selected;\n        }, false);\n    }\n    getSelectedIDs() {\n        let selectedOptions = this.getSelectedOptions();\n        let selectedIDs = [];\n        selectedOptions.forEach((op) => {\n            selectedIDs.push(op.id);\n        });\n        return selectedIDs;\n    }\n    getOptgroupByID(id) {\n        for (let dataObj of this.data) {\n            if (dataObj instanceof Optgroup && dataObj.id === id) {\n                return dataObj;\n            }\n        }\n        return null;\n    }\n    getOptionByID(id) {\n        let options = this.filter((opt) => {\n            return opt.id === id;\n        }, false);\n        return options.length ? options[0] : null;\n    }\n    search(search, searchFilter) {\n        search = search.trim();\n        if (search === '') {\n            return this.getData();\n        }\n        return this.filter((opt) => {\n            return searchFilter(opt, search);\n        }, true);\n    }\n    filter(filter, includeOptgroup) {\n        const dataSearch = [];\n        this.data.forEach((dataObj) => {\n            if (dataObj instanceof Optgroup) {\n                let optOptions = [];\n                dataObj.options.forEach((option) => {\n                    if (!filter || filter(option)) {\n                        if (!includeOptgroup) {\n                            dataSearch.push(new Option(option));\n                        }\n                        else {\n                            optOptions.push(new Option(option));\n                        }\n                    }\n                });\n                if (optOptions.length > 0) {\n                    let optgroup = new Optgroup(dataObj);\n                    optgroup.options = optOptions;\n                    dataSearch.push(optgroup);\n                }\n            }\n            if (dataObj instanceof Option) {\n                if (!filter || filter(dataObj)) {\n                    dataSearch.push(new Option(dataObj));\n                }\n            }\n        });\n        return dataSearch;\n    }\n    getSelectType() {\n        return this.selectType;\n    }\n}\n\nclass Render {\n    constructor(settings, store, callbacks) {\n        this.classes = {\n            main: 'ss-main',\n            placeholder: 'ss-placeholder',\n            values: 'ss-values',\n            single: 'ss-single',\n            max: 'ss-max',\n            value: 'ss-value',\n            valueText: 'ss-value-text',\n            valueDelete: 'ss-value-delete',\n            valueOut: 'ss-value-out',\n            deselect: 'ss-deselect',\n            deselectPath: 'M10,10 L90,90 M10,90 L90,10',\n            arrow: 'ss-arrow',\n            arrowClose: 'M10,30 L50,70 L90,30',\n            arrowOpen: 'M10,70 L50,30 L90,70',\n            content: 'ss-content',\n            openAbove: 'ss-open-above',\n            openBelow: 'ss-open-below',\n            search: 'ss-search',\n            searchHighlighter: 'ss-search-highlight',\n            searching: 'ss-searching',\n            addable: 'ss-addable',\n            addablePath: 'M50,10 L50,90 M10,50 L90,50',\n            list: 'ss-list',\n            optgroup: 'ss-optgroup',\n            optgroupLabel: 'ss-optgroup-label',\n            optgroupLabelText: 'ss-optgroup-label-text',\n            optgroupActions: 'ss-optgroup-actions',\n            optgroupSelectAll: 'ss-selectall',\n            optgroupSelectAllBox: 'M60,10 L10,10 L10,90 L90,90 L90,50',\n            optgroupSelectAllCheck: 'M30,45 L50,70 L90,10',\n            optgroupClosable: 'ss-closable',\n            option: 'ss-option',\n            optionDelete: 'M10,10 L90,90 M10,90 L90,10',\n            highlighted: 'ss-highlighted',\n            open: 'ss-open',\n            close: 'ss-close',\n            selected: 'ss-selected',\n            error: 'ss-error',\n            disabled: 'ss-disabled',\n            hide: 'ss-hide',\n        };\n        this.store = store;\n        this.settings = settings;\n        this.callbacks = callbacks;\n        this.main = this.mainDiv();\n        this.content = this.contentDiv();\n        this.updateClassStyles();\n        this.updateAriaAttributes();\n        this.settings.contentLocation.appendChild(this.content.main);\n    }\n    enable() {\n        this.main.main.classList.remove(this.classes.disabled);\n        this.content.search.input.disabled = false;\n    }\n    disable() {\n        this.main.main.classList.add(this.classes.disabled);\n        this.content.search.input.disabled = true;\n    }\n    open() {\n        this.main.arrow.path.setAttribute('d', this.classes.arrowOpen);\n        this.main.main.classList.add(this.settings.openPosition === 'up' ? this.classes.openAbove : this.classes.openBelow);\n        this.main.main.setAttribute('aria-expanded', 'true');\n        this.moveContent();\n        const selectedOptions = this.store.getSelectedOptions();\n        if (selectedOptions.length) {\n            const selectedId = selectedOptions[selectedOptions.length - 1].id;\n            const selectedOption = this.content.list.querySelector('[data-id=\"' + selectedId + '\"]');\n            if (selectedOption) {\n                this.ensureElementInView(this.content.list, selectedOption);\n            }\n        }\n    }\n    close() {\n        this.main.main.classList.remove(this.classes.openAbove);\n        this.main.main.classList.remove(this.classes.openBelow);\n        this.main.main.setAttribute('aria-expanded', 'false');\n        this.content.main.classList.remove(this.classes.openAbove);\n        this.content.main.classList.remove(this.classes.openBelow);\n        this.main.arrow.path.setAttribute('d', this.classes.arrowClose);\n    }\n    updateClassStyles() {\n        this.main.main.className = '';\n        this.main.main.removeAttribute('style');\n        this.content.main.className = '';\n        this.content.main.removeAttribute('style');\n        this.main.main.classList.add(this.classes.main);\n        this.content.main.classList.add(this.classes.content);\n        if (this.settings.style !== '') {\n            this.main.main.style.cssText = this.settings.style;\n            this.content.main.style.cssText = this.settings.style;\n        }\n        if (this.settings.class.length) {\n            for (const c of this.settings.class) {\n                if (c.trim() !== '') {\n                    this.main.main.classList.add(c.trim());\n                    this.content.main.classList.add(c.trim());\n                }\n            }\n        }\n        if (this.settings.contentPosition === 'relative') {\n            this.content.main.classList.add('ss-' + this.settings.contentPosition);\n        }\n    }\n    updateAriaAttributes() {\n        this.main.main.role = 'combobox';\n        this.main.main.setAttribute('aria-haspopup', 'listbox');\n        this.main.main.setAttribute('aria-controls', this.content.main.id);\n        this.main.main.setAttribute('aria-expanded', 'false');\n        this.content.main.setAttribute('role', 'listbox');\n    }\n    mainDiv() {\n        var _a;\n        const main = document.createElement('div');\n        main.dataset.id = this.settings.id;\n        main.id = this.settings.id;\n        main.tabIndex = 0;\n        main.onkeydown = (e) => {\n            switch (e.key) {\n                case 'ArrowUp':\n                case 'ArrowDown':\n                    this.callbacks.open();\n                    e.key === 'ArrowDown' ? this.highlight('down') : this.highlight('up');\n                    return false;\n                case 'Tab':\n                    this.callbacks.close();\n                    return true;\n                case 'Enter':\n                case ' ':\n                    this.callbacks.open();\n                    const highlighted = this.content.list.querySelector('.' + this.classes.highlighted);\n                    if (highlighted) {\n                        highlighted.click();\n                    }\n                    return false;\n                case 'Escape':\n                    this.callbacks.close();\n                    return false;\n            }\n        };\n        main.onclick = (e) => {\n            if (this.settings.disabled) {\n                return;\n            }\n            this.settings.isOpen ? this.callbacks.close() : this.callbacks.open();\n        };\n        const values = document.createElement('div');\n        values.classList.add(this.classes.values);\n        main.appendChild(values);\n        const deselect = document.createElement('div');\n        deselect.classList.add(this.classes.deselect);\n        const selectedOptions = (_a = this.store) === null || _a === void 0 ? void 0 : _a.getSelectedOptions();\n        if (!this.settings.allowDeselect || (this.settings.isMultiple && selectedOptions && selectedOptions.length <= 0)) {\n            deselect.classList.add(this.classes.hide);\n        }\n        else {\n            deselect.classList.remove(this.classes.hide);\n        }\n        deselect.onclick = (e) => {\n            e.stopPropagation();\n            if (this.settings.disabled) {\n                return;\n            }\n            let shouldDelete = true;\n            const before = this.store.getSelectedOptions();\n            const after = [];\n            if (this.callbacks.beforeChange) {\n                shouldDelete = this.callbacks.beforeChange(after, before) === true;\n            }\n            if (shouldDelete) {\n                if (this.settings.isMultiple) {\n                    this.callbacks.setSelected([], false);\n                    this.updateDeselectAll();\n                }\n                else {\n                    this.callbacks.setSelected([''], false);\n                }\n                if (this.settings.closeOnSelect) {\n                    this.callbacks.close();\n                }\n                if (this.callbacks.afterChange) {\n                    this.callbacks.afterChange(after);\n                }\n            }\n        };\n        const deselectSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        deselectSvg.setAttribute('viewBox', '0 0 100 100');\n        const deselectPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        deselectPath.setAttribute('d', this.classes.deselectPath);\n        deselectSvg.appendChild(deselectPath);\n        deselect.appendChild(deselectSvg);\n        main.appendChild(deselect);\n        const arrow = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        arrow.classList.add(this.classes.arrow);\n        arrow.setAttribute('viewBox', '0 0 100 100');\n        const arrowPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        arrowPath.setAttribute('d', this.classes.arrowClose);\n        if (this.settings.alwaysOpen) {\n            arrow.classList.add(this.classes.hide);\n        }\n        arrow.appendChild(arrowPath);\n        main.appendChild(arrow);\n        return {\n            main: main,\n            values: values,\n            deselect: {\n                main: deselect,\n                svg: deselectSvg,\n                path: deselectPath,\n            },\n            arrow: {\n                main: arrow,\n                path: arrowPath,\n            },\n        };\n    }\n    mainFocus(eventType) {\n        if (eventType !== 'click') {\n            this.main.main.focus({ preventScroll: true });\n        }\n    }\n    placeholder() {\n        const placeholderOption = this.store.filter((o) => o.placeholder, false);\n        let placeholderText = this.settings.placeholderText;\n        if (placeholderOption.length) {\n            if (placeholderOption[0].html !== '') {\n                placeholderText = placeholderOption[0].html;\n            }\n            else if (placeholderOption[0].text !== '') {\n                placeholderText = placeholderOption[0].text;\n            }\n        }\n        const placeholder = document.createElement('div');\n        placeholder.classList.add(this.classes.placeholder);\n        placeholder.innerHTML = placeholderText;\n        return placeholder;\n    }\n    renderValues() {\n        if (!this.settings.isMultiple) {\n            this.renderSingleValue();\n            return;\n        }\n        this.renderMultipleValues();\n    }\n    renderSingleValue() {\n        const selected = this.store.filter((o) => {\n            return o.selected && !o.placeholder;\n        }, false);\n        const selectedSingle = selected.length > 0 ? selected[0] : null;\n        if (!selectedSingle) {\n            this.main.values.innerHTML = this.placeholder().outerHTML;\n        }\n        else {\n            const singleValue = document.createElement('div');\n            singleValue.classList.add(this.classes.single);\n            if (selectedSingle.html) {\n                singleValue.innerHTML = selectedSingle.html;\n            }\n            else {\n                singleValue.innerText = selectedSingle.text;\n            }\n            this.main.values.innerHTML = singleValue.outerHTML;\n        }\n        if (!this.settings.allowDeselect || !selected.length) {\n            this.main.deselect.main.classList.add(this.classes.hide);\n        }\n        else {\n            this.main.deselect.main.classList.remove(this.classes.hide);\n        }\n    }\n    renderMultipleValues() {\n        let currentNodes = this.main.values.childNodes;\n        let selectedOptions = this.store.filter((opt) => {\n            return opt.selected && opt.display;\n        }, false);\n        if (selectedOptions.length === 0) {\n            this.main.values.innerHTML = this.placeholder().outerHTML;\n            return;\n        }\n        else {\n            const placeholder = this.main.values.querySelector('.' + this.classes.placeholder);\n            if (placeholder) {\n                placeholder.remove();\n            }\n        }\n        if (selectedOptions.length > this.settings.maxValuesShown) {\n            const singleValue = document.createElement('div');\n            singleValue.classList.add(this.classes.max);\n            singleValue.textContent = this.settings.maxValuesMessage.replace('{number}', selectedOptions.length.toString());\n            this.main.values.innerHTML = singleValue.outerHTML;\n            return;\n        }\n        else {\n            const maxValuesMessage = this.main.values.querySelector('.' + this.classes.max);\n            if (maxValuesMessage) {\n                maxValuesMessage.remove();\n            }\n        }\n        let removeNodes = [];\n        for (let i = 0; i < currentNodes.length; i++) {\n            const node = currentNodes[i];\n            const id = node.getAttribute('data-id');\n            if (id) {\n                const found = selectedOptions.filter((opt) => {\n                    return opt.id === id;\n                }, false);\n                if (!found.length) {\n                    removeNodes.push(node);\n                }\n            }\n        }\n        for (const n of removeNodes) {\n            n.classList.add(this.classes.valueOut);\n            setTimeout(() => {\n                if (this.main.values.hasChildNodes() && this.main.values.contains(n)) {\n                    this.main.values.removeChild(n);\n                }\n            }, 100);\n        }\n        currentNodes = this.main.values.childNodes;\n        for (let d = 0; d < selectedOptions.length; d++) {\n            let shouldAdd = true;\n            for (let i = 0; i < currentNodes.length; i++) {\n                if (selectedOptions[d].id === String(currentNodes[i].dataset.id)) {\n                    shouldAdd = false;\n                }\n            }\n            if (shouldAdd) {\n                if (currentNodes.length === 0) {\n                    this.main.values.appendChild(this.multipleValue(selectedOptions[d]));\n                }\n                else if (d === 0) {\n                    this.main.values.insertBefore(this.multipleValue(selectedOptions[d]), currentNodes[d]);\n                }\n                else {\n                    currentNodes[d - 1].insertAdjacentElement('afterend', this.multipleValue(selectedOptions[d]));\n                }\n            }\n        }\n        this.updateDeselectAll();\n    }\n    multipleValue(option) {\n        const value = document.createElement('div');\n        value.classList.add(this.classes.value);\n        value.dataset.id = option.id;\n        const text = document.createElement('div');\n        text.classList.add(this.classes.valueText);\n        text.innerText = option.text;\n        value.appendChild(text);\n        if (!option.mandatory) {\n            const deleteDiv = document.createElement('div');\n            deleteDiv.classList.add(this.classes.valueDelete);\n            deleteDiv.onclick = (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                if (this.settings.disabled) {\n                    return;\n                }\n                let shouldDelete = true;\n                const before = this.store.getSelectedOptions();\n                const after = before.filter((o) => {\n                    return o.selected && o.id !== option.id;\n                }, true);\n                if (this.settings.minSelected && after.length < this.settings.minSelected) {\n                    return;\n                }\n                if (this.callbacks.beforeChange) {\n                    shouldDelete = this.callbacks.beforeChange(after, before) === true;\n                }\n                if (shouldDelete) {\n                    let selectedValues = [];\n                    for (const o of after) {\n                        if (o instanceof Optgroup) {\n                            for (const c of o.options) {\n                                selectedValues.push(c.value);\n                            }\n                        }\n                        if (o instanceof Option) {\n                            selectedValues.push(o.value);\n                        }\n                    }\n                    this.callbacks.setSelected(selectedValues, false);\n                    if (this.settings.closeOnSelect) {\n                        this.callbacks.close();\n                    }\n                    if (this.callbacks.afterChange) {\n                        this.callbacks.afterChange(after);\n                    }\n                    this.updateDeselectAll();\n                }\n            };\n            const deleteSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            deleteSvg.setAttribute('viewBox', '0 0 100 100');\n            const deletePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n            deletePath.setAttribute('d', this.classes.optionDelete);\n            deleteSvg.appendChild(deletePath);\n            deleteDiv.appendChild(deleteSvg);\n            value.appendChild(deleteDiv);\n        }\n        return value;\n    }\n    contentDiv() {\n        const main = document.createElement('div');\n        main.dataset.id = this.settings.id;\n        main.id = this.settings.id;\n        const search = this.searchDiv();\n        main.appendChild(search.main);\n        const list = this.listDiv();\n        main.appendChild(list);\n        return {\n            main: main,\n            search: search,\n            list: list,\n        };\n    }\n    moveContent() {\n        if (this.settings.contentPosition === 'relative') {\n            this.moveContentBelow();\n            return;\n        }\n        if (this.settings.openPosition === 'down') {\n            this.moveContentBelow();\n            return;\n        }\n        else if (this.settings.openPosition === 'up') {\n            this.moveContentAbove();\n            return;\n        }\n        if (this.putContent() === 'up') {\n            this.moveContentAbove();\n        }\n        else {\n            this.moveContentBelow();\n        }\n    }\n    searchDiv() {\n        const main = document.createElement('div');\n        const input = document.createElement('input');\n        const addable = document.createElement('div');\n        main.classList.add(this.classes.search);\n        const searchReturn = {\n            main,\n            input,\n        };\n        if (!this.settings.showSearch) {\n            main.classList.add(this.classes.hide);\n            input.readOnly = true;\n        }\n        input.type = 'search';\n        input.placeholder = this.settings.searchPlaceholder;\n        input.tabIndex = -1;\n        input.setAttribute('aria-label', this.settings.searchPlaceholder);\n        input.setAttribute('autocapitalize', 'off');\n        input.setAttribute('autocomplete', 'off');\n        input.setAttribute('autocorrect', 'off');\n        input.oninput = debounce((e) => {\n            this.callbacks.search(e.target.value);\n        }, 100);\n        input.onkeydown = (e) => {\n            switch (e.key) {\n                case 'ArrowUp':\n                case 'ArrowDown':\n                    e.key === 'ArrowDown' ? this.highlight('down') : this.highlight('up');\n                    return false;\n                case 'Tab':\n                    this.callbacks.close();\n                    return true;\n                case 'Escape':\n                    this.callbacks.close();\n                    return false;\n                case 'Enter':\n                case ' ':\n                    if (this.callbacks.addable && e.ctrlKey) {\n                        addable.click();\n                        return false;\n                    }\n                    else {\n                        const highlighted = this.content.list.querySelector('.' + this.classes.highlighted);\n                        if (highlighted) {\n                            highlighted.click();\n                            return false;\n                        }\n                    }\n                    return true;\n            }\n        };\n        main.appendChild(input);\n        if (this.callbacks.addable) {\n            addable.classList.add(this.classes.addable);\n            const plus = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            plus.setAttribute('viewBox', '0 0 100 100');\n            const plusPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n            plusPath.setAttribute('d', this.classes.addablePath);\n            plus.appendChild(plusPath);\n            addable.appendChild(plus);\n            addable.onclick = (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                if (!this.callbacks.addable) {\n                    return;\n                }\n                const inputValue = this.content.search.input.value.trim();\n                if (inputValue === '') {\n                    this.content.search.input.focus();\n                    return;\n                }\n                const runFinish = (oo) => {\n                    let newOption = new Option(oo);\n                    this.callbacks.addOption(newOption);\n                    if (this.settings.isMultiple) {\n                        let values = this.store.getSelected();\n                        values.push(newOption.value);\n                        this.callbacks.setSelected(values, true);\n                    }\n                    else {\n                        this.callbacks.setSelected([newOption.value], true);\n                    }\n                    this.callbacks.search('');\n                    if (this.settings.closeOnSelect) {\n                        setTimeout(() => {\n                            this.callbacks.close();\n                        }, 100);\n                    }\n                };\n                const addableValue = this.callbacks.addable(inputValue);\n                if (addableValue === false || addableValue === undefined || addableValue === null) {\n                    return;\n                }\n                if (addableValue instanceof Promise) {\n                    addableValue.then((value) => {\n                        if (typeof value === 'string') {\n                            runFinish({\n                                text: value,\n                                value: value,\n                            });\n                        }\n                        else {\n                            runFinish(value);\n                        }\n                    });\n                }\n                else if (typeof addableValue === 'string') {\n                    runFinish({\n                        text: addableValue,\n                        value: addableValue,\n                    });\n                }\n                else {\n                    runFinish(addableValue);\n                }\n                return;\n            };\n            main.appendChild(addable);\n            searchReturn.addable = {\n                main: addable,\n                svg: plus,\n                path: plusPath,\n            };\n        }\n        return searchReturn;\n    }\n    searchFocus() {\n        this.content.search.input.focus();\n    }\n    getOptions(notPlaceholder = false, notDisabled = false, notHidden = false) {\n        let query = '.' + this.classes.option;\n        if (notPlaceholder) {\n            query += ':not(.' + this.classes.placeholder + ')';\n        }\n        if (notDisabled) {\n            query += ':not(.' + this.classes.disabled + ')';\n        }\n        if (notHidden) {\n            query += ':not(.' + this.classes.hide + ')';\n        }\n        return Array.from(this.content.list.querySelectorAll(query));\n    }\n    highlight(dir) {\n        const options = this.getOptions(true, true, true);\n        if (options.length === 0) {\n            return;\n        }\n        if (options.length === 1) {\n            if (!options[0].classList.contains(this.classes.highlighted)) {\n                options[0].classList.add(this.classes.highlighted);\n                return;\n            }\n        }\n        for (let i = 0; i < options.length; i++) {\n            if (options[i].classList.contains(this.classes.highlighted)) {\n                const prevOption = options[i];\n                prevOption.classList.remove(this.classes.highlighted);\n                const prevParent = prevOption.parentElement;\n                if (prevParent && prevParent.classList.contains(this.classes.open)) {\n                    const optgroupLabel = prevParent.querySelector('.' + this.classes.optgroupLabel);\n                    if (optgroupLabel) {\n                        optgroupLabel.click();\n                    }\n                }\n                let selectOption = options[dir === 'down' ? (i + 1 < options.length ? i + 1 : 0) : i - 1 >= 0 ? i - 1 : options.length - 1];\n                selectOption.classList.add(this.classes.highlighted);\n                this.ensureElementInView(this.content.list, selectOption);\n                const selectParent = selectOption.parentElement;\n                if (selectParent && selectParent.classList.contains(this.classes.close)) {\n                    const optgroupLabel = selectParent.querySelector('.' + this.classes.optgroupLabel);\n                    if (optgroupLabel) {\n                        optgroupLabel.click();\n                    }\n                }\n                return;\n            }\n        }\n        options[dir === 'down' ? 0 : options.length - 1].classList.add(this.classes.highlighted);\n        this.ensureElementInView(this.content.list, options[dir === 'down' ? 0 : options.length - 1]);\n    }\n    listDiv() {\n        const options = document.createElement('div');\n        options.classList.add(this.classes.list);\n        return options;\n    }\n    renderError(error) {\n        this.content.list.innerHTML = '';\n        const errorDiv = document.createElement('div');\n        errorDiv.classList.add(this.classes.error);\n        errorDiv.textContent = error;\n        this.content.list.appendChild(errorDiv);\n    }\n    renderSearching() {\n        this.content.list.innerHTML = '';\n        const searchingDiv = document.createElement('div');\n        searchingDiv.classList.add(this.classes.searching);\n        searchingDiv.textContent = this.settings.searchingText;\n        this.content.list.appendChild(searchingDiv);\n    }\n    renderOptions(data) {\n        this.content.list.innerHTML = '';\n        if (data.length === 0) {\n            const noResults = document.createElement('div');\n            noResults.classList.add(this.classes.search);\n            noResults.innerHTML = this.settings.searchText;\n            this.content.list.appendChild(noResults);\n            return;\n        }\n        for (const d of data) {\n            if (d instanceof Optgroup) {\n                const optgroupEl = document.createElement('div');\n                optgroupEl.classList.add(this.classes.optgroup);\n                const optgroupLabel = document.createElement('div');\n                optgroupLabel.classList.add(this.classes.optgroupLabel);\n                optgroupEl.appendChild(optgroupLabel);\n                const optgroupLabelText = document.createElement('div');\n                optgroupLabelText.classList.add(this.classes.optgroupLabelText);\n                optgroupLabelText.textContent = d.label;\n                optgroupLabel.appendChild(optgroupLabelText);\n                const optgroupActions = document.createElement('div');\n                optgroupActions.classList.add(this.classes.optgroupActions);\n                optgroupLabel.appendChild(optgroupActions);\n                if (this.settings.isMultiple && d.selectAll) {\n                    const selectAll = document.createElement('div');\n                    selectAll.classList.add(this.classes.optgroupSelectAll);\n                    let allSelected = true;\n                    for (const o of d.options) {\n                        if (!o.selected) {\n                            allSelected = false;\n                            break;\n                        }\n                    }\n                    if (allSelected) {\n                        selectAll.classList.add(this.classes.selected);\n                    }\n                    const selectAllText = document.createElement('span');\n                    selectAllText.textContent = d.selectAllText;\n                    selectAll.appendChild(selectAllText);\n                    const selectAllSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n                    selectAllSvg.setAttribute('viewBox', '0 0 100 100');\n                    selectAll.appendChild(selectAllSvg);\n                    const selectAllBox = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n                    selectAllBox.setAttribute('d', this.classes.optgroupSelectAllBox);\n                    selectAllSvg.appendChild(selectAllBox);\n                    const selectAllCheck = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n                    selectAllCheck.setAttribute('d', this.classes.optgroupSelectAllCheck);\n                    selectAllSvg.appendChild(selectAllCheck);\n                    selectAll.addEventListener('click', (e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        const currentSelected = this.store.getSelected();\n                        if (allSelected) {\n                            const newSelected = currentSelected.filter((s) => {\n                                for (const o of d.options) {\n                                    if (s === o.value) {\n                                        return false;\n                                    }\n                                }\n                                return true;\n                            });\n                            this.callbacks.setSelected(newSelected, true);\n                            return;\n                        }\n                        else {\n                            const newSelected = currentSelected.concat(d.options.map((o) => o.value));\n                            for (const o of d.options) {\n                                if (!this.store.getOptionByID(o.id)) {\n                                    this.callbacks.addOption(o);\n                                }\n                            }\n                            this.callbacks.setSelected(newSelected, true);\n                            return;\n                        }\n                    });\n                    optgroupActions.appendChild(selectAll);\n                }\n                if (d.closable !== 'off') {\n                    const optgroupClosable = document.createElement('div');\n                    optgroupClosable.classList.add(this.classes.optgroupClosable);\n                    const optgroupClosableSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n                    optgroupClosableSvg.setAttribute('viewBox', '0 0 100 100');\n                    optgroupClosableSvg.classList.add(this.classes.arrow);\n                    optgroupClosable.appendChild(optgroupClosableSvg);\n                    const optgroupClosableArrow = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n                    optgroupClosableSvg.appendChild(optgroupClosableArrow);\n                    if (d.options.some((o) => o.selected) || this.content.search.input.value.trim() !== '') {\n                        optgroupClosable.classList.add(this.classes.open);\n                        optgroupClosableArrow.setAttribute('d', this.classes.arrowOpen);\n                    }\n                    else if (d.closable === 'open') {\n                        optgroupEl.classList.add(this.classes.open);\n                        optgroupClosableArrow.setAttribute('d', this.classes.arrowOpen);\n                    }\n                    else if (d.closable === 'close') {\n                        optgroupEl.classList.add(this.classes.close);\n                        optgroupClosableArrow.setAttribute('d', this.classes.arrowClose);\n                    }\n                    optgroupLabel.addEventListener('click', (e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        if (optgroupEl.classList.contains(this.classes.close)) {\n                            optgroupEl.classList.remove(this.classes.close);\n                            optgroupEl.classList.add(this.classes.open);\n                            optgroupClosableArrow.setAttribute('d', this.classes.arrowOpen);\n                        }\n                        else {\n                            optgroupEl.classList.remove(this.classes.open);\n                            optgroupEl.classList.add(this.classes.close);\n                            optgroupClosableArrow.setAttribute('d', this.classes.arrowClose);\n                        }\n                    });\n                    optgroupActions.appendChild(optgroupClosable);\n                }\n                optgroupEl.appendChild(optgroupLabel);\n                for (const o of d.options) {\n                    optgroupEl.appendChild(this.option(o));\n                }\n                this.content.list.appendChild(optgroupEl);\n            }\n            if (d instanceof Option) {\n                this.content.list.appendChild(this.option(d));\n            }\n        }\n    }\n    option(option) {\n        if (option.placeholder) {\n            const placeholder = document.createElement('div');\n            placeholder.classList.add(this.classes.option);\n            placeholder.classList.add(this.classes.hide);\n            return placeholder;\n        }\n        const optionEl = document.createElement('div');\n        optionEl.dataset.id = option.id;\n        optionEl.id = option.id;\n        optionEl.classList.add(this.classes.option);\n        optionEl.setAttribute('role', 'option');\n        if (option.class) {\n            option.class.split(' ').forEach((dataClass) => {\n                optionEl.classList.add(dataClass);\n            });\n        }\n        if (option.style) {\n            optionEl.style.cssText = option.style;\n        }\n        if (this.settings.searchHighlight && this.content.search.input.value.trim() !== '') {\n            optionEl.innerHTML = this.highlightText(option.html !== '' ? option.html : option.text, this.content.search.input.value, this.classes.searchHighlighter);\n        }\n        else if (option.html !== '') {\n            optionEl.innerHTML = option.html;\n        }\n        else {\n            optionEl.textContent = option.text;\n        }\n        if (this.settings.showOptionTooltips && optionEl.textContent) {\n            optionEl.setAttribute('title', optionEl.textContent);\n        }\n        if (!option.display) {\n            optionEl.classList.add(this.classes.hide);\n        }\n        if (option.disabled) {\n            optionEl.classList.add(this.classes.disabled);\n        }\n        if (option.selected && this.settings.hideSelected) {\n            optionEl.classList.add(this.classes.hide);\n        }\n        if (option.selected) {\n            optionEl.classList.add(this.classes.selected);\n            optionEl.setAttribute('aria-selected', 'true');\n            this.main.main.setAttribute('aria-activedescendant', optionEl.id);\n        }\n        else {\n            optionEl.classList.remove(this.classes.selected);\n            optionEl.setAttribute('aria-selected', 'false');\n        }\n        optionEl.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            const selectedOptions = this.store.getSelected();\n            const element = e.currentTarget;\n            const elementID = String(element.dataset.id);\n            if (option.disabled || (option.selected && !this.settings.allowDeselect)) {\n                return;\n            }\n            if ((this.settings.isMultiple && this.settings.maxSelected <= selectedOptions.length && !option.selected) ||\n                (this.settings.isMultiple && this.settings.minSelected >= selectedOptions.length && option.selected)) {\n                return;\n            }\n            let shouldUpdate = false;\n            const before = this.store.getSelectedOptions();\n            let after = [];\n            if (this.settings.isMultiple) {\n                if (option.selected) {\n                    after = before.filter((o) => o.id !== elementID);\n                }\n                else {\n                    after = before.concat(option);\n                }\n            }\n            if (!this.settings.isMultiple) {\n                if (option.selected) {\n                    after = [];\n                }\n                else {\n                    after = [option];\n                }\n            }\n            if (!this.callbacks.beforeChange) {\n                shouldUpdate = true;\n            }\n            if (this.callbacks.beforeChange) {\n                if (this.callbacks.beforeChange(after, before) === false) {\n                    shouldUpdate = false;\n                }\n                else {\n                    shouldUpdate = true;\n                }\n            }\n            if (shouldUpdate) {\n                if (!this.store.getOptionByID(elementID)) {\n                    this.callbacks.addOption(option);\n                }\n                this.callbacks.setSelected(after.map((o) => o.value), false);\n                if (this.settings.closeOnSelect) {\n                    this.callbacks.close();\n                }\n                if (this.callbacks.afterChange) {\n                    this.callbacks.afterChange(after);\n                }\n            }\n        });\n        return optionEl;\n    }\n    destroy() {\n        this.main.main.remove();\n        this.content.main.remove();\n    }\n    highlightText(str, search, className) {\n        let completedString = str;\n        const regex = new RegExp('(' + search.trim() + ')(?![^<]*>[^<>]*</)', 'i');\n        if (!str.match(regex)) {\n            return str;\n        }\n        const matchStartPosition = str.match(regex).index;\n        const matchEndPosition = matchStartPosition + str.match(regex)[0].toString().length;\n        const originalTextFoundByRegex = str.substring(matchStartPosition, matchEndPosition);\n        completedString = completedString.replace(regex, `<mark class=\"${className}\">${originalTextFoundByRegex}</mark>`);\n        return completedString;\n    }\n    moveContentAbove() {\n        const mainHeight = this.main.main.offsetHeight;\n        const contentHeight = this.content.main.offsetHeight;\n        this.main.main.classList.remove(this.classes.openBelow);\n        this.main.main.classList.add(this.classes.openAbove);\n        this.content.main.classList.remove(this.classes.openBelow);\n        this.content.main.classList.add(this.classes.openAbove);\n        const containerRect = this.main.main.getBoundingClientRect();\n        this.content.main.style.margin = '-' + (mainHeight + contentHeight - 1) + 'px 0px 0px 0px';\n        this.content.main.style.top = containerRect.top + containerRect.height + window.scrollY + 'px';\n        this.content.main.style.left = containerRect.left + window.scrollX + 'px';\n        this.content.main.style.width = containerRect.width + 'px';\n    }\n    moveContentBelow() {\n        this.main.main.classList.remove(this.classes.openAbove);\n        this.main.main.classList.add(this.classes.openBelow);\n        this.content.main.classList.remove(this.classes.openAbove);\n        this.content.main.classList.add(this.classes.openBelow);\n        const containerRect = this.main.main.getBoundingClientRect();\n        this.content.main.style.margin = '-1px 0px 0px 0px';\n        if (this.settings.contentPosition !== 'relative') {\n            this.content.main.style.top = containerRect.top + containerRect.height + window.scrollY + 'px';\n            this.content.main.style.left = containerRect.left + window.scrollX + 'px';\n            this.content.main.style.width = containerRect.width + 'px';\n        }\n    }\n    ensureElementInView(container, element) {\n        const cTop = container.scrollTop + container.offsetTop;\n        const cBottom = cTop + container.clientHeight;\n        const eTop = element.offsetTop;\n        const eBottom = eTop + element.clientHeight;\n        if (eTop < cTop) {\n            container.scrollTop -= cTop - eTop;\n        }\n        else if (eBottom > cBottom) {\n            container.scrollTop += eBottom - cBottom;\n        }\n    }\n    putContent() {\n        const mainHeight = this.main.main.offsetHeight;\n        const mainRect = this.main.main.getBoundingClientRect();\n        const contentHeight = this.content.main.offsetHeight;\n        const spaceBelow = window.innerHeight - (mainRect.top + mainHeight);\n        if (spaceBelow <= contentHeight) {\n            if (mainRect.top > contentHeight) {\n                return 'up';\n            }\n            else {\n                return 'down';\n            }\n        }\n        return 'down';\n    }\n    updateDeselectAll() {\n        if (!this.store || !this.settings) {\n            return;\n        }\n        const selected = this.store.getSelectedOptions();\n        const hasSelectedItems = selected && selected.length > 0;\n        const isMultiple = this.settings.isMultiple;\n        const allowDeselect = this.settings.allowDeselect;\n        const deselectButton = this.main.deselect.main;\n        const hideClass = this.classes.hide;\n        if (allowDeselect && !(isMultiple && !hasSelectedItems)) {\n            deselectButton.classList.remove(hideClass);\n        }\n        else {\n            deselectButton.classList.add(hideClass);\n        }\n    }\n}\n\nclass Select {\n    constructor(select) {\n        this.listen = false;\n        this.observer = null;\n        this.select = select;\n        this.select.addEventListener('change', this.valueChange.bind(this), {\n            passive: true,\n        });\n        this.observer = new MutationObserver(this.observeCall.bind(this));\n        this.changeListen(true);\n    }\n    enable() {\n        this.select.disabled = false;\n    }\n    disable() {\n        this.select.disabled = true;\n    }\n    hideUI() {\n        this.select.tabIndex = -1;\n        this.select.style.display = 'none';\n        this.select.setAttribute('aria-hidden', 'true');\n    }\n    showUI() {\n        this.select.removeAttribute('tabindex');\n        this.select.style.display = '';\n        this.select.removeAttribute('aria-hidden');\n    }\n    changeListen(listen) {\n        this.listen = listen;\n        if (listen) {\n            if (this.observer) {\n                this.observer.observe(this.select, {\n                    subtree: true,\n                    childList: true,\n                    attributes: true,\n                });\n            }\n        }\n        if (!listen) {\n            if (this.observer) {\n                this.observer.disconnect();\n            }\n        }\n    }\n    valueChange(ev) {\n        if (this.listen && this.onValueChange) {\n            this.onValueChange(this.getSelectedValues());\n        }\n        return true;\n    }\n    observeCall(mutations) {\n        if (!this.listen) {\n            return;\n        }\n        let classChanged = false;\n        let disabledChanged = false;\n        let optgroupOptionChanged = false;\n        for (const m of mutations) {\n            if (m.target === this.select) {\n                if (m.attributeName === 'disabled') {\n                    disabledChanged = true;\n                }\n                if (m.attributeName === 'class') {\n                    classChanged = true;\n                }\n            }\n            if (m.target.nodeName === 'OPTGROUP' || m.target.nodeName === 'OPTION') {\n                optgroupOptionChanged = true;\n            }\n        }\n        if (classChanged && this.onClassChange) {\n            this.onClassChange(this.select.className.split(' '));\n        }\n        if (disabledChanged && this.onDisabledChange) {\n            this.changeListen(false);\n            this.onDisabledChange(this.select.disabled);\n            this.changeListen(true);\n        }\n        if (optgroupOptionChanged && this.onOptionsChange) {\n            this.changeListen(false);\n            this.onOptionsChange(this.getData());\n            this.changeListen(true);\n        }\n    }\n    getData() {\n        let data = [];\n        const nodes = this.select.childNodes;\n        for (const n of nodes) {\n            if (n.nodeName === 'OPTGROUP') {\n                data.push(this.getDataFromOptgroup(n));\n            }\n            if (n.nodeName === 'OPTION') {\n                data.push(this.getDataFromOption(n));\n            }\n        }\n        return data;\n    }\n    getDataFromOptgroup(optgroup) {\n        let data = {\n            id: optgroup.id,\n            label: optgroup.label,\n            selectAll: optgroup.dataset ? optgroup.dataset.selectall === 'true' : false,\n            selectAllText: optgroup.dataset ? optgroup.dataset.selectalltext : 'Select all',\n            closable: optgroup.dataset ? optgroup.dataset.closable : 'off',\n            options: [],\n        };\n        const options = optgroup.childNodes;\n        for (const o of options) {\n            if (o.nodeName === 'OPTION') {\n                data.options.push(this.getDataFromOption(o));\n            }\n        }\n        return data;\n    }\n    getDataFromOption(option) {\n        return {\n            id: option.id,\n            value: option.value,\n            text: option.text,\n            html: option.dataset && option.dataset.html ? option.dataset.html : '',\n            selected: option.selected,\n            display: option.style.display === 'none' ? false : true,\n            disabled: option.disabled,\n            mandatory: option.dataset ? option.dataset.mandatory === 'true' : false,\n            placeholder: option.dataset.placeholder === 'true',\n            class: option.className,\n            style: option.style.cssText,\n            data: option.dataset,\n        };\n    }\n    getSelectedValues() {\n        let values = [];\n        const options = this.select.childNodes;\n        for (const o of options) {\n            if (o.nodeName === 'OPTGROUP') {\n                const optgroupOptions = o.childNodes;\n                for (const oo of optgroupOptions) {\n                    if (oo.nodeName === 'OPTION') {\n                        const option = oo;\n                        if (option.selected) {\n                            values.push(option.value);\n                        }\n                    }\n                }\n            }\n            if (o.nodeName === 'OPTION') {\n                const option = o;\n                if (option.selected) {\n                    values.push(option.value);\n                }\n            }\n        }\n        return values;\n    }\n    setSelected(value) {\n        this.changeListen(false);\n        const options = this.select.childNodes;\n        for (const o of options) {\n            if (o.nodeName === 'OPTGROUP') {\n                const optgroup = o;\n                const optgroupOptions = optgroup.childNodes;\n                for (const oo of optgroupOptions) {\n                    if (oo.nodeName === 'OPTION') {\n                        const option = oo;\n                        option.selected = value.includes(option.value);\n                    }\n                }\n            }\n            if (o.nodeName === 'OPTION') {\n                const option = o;\n                option.selected = value.includes(option.value);\n            }\n        }\n        this.changeListen(true);\n    }\n    updateSelect(id, style, classes) {\n        this.changeListen(false);\n        if (id) {\n            this.select.dataset.id = id;\n        }\n        if (style) {\n            this.select.style.cssText = style;\n        }\n        if (classes) {\n            this.select.className = '';\n            classes.forEach((c) => {\n                if (c.trim() !== '') {\n                    this.select.classList.add(c.trim());\n                }\n            });\n        }\n        this.changeListen(true);\n    }\n    updateOptions(data) {\n        this.changeListen(false);\n        this.select.innerHTML = '';\n        for (const d of data) {\n            if (d instanceof Optgroup) {\n                this.select.appendChild(this.createOptgroup(d));\n            }\n            if (d instanceof Option) {\n                this.select.appendChild(this.createOption(d));\n            }\n        }\n        this.select.dispatchEvent(new Event('change'));\n        this.changeListen(true);\n    }\n    createOptgroup(optgroup) {\n        const optgroupEl = document.createElement('optgroup');\n        optgroupEl.id = optgroup.id;\n        optgroupEl.label = optgroup.label;\n        if (optgroup.selectAll) {\n            optgroupEl.dataset.selectAll = 'true';\n        }\n        if (optgroup.closable !== 'off') {\n            optgroupEl.dataset.closable = optgroup.closable;\n        }\n        if (optgroup.options) {\n            for (const o of optgroup.options) {\n                optgroupEl.appendChild(this.createOption(o));\n            }\n        }\n        return optgroupEl;\n    }\n    createOption(info) {\n        const optionEl = document.createElement('option');\n        optionEl.id = info.id;\n        optionEl.value = info.value;\n        optionEl.innerHTML = info.text;\n        if (info.html !== '') {\n            optionEl.setAttribute('data-html', info.html);\n        }\n        if (info.selected) {\n            optionEl.selected = info.selected;\n        }\n        if (info.disabled) {\n            optionEl.disabled = true;\n        }\n        if (info.display === false) {\n            optionEl.style.display = 'none';\n        }\n        if (info.placeholder) {\n            optionEl.setAttribute('data-placeholder', 'true');\n        }\n        if (info.mandatory) {\n            optionEl.setAttribute('data-mandatory', 'true');\n        }\n        if (info.class) {\n            info.class.split(' ').forEach((optionClass) => {\n                optionEl.classList.add(optionClass);\n            });\n        }\n        if (info.data && typeof info.data === 'object') {\n            Object.keys(info.data).forEach((key) => {\n                optionEl.setAttribute('data-' + kebabCase(key), info.data[key]);\n            });\n        }\n        return optionEl;\n    }\n    destroy() {\n        this.changeListen(false);\n        this.select.removeEventListener('change', this.valueChange.bind(this));\n        if (this.observer) {\n            this.observer.disconnect();\n            this.observer = null;\n        }\n        delete this.select.dataset.id;\n        this.showUI();\n    }\n}\n\nclass SlimSelect {\n    constructor(config) {\n        var _a;\n        this.events = {\n            search: undefined,\n            searchFilter: (opt, search) => {\n                return opt.text.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n            },\n            addable: undefined,\n            beforeChange: undefined,\n            afterChange: undefined,\n            beforeOpen: undefined,\n            afterOpen: undefined,\n            beforeClose: undefined,\n            afterClose: undefined,\n        };\n        this.windowResize = debounce(() => {\n            if (!this.settings.isOpen && !this.settings.isFullOpen) {\n                return;\n            }\n            this.render.moveContent();\n        });\n        this.windowScroll = debounce(() => {\n            if (!this.settings.isOpen && !this.settings.isFullOpen) {\n                return;\n            }\n            this.render.moveContent();\n        });\n        this.documentClick = (e) => {\n            if (!this.settings.isOpen) {\n                return;\n            }\n            if (e.target && !hasClassInTree(e.target, this.settings.id)) {\n                this.close(e.type);\n            }\n        };\n        this.windowVisibilityChange = () => {\n            if (document.hidden) {\n                this.close();\n            }\n        };\n        this.selectEl = (typeof config.select === 'string' ? document.querySelector(config.select) : config.select);\n        if (!this.selectEl) {\n            if (config.events && config.events.error) {\n                config.events.error(new Error('Could not find select element'));\n            }\n            return;\n        }\n        if (this.selectEl.tagName !== 'SELECT') {\n            if (config.events && config.events.error) {\n                config.events.error(new Error('Element isnt of type select'));\n            }\n            return;\n        }\n        if (this.selectEl.dataset.ssid) {\n            this.destroy();\n        }\n        this.settings = new Settings(config.settings);\n        const debounceEvents = ['afterChange', 'beforeOpen', 'afterOpen', 'beforeClose', 'afterClose'];\n        for (const key in config.events) {\n            if (!config.events.hasOwnProperty(key)) {\n                continue;\n            }\n            if (debounceEvents.indexOf(key) !== -1) {\n                this.events[key] = debounce(config.events[key], 100);\n            }\n            else {\n                this.events[key] = config.events[key];\n            }\n        }\n        this.settings.disabled = ((_a = config.settings) === null || _a === void 0 ? void 0 : _a.disabled) ? config.settings.disabled : this.selectEl.disabled;\n        this.settings.isMultiple = this.selectEl.multiple;\n        this.settings.style = this.selectEl.style.cssText;\n        this.settings.class = this.selectEl.className.split(' ');\n        this.select = new Select(this.selectEl);\n        this.select.updateSelect(this.settings.id, this.settings.style, this.settings.class);\n        this.select.hideUI();\n        this.select.onValueChange = (values) => {\n            this.setSelected(values);\n        };\n        this.select.onClassChange = (classes) => {\n            this.settings.class = classes;\n            this.render.updateClassStyles();\n        };\n        this.select.onDisabledChange = (disabled) => {\n            if (disabled) {\n                this.disable();\n            }\n            else {\n                this.enable();\n            }\n        };\n        this.select.onOptionsChange = (data) => {\n            this.setData(data);\n        };\n        this.store = new Store(this.settings.isMultiple ? 'multiple' : 'single', config.data ? config.data : this.select.getData());\n        if (config.data) {\n            this.select.updateOptions(this.store.getData());\n        }\n        const callbacks = {\n            open: this.open.bind(this),\n            close: this.close.bind(this),\n            addable: this.events.addable ? this.events.addable : undefined,\n            setSelected: this.setSelected.bind(this),\n            addOption: this.addOption.bind(this),\n            search: this.search.bind(this),\n            beforeChange: this.events.beforeChange,\n            afterChange: this.events.afterChange,\n        };\n        this.render = new Render(this.settings, this.store, callbacks);\n        this.render.renderValues();\n        this.render.renderOptions(this.store.getData());\n        const selectAriaLabel = this.selectEl.getAttribute('aria-label');\n        const selectAriaLabelledBy = this.selectEl.getAttribute('aria-labelledby');\n        if (selectAriaLabel) {\n            this.render.main.main.setAttribute('aria-label', selectAriaLabel);\n        }\n        else if (selectAriaLabelledBy) {\n            this.render.main.main.setAttribute('aria-labelledby', selectAriaLabelledBy);\n        }\n        if (this.selectEl.parentNode) {\n            this.selectEl.parentNode.insertBefore(this.render.main.main, this.selectEl.nextSibling);\n        }\n        document.addEventListener('click', this.documentClick);\n        window.addEventListener('resize', this.windowResize, false);\n        if (this.settings.openPosition === 'auto') {\n            window.addEventListener('scroll', this.windowScroll, false);\n        }\n        document.addEventListener('visibilitychange', this.windowVisibilityChange);\n        if (this.settings.disabled) {\n            this.disable();\n        }\n        if (this.settings.alwaysOpen) {\n            this.open();\n        }\n        this.selectEl.slim = this;\n    }\n    enable() {\n        this.settings.disabled = false;\n        this.select.enable();\n        this.render.enable();\n    }\n    disable() {\n        this.settings.disabled = true;\n        this.select.disable();\n        this.render.disable();\n    }\n    getData() {\n        return this.store.getData();\n    }\n    setData(data) {\n        const selected = this.store.getSelected();\n        const err = this.store.validateDataArray(data);\n        if (err) {\n            if (this.events.error) {\n                this.events.error(err);\n            }\n            return;\n        }\n        this.store.setData(data);\n        const dataClean = this.store.getData();\n        this.select.updateOptions(dataClean);\n        this.render.renderValues();\n        this.render.renderOptions(dataClean);\n        if (this.events.afterChange && !isEqual(selected, this.store.getSelected())) {\n            this.events.afterChange(this.store.getSelectedOptions());\n        }\n    }\n    getSelected() {\n        return this.store.getSelected();\n    }\n    setSelected(value, runAfterChange = true) {\n        const selected = this.store.getSelected();\n        this.store.setSelectedBy('value', Array.isArray(value) ? value : [value]);\n        const data = this.store.getData();\n        this.select.updateOptions(data);\n        this.render.renderValues();\n        if (this.render.content.search.input.value !== '') {\n            this.search(this.render.content.search.input.value);\n        }\n        else {\n            this.render.renderOptions(data);\n        }\n        if (runAfterChange && this.events.afterChange && !isEqual(selected, this.store.getSelected())) {\n            this.events.afterChange(this.store.getSelectedOptions());\n        }\n    }\n    addOption(option) {\n        const selected = this.store.getSelected();\n        if (!this.store.getDataOptions().some((o) => { var _a; return o.value === ((_a = option.value) !== null && _a !== void 0 ? _a : option.text); })) {\n            this.store.addOption(option);\n        }\n        const data = this.store.getData();\n        this.select.updateOptions(data);\n        this.render.renderValues();\n        this.render.renderOptions(data);\n        if (this.events.afterChange && !isEqual(selected, this.store.getSelected())) {\n            this.events.afterChange(this.store.getSelectedOptions());\n        }\n    }\n    open() {\n        if (this.settings.disabled || this.settings.isOpen) {\n            return;\n        }\n        if (this.events.beforeOpen) {\n            this.events.beforeOpen();\n        }\n        this.render.open();\n        if (this.settings.showSearch) {\n            this.render.searchFocus();\n        }\n        this.settings.isOpen = true;\n        setTimeout(() => {\n            if (this.events.afterOpen) {\n                this.events.afterOpen();\n            }\n            if (this.settings.isOpen) {\n                this.settings.isFullOpen = true;\n            }\n        }, this.settings.timeoutDelay);\n        if (this.settings.contentPosition === 'absolute') {\n            if (this.settings.intervalMove) {\n                clearInterval(this.settings.intervalMove);\n            }\n            this.settings.intervalMove = setInterval(this.render.moveContent.bind(this.render), 500);\n        }\n    }\n    close(eventType = null) {\n        if (!this.settings.isOpen || this.settings.alwaysOpen) {\n            return;\n        }\n        if (this.events.beforeClose) {\n            this.events.beforeClose();\n        }\n        this.render.close();\n        if (this.render.content.search.input.value !== '') {\n            this.search('');\n        }\n        this.render.mainFocus(eventType);\n        this.settings.isOpen = false;\n        this.settings.isFullOpen = false;\n        setTimeout(() => {\n            if (this.events.afterClose) {\n                this.events.afterClose();\n            }\n        }, this.settings.timeoutDelay);\n        if (this.settings.intervalMove) {\n            clearInterval(this.settings.intervalMove);\n        }\n    }\n    search(value) {\n        if (this.render.content.search.input.value !== value) {\n            this.render.content.search.input.value = value;\n        }\n        if (!this.events.search) {\n            this.render.renderOptions(value === '' ? this.store.getData() : this.store.search(value, this.events.searchFilter));\n            return;\n        }\n        this.render.renderSearching();\n        const searchResp = this.events.search(value, this.store.getSelectedOptions());\n        if (searchResp instanceof Promise) {\n            searchResp\n                .then((data) => {\n                this.render.renderOptions(this.store.partialToFullData(data));\n            })\n                .catch((err) => {\n                this.render.renderError(typeof err === 'string' ? err : err.message);\n            });\n            return;\n        }\n        else if (Array.isArray(searchResp)) {\n            this.render.renderOptions(this.store.partialToFullData(searchResp));\n        }\n        else {\n            this.render.renderError('Search event must return a promise or an array of data');\n        }\n    }\n    destroy() {\n        document.removeEventListener('click', this.documentClick);\n        window.removeEventListener('resize', this.windowResize, false);\n        if (this.settings.openPosition === 'auto') {\n            window.removeEventListener('scroll', this.windowScroll, false);\n        }\n        document.removeEventListener('visibilitychange', this.windowVisibilityChange);\n        this.store.setData([]);\n        this.render.destroy();\n        this.select.destroy();\n    }\n}\n\nexport { SlimSelect as default };\n","import SlimSelect from \"slim-select\";\n\ndocument.querySelectorAll(\".select\").forEach((select) => {\n    new SlimSelect({\n        select: select,\n        settings: {\n            showSearch: false,\n            placeholderText: select.dataset.placeholder,\n        },\n        events: {\n            afterChange: (newVal) => {\n                select.closest(\"form\")?.dispatchEvent(new Event(\"change\"));\n            },\n        },\n    });\n});\n\n","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.6\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2023, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: February 2, 2023\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionStart(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionstart', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionstart', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, transitionStart, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis = 'x') {\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend(...args) {\n  const to = Object(args[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll({\n  swiper,\n  targetPosition,\n  side\n}) {\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice({\n  userAgent\n} = {}) {\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides = {}) {\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate = this && this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","export default function transitionEmit({\n  swiper,\n  runCallbacks,\n  direction,\n  step\n}) {\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  const translate = -snapGrid[snapIndex]; // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  if (slideIndex !== (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  } // Update progress\n\n\n  swiper.updateProgress(translate);\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","export default function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length && swiper.params.loopedSlidesLimit) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < swiper.loopedSlides; i += 1) {\n    const index = i - Math.floor(i / slides.length) * slides.length;\n    appendSlides.push(slides.eq(index)[0]);\n    prependSlides.unshift(slides.eq(slides.length - index - 1)[0]);\n  }\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base = this) {\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== ''; // eslint-disable-next-line\n\n  const eventPath = event.composedPath ? event.composedPath() : event.path;\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) {\n    $targetEl = $(eventPath[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base = 'window', containerEl) {\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopedSlidesLimit: true,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj = {}) {\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor(...args) {\n    let el;\n    let params;\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      }); // eslint-disable-next-line no-constructor-return\n\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n    // eslint-disable-next-line no-constructor-return\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view = 'current', exact = false) {\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate = true) {\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import { getWindow } from 'ssr-window';\nexport default function Resize({\n  swiper,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(({\n          contentBoxSize,\n          contentRect,\n          target\n        }) => {\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const observers = [];\n  const window = getWindow();\n\n  const attach = (target, options = {}) => {\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","export default function classesToSelector(classes = '') {\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","export default function appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}","export default function effectVirtualTransitionEnd({\n  swiper,\n  duration,\n  transformEl,\n  allSlides\n}) {\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}","import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}","/**\n * Swiper 8.4.7\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2023 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: January 30, 2023\n */\n\nimport Swiper from './core/core.js';\nexport { default as Swiper, default } from './core/core.js';\nimport Virtual from './modules/virtual/virtual.js';\nimport Keyboard from './modules/keyboard/keyboard.js';\nimport Mousewheel from './modules/mousewheel/mousewheel.js';\nimport Navigation from './modules/navigation/navigation.js';\nimport Pagination from './modules/pagination/pagination.js';\nimport Scrollbar from './modules/scrollbar/scrollbar.js';\nimport Parallax from './modules/parallax/parallax.js';\nimport Zoom from './modules/zoom/zoom.js';\nimport Lazy from './modules/lazy/lazy.js';\nimport Controller from './modules/controller/controller.js';\nimport A11y from './modules/a11y/a11y.js';\nimport History from './modules/history/history.js';\nimport HashNavigation from './modules/hash-navigation/hash-navigation.js';\nimport Autoplay from './modules/autoplay/autoplay.js';\nimport Thumbs from './modules/thumbs/thumbs.js';\nimport FreeMode from './modules/free-mode/free-mode.js';\nimport Grid from './modules/grid/grid.js';\nimport Manipulation from './modules/manipulation/manipulation.js';\nimport EffectFade from './modules/effect-fade/effect-fade.js';\nimport EffectCube from './modules/effect-cube/effect-cube.js';\nimport EffectFlip from './modules/effect-flip/effect-flip.js';\nimport EffectCoverflow from './modules/effect-coverflow/effect-coverflow.js';\nimport EffectCreative from './modules/effect-creative/effect-creative.js';\nimport EffectCards from './modules/effect-cards/effect-cards.js';\n\n// Swiper Class\nconst modules = [Virtual, Keyboard, Mousewheel, Navigation, Pagination, Scrollbar, Parallax, Zoom, Lazy, Controller, A11y, History, HashNavigation, Autoplay, Thumbs, FreeMode, Grid, Manipulation, EffectFade, EffectCube, EffectFlip, EffectCoverflow, EffectCreative, EffectCards];\nSwiper.use(modules);\n","import $ from '../../shared/dom.js';\nimport { setCSSProperty } from '../../shared/utils.js';\nexport default function Virtual({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now, nextTick } from '../../shared/utils.js';\nexport default function Mousewheel({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nexport default function Parallax({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = (duration = swiper.params.speed) => {\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = $(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate = true) {\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}","/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick } from '../../shared/utils.js';\nexport default function Controller({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}","import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  swiper.a11y = {\n    clicked: false\n  };\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size = 16) {\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = $(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handlePointerDown = () => {\n    swiper.a11y.clicked = true;\n  };\n\n  const handlePointerUp = () => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        if (!swiper.destroyed) {\n          swiper.a11y.clicked = false;\n        }\n      });\n    });\n  };\n\n  const handleFocus = e => {\n    if (swiper.a11y.clicked) return;\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;\n\n    if (swiper.isHorizontal()) {\n      swiper.el.scrollLeft = 0;\n    } else {\n      swiper.el.scrollTop = 0;\n    }\n\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole($(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n    swiper.$el.on('pointerdown', handlePointerDown, true);\n    swiper.$el.on('pointerup', handlePointerUp, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n    swiper.$el.off('pointerdown', handlePointerDown, true);\n    swiper.$el.off('pointerup', handlePointerUp, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function History({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = getWindow();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = getWindow();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function HashNavigation({\n  swiper,\n  extendParams,\n  emit,\n  on\n}) {\n  let initialized = false;\n  const document = getDocument();\n  const window = getWindow();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    if (!swiper.size) {\n      swiper.autoplay.running = false;\n      swiper.autoplay.paused = false;\n      return;\n    }\n\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","import { isObject } from '../../shared/utils.js';\nimport $ from '../../shared/dom.js';\nexport default function Thumb({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}","import { now } from '../../shared/utils.js';\nexport default function freeMode({\n  swiper,\n  extendParams,\n  emit,\n  once\n}) {\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  }\n\n  function onTouchEnd({\n    currentPos\n  }) {\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}","export default function Grid({\n  swiper,\n  extendParams\n}) {\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}","import appendSlide from './methods/appendSlide.js';\nimport prependSlide from './methods/prependSlide.js';\nimport addSlide from './methods/addSlide.js';\nimport removeSlide from './methods/removeSlide.js';\nimport removeAllSlides from './methods/removeAllSlides.js';\nexport default function Manipulation({\n  swiper\n}) {\n  Object.assign(swiper, {\n    appendSlide: appendSlide.bind(swiper),\n    prependSlide: prependSlide.bind(swiper),\n    addSlide: addSlide.bind(swiper),\n    removeSlide: removeSlide.bind(swiper),\n    removeAllSlides: removeAllSlides.bind(swiper)\n  });\n}","import effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFade({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport effectInit from '../../shared/effect-init.js';\nexport default function EffectCube({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows($(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  effectInit({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFlip({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = $(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCreative({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCards({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true,\n      perSlideRotate: 2,\n      perSlideOffset: 8\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -params.perSlideRotate * progress;\n      let tXAdd = params.perSlideOffset - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.12.2\n * https://greensock.com\n *\n * @license Copyright 2008-2023, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _suppressOverwrites,\n    _reverting,\n    _context,\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isTypedArray = typeof ArrayBuffer === \"function\" && ArrayBuffer.isView || function () {},\n    // note: IE10 has ArrayBuffer, but NOT ArrayBuffer.isView().\n_isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\n    _complexStringNumExp = /[-+=.]*\\d+\\.?\\d*(?:e-|e\\+)?\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_relExp = /[+-]=-?[.\\d]+/,\n    _delimitedValueExp = /[^,'\"\\[\\]\\s]+/gi,\n    // previously /[#\\-+.]*\\b[a-z\\d\\-=+%.]+/gi but didn't catch special characters.\n_unitExp = /^[+\\-=e\\s\\d]*\\d+[.\\d]*([a-z]*|%)\\s*$/i,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _startAtRevertConfig = {\n  suppressEvents: true,\n  isStart: true,\n  kill: false\n},\n    _revertConfigNoKill = {\n  suppressEvents: true,\n  kill: false\n},\n    _revertConfig = {\n  suppressEvents: true\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n  _isObject(target) || _isFunction(target) || (targets = [targets]);\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    // find the first target with a harness. We assume targets passed into an animation will be of similar type, meaning the same kind of harness can be used for them all (performance optimization)\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property, v) {\n  return (v = target[property]) && _isFunction(v) ? target[property]() : _isUndefined(v) && target.getAttribute && target.getAttribute(property) || v;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 100000) / 100000 || 0;\n},\n    _roundPrecise = function _roundPrecise(value) {\n  return Math.round(value * 10000000) / 10000000 || 0;\n},\n    // increased precision mostly for timing values.\n_parseRelative = function _parseRelative(start, value) {\n  var operator = value.charAt(0),\n      end = parseFloat(value.substr(2));\n  start = parseFloat(start);\n  return operator === \"+\" ? start + end : operator === \"-\" ? start - end : operator === \"*\" ? start * end : start / end;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n    tween && tween._lazy && (tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0);\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  _lazyTweens.length && !_reverting && _lazyRender();\n  animation.render(time, suppressEvents, force || _reverting && time < 0 && (animation._initted || animation._startAt));\n  _lazyTweens.length && !_reverting && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : _isString(value) ? value.trim() : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    p in obj || (obj[p] = defaults[p]);\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(excludeDuration) {\n  return function (obj, defaults) {\n    for (var p in defaults) {\n      p in obj || p === \"duration\" && excludeDuration || p === \"ease\" || (obj[p] = defaults[p]);\n    }\n  };\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    p !== \"__proto__\" && p !== \"constructor\" && p !== \"prototype\" && (base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p]);\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    p in excluding || (copy[p] = obj[p]);\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults(_isArray(vars.keyframes)) : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent || parent._dp;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = child._dp = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren) && child.parent.remove && child.parent.remove(child);\n  child._act = 0;\n},\n    _uncache = function _uncache(animation, child) {\n  if (animation && (!child || child._end > animation._dur || child._start < 0)) {\n    // performance optimization: if a child animation is passed in we should only uncache if that child EXTENDS the animation (its end time is beyond the end)\n    var a = animation;\n\n    while (a) {\n      a._dirty = 1;\n      a = a.parent;\n    }\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _rewindStartAt = function _rewindStartAt(tween, totalTime, suppressEvents, force) {\n  return tween._startAt && (_reverting ? tween._startAt.revert(_revertConfigNoKill) : tween.vars.immediateRender && !tween.vars.autoRevert || tween._startAt.render(totalTime, true, force));\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  var whole = Math.floor(tTime /= cycleDuration);\n  return tTime && whole === tTime ? whole - 1 : whole;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n    _setEnd = function _setEnd(animation) {\n  return animation._end = _roundPrecise(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\n},\n    _alignPlayhead = function _alignPlayhead(animation, totalTime) {\n  // adjusts the animation's _start and _end according to the provided totalTime (only if the parent's smoothChildTiming is true and the animation isn't paused). It doesn't do any rendering or forcing things back into parent timelines, etc. - that's what totalTime() is for.\n  var parent = animation._dp;\n\n  if (parent && parent.smoothChildTiming && animation._ts) {\n    animation._start = _roundPrecise(parent._time - (animation._ts > 0 ? totalTime / animation._ts : ((animation._dirty ? animation.totalDuration() : animation._tDur) - totalTime) / -animation._ts));\n\n    _setEnd(animation);\n\n    parent._dirty || _uncache(parent, animation); //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n  }\n\n  return animation;\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_postAddChecks = function _postAddChecks(timeline, child) {\n  var t;\n\n  if (child._time || !child._dur && child._initted || child._start < timeline._time && (child._dur || !child.add)) {\n    // in case, for example, the _start is moved on a tween that has already rendered, or if it's being inserted into a timeline BEFORE where the playhead is currently. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning. Special case: if it's a timeline (has .add() method) and no duration, we can skip rendering because the user may be populating it AFTER adding it to a parent timeline (unconventional, but possible, and we wouldn't want it to get removed if the parent's autoRemoveChildren is true).\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\n\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\n      child.render(t, true);\n    }\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (_uncache(timeline, child)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\n    //in case any of the ancestors had completed but should now be enabled...\n    if (timeline._dur < timeline.duration()) {\n      t = timeline;\n\n      while (t._dp) {\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\n\n        t = t._dp;\n      }\n    }\n\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\n  }\n},\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\n  child.parent && _removeFromParent(child);\n  child._start = _roundPrecise((_isNumber(position) ? position : position || timeline !== _globalTimeline ? _parsePosition(timeline, position, child) : timeline._time) + child._delay);\n  child._end = _roundPrecise(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  _isFromOrFromStart(child) || (timeline._recent = child);\n  skipChecks || _postAddChecks(timeline, child);\n  timeline._ts < 0 && _alignPlayhead(timeline, timeline._tTime); // if the timeline is reversed and the new child makes it longer, we may need to adjust the parent's _start (push it back)\n\n  return timeline;\n},\n    _scrollTrigger = function _scrollTrigger(animation, trigger) {\n  return (_globals.ScrollTrigger || _missingPlugin(\"scrollTrigger\", trigger)) && _globals.ScrollTrigger.create(trigger, animation);\n},\n    _attemptInitTween = function _attemptInitTween(tween, time, force, suppressEvents, tTime) {\n  _initTween(tween, time, tTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && !_reverting && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [tTime, suppressEvents];\n    return 1;\n  }\n},\n    _parentPlayheadIsBeforeStart = function _parentPlayheadIsBeforeStart(_ref) {\n  var parent = _ref.parent;\n  return parent && parent._ts && parent._initted && !parent._lock && (parent.rawTime() < 0 || _parentPlayheadIsBeforeStart(parent));\n},\n    // check parent's _lock because when a timeline repeats/yoyos and does its artificial wrapping, we shouldn't force the ratio back to 0\n_isFromOrFromStart = function _isFromOrFromStart(_ref2) {\n  var data = _ref2.data;\n  return data === \"isFromStart\" || data === \"isStart\";\n},\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween.ratio,\n      ratio = totalTime < 0 || !totalTime && (!tween._start && _parentPlayheadIsBeforeStart(tween) && !(!tween._initted && _isFromOrFromStart(tween)) || (tween._ts < 0 || tween._dp._ts < 0) && !_isFromOrFromStart(tween)) ? 0 : 1,\n      // if the tween or its parent is reversed and the totalTime is 0, we should go to a ratio of 0. Edge case: if a from() or fromTo() stagger tween is placed later in a timeline, the \"startAt\" zero-duration tween could initially render at a time when the parent timeline's playhead is technically BEFORE where this tween is, so make sure that any \"from\" and \"fromTo\" startAt tweens are rendered the first time at a ratio of 1.\n  repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    // in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    tween._yoyo && iteration & 1 && (ratio = 1 - ratio);\n\n    if (iteration !== _animationCycle(tween._tTime, repeatDelay)) {\n      // if iteration changed\n      prevRatio = 1 - ratio;\n      tween.vars.repeatRefresh && tween._initted && tween.invalidate();\n    }\n  }\n\n  if (ratio !== prevRatio || _reverting || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents, tTime)) {\n      // if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n      return;\n    }\n\n    prevIteration = tween._zTime;\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); // when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    suppressEvents || (suppressEvents = totalTime && !prevIteration); // if it was rendered previously at exactly 0 (_zTime) and now the playhead is moving away, DON'T fire callbacks otherwise they'll seem like duplicates.\n\n    tween.ratio = ratio;\n    tween._from && (ratio = 1 - ratio);\n    tween._time = 0;\n    tween._tTime = tTime;\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    totalTime < 0 && _rewindStartAt(tween, totalTime, suppressEvents, true);\n    tween._onUpdate && !suppressEvents && _callback(tween, \"onUpdate\");\n    tTime && tween._repeat && !suppressEvents && tween.parent && _callback(tween, \"onRepeat\");\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents && !_reverting) {\n        _callback(tween, ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  } else if (!tween._zTime) {\n    tween._zTime = totalTime;\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _setDuration = function _setDuration(animation, duration, skipUncache, leavePlayhead) {\n  var repeat = animation._repeat,\n      dur = _roundPrecise(duration) || 0,\n      totalProgress = animation._tTime / animation._tDur;\n  totalProgress && !leavePlayhead && (animation._time *= dur / animation._dur);\n  animation._dur = dur;\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e10 : _roundPrecise(dur * (repeat + 1) + animation._rDelay * repeat);\n  totalProgress > 0 && !leavePlayhead && _alignPlayhead(animation, animation._tTime = animation._tDur * totalProgress);\n  animation.parent && _setEnd(animation);\n  skipUncache || _uncache(animation.parent, animation);\n  return animation;\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc,\n  totalDuration: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position, percentAnimation) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  i,\n      offset,\n      isPercent;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    offset = position.charAt(0);\n    isPercent = position.substr(-1) === \"%\";\n    i = position.indexOf(\"=\");\n\n    if (offset === \"<\" || offset === \">\") {\n      i >= 0 && (position = position.replace(/=/, \"\"));\n      return (offset === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0) * (isPercent ? (i < 0 ? recent : percentAnimation).totalDuration() / 100 : 1);\n    }\n\n    if (i < 0) {\n      position in labels || (labels[position] = clippedDuration);\n      return labels[position];\n    }\n\n    offset = parseFloat(position.charAt(i - 1) + position.substr(i + 1));\n\n    if (isPercent && percentAnimation) {\n      offset = offset / 100 * (_isArray(percentAnimation) ? percentAnimation[0] : percentAnimation).totalDuration();\n    }\n\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1), percentAnimation) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position;\n},\n    _createTweenType = function _createTweenType(type, params, timeline) {\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars,\n      parent;\n\n  isLegacy && (vars.duration = params[1]);\n  vars.parent = timeline;\n\n  if (type) {\n    irVars = vars;\n    parent = timeline;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n    type < 2 ? vars.runBackwards = 1 : vars.startAt = params[varsIndex - 1]; // \"from\" vars\n  }\n\n  return new Tween(params[0], vars, params[varsIndex + 1]);\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value, v) {\n  return !_isString(value) || !(v = _unitExp.exec(value)) ? \"\" : v[1];\n},\n    // note: protect against padded numbers as strings, like \"100.100\". That shouldn't return \"00\" as the unit. If it's numeric, return no unit.\nclamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, scope, leaveStrings) {\n  return _context && !scope && _context.selector ? _context.selector(value) : _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call((scope || _doc).querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    selector = function selector(value) {\n  value = toArray(value)[0] || _warn(\"Invalid scope\") || {};\n  return function (v) {\n    var el = value.current || value.nativeElement || value;\n    return toArray(v, el.querySelectorAll ? el : el === value ? _warn(\"Invalid scope\") || _doc.createElement(\"div\") : value);\n  };\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = Math.floor(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = wrapAt === _bigNum ? 0 : ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n        d > max && (max = d);\n        d < min && (min = d);\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _roundPrecise(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = Math.pow(10, ((v + \"\").split(\".\")[1] || \"\").length); //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed())\n\n  return function (raw) {\n    var n = _roundPrecise(Math.round(parseFloat(raw) / v) * v * p);\n\n    return (n - n % 1) / p + (_isNumber(raw) ? 0 : getUnit(raw)); // n - n % 1 replaces Math.floor() in order to handle negative values properly. For example, Math.floor(-150.00000000000003) is 151!\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && Math.floor(Math.round((min - roundingIncrement / 2 + Math.random() * (max - min + roundingIncrement * .99)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total || 0;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], isArray ? 0 : +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + ((value - inMin) / inRange * outRange || 0);\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      prevContext = _context,\n      context = animation._ctx,\n      params,\n      scope,\n      result;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\n  context && (_context = context);\n  result = params ? callback.apply(scope, params) : callback.call(scope);\n  _context = prevContext;\n  return result;\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  animation.scrollTrigger && animation.scrollTrigger.kill(!!_reverting);\n  animation.progress() < 1 && _callback(animation, \"onInterrupt\");\n  return animation;\n},\n    _quickTween,\n    _registerPluginQueue = [],\n    _createPlugin = function _createPlugin(config) {\n  if (_windowExists() && config) {\n    // edge case: some build tools may pass in a null/undefined value\n    config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n    var name = config.name,\n        isFunc = _isFunction(config),\n        Plugin = name && !isFunc && config.init ? function () {\n      this._props = [];\n    } : config,\n        //in case someone passes in an object that's not a plugin, like CustomEase\n    instanceDefaults = {\n      init: _emptyFunc,\n      render: _renderPropTweens,\n      add: _addPropTween,\n      kill: _killPropTweensOf,\n      modifier: _addPluginModifier,\n      rawVars: 0\n    },\n        statics = {\n      targetTest: 0,\n      get: 0,\n      getSetter: _getSetter,\n      aliases: {},\n      register: 0\n    };\n\n    _wake();\n\n    if (config !== Plugin) {\n      if (_plugins[name]) {\n        return;\n      }\n\n      _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n      _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n      _plugins[Plugin.prop = name] = Plugin;\n\n      if (config.targetTest) {\n        _harnessPlugins.push(Plugin);\n\n        _reservedProps[name] = 1;\n      }\n\n      name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n    }\n\n    _addGlobal(name, Plugin);\n\n    config.register && config.register(gsap, Plugin, PropTween);\n  } else {\n    config && _registerPluginQueue.push(config);\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    // possible future idea to replace the hard-coded color name values - put this in the ticker.wake() where we set the _doc:\n// let ctx = _doc.createElement(\"canvas\").getContext(\"2d\");\n// _forEachName(\"aqua,lime,silver,black,maroon,teal,blue,navy,white,olive,yellow,orange,gray,purple,green,red,pink,cyan\", color => {ctx.fillStyle = color; _colorLookup[color] = splitColor(ctx.fillStyle)});\n_hue = function _hue(h, m1, m2) {\n  h += h < 0 ? 1 : h > 1 ? -1 : 0;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length < 6) {\n        //for shorthand like #9F0 or #9F0F (could have alpha)\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b + (v.length === 5 ? v.charAt(4) + v.charAt(4) : \"\");\n      }\n\n      if (v.length === 9) {\n        // hex with alpha, like #fd5e53ff\n        a = parseInt(v.substr(1, 6), 16);\n        return [a >> 16, a >> 8 & _255, a & _255, parseInt(v.substr(7), 16) / 255];\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n        a.length > 3 && (a[3] *= 1); //cast as number\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        a = v.match(_numExp);\n        forceAlpha && a.length < 4 && (a[3] = 1);\n        return a;\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = ~~(h + .5);\n    a[1] = ~~(s * 100 + .5);\n    a[2] = ~~(l * 100 + .5);\n  }\n\n  forceAlpha && a.length < 4 && (a[3] = 1);\n  return a;\n},\n    _colorOrderData = function _colorOrderData(v) {\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\n  var values = [],\n      c = [],\n      i = -1;\n  v.split(_colorExp).forEach(function (v) {\n    var a = v.match(_numWithUnitExp) || [];\n    values.push.apply(values, a);\n    c.push(i += a.length + 1);\n  });\n  values.c = c;\n  return values;\n},\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\n  var result = \"\",\n      colors = (s + result).match(_colorExp),\n      type = toHSL ? \"hsla(\" : \"rgba(\",\n      i = 0,\n      c,\n      shell,\n      d,\n      l;\n\n  if (!colors) {\n    return s;\n  }\n\n  colors = colors.map(function (color) {\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\n  });\n\n  if (orderMatchData) {\n    d = _colorOrderData(s);\n    c = orderMatchData.c;\n\n    if (c.join(result) !== d.c.join(result)) {\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\n      l = shell.length - 1;\n\n      for (; i < l; i++) {\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\n      }\n    }\n  }\n\n  if (!shell) {\n    shell = s.split(_colorExp);\n    l = shell.length - 1;\n\n    for (; i < l; i++) {\n      result += shell[i] + colors[i];\n    }\n  }\n\n  return result + shell[l];\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3,4}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[1] = _formatColors(a[1], toHSL);\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\n\n    return true;\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1000 / 240,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _delta,\n      _i,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch,\n        time,\n        frame;\n\n    elapsed > _lagThreshold && (_startTime += elapsed - _adjustedLag);\n    _lastUpdate += elapsed;\n    time = _lastUpdate - _startTime;\n    overlap = time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      frame = ++_self.frame;\n      _delta = time - _self.time * 1000;\n      _self.time = time = time / 1000;\n      _nextTime += overlap + (overlap >= _gap ? 4 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    manual || (_id = _req(_tick)); //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n\n    if (dispatch) {\n      for (_i = 0; _i < _listeners.length; _i++) {\n        // use _i and check _listeners.length instead of a variable because a listener could get removed during the loop, and if that happens to an element less than the current index, it'd throw things off in the loop.\n        _listeners[_i](time, _delta, frame, v);\n      }\n    }\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    deltaRatio: function deltaRatio(fps) {\n      return _delta / (1000 / (fps || 60));\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _raf = _win.requestAnimationFrame;\n\n          _registerPluginQueue.forEach(_createPlugin);\n        }\n\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, _nextTime - _self.time * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || Infinity; // zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag || 33, _lagThreshold);\n    },\n    fps: function fps(_fps) {\n      _gap = 1000 / (_fps || 240);\n      _nextTime = _self.time * 1000 + _gap;\n    },\n    add: function add(callback, once, prioritize) {\n      var func = once ? function (t, d, f, v) {\n        callback(t, d, f, v);\n\n        _self.remove(func);\n      } : callback;\n\n      _self.remove(callback);\n\n      _listeners[prioritize ? \"unshift\" : \"push\"](func);\n\n      _wake();\n\n      return func;\n    },\n    remove: function remove(callback, i) {\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1) && _i >= i && _i--;\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _valueInParentheses = function _valueInParentheses(value) {\n  var open = value.indexOf(\"(\") + 1,\n      close = value.indexOf(\")\"),\n      nested = value.indexOf(\"(\", open);\n  return value.substring(open, ~nested && nested < close ? value.indexOf(\")\", close + 1) : close);\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _valueInParentheses(name).split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos.\n_propagateYoyoEase = function _propagateYoyoEase(timeline, isYoyo) {\n  var child = timeline._first,\n      ease;\n\n  while (child) {\n    if (child instanceof Timeline) {\n      _propagateYoyoEase(child, isYoyo);\n    } else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n      if (child.timeline) {\n        _propagateYoyoEase(child.timeline, isYoyo);\n      } else {\n        ease = child._ease;\n        child._ease = child._yEase;\n        child._yEase = ease;\n        child._yoyo = isYoyo;\n      }\n    }\n\n    child = child._next;\n  }\n},\n    _parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return p === 1 ? 1 : -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\n  return _callbackNames += name + \",\" + name + \"Params,\";\n});\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation = /*#__PURE__*/function () {\n  function Animation(vars) {\n    this.vars = vars;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat === Infinity ? -2 : vars.repeat || 0) {\n      // TODO: repeat: Infinity on a timeline's children must flag that timeline internally and affect its totalDuration, otherwise it'll stop in the negative direction when reaching the start.\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n    }\n\n    this._ts = 1;\n\n    _setDuration(this, +vars.duration, 1, 1);\n\n    this.data = vars.data;\n\n    if (_context) {\n      this._ctx = _context;\n\n      _context.data.push(this);\n    }\n\n    _tickerActive || _ticker.wake();\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    this._dirty = 0;\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this._dp;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      _alignPlayhead(this, _totalTime);\n\n      !parent._dp || parent.parent || _postAddChecks(parent, this); // edge case: if this is a child of a timeline that already completed, for example, we must re-activate the parent.\n      //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n      while (parent && parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && _totalTime < this._tDur || this._ts < 0 && _totalTime > 0 || !this._tDur && !_totalTime)) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(this._dp, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum || !_totalTime && !this._initted && (this.add || this._ptLookup)) {\n      // check for _ptLookup on a Tween instance to ensure it has actually finished being instantiated, otherwise if this.reverse() gets called in the Animation constructor, it could trigger a render() here even though the _targets weren't populated, thus when _init() is called there won't be any PropTweens (it'll act like the tween is non-functional)\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n      //if (!this._lock) { // avoid endless recursion (not sure we need this yet or if it's worth the performance hit)\n      //   this._lock = 1;\n\n      _lazySafeRender(this, _totalTime, suppressEvents); //   this._lock = 0;\n      //}\n\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % (this._dur + this._rDelay) || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  } // potential future addition:\n  // isPlayingBackwards() {\n  // \tlet animation = this,\n  // \t\torientation = 1; // 1 = forward, -1 = backward\n  // \twhile (animation) {\n  // \t\torientation *= animation.reversed() || (animation.repeat() && !(animation.iteration() & 1)) ? -1 : 1;\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn orientation < 0;\n  // }\n  ;\n\n  _proto.timeScale = function timeScale(value) {\n    if (!arguments.length) {\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\n    }\n\n    if (this._rts === value) {\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n    // future addition? Up side: fast and minimal file size. Down side: only works on this animation; if a timeline is reversed, for example, its childrens' onReverse wouldn't get called.\n    //(+value < 0 && this._rts >= 0) && _callback(this, \"onReverse\", true);\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    this._rts = +value || 0;\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\n\n    this.totalTime(_clamp(-Math.abs(this._delay), this._tDur, tTime), true);\n\n    _setEnd(this); // if parent.smoothChildTiming was false, the end time didn't get updated in the _alignPlayhead() method, so do it here.\n\n\n    return _recacheAncestors(this);\n  };\n\n  _proto.paused = function paused(value) {\n    if (!arguments.length) {\n      return this._ps;\n    }\n\n    if (this._ps !== value) {\n      this._ps = value;\n\n      if (value) {\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\n      } else {\n        _wake();\n\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\n\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && Math.abs(this._zTime) !== _tinyNum && (this._tTime -= _tinyNum)); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      this._start = value;\n      var parent = this.parent || this._dp;\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts || 1);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detached parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  };\n\n  _proto.revert = function revert(config) {\n    if (config === void 0) {\n      config = _revertConfig;\n    }\n\n    var prevIsReverting = _reverting;\n    _reverting = config;\n\n    if (this._initted || this._startAt) {\n      this.timeline && this.timeline.revert(config);\n      this.totalTime(-0.01, config.suppressEvents);\n    }\n\n    this.data !== \"nested\" && config.kill !== false && this.kill();\n    _reverting = prevIsReverting;\n    return this;\n  };\n\n  _proto.globalTime = function globalTime(rawTime) {\n    var animation = this,\n        time = arguments.length ? rawTime : animation.rawTime();\n\n    while (animation) {\n      time = animation._start + time / (animation._ts || 1);\n      animation = animation._dp;\n    }\n\n    return !this.parent && this._sat ? this._sat.vars.immediateRender ? -Infinity : this._sat.globalTime(rawTime) : time; // the _startAt tweens for .fromTo() and .from() that have immediateRender should always be FIRST in the timeline (important for context.revert()). \"_sat\" stands for _startAtTween, referring to the parent tween that created the _startAt. We must discern if that tween had immediateRender so that we can know whether or not to prioritize it in revert().\n  };\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value === Infinity ? -2 : value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat === -2 ? Infinity : this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      var time = this._time;\n      this._rDelay = value;\n\n      _onUpdateTotalDuration(this);\n\n      return time ? this.time(time) : this;\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    from != null && this.seek(from, suppressEvents);\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    from != null && this.seek(from || this.totalDuration(), suppressEvents);\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    atTime != null && this.seek(atTime, suppressEvents);\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    if (arguments.length) {\n      !!value !== this.reversed() && this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\n\n      return this;\n    }\n\n    return this._rts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = this._act = 0;\n    this._zTime = -_tinyNum;\n    return this;\n  };\n\n  _proto.isActive = function isActive() {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && this._initted && parent.isActive() && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n        params && (vars[type + \"Params\"] = params);\n        type === \"onUpdate\" && (this._onUpdate = callback);\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: null,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _ps: false,\n  _rts: 1\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline = /*#__PURE__*/function (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, position) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    _globalTimeline && _addToTimeline(vars.parent || _globalTimeline, _assertThisInitialized(_this), position);\n    vars.reversed && _this.reverse();\n    vars.paused && _this.paused(true);\n    vars.scrollTrigger && _scrollTrigger(_assertThisInitialized(_this), vars.scrollTrigger);\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    _createTweenType(0, arguments, this);\n\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    _createTweenType(1, arguments, this);\n\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    _createTweenType(2, arguments, this);\n\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position), 1);\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), position);\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = totalTime <= 0 ? 0 : _roundPrecise(totalTime),\n        // if a paused timeline is resumed (or its _start is updated for another reason...which rounds it), that could result in the playhead shifting a **tiny** amount and a zero-duration child at that spot may get rendered at a different ratio, like its totalTime in render() may be 1e-17 instead of 0, for example.\n    crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n    this !== _globalTimeline && tTime > tDur && totalTime >= 0 && (tTime = tDur);\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        tTime += this._time - prevTime;\n        totalTime += this._time - prevTime;\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = !timeScale;\n\n      if (crossingStart) {\n        dur || (prevTime = this._zTime); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n        (totalTime || !suppressEvents) && (this._zTime = totalTime);\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && totalTime < 0) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _roundPrecise(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n        !prevTime && this._tTime && prevIteration !== iteration && this._tTime - prevIteration * cycleDuration - this._dur <= 0 && (prevIteration = iteration); // edge case - if someone does addPause() at the very beginning of a repeating timeline, that pause is technically at the same spot as the end which causes this._time to get set to 0 when the totalTime would normally place the playhead at the end. See https://greensock.com/forums/topic/23823-closing-nav-animation-not-working-on-ie-and-iphone-6-maybe-other-older-browser/?tab=comments#comment-113005 also, this._tTime - prevIteration * cycleDuration - this._dur <= 0 just checks to make sure it wasn't previously in the \"repeatDelay\" portion\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n          iteration < prevIteration && (rewinding = !rewinding);\n          prevTime = rewinding ? 0 : tTime % dur ? dur : tTime; // if the playhead is landing exactly at the end of an iteration, use that totalTime rather than only the duration, otherwise it'll skip the 2nd render since it's effectively at the same time.\n\n          this._lock = 1;\n          this.render(prevTime || (isYoyo ? 0 : _roundPrecise(iteration * cycleDuration)), suppressEvents, !dur)._lock = 0;\n          this._tTime = tTime; // if a user gets the iteration() inside the onRepeat, for example, it should be accurate.\n\n          !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\n\n          if (prevTime && prevTime !== this._time || prevPaused !== !this._ts || this.vars.onRepeat && !this.parent && !this._act) {\n            // if prevTime is 0 and we render at the very end, _time will be the end, thus won't match. So in this edge case, prevTime won't match _time but that's okay. If it gets killed in the onRepeat, eject as well.\n            return this;\n          }\n\n          dur = this._dur; // in case the duration changed in the onRepeat\n\n          tDur = this._tDur;\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur : -0.0001;\n            this.render(prevTime, true);\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n\n\n          _propagateYoyoEase(this, isYoyo);\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _roundPrecise(prevTime), _roundPrecise(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n        this._zTime = totalTime;\n        prevTime = 0; // upon init, the playhead should always go forward; someone could invalidate() a completed timeline and then if they restart(), that would make child tweens render in reverse order which could lock in the wrong starting values if they build on each other, like tl.to(obj, {x: 100}).to(obj, {x: 0}).\n      }\n\n      if (!prevTime && time && !suppressEvents && !iteration) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force || _reverting && (child._initted || child._startAt)); // if reverting, we should always force renders of initted tweens (but remember that .fromTo() or .from() may have a _startAt but not _initted yet). If, for example, a .fromTo() tween with a stagger (which creates an internal timeline) gets reverted BEFORE some of its child tweens render for the first time, it may not properly trigger them to revert.\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          _setEnd(this);\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._onUpdate && !suppressEvents && _callback(this, \"onUpdate\", true);\n      if (tTime === tDur && this._tTime >= this.totalDuration() || !tTime && prevTime) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        // remember, a child's callback may alter this timeline's playhead or timeScale which is why we need to add some of these checks.\n        (totalTime || !dur) && (tTime === tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime || !tDur)) {\n          _callback(this, tTime === tDur && totalTime >= 0 ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    _isNumber(position) || (position = _parsePosition(this, position, child));\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return this;\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  };\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          tweens && a.push(child);\n        } else {\n          timelines && a.push(child);\n          nested && a.push.apply(a, child.getChildren(true, tweens, timelines));\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _roundPrecise(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        isGlobalTime = _isNumber(onlyActive),\n        // a number is interpreted as a global time. If the animation spans\n    children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (isGlobalTime ? (!_overwritingTween || child._initted && child._ts) && child.globalTime(0) <= onlyActive && child.globalTime(child.totalDuration()) > onlyActive : !onlyActive || child.isActive())) {\n          // note: if this is for overwriting, it should only be for tweens that aren't paused and are initted.\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  } // potential future feature - targets() on timelines\n  // targets() {\n  // \tlet result = [];\n  // \tthis.getChildren(true, true, false).forEach(t => result.push(...t.targets()));\n  // \treturn result.filter((v, i) => result.indexOf(v) === i);\n  // }\n  ;\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    vars = vars || {};\n\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        _vars = vars,\n        startAt = _vars.startAt,\n        _onStart = _vars.onStart,\n        onStartParams = _vars.onStartParams,\n        immediateRender = _vars.immediateRender,\n        initted,\n        tween = Tween.to(tl, _setDefaults({\n      ease: vars.ease || \"none\",\n      lazy: false,\n      immediateRender: false,\n      time: endTime,\n      overwrite: \"auto\",\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n\n        if (!initted) {\n          var duration = vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale());\n          tween._dur !== duration && _setDuration(tween, duration, 0, 1).render(tween._time, true, true);\n          initted = 1;\n        }\n\n        _onStart && _onStart.apply(tween, onStartParams || []); //in case the user had an onStart in the vars - we don't want to overwrite it.\n      }\n    }, vars));\n\n    return immediateRender ? tween.render(0) : tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n        child._end += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate(soft) {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate(soft);\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this, soft);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._dp && (this._time = this._tTime = this._pTime = 0);\n    includeLabels && (this.labels = {});\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        prev,\n        start,\n        parent;\n\n    if (arguments.length) {\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\n    }\n\n    if (self._dirty) {\n      parent = self.parent;\n\n      while (child) {\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n        child._dirty && child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n\n        start = child._start;\n\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\n        } else {\n          prevStart = start;\n        }\n\n        if (start < 0 && child._ts) {\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n          max -= start;\n\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\n            self._start += start / self._ts;\n            self._time -= start;\n            self._tTime -= start;\n          }\n\n          self.shiftChildren(-start, false, -1e999);\n          prevStart = 0;\n        }\n\n        child._end > max && child._ts && (max = child._end);\n        child = prev;\n      }\n\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : max, 1, 1);\n\n      self._dirty = 0;\n    }\n\n    return self._tDur;\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        child || _ticker.sleep();\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? _parseRelative(startNum, endNum) - startNum : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam, optional) {\n  _isFunction(end) && (end = end(index || 0, target, targets));\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      pt = _parseRelative(parsedStart, end) + (getUnit(parsedStart) || 0);\n\n      if (pt || pt === 0) {\n        // to avoid isNaN, like if someone passes in a value like \"!= whatever\"\n        end = pt;\n      }\n    }\n  }\n\n  if (!optional || parsedStart !== end || _forceAllPropTweens) {\n    if (!isNaN(parsedStart * end) && end !== \"\") {\n      // fun fact: any number multiplied by \"\" is evaluated as the number 0!\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n      funcParam && (pt.fp = funcParam);\n      modifier && pt.modifier(modifier, this, target);\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  _isFunction(vars) && (vars = _parseFuncOrString(vars, tween, index, target, targets));\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars) || _isTypedArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_forceAllPropTweens,\n    _initTween = function _initTween(tween, time, tTime) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      onUpdateParams = vars.onUpdateParams,\n      callbackScope = vars.callbackScope,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.vars.targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\" && !_suppressOverwrites,\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars,\n      overwritten;\n  tl && (!keyframes || !ease) && (ease = \"none\");\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  if (!tl || keyframes && !vars.stagger) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n\n    if (prevStartAt) {\n      prevStartAt._zTime < 0 && prevStartAt.progress(1); // in case it's a lazy startAt that hasn't rendered yet.\n\n      time < 0 && runBackwards && immediateRender && !autoRevert ? prevStartAt.render(-1, true) : prevStartAt.revert(runBackwards && dur ? _revertConfigNoKill : _startAtRevertConfig); // if it's a \"startAt\" (not \"from()\" or runBackwards: true), we only need to do a shallow revert (keep transforms cached in CSSPlugin)\n      // don't just _removeFromParent(prevStartAt.render(-1, true)) because that'll leave inline styles. We're creating a new _startAt for \"startAt\" tweens that re-capture things to ensure that if the pre-tween values changed since the tween was created, they're recorded.\n\n      prevStartAt._lazy = 0;\n    }\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: !prevStartAt && _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate,\n        onUpdateParams: onUpdateParams,\n        callbackScope: callbackScope,\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      tween._startAt._dp = 0; // don't allow it to get put back into root timeline! Like when revert() is called and totalTime() gets set.\n\n      tween._startAt._sat = tween; // used in globalTime(). _sat stands for _startAtTween\n\n      time < 0 && (_reverting || !immediateRender && !autoRevert) && tween._startAt.revert(_revertConfigNoKill); // rare edge case, like if a render is forced in the negative direction of a non-initted tween.\n\n      if (immediateRender) {\n        if (dur && time <= 0 && tTime <= 0) {\n          // check tTime here because in the case of a yoyo tween whose playhead gets pushed to the end like tween.progress(1), we should allow it through so that the onComplete gets fired properly.\n          time && (tween._zTime = time);\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        }\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (!prevStartAt) {\n        time && (immediateRender = false); //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n\n        p = _setDefaults({\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && !prevStartAt && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y: gsap.utils.wrap([-100,100]), stagger: 0.5})\n\n        }, cleanVars);\n        harnessVars && (p[harness.prop] = harnessVars); // in case someone does something like .from(..., {css:{}})\n\n        _removeFromParent(tween._startAt = Tween.set(targets, p));\n\n        tween._startAt._dp = 0; // don't allow it to get put back into root timeline!\n\n        tween._startAt._sat = tween; // used in globalTime()\n\n        time < 0 && (_reverting ? tween._startAt.revert(_revertConfigNoKill) : tween._startAt.render(-1, true));\n        tween._zTime = time;\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    tween._pt = tween._ptCache = 0;\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n      _lazyLookup[gsData.id] && _lazyTweens.length && _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        plugin.priority && (hasPriority = 1);\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            plugin.priority && (hasPriority = 1);\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      tween._op && tween._op[i] && tween.kill(target, tween._op[i]);\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, tween.globalTime(time)); // make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        overwritten = !tween.parent;\n        _overwritingTween = 0;\n      }\n\n      tween._pt && lazy && (_lazyLookup[gsData.id] = 1);\n    }\n\n    hasPriority && _sortPropTweensByPriority(tween);\n    tween._onInit && tween._onInit(tween); //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n  }\n\n  tween._onUpdate = onUpdate;\n  tween._initted = (!tween._op || tween._pt) && !overwritten; // if overwrittenProps resulted in the entire tween being killed, do NOT flag it as initted or else it may render for one tick.\n\n  keyframes && time <= 0 && tl.render(_bigNum, true, true); // if there's a 0% keyframe, it'll render in the \"before\" state for any staggered/delayed animations thus when the following tween initializes, it'll use the \"before\" state instead of the \"after\" state as the initial values.\n},\n    _updatePropTweens = function _updatePropTweens(tween, property, value, start, startIsRelative, ratio, time) {\n  var ptCache = (tween._pt && tween._ptCache || (tween._ptCache = {}))[property],\n      pt,\n      rootPT,\n      lookup,\n      i;\n\n  if (!ptCache) {\n    ptCache = tween._ptCache[property] = [];\n    lookup = tween._ptLookup;\n    i = tween._targets.length;\n\n    while (i--) {\n      pt = lookup[i][property];\n\n      if (pt && pt.d && pt.d._pt) {\n        // it's a plugin, so find the nested PropTween\n        pt = pt.d._pt;\n\n        while (pt && pt.p !== property && pt.fp !== property) {\n          // \"fp\" is functionParam for things like setting CSS variables which require .setProperty(\"--var-name\", value)\n          pt = pt._next;\n        }\n      }\n\n      if (!pt) {\n        // there is no PropTween associated with that property, so we must FORCE one to be created and ditch out of this\n        // if the tween has other properties that already rendered at new positions, we'd normally have to rewind to put them back like tween.render(0, true) before forcing an _initTween(), but that can create another edge case like tweening a timeline's progress would trigger onUpdates to fire which could move other things around. It's better to just inform users that .resetTo() should ONLY be used for tweens that already have that property. For example, you can't gsap.to(...{ y: 0 }) and then tween.restTo(\"x\", 200) for example.\n        _forceAllPropTweens = 1; // otherwise, when we _addPropTween() and it finds no change between the start and end values, it skips creating a PropTween (for efficiency...why tween when there's no difference?) but in this case we NEED that PropTween created so we can edit it.\n\n        tween.vars[property] = \"+=0\";\n\n        _initTween(tween, time);\n\n        _forceAllPropTweens = 0;\n        return 1;\n      }\n\n      ptCache.push(pt);\n    }\n  }\n\n  i = ptCache.length;\n\n  while (i--) {\n    rootPT = ptCache[i];\n    pt = rootPT._pt || rootPT; // complex values may have nested PropTweens. We only accommodate the FIRST value.\n\n    pt.s = (start || start === 0) && !startIsRelative ? start : pt.s + (start || 0) + ratio * pt.c;\n    pt.c = value - pt.s;\n    rootPT.e && (rootPT.e = _round(value) + getUnit(rootPT.e)); // mainly for CSSPlugin (end value)\n\n    rootPT.b && (rootPT.b = pt.s + getUnit(rootPT.b)); // (beginning value)\n  }\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    // parses multiple formats, like {\"0%\": {x: 100}, {\"50%\": {x: -20}} and { x: {\"0%\": 100, \"50%\": -20} }, and an \"ease\" can be set on any object. We populate an \"allProps\" object with an Array for each property, like {x: [{}, {}], y:[{}, {}]} with data for each property tween. The objects have a \"t\" (time), \"v\", (value), and \"e\" (ease) property. This allows us to piece together a timeline later.\n_parseKeyframe = function _parseKeyframe(prop, obj, allProps, easeEach) {\n  var ease = obj.ease || easeEach || \"power1.inOut\",\n      p,\n      a;\n\n  if (_isArray(obj)) {\n    a = allProps[prop] || (allProps[prop] = []); // t = time (out of 100), v = value, e = ease\n\n    obj.forEach(function (value, i) {\n      return a.push({\n        t: i / (obj.length - 1) * 100,\n        v: value,\n        e: ease\n      });\n    });\n  } else {\n    for (p in obj) {\n      a = allProps[p] || (allProps[p] = []);\n      p === \"ease\" || a.push({\n        t: parseFloat(prop),\n        v: obj[p],\n        e: ease\n      });\n    }\n  }\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert\",\n    _staggerPropsToSkip = {};\n\n_forEachName(_staggerTweenProps + \",id,stagger,delay,duration,paused,scrollTrigger\", function (name) {\n  return _staggerPropsToSkip[name] = 1;\n});\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween = /*#__PURE__*/function (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, position, skipInherit) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      position.duration = vars;\n      vars = position;\n      position = null;\n    }\n\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars)) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        scrollTrigger = _this3$vars.scrollTrigger,\n        yoyoEase = _this3$vars.yoyoEase,\n        parent = vars.parent || _globalTimeline,\n        parsedTargets = (_isArray(targets) || _isTypedArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {},\n        targets: parent && parent.data === \"nested\" ? parent.vars.targets : parsedTargets\n      }); // we need to store the targets because for staggers and keyframes, we end up creating an individual tween for each but function-based values need to know the index and the whole Array of targets.\n\n      tl.kill();\n      tl.parent = tl._dp = _assertThisInitialized(_this3);\n      tl._start = 0;\n\n      if (stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n        l = parsedTargets.length;\n        staggerFunc = stagger && distribute(stagger);\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              staggerVarsToMerge || (staggerVarsToMerge = {});\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = _copyExcluding(vars, _staggerPropsToSkip);\n          copy.stagger = 0;\n          yoyoEase && (copy.yoyoEase = yoyoEase);\n          staggerVarsToMerge && _merge(copy, staggerVarsToMerge);\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc ? staggerFunc(i, curTarget, parsedTargets) : 0);\n          tl._ease = _easeMap.none;\n        }\n\n        tl.duration() ? duration = delay = 0 : _this3.timeline = 0; // if the timeline's duration is 0, we don't need a timeline internally!\n      } else if (keyframes) {\n        _inheritDefaults(_setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        }));\n\n        tl._ease = _parseEase(keyframes.ease || vars.ease || \"none\");\n        var time = 0,\n            a,\n            kf,\n            v;\n\n        if (_isArray(keyframes)) {\n          keyframes.forEach(function (frame) {\n            return tl.to(parsedTargets, frame, \">\");\n          });\n          tl.duration(); // to ensure tl._dur is cached because we tap into it for performance purposes in the render() method.\n        } else {\n          copy = {};\n\n          for (p in keyframes) {\n            p === \"ease\" || p === \"easeEach\" || _parseKeyframe(p, keyframes[p], copy, keyframes.easeEach);\n          }\n\n          for (p in copy) {\n            a = copy[p].sort(function (a, b) {\n              return a.t - b.t;\n            });\n            time = 0;\n\n            for (i = 0; i < a.length; i++) {\n              kf = a[i];\n              v = {\n                ease: kf.e,\n                duration: (kf.t - (i ? a[i - 1].t : 0)) / 100 * duration\n              };\n              v[p] = kf.v;\n              tl.to(parsedTargets, v, time);\n              time += v.duration;\n            }\n          }\n\n          tl.duration() < duration && tl.to({}, {\n            duration: duration - tl.duration()\n          }); // in case keyframes didn't go to 100%\n        }\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true && !_suppressOverwrites) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    _addToTimeline(parent, _assertThisInitialized(_this3), position);\n\n    vars.reversed && _this3.reverse();\n    vars.paused && _this3.paused(true);\n\n    if (immediateRender || !duration && !keyframes && _this3._start === _roundPrecise(parent._time) && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay) || 0); //in case delay is negative\n\n    }\n\n    scrollTrigger && _scrollTrigger(_assertThisInitialized(_this3), scrollTrigger);\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        isNegative = totalTime < 0,\n        tTime = totalTime > tDur - _tinyNum && !isNegative ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || !this._initted && this._tTime || this._startAt && this._zTime < 0 !== isNegative) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && isNegative) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _roundPrecise(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          this._tTime = tTime;\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo); //repeatRefresh functionality\n\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(_roundPrecise(cycleDuration * iteration), true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted) {\n        if (_attemptInitTween(this, isNegative ? totalTime : time, force, suppressEvents, tTime)) {\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n          return this;\n        }\n\n        if (prevTime !== this._time) {\n          // rare edge case - during initialization, an onUpdate in the _startAt (.fromTo()) might force this tween to render at a different spot in which case we should ditch this render() call so that it doesn't revert the values.\n          return this;\n        }\n\n        if (dur !== this._dur) {\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      if (time && !prevTime && !suppressEvents && !iteration) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * timeline._ease(time / this._dur), suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        isNegative && _rewindStartAt(this, totalTime, suppressEvents, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        _callback(this, \"onUpdate\");\n      }\n\n      this._repeat && iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        isNegative && !this._onUpdate && _rewindStartAt(this, totalTime, true, true);\n        (totalTime || !dur) && (tTime === this._tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(isNegative && !prevTime) && (tTime || prevTime || isYoyo)) {\n          // if prevTime and tTime are zero, we shouldn't fire the onReverseComplete. This could happen if you gsap.to(... {paused:true}).play();\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate(soft) {\n    // \"soft\" gives us a way to clear out everything EXCEPT the recorded pre-\"from\" portion of from() tweens. Otherwise, for example, if you tween.progress(1).render(0, true true).invalidate(), the \"from\" values would persist and then on the next render, the from() tweens would initialize and the current value would match the \"from\" values, thus animate from the same value to the same value (no animation). We tap into this in ScrollTrigger's refresh() where we must push a tween to completion and then back again but honor its init state in case the tween is dependent on another tween further up on the page.\n    (!soft || !this.vars.runBackwards) && (this._startAt = 0);\n    this._pt = this._op = this._onUpdate = this._lazy = this.ratio = 0;\n    this._ptLookup = [];\n    this.timeline && this.timeline.invalidate(soft);\n    return _Animation2.prototype.invalidate.call(this, soft);\n  };\n\n  _proto3.resetTo = function resetTo(property, value, start, startIsRelative) {\n    _tickerActive || _ticker.wake();\n    this._ts || this.play();\n    var time = Math.min(this._dur, (this._dp._time - this._start) * this._ts),\n        ratio;\n    this._initted || _initTween(this, time);\n    ratio = this._ease(time / this._dur); // don't just get tween.ratio because it may not have rendered yet.\n    // possible future addition to allow an object with multiple values to update, like tween.resetTo({x: 100, y: 200}); At this point, it doesn't seem worth the added kb given the fact that most users will likely opt for the convenient gsap.quickTo() way of interacting with this method.\n    // if (_isObject(property)) { // performance optimization\n    // \tfor (p in property) {\n    // \t\tif (_updatePropTweens(this, p, property[p], value ? value[p] : null, start, ratio, time)) {\n    // \t\t\treturn this.resetTo(property, value, start, startIsRelative); // if a PropTween wasn't found for the property, it'll get forced with a re-initialization so we need to jump out and start over again.\n    // \t\t}\n    // \t}\n    // } else {\n\n    if (_updatePropTweens(this, property, value, start, startIsRelative, ratio, time)) {\n      return this.resetTo(property, value, start, startIsRelative); // if a PropTween wasn't found for the property, it'll get forced with a re-initialization so we need to jump out and start over again.\n    } //}\n\n\n    _alignPlayhead(this, 0);\n\n    this.parent || _addLinkedListItem(this._dp, this, \"_first\", \"_last\", this._dp._sort ? \"_start\" : 0);\n    return this.render(0);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = this._pt = 0;\n      return this.parent ? _interrupt(this) : this;\n    }\n\n    if (this.timeline) {\n      var tDur = this.timeline.totalDuration();\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true)._first || _interrupt(this); // if nothing is left tweening, interrupt.\n\n      this.parent && tDur !== this.timeline.totalDuration() && _setDuration(this, this._dur * this.timeline._tDur / tDur, 0, 1); // if a nested tween is killed that changes the duration, it should affect this tween's duration. We must use the ratio, though, because sometimes the internal timeline is stretched like for keyframes where they don't all add up to whatever the parent tween's duration was set to.\n\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      vars === \"all\" && (this._pt = 0);\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    this._initted && !this._pt && firstPT && _interrupt(this); //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return _createTweenType(1, arguments);\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    }); // we must use onReverseComplete too for things like timeline.add(() => {...}) which should be triggered in BOTH directions (forward and reverse)\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return _createTweenType(2, arguments);\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n    vars.repeatDelay || (vars.repeat = 0);\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 1000000) / 1000000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n    pt.p === property && pt.modifier(modifier, tween, target);\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween = /*#__PURE__*/function () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger\", function (name) {\n  return _reservedProps[name] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\",\n  smoothChildTiming: true\n});\n_config.stringFilter = _colorStringFilter;\n\nvar _media = [],\n    _listeners = {},\n    _emptyArray = [],\n    _lastMediaTime = 0,\n    _contextID = 0,\n    _dispatch = function _dispatch(type) {\n  return (_listeners[type] || _emptyArray).map(function (f) {\n    return f();\n  });\n},\n    _onMediaChange = function _onMediaChange() {\n  var time = Date.now(),\n      matches = [];\n\n  if (time - _lastMediaTime > 2) {\n    _dispatch(\"matchMediaInit\");\n\n    _media.forEach(function (c) {\n      var queries = c.queries,\n          conditions = c.conditions,\n          match,\n          p,\n          anyMatch,\n          toggled;\n\n      for (p in queries) {\n        match = _win.matchMedia(queries[p]).matches; // Firefox doesn't update the \"matches\" property of the MediaQueryList object correctly - it only does so as it calls its change handler - so we must re-create a media query here to ensure it's accurate.\n\n        match && (anyMatch = 1);\n\n        if (match !== conditions[p]) {\n          conditions[p] = match;\n          toggled = 1;\n        }\n      }\n\n      if (toggled) {\n        c.revert();\n        anyMatch && matches.push(c);\n      }\n    });\n\n    _dispatch(\"matchMediaRevert\");\n\n    matches.forEach(function (c) {\n      return c.onMatch(c);\n    });\n    _lastMediaTime = time;\n\n    _dispatch(\"matchMedia\");\n  }\n};\n\nvar Context = /*#__PURE__*/function () {\n  function Context(func, scope) {\n    this.selector = scope && selector(scope);\n    this.data = [];\n    this._r = []; // returned/cleanup functions\n\n    this.isReverted = false;\n    this.id = _contextID++; // to work around issues that frameworks like Vue cause by making things into Proxies which make it impossible to do something like _media.indexOf(this) because \"this\" would no longer refer to the Context instance itself - it'd refer to a Proxy! We needed a way to identify the context uniquely\n\n    func && this.add(func);\n  }\n\n  var _proto5 = Context.prototype;\n\n  _proto5.add = function add(name, func, scope) {\n    // possible future addition if we need the ability to add() an animation to a context and for whatever reason cannot create that animation inside of a context.add(() => {...}) function.\n    // if (name && _isFunction(name.revert)) {\n    // \tthis.data.push(name);\n    // \treturn (name._ctx = this);\n    // }\n    if (_isFunction(name)) {\n      scope = func;\n      func = name;\n      name = _isFunction;\n    }\n\n    var self = this,\n        f = function f() {\n      var prev = _context,\n          prevSelector = self.selector,\n          result;\n      prev && prev !== self && prev.data.push(self);\n      scope && (self.selector = selector(scope));\n      _context = self;\n      result = func.apply(self, arguments);\n      _isFunction(result) && self._r.push(result);\n      _context = prev;\n      self.selector = prevSelector;\n      self.isReverted = false;\n      return result;\n    };\n\n    self.last = f;\n    return name === _isFunction ? f(self) : name ? self[name] = f : f;\n  };\n\n  _proto5.ignore = function ignore(func) {\n    var prev = _context;\n    _context = null;\n    func(this);\n    _context = prev;\n  };\n\n  _proto5.getTweens = function getTweens() {\n    var a = [];\n    this.data.forEach(function (e) {\n      return e instanceof Context ? a.push.apply(a, e.getTweens()) : e instanceof Tween && !(e.parent && e.parent.data === \"nested\") && a.push(e);\n    });\n    return a;\n  };\n\n  _proto5.clear = function clear() {\n    this._r.length = this.data.length = 0;\n  };\n\n  _proto5.kill = function kill(revert, matchMedia) {\n    var _this4 = this;\n\n    if (revert) {\n      var tweens = this.getTweens();\n      this.data.forEach(function (t) {\n        // Flip plugin tweens are very different in that they should actually be pushed to their end. The plugin replaces the timeline's .revert() method to do exactly that. But we also need to remove any of those nested tweens inside the flip timeline so that they don't get individually reverted.\n        if (t.data === \"isFlip\") {\n          t.revert();\n          t.getChildren(true, true, false).forEach(function (tween) {\n            return tweens.splice(tweens.indexOf(tween), 1);\n          });\n        }\n      }); // save as an object so that we can cache the globalTime for each tween to optimize performance during the sort\n\n      tweens.map(function (t) {\n        return {\n          g: t.globalTime(0),\n          t: t\n        };\n      }).sort(function (a, b) {\n        return b.g - a.g || -Infinity;\n      }).forEach(function (o) {\n        return o.t.revert(revert);\n      }); // note: all of the _startAt tweens should be reverted in reverse order that they were created, and they'll all have the same globalTime (-1) so the \" || -1\" in the sort keeps the order properly.\n\n      this.data.forEach(function (e) {\n        return !(e instanceof Tween) && e.revert && e.revert(revert);\n      });\n\n      this._r.forEach(function (f) {\n        return f(revert, _this4);\n      });\n\n      this.isReverted = true;\n    } else {\n      this.data.forEach(function (e) {\n        return e.kill && e.kill();\n      });\n    }\n\n    this.clear();\n\n    if (matchMedia) {\n      var i = _media.length;\n\n      while (i--) {\n        // previously, we checked _media.indexOf(this), but some frameworks like Vue enforce Proxy objects that make it impossible to get the proper result that way, so we must use a unique ID number instead.\n        _media[i].id === this.id && _media.splice(i, 1);\n      }\n    }\n  };\n\n  _proto5.revert = function revert(config) {\n    this.kill(config || {});\n  };\n\n  return Context;\n}();\n\nvar MatchMedia = /*#__PURE__*/function () {\n  function MatchMedia(scope) {\n    this.contexts = [];\n    this.scope = scope;\n  }\n\n  var _proto6 = MatchMedia.prototype;\n\n  _proto6.add = function add(conditions, func, scope) {\n    _isObject(conditions) || (conditions = {\n      matches: conditions\n    });\n    var context = new Context(0, scope || this.scope),\n        cond = context.conditions = {},\n        mq,\n        p,\n        active;\n    _context && !context.selector && (context.selector = _context.selector); // in case a context is created inside a context. Like a gsap.matchMedia() that's inside a scoped gsap.context()\n\n    this.contexts.push(context);\n    func = context.add(\"onMatch\", func);\n    context.queries = conditions;\n\n    for (p in conditions) {\n      if (p === \"all\") {\n        active = 1;\n      } else {\n        mq = _win.matchMedia(conditions[p]);\n\n        if (mq) {\n          _media.indexOf(context) < 0 && _media.push(context);\n          (cond[p] = mq.matches) && (active = 1);\n          mq.addListener ? mq.addListener(_onMediaChange) : mq.addEventListener(\"change\", _onMediaChange);\n        }\n      }\n    }\n\n    active && func(context);\n    return this;\n  } // refresh() {\n  // \tlet time = _lastMediaTime,\n  // \t\tmedia = _media;\n  // \t_lastMediaTime = -1;\n  // \t_media = this.contexts;\n  // \t_onMediaChange();\n  // \t_lastMediaTime = time;\n  // \t_media = media;\n  // }\n  ;\n\n  _proto6.revert = function revert(config) {\n    this.kill(config || {});\n  };\n\n  _proto6.kill = function kill(revert) {\n    this.contexts.forEach(function (c) {\n      return c.kill(revert, true);\n    });\n  };\n\n  return MatchMedia;\n}();\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    _isString(target) && (target = toArray(target)[0]); //in case selector text or an array is passed in\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    unit === \"native\" && (unit = \"\");\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        p = cache.harness && (cache.harness.aliases || {})[property] || property,\n        // in case it's an alias, like \"rotate\" for \"rotation\".\n    setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, p);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, p, unit ? value + unit : value, cache, 1);\n    };\n  },\n  quickTo: function quickTo(target, property, vars) {\n    var _merge2;\n\n    var tween = gsap.to(target, _merge((_merge2 = {}, _merge2[property] = \"+=0.1\", _merge2.paused = true, _merge2), vars || {})),\n        func = function func(value, start, startIsRelative) {\n      return tween.resetTo(property, value, start, startIsRelative);\n    };\n\n    func.tween = tween;\n    return func;\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    value && value.ease && (value.ease = _parseEase(value.ease, _defaults.ease));\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref3) {\n    var name = _ref3.name,\n        effect = _ref3.effect,\n        plugins = _ref3.plugins,\n        defaults = _ref3.defaults,\n        extendTimeline = _ref3.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars, tl) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  context: function context(func, scope) {\n    return func ? new Context(func, scope) : _context;\n  },\n  matchMedia: function matchMedia(scope) {\n    return new MatchMedia(scope);\n  },\n  matchMediaRefresh: function matchMediaRefresh() {\n    return _media.forEach(function (c) {\n      var cond = c.conditions,\n          found,\n          p;\n\n      for (p in cond) {\n        if (cond[p]) {\n          cond[p] = false;\n          found = 1;\n        }\n      }\n\n      found && c.revert();\n    }) || _onMediaChange();\n  },\n  addEventListener: function addEventListener(type, callback) {\n    var a = _listeners[type] || (_listeners[type] = []);\n    ~a.indexOf(callback) || a.push(callback);\n  },\n  removeEventListener: function removeEventListener(type, callback) {\n    var a = _listeners[type],\n        i = a && a.indexOf(callback);\n    i >= 0 && a.splice(i, 1);\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    selector: selector,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache,\n    _removeLinkedListItem: _removeLinkedListItem,\n    reverting: function reverting() {\n      return _reverting;\n    },\n    context: function context(toAdd) {\n      if (toAdd && _context) {\n        _context.data.push(toAdd);\n\n        toAdd._ctx = _context;\n      }\n\n      return _context;\n    },\n    suppressOverwrites: function suppressOverwrites(value) {\n      return _suppressOverwrites = value;\n    }\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    var p, pt, v;\n    this.tween = tween;\n\n    for (p in vars) {\n      v = target.getAttribute(p) || \"\";\n      pt = this.add(target, \"setAttribute\", (v || 0) + \"\", vars[p], index, targets, 0, 0, p);\n      pt.op = p;\n      pt.b = v; // record the beginning value so we can revert()\n\n      this._props.push(p);\n    }\n  },\n  render: function render(ratio, data) {\n    var pt = data._pt;\n\n    while (pt) {\n      _reverting ? pt.set(pt.t, pt.p, pt.b, pt) : pt.r(ratio, pt.d); // if reverting, go back to the original (pt.b)\n\n      pt = pt._next;\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i], 0, 0, 0, 0, 0, 1);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.12.2\";\n_coreReady = 1;\n_windowExists() && _wake();\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, selector, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache, _colorExp, _parseRelative };","/*!\n * CSSPlugin 3.12.2\n * https://greensock.com\n *\n * Copyright 2008-2023, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _colorExp, _parseRelative, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _reverting,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _horizontalExp = /(left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _saveStyle = function _saveStyle(property, isNotCSS) {\n  var _this = this;\n\n  var target = this.target,\n      style = target.style;\n\n  if (property in _transformProps && style) {\n    this.tfm = this.tfm || {};\n\n    if (property !== \"transform\") {\n      property = _propertyAliases[property] || property;\n      ~property.indexOf(\",\") ? property.split(\",\").forEach(function (a) {\n        return _this.tfm[a] = _get(target, a);\n      }) : this.tfm[property] = target._gsap.x ? target._gsap[property] : _get(target, property); // note: scale would map to \"scaleX,scaleY\", thus we loop and apply them both.\n    } else {\n      return _propertyAliases.transform.split(\",\").forEach(function (p) {\n        return _saveStyle.call(_this, p, isNotCSS);\n      });\n    }\n\n    if (this.props.indexOf(_transformProp) >= 0) {\n      return;\n    }\n\n    if (target._gsap.svg) {\n      this.svgo = target.getAttribute(\"data-svg-origin\");\n      this.props.push(_transformOriginProp, isNotCSS, \"\");\n    }\n\n    property = _transformProp;\n  }\n\n  (style || isNotCSS) && this.props.push(property, isNotCSS, style[property]);\n},\n    _removeIndependentTransforms = function _removeIndependentTransforms(style) {\n  if (style.translate) {\n    style.removeProperty(\"translate\");\n    style.removeProperty(\"scale\");\n    style.removeProperty(\"rotate\");\n  }\n},\n    _revertStyle = function _revertStyle() {\n  var props = this.props,\n      target = this.target,\n      style = target.style,\n      cache = target._gsap,\n      i,\n      p;\n\n  for (i = 0; i < props.length; i += 3) {\n    // stored like this: property, isNotCSS, value\n    props[i + 1] ? target[props[i]] = props[i + 2] : props[i + 2] ? style[props[i]] = props[i + 2] : style.removeProperty(props[i].substr(0, 2) === \"--\" ? props[i] : props[i].replace(_capsExp, \"-$1\").toLowerCase());\n  }\n\n  if (this.tfm) {\n    for (p in this.tfm) {\n      cache[p] = this.tfm[p];\n    }\n\n    if (cache.svg) {\n      cache.renderTransform();\n      target.setAttribute(\"data-svg-origin\", this.svgo || \"\");\n    }\n\n    i = _reverting();\n\n    if ((!i || !i.isStart) && !style[_transformProp]) {\n      _removeIndependentTransforms(style);\n\n      cache.uncache = 1; // if it's a startAt that's being reverted in the _initTween() of the core, we don't need to uncache transforms. This is purely a performance optimization.\n    }\n  }\n},\n    _getStyleSaver = function _getStyleSaver(target, properties) {\n  var saver = {\n    target: target,\n    props: [],\n    revert: _revertStyle,\n    save: _saveStyle\n  };\n  target._gsap || gsap.core.getCache(target); // just make sure there's a _gsap cache defined because we read from it in _saveStyle() and it's more efficient to just check it here once.\n\n  properties && properties.split(\",\").forEach(function (p) {\n    return saver.save(p);\n  });\n  return saver;\n},\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s && !preferPrefix) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists() && window.document) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _transformProp + \"Origin\";\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _reverting = gsap.core.reverting;\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldParent) {\n    if (oldSibling) {\n      oldParent.insertBefore(this, oldSibling);\n    } else {\n      oldParent.appendChild(this);\n    }\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  }\n\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style;\n\n    if (property in _transformProps && property !== _transformOriginProp) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    _nonStandardLayouts = {\n  grid: 1,\n  flex: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      toPercent = unit === \"%\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\n  isSVG = target.getCTM && _isSVG(target);\n\n  if ((toPercent || curUnit === \"%\") && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    px = isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty];\n    return _round(toPercent ? curValue / px * amount : curValue / 100 * px);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time && !cache.uncache) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    (toPercent || curUnit === \"%\") && !_nonStandardLayouts[_getComputedProperty(parent, \"display\")] && (style.position = _getComputedProperty(target, \"position\"));\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n    parent.appendChild(_tempDiv);\n    px = _tempDiv[measureProperty];\n    parent.removeChild(_tempDiv);\n    style.position = \"absolute\";\n\n    if (horizontal && toPercent) {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n  _pluginInitted || _initCore();\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : value.svg ? value.origin : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").trim().indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  // note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  if (!start || start === \"none\") {\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://greensock.com/forums/topic/18310-clippath-doesnt-work-on-ios/\n    var p = _checkPropPrefix(prop, target, 1),\n        s = p && _getComputedProperty(target, p, 1);\n\n    if (s && s !== start) {\n      prop = p;\n      start = s;\n    } else if (prop === \"borderColor\") {\n      start = _getComputedProperty(target, \"borderTopColor\"); // Firefox bug: always reports \"borderColor\" as \"\", so we must fall back to borderTopColor. See https://greensock.com/forums/topic/24583-how-to-return-colors-that-i-had-after-reverse/\n    }\n  }\n\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; // ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    target.style[prop] = start;\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); // pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\n\n\n  start = a[0];\n  end = a[1];\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        endValue.charAt(1) === \"=\" && (endValue = _parseRelative(startNum, endValue) + startUnit);\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } // these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: endNum - startNum,\n          m: color && color < 4 || prop === \"zIndex\" ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  _relExp.test(end) && (pt.e = 0); //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        cache = target._gsap,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      if (cache) {\n        cache.svg && target.removeAttribute(\"transform\");\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n\n        cache.uncache = 1;\n\n        _removeIndependentTransforms(style);\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap || _getCache(target),\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !target.offsetParent) {\n      // note: in 3.3.0 we switched target.offsetParent to _doc.body.contains(target) to avoid [sometimes unnecessary] MutationObserver calls but that wasn't adequate because there are edge cases where nested position: fixed elements need to get reparented to accurately sense transforms. See https://github.com/greensock/GSAP/issues/388 and https://github.com/greensock/GSAP/issues/375\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextElementSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n    temp ? style.display = temp : _removeProperty(target, \"display\");\n\n    if (addedToDOM) {\n      nextSibling ? parent.insertBefore(target, nextSibling) : parent ? parent.appendChild(target) : _docElement.removeChild(target);\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y;\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      px = \"px\",\n      deg = \"deg\",\n      cs = getComputedStyle(target),\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      xOrigin,\n      yOrigin,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n\n  if (cs.translate) {\n    // accommodate independent transforms by combining them into normal ones.\n    if (cs.translate !== \"none\" || cs.scale !== \"none\" || cs.rotate !== \"none\") {\n      style[_transformProp] = (cs.translate !== \"none\" ? \"translate3d(\" + (cs.translate + \" 0 0\").split(\" \").slice(0, 3).join(\", \") + \") \" : \"\") + (cs.rotate !== \"none\" ? \"rotate(\" + cs.rotate + \") \" : \"\") + (cs.scale !== \"none\" ? \"scale(\" + cs.scale.split(\" \").join(\",\") + \") \" : \"\") + (cs[_transformProp] !== \"none\" ? cs[_transformProp] : \"\");\n    }\n\n    style.scale = style.rotate = style.translate = \"none\";\n  }\n\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    if (cache.uncache) {\n      // if cache.uncache is true (and maybe if origin is 0,0), we need to set element.style.transformOrigin = (cache.xOrigin - bbox.x) + \"px \" + (cache.yOrigin - bbox.y) + \"px\". Previously we let the data-svg-origin stay instead, but when introducing revert(), it complicated things.\n      t2 = target.getBBox();\n      origin = cache.xOrigin - t2.x + \"px \" + (cache.yOrigin - t2.y) + \"px\";\n      t1 = \"\";\n    } else {\n      t1 = !uncache && target.getAttribute(\"data-svg-origin\"); //  Remember, to work around browser inconsistencies we always force SVG elements' transformOrigin to 0,0 and offset the translation accordingly.\n    }\n\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  xOrigin = cache.xOrigin || 0;\n  yOrigin = cache.yOrigin || 0;\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n      skewX && (scaleY *= Math.abs(Math.cos(skewX * _DEG2RAD)));\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      t1 = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      t1 && target.setAttribute(\"transform\", t1);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  uncache = uncache || cache.uncache;\n  cache.x = x - ((cache.xPercent = x && (!uncache && cache.xPercent || (Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0))) ? target.offsetWidth * cache.xPercent / 100 : 0) + px;\n  cache.y = y - ((cache.yPercent = y && (!uncache && cache.yPercent || (Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0))) ? target.offsetHeight * cache.yPercent / 100 : 0) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n  forceCSS && (target.style[_transformProp] = temp); //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the transform attribute changes!)\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _assign = function _assign(target, source) {\n  // Internet Explorer doesn't have Object.assign(), so we recreate it here.\n  for (var p in source) {\n    target[p] = source[p];\n  }\n\n  return target;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var startCache = _assign({}, target._gsap),\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      style = target.style,\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n\n  if (startCache.svg) {\n    startValue = target.getAttribute(\"transform\");\n    target.setAttribute(\"transform\", \"\");\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n\n    _removeProperty(target, _transformProp);\n\n    target.setAttribute(\"transform\", startValue);\n  } else {\n    startValue = getComputedStyle(target)[_transformProp];\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n    style[_transformProp] = startValue;\n  }\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, endCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _assign(endCache, startCache);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startAt = tween.vars.startAt,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority,\n        inlineProps;\n    _pluginInitted || _initCore(); // we may call init() multiple times on the same plugin instance, like when adding special properties, so make sure we don't overwrite the revert data or inlineProps\n\n    this.styles = this.styles || _getStyleSaver(target);\n    inlineProps = this.styles.props;\n    this.tween = tween;\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        // plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        specialProp(this, target, p, endValue, tween) && (hasPriority = 1);\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        startValue = (getComputedStyle(target).getPropertyValue(p) + \"\").trim();\n        endValue += \"\";\n        _colorExp.lastIndex = 0;\n\n        if (!_colorExp.test(startValue)) {\n          // colors don't have units\n          startUnit = getUnit(startValue);\n          endUnit = getUnit(endValue);\n        }\n\n        endUnit ? startUnit !== endUnit && (startValue = _convertToUnit(target, p, startValue, endUnit) + endUnit) : startUnit && (endValue += startUnit);\n        this.add(style, \"setProperty\", startValue, endValue, index, targets, 0, 0, p);\n        props.push(p);\n        inlineProps.push(p, 0, style[p]);\n      } else if (type !== \"undefined\") {\n        if (startAt && p in startAt) {\n          // in case someone hard-codes a complex value as the start, like top: \"calc(2vh / 2)\". Without this, it'd use the computed value (always in px)\n          startValue = typeof startAt[p] === \"function\" ? startAt[p].call(tween, index, target, targets) : startAt[p];\n          _isString(startValue) && ~startValue.indexOf(\"random(\") && (startValue = _replaceRandom(startValue));\n          getUnit(startValue + \"\") || (startValue += _config.units[p] || getUnit(_get(target, p)) || \"\"); // for cases when someone passes in a unitless value like {x: 100}; if we try setting translate(100, 0px) it won't work.\n\n          (startValue + \"\").charAt(1) === \"=\" && (startValue = _get(target, p)); // can't work with relative values\n        } else {\n          startValue = _get(target, p);\n        }\n\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" && endValue.substr(0, 2);\n        relative && (endValue = endValue.substr(2));\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            inlineProps.push(\"visibility\", 0, style.visibility);\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n            ~p.indexOf(\",\") && (p = p.split(\",\")[0]);\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          this.styles.save(p);\n\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform && !vars.parseTransform || _parseTransform(target, vars.parseTransform); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, (relative ? _parseRelative(cache.scaleY, relative + endNum) : endNum) - cache.scaleY || 0, _renderCSSProp);\n            this._pt.u = 0;\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            inlineProps.push(_transformOriginProp, 0, style[_transformOriginProp]);\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\n\n              endUnit !== cache.zOrigin && _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, relative ? _parseRelative(startNum, relative + endValue) : endValue);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endNum || (endNum = 0); // protect against NaN\n\n          endUnit = getUnit(endValue) || (p in _config.units ? _config.units[p] : startUnit);\n          startUnit !== endUnit && (startNum = _convertToUnit(target, p, startValue, endUnit));\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, (relative ? _parseRelative(startNum, relative + endNum) : endNum) - startNum, !isTransformRelated && (endUnit === \"px\" || p === \"zIndex\") && vars.autoRound !== false ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit && endUnit !== \"%\") {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, startValue || target[p], relative ? relative + endValue : endValue, index, targets);\n          } else if (p !== \"parseTransform\") {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, relative ? relative + endValue : endValue);\n        }\n\n        isTransformRelated || (p in style ? inlineProps.push(p, 0, style[p]) : inlineProps.push(p, 1, startValue || target[p]));\n        props.push(p);\n      }\n    }\n\n    hasPriority && _sortPropTweensByPriority(this);\n  },\n  render: function render(ratio, data) {\n    if (data.tween._time || !_reverting()) {\n      var pt = data._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n    } else {\n      data.styles.revert();\n    }\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    var p = _propertyAliases[property];\n    p && p.indexOf(\",\") < 0 && (property = p);\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  },\n  core: {\n    _removeProperty: _removeProperty,\n    _getMatrix: _getMatrix\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\ngsap.core.getStyleSaver = _getStyleSaver;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","import Swiper from \"swiper/bundle\";\n\n// import styles bundle\nimport \"swiper/css/bundle\";\nimport { gsap } from \"gsap\";\n\nfunction offset(el) {\n    var rect = el.getBoundingClientRect(),\n        scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\n        scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    return { top: rect.top + scrollTop, left: rect.left + scrollLeft };\n}\n\nlet gallerySlider = document.querySelectorAll(\".gallery-slider__swiper\");\n[].forEach.call(gallerySlider, function (el) {\n    const swiper = new Swiper(el, {\n        centeredSlides: true,\n        setWrapperSize: true,\n        spaceBetween: 12,\n        loopedSlides: 6,\n        slidesPerView: 1,\n        loop: true,\n        speed: 2000,\n        breakpoints: {\n            700: { spaceBetween: 16 },\n            992: { slidesPerView: 1.4, centeredSlides: true },\n        },\n    });\n\n    let speed = 2000;\n    let cursor = el.querySelector(\".gallery-slider__cursor\");\n    let play = false;\n    let direction = \"\";\n    let t = 0;\n    let interval = setInterval(function () {\n        if (play) {\n            if (t == 0) {\n                if (direction == \"LEFT\") {\n                    swiper.slidePrev();\n                }\n                if (direction == \"RIGHT\") {\n                    swiper.slideNext();\n                }\n            }\n            t += 100;\n            if (t == speed) {\n                t = 0;\n            }\n        }\n    }, 100);\n    el.onmouseenter = function () {\n        play = true;\n    };\n    el.onmouseleave = function () {\n        play = false;\n    };\n\n    el.addEventListener(\"mousemove\", (e) => {\n        console.log(el.offsetTop, e.pageY);\n        gsap.to(cursor, 0.23, {\n            left: e.pageX,\n            top: e.pageY - offset(el).top,\n        });\n\n        direction = \"\";\n        if (play && e.clientX < window.innerWidth / 3) {\n            play = true;\n            direction = \"LEFT\";\n            t = 0;\n            console.log(\"autoplay left\");\n        }\n\n        if (play && e.clientX > window.innerWidth - window.innerWidth / 3) {\n            t = 0;\n            play = true;\n            direction = \"RIGHT\";\n            console.log(\"autoplay right\");\n        }\n    });\n});\n\n","import Swiper from \"swiper/bundle\";\n\n// import styles bundle\nimport \"swiper/css/bundle\";\ndocument.querySelectorAll(\".slider-3\").forEach((el) => {\n    const swiper = new Swiper(el, {\n        slidesPerView: 1,\n        setWrapperSize: true,\n        spaceBetween: 12,\n        pagination: {\n            el: el.querySelector(\".slider-3__pagi\"),\n            type: \"bullets\",\n        },\n        breakpoints: {\n            600: { slidesPerView: 2, spaceBetween: 16 },\n            1024: { slidesPerView: 3 },\n        },\n    });\n});\n\n","import { GLOBALS } from \"../../js/globals\";\n\nif (GLOBALS.mobile) {\n    document.querySelectorAll('.js-droplist').forEach(container => {\n        const trigger = container.querySelector('.js-droplist-trigger');\n\n        trigger?.addEventListener('click', () => {\n            container.classList.toggle('_is-active');\n        });\n\n        document.addEventListener('click', e => {\n            if (e.target !== container && !container.contains(e.target)) {\n                container.classList.remove('_is-active');\n            }\n        });\n    });\n}\n","// import Swiper\nimport Swiper from \"swiper/bundle\";\n\n// import styles bundle\nimport \"swiper/css/bundle\";\n\ndocument.querySelectorAll(\".event-cards\").forEach((el) => {\n    const swiper = new Swiper(el, {\n        slidesPerView: \"auto\",\n        setWrapperSize: true,\n        spaceBetween: 12,\n        pagination: {\n            el: el.querySelector(\".event-cards__pagi\"),\n            type: \"bullets\",\n        },\n        breakpoints: {\n            900: {\n                slidesPerView: 3,\n                spaceBetween: 16,\n            },\n        },\n        loop: true,\n    });\n});\ndocument.querySelectorAll(\".awards-slider\").forEach((el) => {\n    const swiper = new Swiper(el, {\n        slidesPerView: \"auto\",\n        setWrapperSize: true,\n        spaceBetween: 12,\n        pagination: {\n            el: el.querySelector(\".awards-slider__pagi\"),\n            type: \"bullets\",\n        },\n        breakpoints: {\n            1024: { spaceBetween: 16, slidesPerView: 2 },\n            1130: { spaceBetween: 16, slidesPerView: 3 },\n            1400: { spaceBetween: 16, slidesPerView: 4 },\n        },\n    });\n});\n\ndocument.querySelectorAll(\".event-programs\").forEach((el) => {\n    const swiper = new Swiper(el, {\n        slidesPerView: \"auto\",\n        setWrapperSize: true,\n        spaceBetween: 12,\n        pagination: {\n            el: el.querySelector(\".event-programs__pagi\"),\n            type: \"bullets\",\n        },\n        breakpoints: {\n            700: { spaceBetween: 16, slidesPerView: 2 },\n        },\n    });\n});\n\n","import { GLOBALS } from '../../js/globals';\nimport gsap from 'gsap';\nimport Lottie from 'lottie-web';\nimport Swiper from \"swiper/bundle\";\n\n// Video\nif (!GLOBALS.mobile) {\n    // Autoplay for desktop devices only\n    document.querySelectorAll('.js-hp-video video').forEach(video => {\n        video.play();\n    });\n}\n\n\n// Hovers with images\nif (!GLOBALS.mobile) {\n    document.querySelectorAll('.js-hp-hover-btn').forEach(btn => {\n        const id = btn.dataset.id;\n        const img = btn.closest('.js-hp-hover')?.querySelector(`.js-hp-hover-bg[data-id=\"${id}\"]`);\n        \n        btn.addEventListener('mouseenter', () => {\n            img?.classList.add('_is-visible');\n        });\n\n        btn.addEventListener('mouseleave', () => {\n            img?.classList.remove('_is-visible');\n        });\n    });\n}\n\n// Space objects animation on scrolling\ndocument.querySelectorAll('.js-hp-promo').forEach(el => {\n    const container = el;\n    const limitScroll = 1000;\n    const titles = container.querySelector('.js-hp-promo-titles');\n    const centralObject = container.querySelector('.js-hp-promo-central');\n    const shadow1 = container.querySelector('.js-hp-promo-shadow-1');\n    const shadow2 = container.querySelector('.js-hp-promo-shadow-2');\n\n    const update = () => {\n        const currentScroll = window.scrollY;\n        const deltaScroll = currentScroll / limitScroll;\n        const opacity = Math.max(1 - deltaScroll, 0);\n\n        // Opacity\n        gsap.to(container, {\n            opacity,\n            duration: 0\n        });\n\n        // Title\n        if (titles) {\n            gsap.to(titles, {\n                y: currentScroll * -0.25,\n                duration: 0\n            });\n        }\n\n        // Front object\n        if (centralObject) {\n            gsap.to(centralObject, {\n                y: currentScroll * -0.4,\n                duration: 0\n            });\n        }\n\n        // Back objects\n        if (shadow1) {\n            gsap.to(shadow1, {\n                y: currentScroll * -0.2,\n                duration: 0\n            });\n        }\n\n        if (shadow2) {\n            gsap.to(shadow2, {\n                y: currentScroll * -0.3,\n                duration: 0\n            });\n        }\n    };\n\n    update();\n\n    document.addEventListener('scroll', update);\n});\n\n\n// Switch Sun/Earth/Moon\ndocument.querySelectorAll('.js-hp-promo-central').forEach(el => {\n    let mode = 'sun';\n    const container = document.querySelector('.js-hp-promo-space');\n    const hours = +new Date().toLocaleTimeString('ru-RU', {\n        timeZone: 'Europe/Moscow',\n        hour: '2-digit'\n    });\n\n    if (hours >= 18 || hours < 6) {\n        mode = 'moon'\n    }\n\n    if (hours >= 12 && hours < 18) {\n        mode = 'earth'\n    }\n\n    container?.classList.remove('_show-sun', '_show-moon', '_show-earth');\n    container?.classList.add(`_show-${mode}`);\n});\n\n\n// Lottie animation\nif (!GLOBALS.mobile) {\n    document.querySelectorAll('.js-lottie-hover').forEach(el => {\n        const container = el.querySelector('.js-lottie');\n        const animation = Lottie.loadAnimation({\n            container: container,\n            renderer: 'svg',\n            loop: true,\n            autoplay: false,\n            path: container.dataset.src\n        });\n\n        animation.addEventListener('data_ready', () => {\n            animation.goToAndStop(40, true);\n        });\n\n        el.addEventListener('mouseenter', () => {\n            animation.goToAndPlay(40, true);\n        });\n\n        el.addEventListener('mouseleave', () => {\n            animation.goToAndStop(40, true);\n        });\n    });\n}\n\n\n// Blog slider\ndocument.querySelectorAll('.js-hp-blog-swiper').forEach((el) => {\n    new Swiper(el, {\n        slidesPerView: 1.33,\n        setWrapperSize: true,\n        spaceBetween: 12,\n        pagination: {\n            el: el.querySelector(\".slider-3\"),\n            type: \"bullets\",\n        },\n        breakpoints: {\n            600: { slidesPerView: 2, spaceBetween: 16 },\n            1024: { slidesPerView: 3 },\n        },\n    });\n});\n","// import Swiper\nimport Swiper from \"swiper/bundle\";\n\n// import styles bundle\nimport \"swiper/css/bundle\";\n\ndocument.querySelectorAll(\".lections-prices\").forEach((el) => {\n    const swiper = new Swiper(el.querySelector(\".lections-prices__swiper\"), {\n        slidesPerView: 1,\n        setWrapperSize: true,\n        allowTouchMove: false,\n        autoHeight: true,\n    });\n    el.querySelectorAll(\".lections-prices__filter\").forEach((filter) => {\n        filter.addEventListener(\"click\", (event) => {\n            el.querySelectorAll(\".lections-prices__filter\").forEach((btn) => {\n                btn.classList.remove(\"_active\");\n            });\n\n            filter.classList.add(\"_active\");\n            swiper.slideTo(filter.dataset.slide);\n        });\n    });\n});\n\n","function slide_validation(slide) {\n    let error = false;\n    if (slide.querySelector(\".js-prioritets-number\")) {\n        slide.querySelectorAll(\"input\").forEach((input) => {\n            if (!input.checked) {\n                error = true;\n            }\n        });\n    } else {\n        if (slide.querySelectorAll(\"input:checked\").length == 0) {\n            error = true;\n        }\n    }\n    return error;\n}\nfunction write_prioritet(prioritets) {\n    let inputs = prioritets.querySelectorAll(\"input\");\n    var inputsArray = Array.prototype.slice.call(inputs, 0);\n\n    inputsArray.sort(function (a, b) {\n        return a.getAttribute(\"prioritet\") - b.getAttribute(\"prioritet\");\n    });\n    let number = 1;\n    inputsArray.forEach((input) => {\n        if (input.checked) {\n            input\n                .closest(\".quiz__answer,.quiz__photo-answer\")\n                .querySelector(\".js-prioritets-number \").innerText = number;\n            number++;\n        }\n    });\n}\n\ndocument.querySelectorAll(\".js-prioritets\").forEach((prioritets) => {\n    let prioritet__number = 0;\n    prioritets.querySelectorAll(\"input\").forEach((input) => {\n        input.setAttribute(\"prioritet\", 0);\n        input.addEventListener(\"change\", function () {\n            if (input.checked) {\n                prioritet__number++;\n                input.setAttribute(\"prioritet\", prioritet__number);\n            }\n            write_prioritet(prioritets);\n        });\n    });\n});\n// import Swiper\nimport Swiper from \"swiper/bundle\";\n\n// import styles bundle\nimport \"swiper/css/bundle\";\n\ndocument.querySelectorAll(\".quiz__swiper\").forEach((el) => {\n    const swiper = new Swiper(el, {\n        slidesPerView: 1,\n        setWrapperSize: true,\n        spaceBetween: 12,\n        pagination: {\n            el: \".quiz__swiper-pagi\",\n            type: \"bullets\",\n        },\n        preventClicks: false,\n        allowTouchMove: false,\n    });\n    el.querySelector(\".quiz-start\").addEventListener(\"click\", function () {\n        swiper.slideNext();\n    });\n    el.querySelectorAll(\".quiz__next\").forEach((next) => {\n        let slide = next.closest(\".swiper-slide\");\n        next.addEventListener(\"click\", function (e) {\n            let error = slide_validation(slide);\n            if (error) {\n                e.preventDefault();\n                slide.classList.add(\"_error-validation\");\n                setTimeout(() => {\n                    slide.classList.remove(\"_error-validation\");\n                }, 1000);\n            } else {\n                swiper.slideNext();\n            }\n        });\n    });\n});\n\n","import { gsap } from \"gsap\";\n\nif (document.querySelector(\".p404\")) {\n    let ray = document.querySelector(\".p404__ray\");\n    let bg1 = document.querySelector(\".p404__bg-1\");\n    let bg2 = document.querySelector(\".p404__bg-2\");\n    document.querySelector(\".p404\").addEventListener(\"mousemove\", (e) => {\n        let x = e.clientX / window.innerWidth;\n        let y = e.clientY / window.innerHeight;\n        gsap.to(bg1, 0.23, {\n            rotate: x * -1 * 5,\n        });\n        gsap.to(bg2, 0.43, {\n            rotate: x * -1 * 3,\n        });\n        gsap.to(ray, 0.5, {\n            rotate: x * 10,\n        });\n    });\n}\n\n","import Swiper from \"swiper/bundle\";\nimport \"swiper/css/bundle\";\n\ndocument.querySelectorAll(\".shema-page \").forEach((el) => {\n    const swiper = new Swiper(el.querySelector(\".shema__swiper\"), {\n        slidesPerView: 1,\n        setWrapperSize: true,\n        allowTouchMove: false,\n        autoHeight: true,\n        breakpoints: {\n            800: {\n                autoHeight: false,\n            },\n        },\n    });\n\n    el.querySelectorAll(\".shema-navs button\").forEach((filter) => {\n        filter.addEventListener(\"click\", (event) => {\n            el.querySelectorAll(\".shema-navs button\").forEach((btn) => {\n                btn.classList.remove(\"_active\");\n            });\n\n            filter.classList.add(\"_active\");\n            swiper.slideTo(filter.dataset.slide);\n        });\n    });\n});\n\ndocument.querySelectorAll(\".shema__svg-legend\").forEach((legeng) => {\n    legeng.addEventListener(\"mouseover\", function () {\n        document\n            .querySelectorAll(\n                `.shema__svg-wrap [data-room='${legeng.dataset.room}']`\n            )\n            .forEach((svg) => {\n                svg.classList.add(\"_visible\");\n            });\n    });\n    legeng.addEventListener(\"mouseout\", function () {\n        document\n            .querySelectorAll(\n                `.shema__svg-wrap [data-room='${legeng.dataset.room}']`\n            )\n            .forEach((svg) => {\n                svg.classList.remove(\"_visible\");\n            });\n    });\n});\n\n","import { slideDown, slideUp } from \"../../js/globals.js\";\n\ndocument.querySelectorAll(\".faq\").forEach((el) => {\n    el.querySelector(\".faq__head\").addEventListener(\"click\", function (faq) {\n        if (el.classList.contains(\"_open\")) {\n            el.classList.remove(\"_open\");\n            slideUp(el.querySelector(\".faq__body\"), 500);\n        } else {\n            el.classList.add(\"_open\");\n            slideDown(el.querySelector(\".faq__body\"), 500);\n        }\n    });\n});\n\n","// import Swiper\nimport Swiper from \"swiper/bundle\";\n\n// import styles bundle\nimport \"swiper/css/bundle\";\n\ndocument.querySelectorAll(\".guides-swiper\").forEach((el) => {\n    const swiper = new Swiper(el, {\n        slidesPerView: \"auto\",\n        setWrapperSize: true,\n        spaceBetween: 12,\n        // pagination: {\n        //     el: el.querySelector(\".event-cards__pagi\"),\n        //     type: \"bullets\",\n        // },\n        breakpoints: {\n            1400: {\n                slidesPerView: 4,\n                spaceBetween: 16,\n            },\n            1024: {\n                slidesPerView: 4,\n                spaceBetween: 16,\n            },\n        },\n    });\n});\ndocument.querySelectorAll(\".sidebar-cards\").forEach((el) => {\n    const swiper = new Swiper(el, {\n        slidesPerView: \"auto\",\n        setWrapperSize: true,\n        spaceBetween: 12,\n        // pagination: {\n        //     el: el.querySelector(\".event-cards__pagi\"),\n        //     type: \"bullets\",\n        // },\n        breakpoints: {\n            1024: {\n                slidesPerView: 4,\n                spaceBetween: 16,\n            },\n        },\n    });\n});\nlet form = document.querySelector(\"#excursion-prices-form\");\nif (form) {\n    let queryprice = JSON.parse(form.dataset.queryprice);\n    form.onchange = function (e) {\n        fetch(queryprice.url, {\n            method: queryprice.method,\n            body: new FormData(form),\n            headers: {\n                \"X-CSRF-TOKEN\": document\n                    .querySelector('meta[name=\"csrf-token\"]')\n                    .getAttribute(\"content\"),\n            },\n        })\n            .then((response) => response.json())\n            .then((data) => {\n                document.querySelector(\"#excursion-info-quantity\").innerHTML =\n                    data.quantity;\n                document.querySelector(\"#excursion-info-price\").innerHTML =\n                    Number(data.price).toLocaleString().replace(/,/g, \" \");\n                document.querySelector(\"#excursion-info-desc\").innerHTML =\n                    data.desc;\n            });\n    };\n}\n\n","import { slideDown, slideUp } from \"../../js/globals.js\";\n\ndocument.querySelectorAll(\".filter-popup__block\").forEach((el) => {\n    if (el.querySelector(\".filter-popup__block-title\")) {\n        el.querySelector(\".filter-popup__block-title\").addEventListener(\n            \"click\",\n            function () {\n                if (el.classList.contains(\"_open\")) {\n                    el.classList.remove(\"_open\");\n                    slideUp(el.querySelector(\".filter-popup__block-body\"), 500);\n                } else {\n                    el.classList.add(\"_open\");\n                    slideDown(\n                        el.querySelector(\".filter-popup__block-body\"),\n                        500\n                    );\n                }\n            }\n        );\n    }\n});\nlet filterPopup = document.querySelector(\".filter-popup\");\ndocument\n    .querySelector(\".filter-menu-open\")\n    ?.addEventListener(\"click\", function () {\n        filterPopup.classList.add(\"_open\");\n    });\ndocument\n    .querySelector(\".filter-popup__close\")\n    ?.addEventListener(\"click\", function () {\n        filterPopup.classList.remove(\"_open\");\n    });\n\nlet template = document.querySelector(\"#afisha-template .event-preview\");\nlet empty = document.querySelector(\"#afisha-template .afisha__grid\");\nlet list = document.querySelector(\"#afishalist\");\nlet filter = document.querySelector(\"#afishafilter\");\nconst url = filter?.getAttribute(\"action\");\nconst method = filter?.getAttribute(\"method\");\ndocument\n    .querySelector(\".filter-popup__clear\")\n    ?.addEventListener(\"click\", function () {\n        filter.querySelectorAll(\"input\").forEach((item) => {\n            item.checked = false;\n        });\n    });\nfunction render() {\n    fetch(url, {\n        method: method,\n        body: new FormData(filter),\n        headers: {\n            \"X-CSRF-TOKEN\": document\n                .querySelector('meta[name=\"csrf-token\"]')\n                .getAttribute(\"content\"),\n        },\n    })\n        .then((response) => response.json())\n        .then((data) => {\n            list.innerHTML = \"\";\n            console.log(data);\n            if (data.items.length) {\n                data.items.forEach((item) => {\n                    let clone = template.cloneNode(true);\n                    let topTags = clone.querySelector(\n                        \".event-preview__top-head .event-preview__tags\"\n                    );\n                    let bottomTags = clone.querySelector(\n                        \".event-preview__top-bottom .event-preview__tags\"\n                    );\n                    let awards = clone.querySelector(\".event-preview__awards\");\n                    let info = clone.querySelector(\".event-preview__info\");\n                    let bottom = clone.querySelector(\".event-preview__bottom\");\n\n                    bottom.innerHTML = \"\";\n                    if (item.buyLink) {\n                        bottom.insertAdjacentHTML(\n                            \"beforeend\",\n                            `<a href=\"${item.buyLink}\" class=\"btn-border\">\n                                    <span class=\"btn-border__content\">${item.buyText}</span>\n                                </a>\n                                <a href=\"${item.link}\" class=\"btn-link\"></a>`\n                        );\n                    } else {\n                        bottom.insertAdjacentHTML(\n                            \"beforeend\",\n                            `<a href=\"${item.link}\" class=\"btn-border\">\n                                    <span class=\"btn-border__content\"></span>\n                                </a>`\n                        );\n                    }\n                    topTags.innerHTML = \"\";\n                    bottomTags.innerHTML = \"\";\n                    clone\n                        .querySelector(\".event-preview__hover-link\")\n                        .setAttribute(\"href\", item.link);\n                    clone.querySelector(\n                        \".event-preview__hover-link span\"\n                    ).innerText = item.title;\n                    clone.querySelector(\".event-preview__title\").innerText =\n                        item.title;\n                    clone\n                        .querySelector(\".event-preview__bottom-wrap\")\n                        .insertAdjacentHTML(\"beforebegin\", item.desc);\n                    clone\n                        .querySelector(\".event-preview__img img\")\n                        .setAttribute(\"src\", item.img);\n\n                    if (item.topTags) {\n                        item.topTags.forEach((tag) => {\n                            topTags.insertAdjacentHTML(\n                                \"beforeend\",\n                                `<li><span>${tag}</span></li>`\n                            );\n                        });\n                    }\n                    if (item.bottomTags) {\n                        item.bottomTags.forEach((tag) => {\n                            bottomTags.insertAdjacentHTML(\n                                \"beforeend\",\n                                `<li class=\"${tag.class}\">${\n                                    tag.icon\n                                        ? '<span class=\"' +\n                                          tag.icon +\n                                          '\"></span'\n                                        : \"\"\n                                }<span>${tag.text}</span></li>`\n                            );\n                        });\n                    }\n                    if (item.awards) {\n                        awards.innerHTML = \"\";\n                        item.awards.forEach((award) => {\n                            awards.insertAdjacentHTML(\n                                \"beforeend\",\n                                `<li class=\"event-preview__award\">\n                    <span class=\"event-preview__award-top\">${award.top}</span>\n                    <span class=\"event-preview__award-name\">${award.text}</span>\n                    <span class=\"event-preview__award-year\">${award.year}</span> </li>`\n                            );\n                        });\n                    } else {\n                        awards.remove();\n                    }\n                    if (item.info) {\n                        info.innerHTML = \"\";\n                        item.info.forEach((el) => {\n                            awards.insertAdjacentHTML(\n                                \"beforeend\",\n                                `<li class=\"${el.class}\">${\n                                    el.icon\n                                        ? '<span class=\"' + el.icon + '\"></span'\n                                        : \"\"\n                                }<span>${el.text}</span></li>`\n                            );\n                        });\n                    } else {\n                        info.remove();\n                    }\n\n                    list.appendChild(clone);\n                });\n            } else {\n                list.appendChild(empty.cloneNode(true));\n            }\n            filterPopup.classList.remove(\"_open\");\n        });\n}\nif (filter) {\n    filter.onchange = function (e) {\n        if (window.innerWidth > 1024) {\n            render();\n        }\n    };\n    filter.addEventListener(\"submit\", function (e) {\n        e.preventDefault();\n        render();\n    });\n}\n\n","import { slideDown, slideUp } from \"../../js/globals.js\";\n\ndocument.querySelectorAll(\".vacancy\").forEach((el) => {\n    el.querySelector(\".vacancy__top\").addEventListener(\n        \"click\",\n        function (vacancy) {\n            if (el.classList.contains(\"_open\")) {\n                el.classList.remove(\"_open\");\n                slideUp(el.querySelector(\".vacancy__body\"), 500);\n            } else {\n                el.classList.add(\"_open\");\n                slideDown(el.querySelector(\".vacancy__body\"), 500);\n            }\n        }\n    );\n});\n\n","import Swiper from \"swiper/bundle\";\n\ndocument.querySelectorAll('.js-podcasts-recent').forEach((el) => {\n    new Swiper(el, {\n        slidesPerView: 1.33,\n        setWrapperSize: true,\n        spaceBetween: 16,\n        breakpoints: {\n            600: { slidesPerView: 1.5 },\n            1000: { slidesPerView: 2 },\n            1300: { slidesPerView: 3 },\n        },\n    });\n});\n","import { GLOBALS } from \"../../js/globals\";\n\nsetTimeout(() => {\n    GLOBALS.H.classList.add('_is-preloaded');\n}, 500);\n"],"names":["Form","constructor","el","this","form","submitBtn","querySelector","bindSubmit","bindClose","addEventListener","e","preventDefault","sendForm","json","disabled","response","fetch","getAttribute","method","headers","document","body","FormData","ok","classList","add","renderMessage","console","log","error","message","success","resetForm","reset","text","innerHTML","remove","querySelectorAll","forEach","menu","links","submenu","overlay","header","burger","clock","isMobile","window","event","contains","innerWidth","dataset","sub","length","updateClock","string","Date","toLocaleTimeString","timeZone","hour","minute","setTimeout","ymaps","ready","block","JSON","parse","maproute","myMap","Map","center","zoom","controls","pointA","start","pointB","finish","multiRoute","multiRouter","MultiRoute","referencePoints","params","routingMode","wayPointFinishIconLayout","wayPointFinishIconImageHref","marker","icon","wayPointFinishIconImageSize","size","wayPointFinishIconImageOffset","offset","boundsAutoApply","zoomMargin","geoObjects","map","myPlacemark","Placemark","coord","hintContent","balloonContent","iconLayout","iconImageHref","iconImageSize","iconImageOffset","popup","VideoPopup","container","inner","closeBtn","handleCloseBtn","handleCloseKeys","isOpen","appendVideo","src","open","close","key","btn","scrollY","scroll","prev","next","rescroll","scrollLeft","offsetWidth","scrollWidth","left","top","behavior","anchors","anchor","scrollTo","getBoundingClientRect","observer","IntersectionObserver","entries","entry","isIntersecting","link","replace","target","id","threshold","glosarii","observe","offsetTop","template","empty","list","filter","url","onchange","URLSearchParams","year","value","month","then","data","items","item","clone","cloneNode","innerText","date","name","type","setAttribute","appendChild","content","factory","navigator","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","getLocationHref","createTag","createElement","extendPrototype","sources","destination","i","sourcePrototype","len","attr","prototype","Object","hasOwnProperty","call","getDescriptor","object","prop","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","push","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createSizedArray","Array","apply","_typeof$6","obj","Symbol","iterator","subframeEnabled","expressionsPlugin","expressionsInterfaces","idPrefix$1","isSafari","test","userAgent","_shouldRoundValues","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","ProjectInterface$1","propertyNames","random","abs","val","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","round","styleDiv","element","style","position","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","v","r","g","b","f","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","toString","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setExpressionInterfaces","getExpressionInterfaces","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","_typeof$5","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","path","_workerSelf","setupWorker","fn","Worker","Blob","blob","URL","createObjectURL","createWorker","completeLayers","layers","comps","layerData","j","jLen","k","kLen","completed","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","completeText","comp","findComp","__used","stringify","ks","it","o","checkVersion","minimum","animVersionString","animVersion","split","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","charData","ip","op","st","sr","a","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","c","checkShapes","completeClosingShapes","closed","cl","moduleOb","__complete","completeChars","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","indexOf","responseText","load","fullPath","callback","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","join","send","completeData","payload","animation","process","onComplete","onError","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","width","height","ctx","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","bind","createFootageData","ob","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","destroy","getAsset","createImgData","crossOrigin","createImageData","setAttributeNS","_elementHelper","append","setCacheType","elementHelper","BaseEvent","triggerEvent","eventName","args","_cbs","callbacks","removeEventListener","splice","markerParser","parsePayloadLines","line","lines","keys","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","__","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","getRenderer","getRegisteredRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","autoplay","loop","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","segments","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","drawnFrameEvent","setParams","wrapper","animType","RendererClass","rendererSettings","globalData","defs","setProjectInterface","undefined","parseInt","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","substr","fileName","trigger","setData","wrapperAttributes","attributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","rendererType","initItems","gotoFrame","resize","_width","_height","updateContainerSize","setSubframe","renderFrame","resetFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","goToAndStop","isFrame","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","init","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","setLoop","isLooping","getPath","getAssetData","hide","show","getDuration","updateDocumentData","index","getElementByPath","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","first","searchAnimations","standalone","animElements","concat","slice","getElementsByClassName","lenAnims","getElementsByTagName","div","freeze","unfreeze","getRegisteredAnimations","animations","BezierFactory","str","beziers","bezEasing","BezierEasing","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_p","_mSampleValues","_precomputed","get","x","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","pooling","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","ptCoord","perc","ptDistance","curveSegments","point","lastPoint","lengthData","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","bez","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","lastIndex","keyframes","keyframesMetadata","endValue","nextKeyTime","keyTime","to","ti","ind","__fnct","getBezierEasing","y","n","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quaternionToEuler","slerp","createQuaternion","omega","cosom","sinom","scale0","scale1","out","ax","ay","az","aw","bx","by","bz","bw","acos","sin","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","values","c1","cos","c2","c3","s1","s2","s3","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","PropertyFactory","getProp","sid","slotManager","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","paths","localShapeCollection","shape1","shape2","shapesEqual","ShapeProperty","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","Matrix","_cos","_sin","_tan","tan","_rnd","props","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","l","m","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","multiply","matrix","matrixProps","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_typeof$3","lottie","setLocation","href","setSubframeRendering","setPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","setIDPrefix","__getFactory","version","scripts","myScript","exports","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","PuckerAndBloatModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","RepeaterModifier","RoundCornersModifier","floatEqual","floatZero","lerp","lerpPoint","quadRoots","singleRoot","delta","polynomialCoefficients","p3","singlePoint","PolynomialBezier","linearize","pointEqual","coeffx","coeffy","extrema","intersectData","t2","box","boundingBox","cx","cy","splitData","boxIntersect","intersectsImpl","depth","tolerance","intersections","maxRecursion","d1s","d2s","crossProduct","lineIntersection","start1","end1","start2","end2","v3","v4","polarOffset","pointDistance","hypot","ZigZagModifier","setPoint","outputBezier","amplitude","outAmplitude","inAmplitude","angO","angI","getPerpendicularVector","vector","rot","getProjectingAngle","cur","prevIndex","nextIndex","pVector","zigZagCorner","frequency","pointType","prevPoint","nextPoint","prevDist","nextDist","zigZagSegment","dist","normalAngle","linearOffset","offsetSegment","p1a","p1b","p2b","p2a","joinLines","seg1","seg2","lineJoin","miterLimit","angleOut","tangentAngle","angleIn","radius","intersection","getIntersection","intersect","pruneSegmentIntersection","outa","outb","pruneIntersections","offsetSegmentSplit","right","mid","flex","inflectionPoints","OffsetPathModifier","getFontProperties","fontData","styles","fStyle","fWeight","toLowerCase","weight","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","derivative","denom","tcusp","square","root","p10","p11","p20","p21","bounds","bottom","other","shapeSegmentInverted","pointsType","count","ml","lj","inputBezier","multiSegments","lastSeg","multiSegment","FontManager","emptyChar","w","combinedCharacters","BLACK_FLAG_CODE_POINT","REGIONAL_CHARACTER_A_CODE_POINT","REGIONAL_CHARACTER_Z_CODE_POINT","surrogateModifiers","setUpNode","font","family","parentNode","fontFamily","node","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","familyArray","enabledFamilies","trimFontOptions","parent","createHelper","def","helper","engine","fontProps","tHelper","fFamily","textContent","fClass","tCanvasHelper","OffscreenCanvas","measureText","getComputedTextLength","getCodePoint","codePoint","charCodeAt","second","isRegionalCode","Font","typekitLoaded","_warned","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","charCode","isFlagEmoji","isCombinedCharacter","_char3","isRegionalFlag","isVariationSelector","fontPrototype","found","ch","cache","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","rel","sc","getCharData","_char","warn","getFontByName","fName","_char2","fontName","doubleSize","singleSize","loadedCount","removeChild","SlotManager","slotFactory","RenderableElement","slots","assign","initRenderable","isInRange","hidden","isTransparent","renderableComponents","addRenderableComponent","component","removeRenderableComponent","prepareRenderableFrame","num","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","getBlendMode","blendModeEnums","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effects","ef","effectElements","effectItem","GroupEffect","BaseElement","FrameElement","FootageElement","imageLoader","initBaseData","AudioElement","_isPlaying","_canPlay","_currentTime","_volumeMultiplier","_previousVolume","_placeholder","lv","au","BaseRenderer","eff","checkMasks","LayerExpressionInterface","EffectsExpressionInterface","ShapeExpressionInterface","TextExpressionInterface","CompExpressionInterface","layerInterface","maskManager","registerMaskInterface","effectsInterface","createEffectsInterface","registerEffectsInterface","shapeInterface","shapesData","itemsData","textInterface","setBlendMode","blendModeValue","bm","baseElement","layerElement","layerId","effectsManager","getType","prepareProperties","isVisible","_isParent","getBaseElement","FootageInterface","getFootageData","timeRemapped","totalVolume","volumeValue","checkLayers","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","pendingElements","getElementById","pathValue","setupGlobalData","fontsContainer","animationItem","compSize","effectTypes","TRANSFORM_EFFECT","TransformElement","MaskElement","maskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","maskType","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","mask","createLayerSolidPath","invRect","drawPath","maskedElement","initTransform","_matMdf","_localMatMdf","_opMdf","localMat","localOpacity","ao","renderTransform","finalMat","renderLocalTransform","localTransforms","lmat","localOp","opacity","searchEffectTransforms","renderableEffectsManager","transformEffects","getEffects","globalToLocal","transforms","ptNew","mHelper","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","featureSupport","svgLumaHidden","offscreenCanvas","registeredEffects$1","idPrefix","SVGEffects","filterManager","source","createFilter","filters","Effect","effect","countsAsEffect","registerEffect$1","SVGBaseElement","HierarchyElement","RenderableDOMElement","IImageElement","initElement","sourceRect","ProcessedElement","IShapeElement","initRendererElement","createContainerElements","matteElement","transformedElement","_sizeChanged","layerElementParent","td","matteMasks","gg","tt","ln","hd","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","getMatte","matteType","useElement","masker","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","setMatte","initHierarchy","checkParenting","createContent","renderInnerContent","innerElem","pr","imagePreserveAspectRatio","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dataProps","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","comparePoints","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","of","ms","ost","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderNoop","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","createRenderFunction","SVGShapeElement","stylesList","animatedContents","LetterProps","sw","fc","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charactersArray","shouldCombine","shouldCombineNext","currentChars","charAt","newLineFlag","letters","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","an","anIndexes","animatorJustifyOffset","extra","animatorData","letterData","based","animators","indexes","fh","fs","fb","rn","totalChars","newInd","currentInd","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","textProperty","easer","tot","smoothness","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","ITextElement","searchProperties","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","tanAngle","matrixHelper","renderedLettersCount","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","letterM","letterP","defaultPropsArray","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","atan","textAnimator","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","validateText","buildNewText","emptyShapeData","SVGTextLottieElement","textSpans","ISolidElement","NullElement","SVGRendererBase","ICompElement","SVGCompElement","supports3d","SVGRenderer","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","preserveAspectRatio","contentVisibility","viewBoxOnly","viewBoxSize","className","focusable","filterSize","runExpressions","destroyed","ShapeTransformManager","sequences","sequenceList","transform_key_count","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","String","fromCharCode","buildShapeData","shapeItem","tSpan","usesGlyphs","cachedSpansLength","span","childSpan","glyph","glyphElement","_debug","tElement","justify","textBox","bbox","renderedLetter","textSpan","findIndexByInd","appendElementInPos","elementIndex","tp","matteMask","nextElement","insertBefore","setElements","getElements","destroyElements","addTransformSequence","sequence","processSequence","processSequences","getNewKey","lumaLoader","lumaBuffer","lumaBufferCtx","svg","loadLuma","_svg","createCanvas","loadLumaCanvas","getLumaCanvas","registeredEffects","CVEffects","registerEffect","CVMaskElement","hasMasks","CVBaseElement","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","save","clip","operationsMap","CVShapeData","transformsManager","styledShapes","styledShape","trNodes","CVShapeElement","CVTextElement","stroke","fill","currentRender","sWidth","fValue","CVImageElement","CVSolidElement","CanvasRendererBase","CanvasContext","strokeStyle","lineCap","CVContextData","stack","cArrPos","cTr","nativeContext","transformMat","currentOpacity","currentFillStyle","appliedFillStyle","currentStrokeStyle","appliedStrokeStyle","currentLineWidth","appliedLineWidth","currentLineCap","appliedLineCap","currentLineJoin","appliedLineJoin","appliedMiterLimit","currentMiterLimit","CVCompElement","CanvasRenderer","clearCanvas","context","dpr","devicePixelRatio","currentGlobalAlpha","contextData","ctxTransform","ctxOpacity","ctxFillStyle","ctxStrokeStyle","ctxLineWidth","ctxLineCap","ctxLineJoin","ctxMiterLimit","ctxFill","ctxFillRect","ctxStroke","HBaseElement","HSolidElement","HShapeElement","shapesContainer","currentBBox","HTextElement","textPaths","isMasked","HCameraElement","pe","_prevMat","HImageElement","HybridRendererBase","threeDElements","camera","HCompElement","HybridRenderer","createElements","buffers","bufferCanvas","bufferCanvas2","_isProxy","transformCanvas","blendMode","globalCompositeOperation","hideElement","showElement","clearRect","prepareLayer","bufferCtx","drawImage","getTransform","exitLayer","buffer","forceRealStack","restore","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","grd","setLineDash","lineDashOffset","closePath","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","par","globalAlpha","rule","actionFlag","containerStyle","mozTransformOrigin","setContext","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","fillType","duplicate","newLength","forceRestore","currentContext","prevStack","saveOnNativeFlag","currentStack","newStack","setOpacity","trProps","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","backgroundColor","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","shapeBoundingBox","xMax","yMax","tempBoundingBox","b2ac","calculateF","calculateBoundingBox","expandStrokeBoundingBox","widthProperty","kfw","currentBoxContains","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","strokeWidth","lineHeight","tParent","tCont","children","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","setup","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","Image","imageElem","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","overflow","cWidth","cHeight","floatingContainer","_createBaseContainerElements","_thisLayerFunction","defineProperty","pixelAspect","frameDuration","displayStartTime","numLayers","_typeof$2","seedRandom","nodecrypto","global","rngname","startdenom","significance","ARC4","keylen","me","S","copy","flatten","result","typ","mixkey","seed","smear","stringseed","tostring","options","shortseed","entropy","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","pass","is_math_call","state","initialize$2","propTypes","SHAPE","_typeof$1","ExpressionManager","frames","_lottieGlobal","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","property","noOp","_value","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","valueAtTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","frameExpressionId","__preventDeadCodeRemoval","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","MaskManagerInterface","MaskInterface","_mask","_data","_masksInterfaces","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","getSpeedAtTime","propertyGroup","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TransformExpressionInterface","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","getMatrix","toWorldMat","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","transformInterface","anchorPointDescriptor","defineProperties","anchor_point","startTime","_name","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","createGroupInterface","groupInterface","mn","_propertyGroup","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","effectsData","ShapePathInterface","view","propertyIndex","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","interfaces","transformInterfaceFactory","cix","contentsInterfaceFactory","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","skewAxis","outerRadius","outerRoundness","innerRoundness","innerRadius","_interfaceFunction","_sourceText","sourceText","stringValue","fillColor","_typeof","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","footage","getInterface","expressionHelpers","searchExpressions","speed","_cachingAtTime","getStaticValueAtTime","addPropertyDecorator","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","lastTime","propertyGetShapeProp","trims","initialize$1","addDecorator","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","initialize","SVGComposableEffect","createMergeNode","resultId","ins","feMergeNode","feMerge","linearFilterValue","SVGTintFilter","linearFilter","matrixFilter","SVGFillFilter","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","globalFilterSize","feGaussianBlur","feOffset","feFlood","feComposite","colorBlack","colorWhite","groupPath","elemChildren","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","SVGGaussianBlurEffect","TransformEffect","SVGTransformEffect","CVTransformEffect","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","sigma","dimensions","sigmaX","sigmaY","edgeMode","forceFrame","isUniformScale","scaleHeight","scaleWidth","module","ScrollMagic","_util","PIN_SPACER_ATTRIBUTE","Controller","_updateTimeout","_refreshTimeout","NAMESPACE","SCROLL_DIRECTION_FORWARD","SCROLL_DIRECTION_REVERSE","SCROLL_DIRECTION_PAUSED","DEFAULT_OPTIONS","CONTROLLER_OPTIONS","defaults","_options","extend","_sceneObjects","_updateScenesOnNextCycle","_scrollPos","_scrollDirection","_isDocument","_viewPortSize","_enabled","construct","getViewportSize","onChange","ri","refreshInterval","scheduleRefresh","refresh","getScrollPos","vertical","scrollTop","setScrollPos","_setScrollPos","updateScenes","scenesToUpdate","oldScrollPos","deltaScroll","scrollPos","scene","loglevel","debounceUpdate","rAF","resizeEvent","Event","bubbles","cancelable","createEvent","initEvent","dispatchEvent","_log","output","arguments","sortScenes","ScenesArray","scenes","sort","scrollOffset","addScene","newScene","Scene","controller","addTo","on","globalSceneOptions","removeScene","off","updateScene","immediately","scrollTarget","additionalParameter","Function","hasAttribute","param","containerOffset","elementOffset","scrollPosMethod","info","about","scrollDirection","isDocument","newLoglevel","newState","resetScenes","clearTimeout","cAF","addOption","defaultValue","extension","oldClass","$super","_durationUpdateMethod","_controller","SCENE_STATE_BEFORE","SCENE_STATE_DURING","SCENE_STATE_AFTER","SCENE_OPTIONS","_state","_progress","_scrollOffset","_triggerPos","optionName","addSceneOption","validateOption","_listeners","names","fullname","nameparts","eventname","namespace","listener","listeners","what","updateTriggerElementPosition","updateScrollOffset","updateDuration","onContainerResize","tmpParent","newProgress","progress","_pin","updatePinState","doUpdate","oldState","reverseOrForward","eventVars","stateChanged","_pinOptions","triggerElement","triggerHook","suppressEvents","varname","changeOption","newval","reason","elementPos","telem","controllerInfo","_validate","validate","match","parseFloat","check","logMSG","oldval","newVal","shifts","triggerPosition","durationChanged","updatePinDimensions","removePin","forceUnpin","containerInfo","pinTarget","spacer","firstChild","newCSS","inFlow","change","css","pushFollowers","fixedPos","scrollDistance","during","marginCollapse","isMarginCollapseType","relSize","autoFullWidth","updatePinInContainer","updateRelativePinSpacer","onMousewheelOverPin","wheelDelta","detail","setPin","settings","defaultSettings","spacerClass","pushFollowersActivelySet","parentDisplay","boundsParams","pinCSS","sizeCSS","spacerCSS","boxSizing","mozBoxSizing","webkitBoxSizing","addClass","___origStyle","pinInlineCSS","margins","_cssClasses","_cssClassElems","removeClassToggle","setClassToggle","classes","toggle","removeClass","validationCallback","currentTarget","timeStamp","timestamp","U","floatval","number","_getComputedStyle","getComputedStyle","_dimension","which","outer","includeMargin","_type","DomElement","toUpperCase","dimension","marginTop","marginBottom","marginLeft","marginRight","_camelCase","vendors","_requestAnimationFrame","_cancelAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","loglevels","getHours","getMinutes","getSeconds","getMilliseconds","func","isArray","HTMLElement","SVGElement","nodeType","nodeName","_get","selector","NodeList","ref","pageYOffset","pageXOffset","relativeToViewport","classname","RegExp","option","addIndicators","removeIndicators","setTween","removeTween","setVelocity","removeVelocity","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","amdO","getter","__esModule","definition","enumerable","GLOBALS","mobile","H","breakpoints","xs","xl","slideUp","transitionProperty","transitionDuration","paddingTop","paddingBottom","removeProperty","slideDown","smController","handleScroll","handleUpdate","generateID","debounce","wait","immediate","timeout","self","callNow","isEqual","Settings","class","isMultiple","isFullOpen","intervalMove","alwaysOpen","showSearch","searchPlaceholder","searchText","searchingText","searchHighlight","closeOnSelect","contentLocation","contentPosition","openPosition","placeholderText","allowDeselect","hideSelected","showOptionTooltips","minSelected","maxSelected","timeoutDelay","maxValuesShown","maxValuesMessage","Optgroup","optgroup","label","selectAll","selectAllText","closable","Option","html","selected","mandatory","placeholder","Store","selectType","validateDataArray","dataObj","partialToFullData","dataFinal","optOptions","setSelectedBy","getSelected","getData","getDataOptions","selectedType","selectedValues","firstOption","hasSelected","includes","selectedOptions","getSelectedOptions","opt","getSelectedIDs","selectedIDs","getOptgroupByID","getOptionByID","search","searchFilter","includeOptgroup","dataSearch","getSelectType","Render","store","main","single","valueText","valueDelete","valueOut","deselect","deselectPath","arrow","arrowClose","arrowOpen","openAbove","openBelow","searchHighlighter","searching","addable","addablePath","optgroupLabel","optgroupLabelText","optgroupActions","optgroupSelectAll","optgroupSelectAllBox","optgroupSelectAllCheck","optgroupClosable","optionDelete","highlighted","mainDiv","contentDiv","updateClassStyles","updateAriaAttributes","enable","input","disable","moveContent","selectedId","selectedOption","ensureElementInView","cssText","role","_a","tabIndex","onkeydown","highlight","click","onclick","stopPropagation","shouldDelete","before","after","beforeChange","setSelected","updateDeselectAll","afterChange","deselectSvg","arrowPath","mainFocus","eventType","focus","preventScroll","placeholderOption","renderValues","renderMultipleValues","renderSingleValue","selectedSingle","singleValue","outerHTML","currentNodes","removeNodes","hasChildNodes","shouldAdd","multipleValue","insertAdjacentElement","deleteDiv","deleteSvg","deletePath","searchDiv","listDiv","putContent","moveContentAbove","moveContentBelow","searchReturn","readOnly","oninput","ctrlKey","plus","plusPath","inputValue","runFinish","oo","newOption","addableValue","Promise","searchFocus","getOptions","notPlaceholder","notDisabled","notHidden","query","from","prevOption","prevParent","parentElement","selectOption","selectParent","renderError","errorDiv","renderSearching","searchingDiv","renderOptions","noResults","optgroupEl","allSelected","selectAllSvg","selectAllBox","selectAllCheck","currentSelected","newSelected","optgroupClosableSvg","optgroupClosableArrow","some","optionEl","dataClass","highlightText","elementID","shouldUpdate","completedString","regex","matchStartPosition","matchEndPosition","originalTextFoundByRegex","mainHeight","contentHeight","containerRect","scrollX","cTop","cBottom","clientHeight","eTop","eBottom","mainRect","innerHeight","hasSelectedItems","deselectButton","hideClass","Select","select","listen","valueChange","passive","MutationObserver","observeCall","changeListen","hideUI","showUI","subtree","childList","disconnect","onValueChange","getSelectedValues","mutations","classChanged","disabledChanged","optgroupOptionChanged","attributeName","onClassChange","onDisabledChange","onOptionsChange","getDataFromOptgroup","getDataFromOption","selectall","selectalltext","optgroupOptions","updateSelect","updateOptions","createOptgroup","createOption","optionClass","kebabCase","SlimSelect","events","beforeOpen","afterOpen","beforeClose","afterClose","windowResize","windowScroll","documentClick","hasClass","parentByClass","hasClassInTree","windowVisibilityChange","selectEl","tagName","ssid","debounceEvents","multiple","selectAriaLabel","selectAriaLabelledBy","nextSibling","slim","dataClean","runAfterChange","searchResp","catch","closest","isObject","ssrDocument","activeElement","blur","importNode","hash","host","hostname","protocol","getDocument","doc","ssrWindow","history","replaceState","pushState","go","back","CustomEvent","getPropertyValue","matchMedia","win","Dom7","super","proto","__proto__","set","makeReactive","arrayFlat","res","arrayFilter","$","toCreate","tempParent","qsa","uniqueArray","arrayUnique","noTrigger","shortcut","Methods","classNames","toggleClass","attrs","attrName","removeAttr","transition","targetSelector","capture","handleLiveEvent","eventData","dom7EventData","parents","handleEvent","dom7LiveListeners","proxyListener","dom7Listeners","handlers","handler","dom7proxy","evt","dataIndex","transitionEnd","dom","fireCallBack","outerWidth","includeMargins","outerHeight","clientTop","clientLeft","each","compareWith","matches","webkitMatchesSelector","msMatchesSelector","child","previousSibling","eq","returnIndex","els","newChild","tempDiv","prepend","nextElementSibling","nextAll","nextEls","previousElementSibling","prevAll","prevEls","find","foundElements","methodName","writable","nextTick","delay","getTranslate","axis","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","MozTransform","OTransform","MsTransform","msTransform","m41","m42","noExtend","nextSource","keysArray","nextKey","desc","__swiper__","setCSSProperty","varName","varValue","setProperty","animateCSSModeScroll","swiper","targetPosition","side","startPosition","wrapperEl","scrollSnapType","cssModeFrameID","isOutOfBound","animate","easeProgress","currentPosition","support","deviceCached","getSupport","smoothScroll","documentElement","touch","DocumentTouch","passiveListener","supportsPassive","opts","gestures","calcSupport","getDevice","overrides","platform","ua","device","ios","android","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","calcDevice","getBrowser","isWebView","calcBrowser","priority","eventsListeners","once","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","eventHandler","emit","updateSize","$el","clientWidth","isHorizontal","isVertical","updateSlides","getDirectionLabel","getDirectionPropertyValue","$wrapperEl","swiperSize","rtlTranslate","rtl","wrongRTL","isVirtual","virtual","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","centeredSlides","cssMode","gridEnabled","grid","rows","slideSize","initSlides","shouldResetSlideSize","slidesPerView","slide","updateSlide","slideStyles","currentWebKitTransform","roundLengths","paddingLeft","paddingRight","swiperSlideSize","slidesPerGroup","slidesPerGroupSkip","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","backFaceHiddenClass","containerModifierClass","hasClassBackfaceClassAdded","maxBackfaceHiddenSlides","updateAutoHeight","activeSlides","newHeight","setTransition","getSlideByIndex","visibleSlides","activeIndex","swiperSlideOffset","offsetLeft","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","virtualTranslate","currentTranslate","setTranslate","byController","previousTranslate","translateTo","runCallbacks","translateBounds","internal","animating","preventInteractionOnTransition","newTranslate","isH","onTranslateToWrapperTransitionEnd","transitionEmit","step","slideTo","initial","indexAsNumber","isFinite","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","transitionStart","_immediateVirtual","_swiperImmediateVirtual","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","rewind","slidePrev","normalizedSnapGrid","prevSnap","prevSnapIndex","slideReset","slideToClosest","currentSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","loopedSlidesLimit","prependSlides","appendSlides","diff","loopDestroy","onTouchStart","touchEventsData","touches","originalEvent","$targetEl","touchEventsTarget","isTouchEvent","button","isTouched","isMoved","swipingClassHasValue","noSwipingClass","eventPath","composedPath","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","base","__closestFrom","assignedSlot","getRootNode","closestElement","allowClick","swipeHandler","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","freeMode","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","touchAngle","touchMoveStopPropagation","nested","startTranslate","allowMomentumBounce","grabCursor","setGrabCursor","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","onTouchEnd","touchEndTime","timeDiff","pathTree","lastClickTime","stopIndex","groupSize","rewindFirstIndex","rewindLastIndex","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","setBreakpoint","running","paused","run","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","dummyEventAttached","dummyEventListener","touchEvents","domMethod","swiperMethod","passiveListeners","move","cancel","updateOnWindowResize","attachEvents","detachEvents","isGridEnabled","breakpoint","getBreakpoint","breakpointsBase","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","emitContainerClasses","wasModuleEnabled","isModuleEnabled","directionChanged","needsReLoop","changeDirection","isEnabled","containerEl","minRatio","addClasses","suffixes","resultClasses","prepareClasses","removeClasses","initialSlide","resizeObserver","simulateTouch","uniqueNavElements","updateOnImagesReady","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","eventsEmitter","moving","isLocked","cursor","unsetGrabCursor","wasLocked","lastSlideIndex","lastSlideRightEdge","loadImage","imageEl","srcset","sizes","checkForComplete","image","onReady","complete","onload","onerror","imagesToLoad","currentSrc","extendedDefaults","Swiper","swipers","newParams","modules","__modules__","extendParams","swiperParams","passedParams","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","changeLanguageDirection","mount","mounted","getWrapperSelector","getWrapper","deleteInstance","cleanStyles","deleteProps","extendDefaults","newDefaults","installModule","use","prototypeGroup","protoMethod","animationFrame","resizeHandler","orientationChangeHandler","ResizeObserver","newWidth","contentBoxSize","contentRect","inlineSize","blockSize","unobserve","observers","attach","WebkitMutationObserver","observerUpdate","characterData","observeParents","observeSlideChildren","containerParents","createElementIfNotDefined","checkProps","classesToSelector","appendSlide","prependSlide","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","effectInit","overwriteParams","recreateShadows","getEffectParams","requireUpdateOnVirtual","overwriteParamsResult","slideShadows","effectTarget","effectParams","$slideEl","transformEl","effectVirtualTransitionEnd","allSlides","$transitionEndTarget","eventTriggered","triggerEvents","createShadow","shadowClass","$shadowContainer","$shadowEl","cssModeTimeout","renderSlide","force","addSlidesBefore","addSlidesAfter","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","handle","kc","keyCode","pageUpDown","keyboard","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","metaKey","onlyInViewport","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","mousewheel","releaseOnEdges","invert","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","lastEventBeforeSnap","lastScrollTime","recentWheelEvents","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","raw","rtlFactor","sX","sY","pX","pY","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","positions","sign","ignoreWheelEvents","sticky","prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","releaseScroll","getEl","toggleEl","disabledClass","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","hideOnClick","hiddenClass","navigationDisabledClass","targetEl","pagination","clickable","isHidden","pfx","bulletSize","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","bullets","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","midIndex","suffix","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","paginationHTML","numberOfBullets","dragStartPos","dragSize","trackSize","divider","dragTimeout","scrollbar","$dragEl","newSize","newPos","getPointerPosition","clientX","clientY","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","snapOnRelease","activeListener","eventMethod","$swiperEl","dragClass","dragEl","draggable","scrollbarDisabledClass","parallax","currentScale","_swiper","parallaxEl","$parallaxEl","parallaxDuration","maxRatio","containerClass","zoomedSlideClass","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","isScaling","gesture","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","onTransitionEnd","zoomIn","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","touchAction","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","in","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","slideExist","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","LinearSpline","binarySearch","guess","array","i3","interpolate","removeSpline","control","spline","inverse","controlled","controlledTranslate","setControlledTranslate","getInterpolateFunction","setControlledTransition","a11y","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","clicked","liveRegion","notify","notification","makeElFocusable","makeElNotFocusable","addElRole","addElRoleDescription","addElLabel","disableEl","enableEl","onEnterOrSpaceKey","hasPagination","hasClickablePagination","initNavEl","wrapperId","addElControls","handlePointerDown","handlePointerUp","handleFocus","isActive","sourceCapabilities","firesTouchEvents","$containerEl","repeat","getRandomNumber","live","addElLive","updateNavigation","bulletEl","updatePagination","keepQuery","slugify","getPathValues","urlOverride","pathArray","part","setHistory","currentState","scrollToSlide","setHistoryPopState","hashNavigation","watchState","onHashChange","newHash","setHash","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","waitForTransition","onVisibilityChange","visibilityState","onMouseEnter","disableOnInteraction","onMouseLeave","pauseOnMouseEnter","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","thumbsParams","SwiperClass","thumbsSwiperParams","thumbsToActivate","thumbActiveClass","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","momentum","momentumRatio","momentumBounce","momentumBounceRatio","momentumVelocityRatio","minimumVelocity","lastMoveEvent","velocityEvent","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","needsLoopFix","moveDistance","currentSlideSize","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","column","row","groupIndex","slideIndexInGroup","columnsInGroup","order","fadeEffect","crossFade","slideOpacity","cubeEffect","shadow","shadowOffset","shadowScale","createSlideShadows","shadowBefore","shadowAfter","$cubeShadowEl","wrapperRotate","slideAngle","shadowAngle","scale2","zFactor","flipEffect","limitRotation","zIndex","coverflowEffect","stretch","centerOffset","offsetMultiplier","translateZ","slideTransform","$shadowBeforeEl","$shadowAfterEl","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","custom","translateString","rotateString","scaleString","opacityString","shadowOpacity","cardsEffect","perSlideRotate","perSlideOffset","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prevY","_assertThisInitialized","ReferenceError","_inheritsLoose","subClass","superClass","create","_suppressOverwrites","_reverting","_context","_globalTimeline","_win","_coreInitted","_doc","_coreReady","_lastRenderedFrame","_quickTween","_tickerActive","_config","autoSleep","force3D","nullTargetWarn","_defaults","overwrite","_bigNum","_tinyNum","_2PI","_HALF_PI","_gsID","_sqrt","_isString","_isFunction","_isNumber","_isUndefined","_isObject","_isNotFalse","_windowExists","_isFuncOrString","_isTypedArray","ArrayBuffer","isView","_isArray","_strictNumExp","_numExp","_numWithUnitExp","_complexStringNumExp","_relExp","_delimitedValueExp","_unitExp","_globals","_installScope","_install","scope","_merge","gsap","_missingPlugin","_warn","suppress","_addGlobal","_emptyFunc","_startAtRevertConfig","isStart","kill","_revertConfigNoKill","_revertConfig","_reservedProps","_lazyTweens","_lazyLookup","_plugins","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","targets","harnessPlugin","_gsap","harness","targetTest","GSCache","_getCache","toArray","_getProperty","_forEachName","_round","_roundPrecise","_parseRelative","operator","_arrayContainsAny","toSearch","toFind","_lazyRender","tween","_lazy","_lazySafeRender","_initted","_startAt","_numericIfPossible","_passThrough","_setDefaults","toMerge","_mergeDeep","_copyExcluding","excluding","_inheritDefaults","excludeDuration","inherit","_dp","_addLinkedListItem","firstProp","lastProp","sortBy","_prev","_next","_removeLinkedListItem","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","_act","_uncache","_end","_dur","_start","_dirty","_rewindStartAt","revert","immediateRender","autoRevert","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","whole","_parentToChildTotalTime","parentTime","totalDuration","_tDur","_setEnd","_rts","_alignPlayhead","smoothChildTiming","_time","_postAddChecks","timeline","rawTime","_clamp","_zTime","_addToTimeline","skipChecks","_parsePosition","_delay","timeScale","_sort","_isFromOrFromStart","_recent","_scrollTrigger","ScrollTrigger","_attemptInitTween","_initTween","_pt","_ticker","frame","_parentPlayheadIsBeforeStart","_ref","_lock","_ref2","_setDuration","skipUncache","leavePlayhead","dur","totalProgress","_onUpdateTotalDuration","Timeline","_zeroPosition","percentAnimation","isPercent","labels","recent","clippedDuration","_createTweenType","irVars","isLegacy","varsIndex","runBackwards","startAt","Tween","_conditionalReturn","getUnit","exec","_slice","_isArrayLike","nonEmpty","_flatten","ar","leaveStrings","accumulator","_accumulator","_wake","nativeElement","shuffle","distribute","_parseEase","isDecimal","ratios","ratioX","ratioY","originX","originY","wrapAt","distances","_invertEase","_roundModifier","snapTo","is2D","dx","dy","roundingIncrement","returnFunction","_wrapArray","_replaceRandom","nums","mapRange","inMin","inMax","outMin","outMax","inRange","outRange","_getLabelInDirection","fromTime","backward","_callback","executeLazyFirst","prevContext","_ctx","callbackScope","_interrupt","scrollTrigger","_registerPluginQueue","_createPlugin","isFunc","Plugin","_props","instanceDefaults","_renderPropTweens","_addPropTween","_killPropTweensOf","_addPluginModifier","rawVars","statics","getSetter","_getSetter","aliases","register","PropTween","_255","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","transparent","_hue","splitColor","toHSL","forceAlpha","wasHSL","_colorOrderData","_colorExp","_formatColors","orderMatchData","shell","colors","_hslExp","_colorStringFilter","combined","_id","_req","_raf","_self","_delta","_getTime","_lagThreshold","_adjustedLag","_startTime","_lastUpdate","_gap","_nextTime","_tick","overlap","dispatch","elapsed","manual","tick","deltaRatio","wake","gsapVersions","GreenSockGlobals","sleep","lagSmoothing","adjustedLag","Infinity","_fps","prioritize","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","parsedVal","_propagateYoyoEase","isYoyo","_first","yoyoEase","_yoyo","_ease","_yEase","defaultEase","_valueInParentheses","_CE","_configEaseFromString","_insertEase","easeInOut","lowercaseName","_easeInOutFromOut","_configElastic","period","_configBack","overshoot","power","Linear","easeNone","none","SteppedEase","steps","immediateStart","Animation","repeatDelay","yoyo","_proto","_totalTime","_ptLookup","_pTime","_ps","_recacheAncestors","includeRepeats","wrapRepeats","prevIsReverting","globalTime","_sat","restart","includeDelay","reversed","atTime","invalidate","eventCallback","_onUpdate","onFulfilled","resolve","_resolve","_then","_prom","_Animation","_this","sortChildren","_proto2","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onCompleteParams","staggerFrom","staggerFromTo","prevPaused","pauseTween","prevStart","prevIteration","tDur","crossingStart","rewinding","doesWrap","repeatRefresh","onRepeat","_hasPause","_forcing","_last","_findNextPauseTween","onUpdate","adjustedTime","_this2","addLabel","getChildren","tweens","timelines","ignoreBeforeTime","getById","removeLabel","killTweensOf","_totalTime2","addPause","removePause","onlyActive","getTweensOf","_overwritingTween","parsedTargets","isGlobalTime","_targets","tweenTo","initted","tl","_vars","_onStart","onStart","onStartParams","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","soft","clear","includeLabels","updateRoot","_forceAllPropTweens","_addComplexStringPropTween","setter","stringFilter","funcParam","startNums","endNum","chunk","startNum","hasRandom","_renderComplexString","matchIndex","fp","optional","parsedStart","_setterFuncWithParam","_setterFunc","_setterPlain","_renderBoolean","_renderPlain","_checkPlugin","ptLookup","_parseFuncOrString","_processVars","cleanVars","hasPriority","gsData","harnessVars","overwritten","onUpdateParams","prevStartAt","fullTargets","autoOverwrite","_overwrite","_from","_ptCache","_op","_sortPropTweensByPriority","_onInit","_parseKeyframe","allProps","easeEach","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3","curTarget","staggerFunc","staggerVarsToMerge","_this3$vars","_proto3","isNegative","prevRatio","_renderZeroDurationTween","resetTo","startIsRelative","rootPT","lookup","ptCache","_updatePropTweens","overwrittenProps","curLookup","curOverwriteProps","killingTargets","propTweenLookup","firstPT","_arraysMatch","propertyAliases","_addAliasesToVars","onReverseComplete","onReverseCompleteParams","_setterAttribute","hasNonDependentRemaining","dep","_setterWithModifier","mSet","mt","last","TweenMax","TweenLite","TimelineLite","TimelineMax","_media","_emptyArray","_lastMediaTime","_contextID","_dispatch","_onMediaChange","anyMatch","toggled","queries","conditions","onMatch","Context","_r","isReverted","_proto5","prevSelector","ignore","getTweens","_this4","MatchMedia","contexts","_proto6","mq","cond","addListener","registerPlugin","_len2","_key2","getProperty","unit","uncache","format","quickSetter","setters","quickTo","_merge2","isTweening","_ref3","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","matchMediaRefresh","utils","wrap","range","wrapYoyo","pipe","_len","functions","_key","reduce","unitize","mutate","interpolators","il","isString","master","install","ticker","globalTimeline","core","globals","getCache","reverting","toAdd","suppressOverwrites","_getPluginPropTween","_buildModifierPlugin","temp","_addModifiers","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","_docElement","_pluginInitted","_tempDiv","_recentSetterPlugin","_supports3D","_transformProps","_RAD2DEG","_DEG2RAD","_atan2","_capsExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","alpha","_renderCSSProp","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","_setterCSSProp","_setterTransform","_setterScale","_setterScaleWithRender","_setterTransformWithRender","_transformProp","_transformOriginProp","_saveStyle","isNotCSS","tfm","svgo","_removeIndependentTransforms","_revertStyle","_getStyleSaver","saver","_createElement","ns","_getComputedProperty","skipPrefixFallback","cs","_checkPropPrefix","_prefixes","preferPrefix","_initCore","_getBBoxHack","swapIfPossible","ownerSVGElement","oldParent","oldSibling","oldCSS","_gsapBBox","_getAttributeFallbacks","attributesArray","_getBBox","_isSVG","getCTM","_removeProperty","_addNonTweeningPT","beginning","onlySetAtEnd","_nonConvertibleUnits","deg","turn","_nonStandardLayouts","_convertToUnit","isSVG","curValue","curUnit","horizontal","isRootSVG","measureProperty","toPixels","toPercent","_parseTransform","_firstTwoOnly","zOrigin","_specialProps","_tweenComplexCSSString","startValues","startValue","endUnit","startUnit","_keywordToPercent","_convertKeywordsToPercentages","_renderClearProps","clearTransforms","clearProps","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_getMatrix","force2D","addedToDOM","baseVal","consolidate","offsetParent","_applySVGOrigin","originIsAbsolute","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","xOffset","yOffsetOld","originSplit","skewX","skewY","a12","a22","t3","a13","a23","a33","a42","a43","a32","invertedScaleX","forceCSS","xPercent","yPercent","transformPerspective","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","_zeroDeg","_zeroPx","_endParenthesis","use3D","a11","a21","_addRotationalPropTween","cap","_assign","_addRawTransformPTs","endCache","startCache","positionAndScale","all","CSSPlugin","specialProp","relative","isTransformRelated","transformPropTween","inlineProps","visibility","parseTransform","smoothOrigin","autoRound","checkPrefix","getStyleSaver","gsapWithCSS","gallerySlider","onmouseenter","onmouseleave","video","titles","centralObject","shadow1","shadow2","currentScroll","hours","Lottie","prioritets","prioritet__number","checked","inputs","inputsArray","write_prioritet","slide_validation","legeng","room","faq","ray","bg1","bg2","queryprice","quantity","price","toLocaleString","filterPopup","topTags","bottomTags","awards","buyLink","insertAdjacentHTML","buyText","tag","award","vacancy"],"sourceRoot":""}